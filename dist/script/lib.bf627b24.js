!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(F){"use strict";function s(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function x(a){var n;return 1===a.length&&(n=a,a=function(t,e){return s(n(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;a(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<a(t[i],e)?r=i:n=i+1}return n}}}var t=x(s),m=t.right,e=t.left;function c(t,e){return[t,e]}function u(t){return null===t?NaN:+t}function r(t,e){var n,r,i=t.length,a=0,o=-1,s=0,l=0;if(null==e)for(;++o<i;)isNaN(n=u(t[o]))||(l+=(r=n-s)*(n-(s+=r/++a)));else for(;++o<i;)isNaN(n=u(e(t[o],o,t)))||(l+=(r=n-s)*(n-(s+=r/++a)));if(1<a)return l/(a-1)}function i(t,e){var n=r(t,e);return n?Math.sqrt(n):n}function n(t,e){var n,r,i,a=t.length,o=-1;if(null==e){for(;++o<a;)if(null!=(n=t[o])&&n<=n)for(r=i=n;++o<a;)null!=(n=t[o])&&(n<r&&(r=n),i<n&&(i=n))}else for(;++o<a;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=i=n;++o<a;)null!=(n=e(t[o],o,t))&&(n<r&&(r=n),i<n&&(i=n));return[r,i]}var a=Array.prototype,o=a.slice,l=a.map;function d(t){return function(){return t}}function g(t){return t}function k(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),a=new Array(i);++r<i;)a[r]=t+r*n;return a}var h=Math.sqrt(50),f=Math.sqrt(10),p=Math.sqrt(2);function v(t,e,n){var r,i,a,o,s=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(o=y(t,e,n))||!isFinite(o))return[];if(0<o)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s<i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s<i;)a[s]=(t-s)/o;return r&&a.reverse(),a}function y(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return 0<=i?(h<=a?10:f<=a?5:p<=a?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(h<=a?10:f<=a?5:p<=a?2:1)}function S(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return h<=a?i*=10:f<=a?i*=5:p<=a&&(i*=2),e<t?-i:i}function _(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function b(t,e,n){if(null==n&&(n=u),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(1<=e)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t);return o+(+n(t[a+1],a+1,t)-o)*(i-a)}}function T(t){for(var e,n,r,i=t.length,a=-1,o=0;++a<i;)o+=t[a].length;for(n=new Array(o);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--o]=r[e];return n}function w(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n<=n)for(r=n;++a<i;)null!=(n=t[a])&&n<r&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n<=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&n<r&&(r=n);return r}function M(t){if(!(i=t.length))return[];for(var e=-1,n=w(t,$),r=new Array(n);++e<n;)for(var i,a=-1,o=r[e]=new Array(i);++a<i;)o[a]=t[a][e];return r}function $(t){return t.length}var L=Array.prototype.slice;function C(t){return t}var D=1,E=2,Y=3,A=4,N=1e-6;function O(t){return"translate("+(t+.5)+",0)"}function R(t){return"translate(0,"+(t+.5)+")"}function H(){return!this.__axis}function P(m,g){var v=[],y=null,_=null,b=6,w=6,M=3,$=m===D||m===A?-1:1,x=m===A||m===E?"x":"y",k=m===D||m===Y?O:R;function e(t){var e=null==y?g.ticks?g.ticks.apply(g,v):g.domain():y,n=null==_?g.tickFormat?g.tickFormat.apply(g,v):C:_,r=Math.max(b,0)+M,i=g.range(),a=+i[0]+.5,o=+i[i.length-1]+.5,s=(g.bandwidth?function(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}:function(e){return function(t){return+e(t)}})(g.copy()),l=t.selection?t.selection():t,u=l.selectAll(".domain").data([null]),c=l.selectAll(".tick").data(e,g).order(),d=c.exit(),h=c.enter().append("g").attr("class","tick"),f=c.select("line"),p=c.select("text");u=u.merge(u.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),c=c.merge(h),f=f.merge(h.append("line").attr("stroke","#000").attr(x+"2",$*b)),p=p.merge(h.append("text").attr("fill","#000").attr(x,$*r).attr("dy",m===D?"0em":m===Y?"0.71em":"0.32em")),t!==l&&(u=u.transition(t),c=c.transition(t),f=f.transition(t),p=p.transition(t),d=d.transition(t).attr("opacity",N).attr("transform",function(t){return isFinite(t=s(t))?k(t):this.getAttribute("transform")}),h.attr("opacity",N).attr("transform",function(t){var e=this.parentNode.__axis;return k(e&&isFinite(e=e(t))?e:s(t))})),d.remove(),u.attr("d",m===A||m==E?"M"+$*w+","+a+"H0.5V"+o+"H"+$*w:"M"+a+","+$*w+"V0.5H"+o+"V"+$*w),c.attr("opacity",1).attr("transform",function(t){return k(s(t))}),f.attr(x+"2",$*b),p.attr(x,$*r).text(n),l.filter(H).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",m===E?"start":m===A?"end":"middle"),l.each(function(){this.__axis=s})}return e.scale=function(t){return arguments.length?(g=t,e):g},e.ticks=function(){return v=L.call(arguments),e},e.tickArguments=function(t){return arguments.length?(v=null==t?[]:L.call(t),e):v.slice()},e.tickValues=function(t){return arguments.length?(y=null==t?null:L.call(t),e):y&&y.slice()},e.tickFormat=function(t){return arguments.length?(_=t,e):_},e.tickSize=function(t){return arguments.length?(b=w=+t,e):b},e.tickSizeInner=function(t){return arguments.length?(b=+t,e):b},e.tickSizeOuter=function(t){return arguments.length?(w=+t,e):w},e.tickPadding=function(t){return arguments.length?(M=+t,e):M},e}var j={value:function(){}};function I(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new z(r)}function z(t){this._=t}function B(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function W(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=j,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}z.prototype=I.prototype={constructor:z,on:function(t,e){var n,r,i=this._,a=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),o=-1,s=a.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=a[o]).type)i[n]=W(i[n],t.name,e);else if(null==e)for(n in i)i[n]=W(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=a[o]).type)&&(n=B(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new z(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=0,n=(r=this._[t]).length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var U="http://www.w3.org/1999/xhtml",q={svg:"http://www.w3.org/2000/svg",xhtml:U,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function V(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),q.hasOwnProperty(e)?{space:q[e],local:t}:t}function G(t){var e=V(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===U&&t.documentElement.namespaceURI===U?t.createElement(n):t.createElementNS(e,n)}})(e)}function K(){}function J(t){return null==t?K:function(){return this.querySelector(t)}}function X(){return[]}function Z(t){return null==t?X:function(){return this.querySelectorAll(t)}}var Q=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var tt=document.documentElement;if(!tt.matches){var et=tt.webkitMatchesSelector||tt.msMatchesSelector||tt.mozMatchesSelector||tt.oMatchesSelector;Q=function(t){return function(){return et.call(this,t)}}}}var nt=Q;function rt(t){return new Array(t.length)}function it(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}it.prototype={constructor:it,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var at="$";function ot(t,e,n,r,i,a){for(var o,s=0,l=e.length,u=a.length;s<u;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new it(t,a[s]);for(;s<l;++s)(o=e[s])&&(i[s]=o)}function st(t,e,n,r,i,a,o){var s,l,u,c={},d=e.length,h=a.length,f=new Array(d);for(s=0;s<d;++s)(l=e[s])&&(f[s]=u=at+o.call(l,l.__data__,s,e),u in c?i[s]=l:c[u]=l);for(s=0;s<h;++s)(l=c[u=at+o.call(t,a[s],s,a)])?((r[s]=l).__data__=a[s],c[u]=null):n[s]=new it(t,a[s]);for(s=0;s<d;++s)(l=e[s])&&c[f[s]]===l&&(i[s]=l)}function lt(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function ut(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ct(t,e){return t.style.getPropertyValue(e)||ut(t).getComputedStyle(t,null).getPropertyValue(e)}function dt(t){return t.trim().split(/^|\s+/)}function ht(t){return t.classList||new ft(t)}function ft(t){this._node=t,this._names=dt(t.getAttribute("class")||"")}function pt(t,e){for(var n=ht(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function mt(t,e){for(var n=ht(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function gt(){this.textContent=""}function vt(){this.innerHTML=""}function yt(){this.nextSibling&&this.parentNode.appendChild(this)}function _t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bt(){return null}function wt(){var t=this.parentNode;t&&t.removeChild(this)}function Mt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function $t(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}ft.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var xt={};(F.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(xt={mouseenter:"mouseover",mouseleave:"mouseout"}));function kt(n,t,e){return n=St(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function St(n,r,i){return function(t){var e=F.event;F.event=t;try{n.call(this,this.__data__,r,i)}finally{F.event=e}}}function Tt(a){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],a.type&&e.type!==a.type||e.name!==a.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function Lt(l,u,c){var d=xt.hasOwnProperty(l.type)?kt:St;return function(t,e,n){var r,i=this.__on,a=d(u,e,n);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===l.type&&r.name===l.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=a,r.capture=c),void(r.value=u);this.addEventListener(l.type,a,c),r={type:l.type,name:l.name,value:u,listener:a,capture:c},i?i.push(r):this.__on=[r]}}function Ct(t,e,n,r){var i=F.event;t.sourceEvent=F.event,F.event=t;try{return e.apply(n,r)}finally{F.event=i}}function Dt(t,e,n){var r=ut(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var Et=[null];function Yt(t,e){this._groups=t,this._parents=e}function At(){return new Yt([[document.documentElement]],Et)}function Nt(t){return"string"==typeof t?new Yt([[document.querySelector(t)]],[document.documentElement]):new Yt([[t]],Et)}Yt.prototype=At.prototype={constructor:Yt,select:function(t){"function"!=typeof t&&(t=J(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],l=s.length,u=r[i]=new Array(l),c=0;c<l;++c)(a=s[c])&&(o=t.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),u[c]=o);return new Yt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Z(t));for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],l=s.length,u=0;u<l;++u)(o=s[u])&&(r.push(t.call(o,o.__data__,u,s)),i.push(o));return new Yt(r,i)},filter:function(t){"function"!=typeof t&&(t=nt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new Yt(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n,r=e?st:ot,i=this._parents,a=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var o=a.length,s=new Array(o),l=new Array(o),u=new Array(o),c=0;c<o;++c){var d=i[c],h=a[c],f=h.length,p=t.call(d,d&&d.__data__,c,i),m=p.length,g=l[c]=new Array(m),v=s[c]=new Array(m);r(d,h,g,v,u[c]=new Array(f),p,e);for(var y,_,b=0,w=0;b<m;++b)if(y=g[b]){for(w<=b&&(w=b+1);!(_=v[w])&&++w<m;);y._next=_||null}}return(s=new Yt(s,i))._enter=l,s._exit=u,s},enter:function(){return new Yt(this._enter||this._groups.map(rt),this._parents)},exit:function(){return new Yt(this._exit||this._groups.map(rt),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,u=e[s],c=n[s],d=u.length,h=o[s]=new Array(d),f=0;f<d;++f)(l=u[f]||c[f])&&(h[f]=l);for(;s<r;++s)o[s]=e[s];return new Yt(o,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];0<=--a;)(r=i[a])&&(o&&o!==r.nextSibling&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=lt);for(var e=this._groups,r=e.length,i=new Array(r),a=0;a<r;++a){for(var o,s=e[a],l=s.length,u=i[a]=new Array(l),c=0;c<l;++c)(o=s[c])&&(u[c]=o);u.sort(t)}return new Yt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},attr:function(t,e){var n=V(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):ct(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=dt(t+"");if(arguments.length<2){for(var r=ht(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?pt:mt)(this,t)}}:e?function(t){return function(){pt(this,t)}}:function(t){return function(){mt(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?gt:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?vt:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(yt)},lower:function(){return this.each(_t)},append:function(t){var e="function"==typeof t?t:G(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:G(t),r=null==e?bt:"function"==typeof e?e:J(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(wt)},clone:function(t){return this.select(t?$t:Mt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,a=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),o=a.length;if(!(arguments.length<2)){for(s=e?Lt:Tt,null==n&&(n=!1),r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var l,u=0,c=s.length;u<c;++u)for(r=0,l=s[u];r<o;++r)if((i=a[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Dt(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Dt(this,t,e)}})(t,e))}};var Ot=0;function Rt(){return new Ht}function Ht(){this._="@"+(++Ot).toString(36)}function Pt(){for(var t,e=F.event;t=e.sourceEvent;)e=t;return e}function jt(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Ft(t){var e=Pt();return e.changedTouches&&(e=e.changedTouches[0]),jt(t,e)}function It(t,e,n){arguments.length<3&&(n=e,e=Pt().changedTouches);for(var r,i=0,a=e?e.length:0;i<a;++i)if((r=e[i]).identifier===n)return jt(t,r);return null}function zt(){F.event.stopImmediatePropagation()}function Bt(){F.event.preventDefault(),F.event.stopImmediatePropagation()}function Wt(t){var e=t.document.documentElement,n=Nt(t).on("dragstart.drag",Bt,!0);"onselectstart"in e?n.on("selectstart.drag",Bt,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Ut(t,e){var n=t.document.documentElement,r=Nt(t).on("dragstart.drag",null);e&&(r.on("click.drag",Bt,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function qt(t){return function(){return t}}function Vt(t,e,n,r,i,a,o,s,l,u){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=a,this.y=o,this.dx=s,this.dy=l,this._=u}function Gt(){return!F.event.button}function Kt(){return this.parentNode}function Jt(t){return null==t?{x:F.event.x,y:F.event.y}:t}function Xt(){return"ontouchstart"in this}function Zt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Qt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function te(){}Ht.prototype=Rt.prototype={constructor:Ht,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},Vt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ee=1/.7,ne="\\s*([+-]?\\d+)\\s*",re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ae=/^#([0-9a-f]{3})$/,oe=/^#([0-9a-f]{6})$/,se=new RegExp("^rgb\\("+[ne,ne,ne]+"\\)$"),le=new RegExp("^rgb\\("+[ie,ie,ie]+"\\)$"),ue=new RegExp("^rgba\\("+[ne,ne,ne,re]+"\\)$"),ce=new RegExp("^rgba\\("+[ie,ie,ie,re]+"\\)$"),de=new RegExp("^hsl\\("+[re,ie,ie]+"\\)$"),he=new RegExp("^hsla\\("+[re,ie,ie,re]+"\\)$"),fe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pe(t){var e;return t=(t+"").trim().toLowerCase(),(e=ae.exec(t))?new _e((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=oe.exec(t))?me(parseInt(e[1],16)):(e=se.exec(t))?new _e(e[1],e[2],e[3],1):(e=le.exec(t))?new _e(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ue.exec(t))?ge(e[1],e[2],e[3],e[4]):(e=ce.exec(t))?ge(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=de.exec(t))?be(e[1],e[2]/100,e[3]/100,1):(e=he.exec(t))?be(e[1],e[2]/100,e[3]/100,e[4]):fe.hasOwnProperty(t)?me(fe[t]):"transparent"===t?new _e(NaN,NaN,NaN,0):null}function me(t){return new _e(t>>16&255,t>>8&255,255&t,1)}function ge(t,e,n,r){return r<=0&&(t=e=n=NaN),new _e(t,e,n,r)}function ve(t){return t instanceof te||(t=pe(t)),t?new _e((t=t.rgb()).r,t.g,t.b,t.opacity):new _e}function ye(t,e,n,r){return 1===arguments.length?ve(t):new _e(t,e,n,null==r?1:r)}function _e(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function be(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new Me(t,e,n,r)}function we(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Me)return new Me(t.h,t.s,t.l,t.opacity);if(t instanceof te||(t=pe(t)),!t)return new Me;if(t instanceof Me)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=0<l&&l<1?0:o,new Me(o,s,l,t.opacity)}(t):new Me(t,e,n,null==r?1:r)}function Me(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function $e(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Zt(te,pe,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Zt(_e,ye,Qt(te,{brighter:function(t){return t=null==t?ee:Math.pow(ee,t),new _e(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new _e(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Zt(Me,we,Qt(te,{brighter:function(t){return t=null==t?ee:Math.pow(ee,t),new Me(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Me(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new _e($e(240<=t?t-240:t+120,i,r),$e(t,i,r),$e(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var xe=Math.PI/180,ke=180/Math.PI,Se=.95047,Te=1,Le=1.08883,Ce=4/29,De=6/29,Ee=3*De*De,Ye=De*De*De;function Ae(t){if(t instanceof Oe)return new Oe(t.l,t.a,t.b,t.opacity);if(t instanceof Ie){var e=t.h*xe;return new Oe(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof _e||(t=ve(t));var n=je(t.r),r=je(t.g),i=je(t.b),a=Re((.4124564*n+.3575761*r+.1804375*i)/Se),o=Re((.2126729*n+.7151522*r+.072175*i)/Te);return new Oe(116*o-16,500*(a-o),200*(o-Re((.0193339*n+.119192*r+.9503041*i)/Le)),t.opacity)}function Ne(t,e,n,r){return 1===arguments.length?Ae(t):new Oe(t,e,n,null==r?1:r)}function Oe(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Re(t){return Ye<t?Math.pow(t,1/3):t/Ee+Ce}function He(t){return De<t?t*t*t:Ee*(t-Ce)}function Pe(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function je(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Fe(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Ie)return new Ie(t.h,t.c,t.l,t.opacity);t instanceof Oe||(t=Ae(t));var e=Math.atan2(t.b,t.a)*ke;return new Ie(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new Ie(t,e,n,null==r?1:r)}function Ie(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}Zt(Oe,Ne,Qt(te,{brighter:function(t){return new Oe(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Oe(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Te*He(t),new _e(Pe(3.2404542*(e=Se*He(e))-1.5371385*t-.4985314*(n=Le*He(n))),Pe(-.969266*e+1.8760108*t+.041556*n),Pe(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Zt(Ie,Fe,Qt(te,{brighter:function(t){return new Ie(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Ie(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Ae(this).rgb()}}));var ze=1.78277,Be=-.29227,We=-.90649,Ue=1.97294,qe=Ue*We,Ve=Ue*ze,Ge=ze*Be- -.14861*We;function Ke(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Je)return new Je(t.h,t.s,t.l,t.opacity);t instanceof _e||(t=ve(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ge*r+qe*e-Ve*n)/(Ge+qe-Ve),a=r-i,o=(Ue*(n-i)-Be*a)/We,s=Math.sqrt(o*o+a*a)/(Ue*i*(1-i)),l=s?Math.atan2(o,a)*ke-120:NaN;return new Je(l<0?l+360:l,s,i,t.opacity)}(t):new Je(t,e,n,null==r?1:r)}function Je(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Xe(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function Ze(o){var s=o.length-1;return function(t){var e=t<=0?t=0:1<=t?s-(t=1):Math.floor(t*s),n=o[e],r=o[e+1],i=0<e?o[e-1]:2*n-r,a=e<s-1?o[e+2]:2*r-n;return Xe((t-e/s)*s,i,n,r,a)}}function Qe(o){var s=o.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),n=o[(e+s-1)%s],r=o[e%s],i=o[(e+1)%s],a=o[(e+2)%s];return Xe((t-e/s)*s,n,r,i,a)}}function tn(t){return function(){return t}}function en(e,n){return function(t){return e+t*n}}function nn(t,e){var n=e-t;return n?en(t,180<n||n<-180?n-360*Math.round(n/360):n):tn(isNaN(t)?e:t)}function rn(a){return 1==(a=+a)?an:function(t,e){return e-t?(n=t,r=e,i=a,n=Math.pow(n,i),r=Math.pow(r,i)-n,i=1/i,function(t){return Math.pow(n+t*r,i)}):tn(isNaN(t)?e:t);var n,r,i}}function an(t,e){var n=e-t;return n?en(t,n):tn(isNaN(t)?e:t)}Zt(Je,Ke,Qt(te,{brighter:function(t){return t=null==t?ee:Math.pow(ee,t),new Je(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Je(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*xe,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new _e(255*(e+n*(-.14861*r+ze*i)),255*(e+n*(Be*r+We*i)),255*(e+n*(Ue*r)),this.opacity)}}));var on=function t(e){var o=rn(e);function n(e,t){var n=o((e=ye(e)).r,(t=ye(t)).r),r=o(e.g,t.g),i=o(e.b,t.b),a=an(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=a(t),e+""}}return n.gamma=t,n}(1);function sn(s){return function(t){var e,n,r=t.length,i=new Array(r),a=new Array(r),o=new Array(r);for(e=0;e<r;++e)n=ye(t[e]),i[e]=n.r||0,a[e]=n.g||0,o[e]=n.b||0;return i=s(i),a=s(a),o=s(o),n.opacity=1,function(t){return n.r=i(t),n.g=a(t),n.b=o(t),n+""}}}var ln=sn(Ze),un=sn(Qe);function cn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=vn(t[n],e[n]);for(;n<r;++n)o[n]=e[n];return function(t){for(n=0;n<i;++n)o[n]=a[n](t);return o}}function dn(e,n){var r=new Date;return n-=e=+e,function(t){return r.setTime(e+n*t),r}}function hn(e,n){return n-=e=+e,function(t){return e+n*t}}function fn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=vn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var pn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mn=new RegExp(pn.source,"g");function gn(t,r){var e,n,i,a,o,s=pn.lastIndex=mn.lastIndex=0,l=-1,u=[],c=[];for(t+="",r+="";(e=pn.exec(t))&&(n=mn.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),u[l]?u[l]+=i:u[++l]=i),(e=e[0])===(n=n[0])?u[l]?u[l]+=n:u[++l]=n:(u[++l]=null,c.push({i:l,x:hn(e,n)})),s=mn.lastIndex;return s<r.length&&(i=r.slice(s),u[l]?u[l]+=i:u[++l]=i),u.length<2?c[0]?(o=c[0].x,function(t){return o(t)+""}):(a=r,function(){return a}):(r=c.length,function(t){for(var e,n=0;n<r;++n)u[(e=c[n]).i]=e.x(t);return u.join("")})}function vn(t,e){var n,r=typeof e;return null==e||"boolean"===r?tn(e):("number"===r?hn:"string"===r?(n=pe(e))?(e=n,on):gn:e instanceof pe?on:e instanceof Date?dn:Array.isArray(e)?cn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?fn:hn)(t,e)}function yn(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}}var _n,bn,wn,Mn,$n=180/Math.PI,xn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kn(t,e,n,r,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*$n,skewX:Math.atan(l)*$n,scaleX:o,scaleY:s}}function Sn(h,f,p,m){function g(t){return t.length?t.pop()+" ":""}return function(t,e){var n,r,i,a,o,s,l,u,c=[],d=[];return t=h(t),e=h(e),function(t,e,n,r,i,a){if(t!==n||e!==r){var o=i.push("translate(",null,f,null,p);a.push({i:o-4,x:hn(t,n)},{i:o-2,x:hn(e,r)})}else(n||r)&&i.push("translate("+n+f+r+p)}(t.translateX,t.translateY,e.translateX,e.translateY,c,d),n=t.rotate,r=e.rotate,i=c,a=d,n!==r?(180<n-r?r+=360:180<r-n&&(n+=360),a.push({i:i.push(g(i)+"rotate(",null,m)-2,x:hn(n,r)})):r&&i.push(g(i)+"rotate("+r+m),o=t.skewX,s=e.skewX,l=c,u=d,o!==s?u.push({i:l.push(g(l)+"skewX(",null,m)-2,x:hn(o,s)}):s&&l.push(g(l)+"skewX("+s+m),function(t,e,n,r,i,a){if(t!==n||e!==r){var o=i.push(g(i)+"scale(",null,",",null,")");a.push({i:o-4,x:hn(t,n)},{i:o-2,x:hn(e,r)})}else 1===n&&1===r||i.push(g(i)+"scale("+n+","+r+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,c,d),t=e=null,function(t){for(var e,n=-1,r=d.length;++n<r;)c[(e=d[n]).i]=e.x(t);return c.join("")}}}var Tn=Sn(function(t){return"none"===t?xn:(_n||(_n=document.createElement("DIV"),bn=document.documentElement,wn=document.defaultView),_n.style.transform=t,t=wn.getComputedStyle(bn.appendChild(_n),null).getPropertyValue("transform"),bn.removeChild(_n),kn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),Ln=Sn(function(t){return null==t?xn:(Mn||(Mn=document.createElementNS("http://www.w3.org/2000/svg","g")),Mn.setAttribute("transform",t),(t=Mn.transform.baseVal.consolidate())?kn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):xn)},", ",")",")"),Cn=Math.SQRT2,Dn=2,En=4,Yn=1e-12;function An(t){return((t=Math.exp(t))+1/t)/2}function Nn(t,e){var n,o,s=t[0],l=t[1],u=t[2],r=e[0],i=e[1],a=e[2],c=r-s,d=i-l,h=c*c+d*d;if(h<Yn)o=Math.log(a/u)/Cn,n=function(t){return[s+t*c,l+t*d,u*Math.exp(Cn*t*o)]};else{var f=Math.sqrt(h),p=(a*a-u*u+En*h)/(2*u*Dn*f),m=(a*a-u*u-En*h)/(2*a*Dn*f),g=Math.log(Math.sqrt(p*p+1)-p),v=Math.log(Math.sqrt(m*m+1)-m);o=(v-g)/Cn,n=function(t){var e,n,r=t*o,i=An(g),a=u/(Dn*f)*(i*(n=Cn*r+g,((n=Math.exp(2*n))-1)/(n+1))-(e=g,((e=Math.exp(e))-1/e)/2));return[s+a*c,l+a*d,u*i/An(Cn*r+g)]}}return n.duration=1e3*o,n}function On(o){return function(e,t){var n=o((e=we(e)).h,(t=we(t)).h),r=an(e.s,t.s),i=an(e.l,t.l),a=an(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=a(t),e+""}}}var Rn=On(nn),Hn=On(an);function Pn(o){return function(e,t){var n=o((e=Fe(e)).h,(t=Fe(t)).h),r=an(e.c,t.c),i=an(e.l,t.l),a=an(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=a(t),e+""}}}var jn=Pn(nn),Fn=Pn(an);function In(s){return function t(o){function e(e,t){var n=s((e=Ke(e)).h,(t=Ke(t)).h),r=an(e.s,t.s),i=an(e.l,t.l),a=an(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,o)),e.opacity=a(t),e+""}}return o=+o,e.gamma=t,e}(1)}var zn=In(nn),Bn=In(an);var Wn,Un,qn=0,Vn=0,Gn=0,Kn=1e3,Jn=0,Xn=0,Zn=0,Qn="object"==typeof performance&&performance.now?performance:Date,tr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function er(){return Xn||(tr(nr),Xn=Qn.now()+Zn)}function nr(){Xn=0}function rr(){this._call=this._time=this._next=null}function ir(t,e,n){var r=new rr;return r.restart(t,e,n),r}function ar(){er(),++qn;for(var t,e=Wn;e;)0<=(t=Xn-e._time)&&e._call.call(null,t),e=e._next;--qn}function or(){Xn=(Jn=Qn.now())+Zn,qn=Vn=0;try{ar()}finally{qn=0,function(){var t,e,n=Wn,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),n=(t=n)._next):(e=n._next,n._next=null,n=t?t._next=e:Wn=e);Un=t,lr(r)}(),Xn=0}}function sr(){var t=Qn.now(),e=t-Jn;Kn<e&&(Zn-=e,Jn=t)}function lr(t){qn||(Vn&&(Vn=clearTimeout(Vn)),24<t-Xn?(t<1/0&&(Vn=setTimeout(or,t-Qn.now()-Zn)),Gn&&(Gn=clearInterval(Gn))):(Gn||(Jn=Qn.now(),Gn=setInterval(sr,Kn)),qn=1,tr(or)))}function ur(e,n,t){var r=new rr;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r}rr.prototype=ir.prototype={constructor:rr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?er():+n)+(null==e?0:+e),this._next||Un===this||(Un?Un._next=this:Wn=this,Un=this),this._call=t,this._time=n,lr()},stop:function(){this._call&&(this._call=null,this._time=1/0,lr())}};var cr=I("start","end","interrupt"),dr=[],hr=0,fr=1,pr=2,mr=3,gr=4,vr=5,yr=6;function _r(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};!function(a,o,s){var l,u=a.__transition;function c(t){var e,n,r,i;if(s.state!==fr)return h();for(e in u)if((i=u[e]).name===s.name){if(i.state===mr)return ur(c);i.state===gr?(i.state=yr,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete u[e]):+e<o&&(i.state=yr,i.timer.stop(),delete u[e])}if(ur(function(){s.state===mr&&(s.state=gr,s.timer.restart(d,s.delay,s.time),d(t))}),s.state=pr,s.on.call("start",a,a.__data__,s.index,s.group),s.state===pr){for(s.state=mr,l=new Array(r=s.tween.length),e=0,n=-1;e<r;++e)(i=s.tween[e].value.call(a,a.__data__,s.index,s.group))&&(l[++n]=i);l.length=n+1}}function d(t){for(var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(h),s.state=vr,1),n=-1,r=l.length;++n<r;)l[n].call(null,e);s.state===vr&&(s.on.call("end",a,a.__data__,s.index,s.group),h())}function h(){for(var t in s.state=yr,s.timer.stop(),delete u[o],u)return;delete a.__transition}(u[o]=s).timer=ir(function(t){s.state=fr,s.timer.restart(c,s.delay,s.time),s.delay<=t&&c(t-s.delay)},0,s.time)}(t,n,{name:e,index:r,group:i,on:cr,tween:dr,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:hr})}function br(t,e){var n=Mr(t,e);if(n.state>hr)throw new Error("too late; already scheduled");return n}function wr(t,e){var n=Mr(t,e);if(n.state>pr)throw new Error("too late; already started");return n}function Mr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function $r(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>pr&&n.state<vr,n.state=yr,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}}function xr(t,e,n){var r=t._id;return t.each(function(){var t=wr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Mr(t,r).value[e]}}function kr(t,e){var n;return("number"==typeof e?hn:e instanceof pe?on:(n=pe(e))?(e=n,on):gn)(t,e)}var Sr=At.prototype.constructor;var Tr=0;function Lr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Cr(t){return At().transition(t)}function Dr(){return++Tr}var Er=At.prototype;function Yr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Ar(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Lr.prototype=Cr.prototype={constructor:Lr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=J(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,l,u=r[o],c=u.length,d=a[o]=new Array(c),h=0;h<c;++h)(s=u[h])&&(l=t.call(s,s.__data__,h,u))&&("__data__"in s&&(l.__data__=s.__data__),d[h]=l,_r(d[h],e,n,h,d,Mr(s,n)));return new Lr(a,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Z(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var l,u=r[s],c=u.length,d=0;d<c;++d)if(l=u[d]){for(var h,f=t.call(l,l.__data__,d,u),p=Mr(l,n),m=0,g=f.length;m<g;++m)(h=f[m])&&_r(h,e,n,m,f,p);a.push(f),o.push(l)}return new Lr(a,o,e,n)},filter:function(t){"function"!=typeof t&&(t=nt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,l=r[i]=[],u=0;u<s;++u)(a=o[u])&&t.call(a,a.__data__,u,o)&&l.push(a);return new Lr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var l,u=e[s],c=n[s],d=u.length,h=o[s]=new Array(d),f=0;f<d;++f)(l=u[f]||c[f])&&(h[f]=l);for(;s<r;++s)o[s]=e[s];return new Lr(o,this._parents,this._name,this._id)},selection:function(){return new Sr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Dr(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,u=0;u<l;++u)if(o=s[u]){var c=Mr(o,e);_r(o,t,n,u,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Lr(r,this._parents,t,n)},call:Er.call,nodes:Er.nodes,node:Er.node,size:Er.size,empty:Er.empty,each:Er.each,on:function(t,e){var n,r,i,a,o,s,l=this._id;return arguments.length<2?Mr(this.node(),l).on.on(t):this.each((n=l,i=e,s=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})?br:wr,function(){var t=s(this,n),e=t.on;e!==a&&(o=(a=e).copy()).on(r,i),t.on=o}))},attr:function(t,e){var n=V(t),r="transform"===n?Ln:kr;return this.attrTween(t,"function"==typeof e?(n.local?function(n,r,i){var a,o,s;return function(){var t,e=i(this);if(null!=e)return(t=this.getAttributeNS(n.space,n.local))===e?null:t===a&&e===o?s:s=r(a=t,o=e);this.removeAttributeNS(n.space,n.local)}}:function(n,r,i){var a,o,s;return function(){var t,e=i(this);if(null!=e)return(t=this.getAttribute(n))===e?null:t===a&&e===o?s:s=r(a=t,o=e);this.removeAttribute(n)}})(n,r,xr(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,a;return function(){var t=this.getAttributeNS(e.space,e.local);return t===r?null:t===i?a:a=n(i=t,r)}}:function(e,n,r){var i,a;return function(){var t=this.getAttribute(e);return t===r?null:t===i?a:a=n(i=t,r)}})(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=V(t);return this.tween(n,(r.local?function(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttributeNS(r.space,r.local,n(t))}}return e._value=t,e}:function(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttribute(r,n(t))}}return e._value=t,e})(r,e))},style:function(t,e,n){var r,i,a,o,s,l,u,c,d,h,f,p,m,g,v,y,_,b="transform"==(t+="")?Tn:kr;return null==e?this.styleTween(t,(m=t,g=b,function(){var t=ct(this,m),e=(this.style.removeProperty(m),ct(this,m));return t===e?null:t===v&&e===y?_:_=g(v=t,y=e)})).on("end.style."+t,(p=t,function(){this.style.removeProperty(p)})):this.styleTween(t,"function"==typeof e?(u=b,c=xr(this,"style."+(l=t),e),function(){var t=ct(this,l),e=c(this);return null==e&&(this.style.removeProperty(l),e=ct(this,l)),t===e?null:t===d&&e===h?f:f=u(d=t,h=e)}):(r=t,i=b,a=e+"",function(){var t=ct(this,r);return t===a?null:t===o?s:s=i(o=t,a)}),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(r,t,i){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.style.setProperty(r,n(t),i)}}return e._value=t,e}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=xr(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Mr(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?function(i,a){var o,s;return function(){var t=wr(this,i),e=t.tween;if(e!==o)for(var n=0,r=(s=o=e).length;n<r;++n)if(s[n].name===a){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(a,o,s){var l,u;if("function"!=typeof s)throw new Error;return function(){var t=wr(this,a),e=t.tween;if(e!==l){u=(l=e).slice();for(var n={name:o,value:s},r=0,i=u.length;r<i;++r)if(u[r].name===o){u[r]=n;break}r===i&&u.push(n)}t.tween=u}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){br(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){br(this,t).delay=e}})(e,t)):Mr(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){wr(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){wr(this,t).duration=e}})(e,t)):Mr(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){wr(this,t).ease=e}}(e,t)):Mr(this.node(),e).ease}};var Nr=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Or=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Rr=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Hr=Math.PI,Pr=Hr/2;function jr(t){return(1-Math.cos(Hr*t))/2}function Fr(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Ir(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var zr=4/11,Br=6/11,Wr=8/11,Ur=.75,qr=9/11,Vr=10/11,Gr=.9375,Kr=21/22,Jr=63/64,Xr=1/zr/zr;function Zr(t){return(t=+t)<zr?Xr*t*t:t<Wr?Xr*(t-=Br)*t+Ur:t<Vr?Xr*(t-=qr)*t+Gr:Xr*(t-=Kr)*t+Jr}var Qr=1.70158,ti=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(Qr),ei=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(Qr),ni=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Qr),ri=2*Math.PI,ii=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=ri);function t(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/r)}return t.amplitude=function(t){return e(t,r*ri)},t.period=function(t){return e(n,t)},t}(1,.3),ai=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=ri);function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/r)}return t.amplitude=function(t){return e(t,r*ri)},t.period=function(t){return e(n,t)},t}(1,.3),oi=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=ri);function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/r):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/r))/2}return t.amplitude=function(t){return e(t,r*ri)},t.period=function(t){return e(n,t)},t}(1,.3),si={time:null,delay:0,duration:250,ease:Ar};function li(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return si.time=er(),si;return n}At.prototype.interrupt=function(t){return this.each(function(){$r(this,t)})},At.prototype.transition=function(t){var e,n;t instanceof Lr?(e=t._id,t=t._name):(e=Dr(),(n=si).time=er(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],l=s.length,u=0;u<l;++u)(o=s[u])&&_r(o,t,e,u,s,n||li(o,e));return new Lr(r,this._parents,t,e)};var ui=[null];function ci(t){return function(){return t}}function di(t,e,n){this.target=t,this.type=e,this.selection=n}function hi(){F.event.stopImmediatePropagation()}function fi(){F.event.preventDefault(),F.event.stopImmediatePropagation()}var pi={name:"drag"},mi={name:"space"},gi={name:"handle"},vi={name:"center"},yi={name:"x",handles:["e","w"].map(Si),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},_i={name:"y",handles:["n","s"].map(Si),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},bi={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Si),input:function(t){return t},output:function(t){return t}},wi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Mi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},$i={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},xi={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},ki={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Si(t){return{type:t}}function Ti(){return!F.event.button}function Li(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Ci(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Di(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ei(O){var R,e=Li,H=Ti,n=I(i,"start","brush","end"),r=6;function i(t){var e=t.property("__brush",s).selectAll(".overlay").data([Si("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",wi.overlay).merge(e).each(function(){var t=Ci(this).extent;Nt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Si("selection")]).enter().append("rect").attr("class","selection").attr("cursor",wi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(O.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return wi[t.type]}),t.each(P).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",o)}function P(){var t=Nt(this),e=Ci(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-r/2:e[0][0]-r/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-r/2:e[0][1]-r/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+r:r}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+r:r})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function j(t,e){return t.__brush.emitter||new a(t,e)}function a(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function o(){if(F.event.touches){if(F.event.changedTouches.length<F.event.touches.length)return fi()}else if(R)return;if(H.apply(this,arguments)){var e,n,r,i,a,o,s,l,u,c,d,h,f,p=this,m=F.event.target.__data__.type,g="selection"===(F.event.metaKey?m="overlay":m)?pi:F.event.altKey?vi:gi,v=O===_i?null:xi[m],y=O===yi?null:ki[m],_=Ci(p),t=_.extent,b=_.selection,w=t[0][0],M=t[0][1],$=t[1][0],x=t[1][1],k=v&&y&&F.event.shiftKey,S=Ft(p),T=S,L=j(p,arguments).beforestart();"overlay"===m?_.selection=b=[[e=O===_i?w:S[0],r=O===yi?M:S[1]],[a=O===_i?$:e,s=O===yi?x:r]]:(e=b[0][0],r=b[0][1],a=b[1][0],s=b[1][1]),n=e,i=r,o=a,l=s;var C=Nt(p).attr("pointer-events","none"),D=C.selectAll(".overlay").attr("cursor",wi[m]);if(F.event.touches)C.on("touchmove.brush",Y,!0).on("touchend.brush touchcancel.brush",N,!0);else{var E=Nt(F.event.view).on("keydown.brush",function(){switch(F.event.keyCode){case 16:k=v&&y;break;case 18:g===gi&&(v&&(a=o-u*v,e=n+u*v),y&&(s=l-c*y,r=i+c*y),g=vi,A());break;case 32:g!==gi&&g!==vi||(v<0?a=o-u:0<v&&(e=n-u),y<0?s=l-c:0<y&&(r=i-c),g=mi,D.attr("cursor",wi.selection),A());break;default:return}fi()},!0).on("keyup.brush",function(){switch(F.event.keyCode){case 16:k&&(h=f=k=!1,A());break;case 18:g===vi&&(v<0?a=o:0<v&&(e=n),y<0?s=l:0<y&&(r=i),g=gi,A());break;case 32:g===mi&&(F.event.altKey?(v&&(a=o-u*v,e=n+u*v),y&&(s=l-c*y,r=i+c*y),g=vi):(v<0?a=o:0<v&&(e=n),y<0?s=l:0<y&&(r=i),g=gi),D.attr("cursor",wi[m]),A());break;default:return}fi()},!0).on("mousemove.brush",Y,!0).on("mouseup.brush",N,!0);Wt(F.event.view)}hi(),$r(p),P.call(p),L.start()}function Y(){var t=Ft(p);!k||h||f||(Math.abs(t[0]-T[0])>Math.abs(t[1]-T[1])?f=!0:h=!0),T=t,d=!0,fi(),A()}function A(){var t;switch(u=T[0]-S[0],c=T[1]-S[1],g){case mi:case pi:v&&(u=Math.max(w-e,Math.min($-a,u)),n=e+u,o=a+u),y&&(c=Math.max(M-r,Math.min(x-s,c)),i=r+c,l=s+c);break;case gi:v<0?(u=Math.max(w-e,Math.min($-e,u)),n=e+u,o=a):0<v&&(u=Math.max(w-a,Math.min($-a,u)),n=e,o=a+u),y<0?(c=Math.max(M-r,Math.min(x-r,c)),i=r+c,l=s):0<y&&(c=Math.max(M-s,Math.min(x-s,c)),i=r,l=s+c);break;case vi:v&&(n=Math.max(w,Math.min($,e-u*v)),o=Math.max(w,Math.min($,a+u*v))),y&&(i=Math.max(M,Math.min(x,r-c*y)),l=Math.max(M,Math.min(x,s+c*y)))}o<n&&(v*=-1,t=e,e=a,a=t,t=n,n=o,o=t,m in Mi&&D.attr("cursor",wi[m=Mi[m]])),l<i&&(y*=-1,t=r,r=s,s=t,t=i,i=l,l=t,m in $i&&D.attr("cursor",wi[m=$i[m]])),_.selection&&(b=_.selection),h&&(n=b[0][0],o=b[1][0]),f&&(i=b[0][1],l=b[1][1]),b[0][0]===n&&b[0][1]===i&&b[1][0]===o&&b[1][1]===l||(_.selection=[[n,i],[o,l]],P.call(p),L.brush())}function N(){if(hi(),F.event.touches){if(F.event.touches.length)return;R&&clearTimeout(R),R=setTimeout(function(){R=null},500),C.on("touchmove.brush touchend.brush touchcancel.brush",null)}else Ut(F.event.view,d),E.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);C.attr("pointer-events","all"),D.attr("cursor",wi.overlay),_.selection&&(b=_.selection),Di(b)&&(_.selection=null,P.call(p)),L.end()}}function s(){var t=this.__brush||{selection:null};return t.extent=e.apply(this,arguments),t.dim=O,t}return i.move=function(t,s){t.selection?t.on("start.brush",function(){j(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){j(this,arguments).end()}).tween("brush",function(){var e=this,n=e.__brush,r=j(e,arguments),t=n.selection,i=O.input("function"==typeof s?s.apply(this,arguments):s,n.extent),a=vn(t,i);function o(t){n.selection=1===t&&Di(i)?null:a(t),P.call(e),r.brush()}return t&&i?o:o(1)}):t.each(function(){var t=this,e=arguments,n=t.__brush,r=O.input("function"==typeof s?s.apply(t,e):s,n.extent),i=j(t,e).beforestart();$r(t),n.selection=null==r||Di(r)?null:r,P.call(t),i.start().brush().end()})},a.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Ct(new di(i,t,O.output(this.state.selection)),n.apply,n,[t,this.that,this.args])}},i.extent=function(t){return arguments.length?(e="function"==typeof t?t:ci([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),i):e},i.filter=function(t){return arguments.length?(H="function"==typeof t?t:ci(!!t),i):H},i.handleSize=function(t){return arguments.length?(r=+t,i):r},i.on=function(){var t=n.on.apply(n,arguments);return t===n?i:t},i}var Yi=Math.cos,Ai=Math.sin,Ni=Math.PI,Oi=Ni/2,Ri=2*Ni,Hi=Math.max;var Pi=Array.prototype.slice;function ji(t){return function(){return t}}var Fi=Math.PI,Ii=2*Fi,zi=1e-6,Bi=Ii-zi;function Wi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ui(){return new Wi}function qi(t){return t.source}function Vi(t){return t.target}function Gi(t){return t.radius}function Ki(t){return t.startAngle}function Ji(t){return t.endAngle}Wi.prototype=Ui.prototype={constructor:Wi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,a){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,s=n-t,l=r-e,u=a-t,c=o-e,d=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(zi<d)if(Math.abs(c*s-l*u)>zi&&i){var h=n-a,f=r-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),v=Math.sqrt(d),y=i*Math.tan((Fi-Math.acos((p+d-m)/(2*g*v)))/2),_=y/v,b=y/g;Math.abs(_-1)>zi&&(this._+="L"+(t+_*u)+","+(e+_*c)),this._+="A"+i+","+i+",0,0,"+ +(u*f<c*h)+","+(this._x1=t+b*s)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,a){t=+t,e=+e;var o=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+o,u=e+s,c=1^a,d=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>zi||Math.abs(this._y1-u)>zi)&&(this._+="L"+l+","+u),n&&(d<0&&(d=d%Ii+Ii),Bi<d?this._+="A"+n+","+n+",0,1,"+c+","+(t-o)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):zi<d&&(this._+="A"+n+","+n+",0,"+ +(Fi<=d)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Xi="$";function Zi(){}function Qi(t,e){var n=new Zi;if(t instanceof Zi)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,a=t.length;if(null==e)for(;++i<a;)n.set(i,t[i]);else for(;++i<a;)n.set(e(r=t[i],i,t),r)}else if(t)for(var o in t)n.set(o,t[o]);return n}function ta(){return{}}function ea(t,e,n){t[e]=n}function na(){return Qi()}function ra(t,e,n){t.set(e,n)}function ia(){}Zi.prototype=Qi.prototype={constructor:Zi,has:function(t){return Xi+t in this},get:function(t){return this[Xi+t]},set:function(t,e){return this[Xi+t]=e,this},remove:function(t){var e=Xi+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Xi&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Xi&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Xi&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Xi&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Xi&&++t;return t},empty:function(){for(var t in this)if(t[0]===Xi)return!1;return!0},each:function(t){for(var e in this)e[0]===Xi&&t(this[e],e.slice(1),this)}};var aa=Qi.prototype;function oa(t,e){var n=new ia;if(t instanceof ia)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}ia.prototype=oa.prototype={constructor:ia,has:aa.has,add:function(t){return this[Xi+(t+="")]=t,this},remove:aa.remove,clear:aa.clear,values:aa.keys,size:aa.size,empty:aa.empty,each:aa.each};var sa={},la={},ua=34,ca=10,da=13;function ha(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function fa(a){var e=new RegExp('["'+a+"\n\r]"),d=a.charCodeAt(0);function n(r,t){var e,n=[],i=r.length,a=0,o=0,s=i<=0,l=!1;function u(){if(s)return la;if(l)return l=!1,sa;var t,e,n=a;if(r.charCodeAt(n)===ua){for(;a++<i&&r.charCodeAt(a)!==ua||r.charCodeAt(++a)===ua;);return(t=a)>=i?s=!0:(e=r.charCodeAt(a++))===ca?l=!0:e===da&&(l=!0,r.charCodeAt(a)===ca&&++a),r.slice(n+1,t-1).replace(/""/g,'"')}for(;a<i;){if((e=r.charCodeAt(t=a++))===ca)l=!0;else if(e===da)l=!0,r.charCodeAt(a)===ca&&++a;else if(e!==d)continue;return r.slice(n,t)}return s=!0,r.slice(n,i)}for(r.charCodeAt(i-1)===ca&&--i,r.charCodeAt(i-1)===da&&--i;(e=u())!==la;){for(var c=[];e!==sa&&e!==la;)c.push(e),e=u();t&&null==(c=t(c,o++))||n.push(c)}return n}function r(t){return t.map(o).join(a)}function o(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,a){var o,s,e=n(t,function(t,e){if(o)return o(t,e-1);var n,r,i;s=t,o=a?(r=a,i=ha(n=t),function(t,e){return r(i(t),e,n)}):ha(t)});return e.columns=s||[],e},parseRows:n,format:function(t,n){var e,r,i;return null==n&&(e=t,r=Object.create(null),i=[],e.forEach(function(t){for(var e in t)e in r||i.push(r[e]=e)}),n=i),[n.map(o).join(a)].concat(t.map(function(e){return n.map(function(t){return o(e[t])}).join(a)})).join("\n")},formatRows:function(t){return t.map(r).join("\n")}}}var pa=fa(","),ma=pa.parse,ga=pa.parseRows,va=pa.format,ya=pa.formatRows,_a=fa("\t"),ba=_a.parse,wa=_a.parseRows,Ma=_a.format,$a=_a.formatRows;function xa(t){return function(){return t}}function ka(){return 1e-6*(Math.random()-.5)}function Sa(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a,o,s,l,u,c,d,h,f=t._root,p={data:r},m=t._x0,g=t._y0,v=t._x1,y=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((u=e>=(a=(m+v)/2))?m=a:v=a,(c=n>=(o=(g+y)/2))?g=o:y=o,!(f=(i=f)[d=c<<1|u]))return i[d]=p,t;if(s=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===s&&n===l)return p.next=f,i?i[d]=p:t._root=p,t;for(;i=i?i[d]=new Array(4):t._root=new Array(4),(u=e>=(a=(m+v)/2))?m=a:v=a,(c=n>=(o=(g+y)/2))?g=o:y=o,(d=c<<1|u)==(h=(o<=l)<<1|a<=s););return i[h]=f,i[d]=p,t}function Ta(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function La(t){return t[0]}function Ca(t){return t[1]}function Da(t,e,n){var r=new Ea(null==e?La:e,null==n?Ca:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Ea(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function Ya(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Aa=Da.prototype=Ea.prototype;function Na(t){return t.x+t.vx}function Oa(t){return t.y+t.vy}function Ra(t){return t.index}function Ha(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Pa(t){return t.x}function ja(t){return t.y}Aa.copy=function(){var t,e,n=new Ea(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Ya(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Ya(e));return n},Aa.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Sa(this.cover(e,n),e,n,t)},Aa.addAll=function(t){var e,n,r,i,a=t.length,o=new Array(a),s=new Array(a),l=1/0,u=1/0,c=-1/0,d=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||((o[n]=r)<l&&(l=r),c<r&&(c=r),(s[n]=i)<u&&(u=i),d<i&&(d=i));for(c<l&&(l=this._x0,c=this._x1),d<u&&(u=this._y0,d=this._y1),this.cover(l,u).cover(c,d),n=0;n<a;++n)Sa(this,o[n],s[n],t[n]);return this},Aa.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{if(!(t<n||i<t||e<r||a<e))return this;var o,s,l=i-n,u=this._root;switch(s=(e<(r+a)/2)<<1|t<(n+i)/2){case 0:for(;(o=new Array(4))[s]=u,u=o,a=r+(l*=2),(i=n+l)<t||a<e;);break;case 1:for(;(o=new Array(4))[s]=u,u=o,a=r+(l*=2),t<(n=i-l)||a<e;);break;case 2:for(;(o=new Array(4))[s]=u,u=o,r=a-(l*=2),(i=n+l)<t||e<r;);break;case 3:for(;(o=new Array(4))[s]=u,u=o,r=a-(l*=2),t<(n=i-l)||e<r;);}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},Aa.data=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},Aa.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Aa.find=function(t,e,n){var r,i,a,o,s,l,u,c=this._x0,d=this._y0,h=this._x1,f=this._y1,p=[],m=this._root;for(m&&p.push(new Ta(m,c,d,h,f)),null==n?n=1/0:(c=t-n,d=e-n,h=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>h||(a=l.y0)>f||(o=l.x1)<c||(s=l.y1)<d))if(m.length){var g=(i+o)/2,v=(a+s)/2;p.push(new Ta(m[3],g,v,o,s),new Ta(m[2],i,v,g,s),new Ta(m[1],g,a,o,v),new Ta(m[0],i,a,g,v)),(u=(v<=e)<<1|g<=t)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var y=t-+this._x.call(null,m.data),_=e-+this._y.call(null,m.data),b=y*y+_*_;if(b<n){var w=Math.sqrt(n=b);c=t-w,d=e-w,h=t+w,f=e+w,r=m.data}}return r},Aa.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,a,o,s,l,u,c,d,h,f=this._root,p=this._x0,m=this._y0,g=this._x1,v=this._y1;if(!f)return this;if(f.length)for(;;){if((u=a>=(s=(p+g)/2))?p=s:g=s,(c=o>=(l=(m+v)/2))?m=l:v=l,!(f=(e=f)[d=c<<1|u]))return this;if(!f.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(n=e,h=d)}for(;f.data!==t;)if(!(f=(r=f).next))return this;return(i=f.next)&&delete f.next,r?i?r.next=i:delete r.next:e?(i?e[d]=i:delete e[d],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[h]=f:this._root=f)):this._root=i,this},Aa.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Aa.root=function(){return this._root},Aa.size=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},Aa.visit=function(t){var e,n,r,i,a,o,s=[],l=this._root;for(l&&s.push(new Ta(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,a=e.x1,o=e.y1)&&l.length){var u=(r+a)/2,c=(i+o)/2;(n=l[3])&&s.push(new Ta(n,u,c,a,o)),(n=l[2])&&s.push(new Ta(n,r,c,u,o)),(n=l[1])&&s.push(new Ta(n,u,i,a,c)),(n=l[0])&&s.push(new Ta(n,r,i,u,c))}return this},Aa.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Ta(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var a,o=e.x0,s=e.y0,l=e.x1,u=e.y1,c=(o+l)/2,d=(s+u)/2;(a=i[0])&&n.push(new Ta(a,o,s,c,d)),(a=i[1])&&n.push(new Ta(a,c,s,l,d)),(a=i[2])&&n.push(new Ta(a,o,d,c,u)),(a=i[3])&&n.push(new Ta(a,c,d,l,u))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Aa.x=function(t){return arguments.length?(this._x=t,this):this._x},Aa.y=function(t){return arguments.length?(this._y=t,this):this._y};var Fa,Ia=10,za=Math.PI*(3-Math.sqrt(5));function Ba(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[1<r.length?r[0]+r.slice(2):r,+t.slice(n+1)]}function Wa(t){return(t=Ba(Math.abs(t)))?t[1]:NaN}function Ua(t,e){var n=Ba(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var qa={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,a=-1;i<r;++i)switch(t[i]){case".":a=n=i;break;case"0":0===a&&(a=i),n=i;break;case"e":break t;default:0<a&&(a=0)}return 0<a?t.slice(0,a)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ua(100*t,e)},r:Ua,s:function(t,e){var n=Ba(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(Fa=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:o<a?r+new Array(a-o+1).join("0"):0<a?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ba(t,Math.max(0,e+a-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Va=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function Ga(t){return new Ka(t)}function Ka(t){if(!(e=Va.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",a=e[4]||"",o=!!e[5],s=e[6]&&+e[6],l=!!e[7],u=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(l=!0,c="g"):qa[c]||(c=""),(o||"0"===n&&"="===r)&&(o=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=a,this.zero=o,this.width=s,this.comma=l,this.precision=u,this.type=c}function Ja(t){return t}Ga.prototype=Ka.prototype,Ka.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Xa,Za=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Qa(t){var e,s,l,w=t.grouping&&t.thousands?(s=t.grouping,l=t.thousands,function(t,e){for(var n=t.length,r=[],i=0,a=s[0],o=0;0<n&&0<a&&(e<o+a+1&&(a=Math.max(1,e-o)),r.push(t.substring(n-=a,n+a)),!((o+=a+1)>e));)a=s[i=(i+1)%s.length];return r.reverse().join(l)}):Ja,r=t.currency,M=t.decimal,$=t.numerals?(e=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}):Ja,i=t.percent||"%";function o(t){var u=(t=Ga(t)).fill,c=t.align,d=t.sign,e=t.symbol,h=t.zero,f=t.width,p=t.comma,m=t.precision,g=t.type,v="$"===e?r[0]:"#"===e&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",y="$"===e?r[1]:/[%p]/.test(g)?i:"",_=qa[g],b=!g||/[defgprs%]/.test(g);function n(t){var e,n,r,i=v,a=y;if("c"===g)a=_(t)+a,t="";else{var o=(t=+t)<0;if(t=_(Math.abs(t),m),o&&0==+t&&(o=!1),i=(o?"("===d?d:"-":"-"===d||"("===d?"":d)+i,a=("s"===g?Za[8+Fa/3]:"")+a+(o&&"("===d?")":""),b)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){a=(46===r?M+t.slice(e+1):t.slice(e))+a,t=t.slice(0,e);break}}p&&!h&&(t=w(t,1/0));var s=i.length+t.length+a.length,l=s<f?new Array(f-s+1).join(u):"";switch(p&&h&&(t=w(l+t,l.length?f-a.length:1/0),l=""),c){case"<":t=i+t+a+l;break;case"=":t=i+l+t+a;break;case"^":t=l.slice(0,s=l.length>>1)+i+t+a+l.slice(s);break;default:t=l+i+t+a}return $(t)}return m=null==m?g?6:12:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),n.toString=function(){return t+""},n}return{format:o,formatPrefix:function(t,e){var n=o(((t=Ga(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Wa(e)/3))),i=Math.pow(10,-r),a=Za[8+r/3];return function(t){return n(i*t)+a}}}}function to(t){return Xa=Qa(t),F.format=Xa.format,F.formatPrefix=Xa.formatPrefix,Xa}function eo(t){return Math.max(0,-Wa(Math.abs(t)))}function no(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Wa(e)/3)))-Wa(Math.abs(t)))}function ro(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Wa(e)-Wa(t))+1}function io(){return new ao}function ao(){this.reset()}to({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),ao.prototype={constructor:ao,reset:function(){this.s=this.t=0},add:function(t){so(oo,t,this.t),so(this,oo.s,this.s),this.s?this.t+=oo.t:this.s=oo.t},valueOf:function(){return this.s}};var oo=new ao;function so(t,e,n){var r=t.s=e+n,i=r-e,a=r-i;t.t=e-a+(n-i)}var lo=1e-6,uo=1e-12,co=Math.PI,ho=co/2,fo=co/4,po=2*co,mo=180/co,go=co/180,vo=Math.abs,yo=Math.atan,_o=Math.atan2,bo=Math.cos,wo=Math.ceil,Mo=Math.exp,$o=Math.log,xo=Math.pow,ko=Math.sin,So=Math.sign||function(t){return 0<t?1:t<0?-1:0},To=Math.sqrt,Lo=Math.tan;function Co(t){return 1<t?0:t<-1?co:Math.acos(t)}function Do(t){return 1<t?ho:t<-1?-ho:Math.asin(t)}function Eo(t){return(t=ko(t/2))*t}function Yo(){}function Ao(t,e){t&&Oo.hasOwnProperty(t.type)&&Oo[t.type](t,e)}var No={Feature:function(t,e){Ao(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Ao(n[r].geometry,e)}},Oo={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Ro(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ro(n[r],e,0)},Polygon:function(t,e){Ho(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ho(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Ao(n[r],e)}};function Ro(t,e,n){var r,i=-1,a=t.length-n;for(e.lineStart();++i<a;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function Ho(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Ro(t[n],e,1);e.polygonEnd()}function Po(t,e){t&&No.hasOwnProperty(t.type)?No[t.type](t,e):Ao(t,e)}var jo,Fo,Io,zo,Bo,Wo,Uo,qo,Vo,Go,Ko,Jo,Xo,Zo=io(),Qo=io(),ts={point:Yo,lineStart:Yo,lineEnd:Yo,polygonStart:function(){Zo.reset(),ts.lineStart=es,ts.lineEnd=ns},polygonEnd:function(){var t=+Zo;Qo.add(t<0?po+t:t),this.lineStart=this.lineEnd=this.point=Yo},sphere:function(){Qo.add(po)}};function es(){ts.point=rs}function ns(){is(jo,Fo)}function rs(t,e){ts.point=is,jo=t,Fo=e,Io=t*=go,zo=bo(e=(e*=go)/2+fo),Bo=ko(e)}function is(t,e){var n=(t*=go)-Io,r=0<=n?1:-1,i=r*n,a=bo(e=(e*=go)/2+fo),o=ko(e),s=Bo*o,l=zo*a+s*bo(i),u=s*r*ko(i);Zo.add(_o(u,l)),Io=t,zo=a,Bo=o}function as(t){return[_o(t[1],t[0]),Do(t[2])]}function os(t){var e=t[0],n=t[1],r=bo(n);return[r*bo(e),r*ko(e),ko(n)]}function ss(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ls(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function us(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function cs(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function ds(t){var e=To(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var hs,fs,ps,ms,gs,vs,ys,_s,bs,ws,Ms,$s,xs,ks,Ss,Ts,Ls,Cs,Ds=io(),Es={point:Ys,lineStart:Ns,lineEnd:Os,polygonStart:function(){Es.point=Rs,Es.lineStart=Hs,Es.lineEnd=Ps,Ds.reset(),ts.polygonStart()},polygonEnd:function(){ts.polygonEnd(),Es.point=Ys,Es.lineStart=Ns,Es.lineEnd=Os,Zo<0?(Wo=-(qo=180),Uo=-(Vo=90)):lo<Ds?Vo=90:Ds<-lo&&(Uo=-90),fs[0]=Wo,fs[1]=qo}};function Ys(t,e){hs.push(fs=[Wo=t,qo=t]),e<Uo&&(Uo=e),Vo<e&&(Vo=e)}function As(t,e){var n=os([t*go,e*go]);if(Xo){var r=ls(Xo,n),i=ls([r[1],-r[0],0],r);ds(i),i=as(i);var a,o=t-Go,s=0<o?1:-1,l=i[0]*mo*s,u=180<vo(o);u^(s*Go<l&&l<s*t)?(a=i[1]*mo,Vo<a&&(Vo=a)):u^(s*Go<(l=(l+360)%360-180)&&l<s*t)?(a=-i[1]*mo)<Uo&&(Uo=a):(e<Uo&&(Uo=e),Vo<e&&(Vo=e)),u?t<Go?js(Wo,t)>js(Wo,qo)&&(qo=t):js(t,qo)>js(Wo,qo)&&(Wo=t):Wo<=qo?(t<Wo&&(Wo=t),qo<t&&(qo=t)):Go<t?js(Wo,t)>js(Wo,qo)&&(qo=t):js(t,qo)>js(Wo,qo)&&(Wo=t)}else hs.push(fs=[Wo=t,qo=t]);e<Uo&&(Uo=e),Vo<e&&(Vo=e),Xo=n,Go=t}function Ns(){Es.point=As}function Os(){fs[0]=Wo,fs[1]=qo,Es.point=Ys,Xo=null}function Rs(t,e){if(Xo){var n=t-Go;Ds.add(180<vo(n)?n+(0<n?360:-360):n)}else Ko=t,Jo=e;ts.point(t,e),As(t,e)}function Hs(){ts.lineStart()}function Ps(){Rs(Ko,Jo),ts.lineEnd(),vo(Ds)>lo&&(Wo=-(qo=180)),fs[0]=Wo,fs[1]=qo,Xo=null}function js(t,e){return(e-=t)<0?e+360:e}function Fs(t,e){return t[0]-e[0]}function Is(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var zs={sphere:Yo,point:Bs,lineStart:Us,lineEnd:Gs,polygonStart:function(){zs.lineStart=Ks,zs.lineEnd=Js},polygonEnd:function(){zs.lineStart=Us,zs.lineEnd=Gs}};function Bs(t,e){t*=go;var n=bo(e*=go);Ws(n*bo(t),n*ko(t),ko(e))}function Ws(t,e,n){gs+=(t-gs)/++ps,vs+=(e-vs)/ps,ys+=(n-ys)/ps}function Us(){zs.point=qs}function qs(t,e){t*=go;var n=bo(e*=go);Ts=n*bo(t),Ls=n*ko(t),Cs=ko(e),zs.point=Vs,Ws(Ts,Ls,Cs)}function Vs(t,e){t*=go;var n=bo(e*=go),r=n*bo(t),i=n*ko(t),a=ko(e),o=_o(To((o=Ls*a-Cs*i)*o+(o=Cs*r-Ts*a)*o+(o=Ts*i-Ls*r)*o),Ts*r+Ls*i+Cs*a);ms+=o,_s+=o*(Ts+(Ts=r)),bs+=o*(Ls+(Ls=i)),ws+=o*(Cs+(Cs=a)),Ws(Ts,Ls,Cs)}function Gs(){zs.point=Bs}function Ks(){zs.point=Xs}function Js(){Zs(ks,Ss),zs.point=Bs}function Xs(t,e){ks=t,Ss=e,t*=go,e*=go,zs.point=Zs;var n=bo(e);Ts=n*bo(t),Ls=n*ko(t),Cs=ko(e),Ws(Ts,Ls,Cs)}function Zs(t,e){t*=go;var n=bo(e*=go),r=n*bo(t),i=n*ko(t),a=ko(e),o=Ls*a-Cs*i,s=Cs*r-Ts*a,l=Ts*i-Ls*r,u=To(o*o+s*s+l*l),c=Do(u),d=u&&-c/u;Ms+=d*o,$s+=d*s,xs+=d*l,ms+=c,_s+=c*(Ts+(Ts=r)),bs+=c*(Ls+(Ls=i)),ws+=c*(Cs+(Cs=a)),Ws(Ts,Ls,Cs)}function Qs(t){return function(){return t}}function tl(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function el(t,e){return[co<t?t-po:t<-co?t+po:t,e]}function nl(t,e,n){return(t%=po)?e||n?tl(il(t),al(e,n)):il(t):e||n?al(e,n):el}function rl(n){return function(t,e){return[co<(t+=n)?t-po:t<-co?t+po:t,e]}}function il(t){var e=rl(t);return e.invert=rl(-t),e}function al(t,e){var s=bo(t),l=ko(t),u=bo(e),c=ko(e);function n(t,e){var n=bo(e),r=bo(t)*n,i=ko(t)*n,a=ko(e),o=a*s+r*l;return[_o(i*u-o*c,r*s-a*l),Do(o*u+i*c)]}return n.invert=function(t,e){var n=bo(e),r=bo(t)*n,i=ko(t)*n,a=ko(e),o=a*u-i*c;return[_o(i*u+a*c,r*s+o*l),Do(o*s-r*l)]},n}function ol(e){function t(t){return(t=e(t[0]*go,t[1]*go))[0]*=mo,t[1]*=mo,t}return e=nl(e[0]*go,e[1]*go,2<e.length?e[2]*go:0),t.invert=function(t){return(t=e.invert(t[0]*go,t[1]*go))[0]*=mo,t[1]*=mo,t},t}function sl(t,e,n,r,i,a){if(n){var o=bo(e),s=ko(e),l=r*n;null==i?(i=e+r*po,a=e-l/2):(i=ll(o,i),a=ll(o,a),(0<r?i<a:a<i)&&(i+=r*po));for(var u,c=i;0<r?a<c:c<a;c-=l)u=as([o,-s*bo(c),-s*ko(c)]),t.point(u[0],u[1])}}function ll(t,e){(e=os(e))[0]-=t,ds(e);var n=Co(-e[1]);return((-e[2]<0?-n:n)+po-lo)%po}function ul(){var n,e=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){e.push(n=[])},lineEnd:Yo,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}}function cl(t,e){return vo(t[0]-e[0])<lo&&vo(t[1]-e[1])<lo}function dl(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function hl(t,e,n,r,a){var o,i,s=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],i=t[e];if(cl(r,i)){for(a.lineStart(),o=0;o<e;++o)a.point((r=t[o])[0],r[1]);a.lineEnd()}else s.push(n=new dl(r,t,null,!0)),l.push(n.o=new dl(r,null,n,!1)),s.push(n=new dl(i,t,null,!1)),l.push(n.o=new dl(i,null,n,!0))}}),s.length){for(l.sort(e),fl(s),fl(l),o=0,i=l.length;o<i;++o)l[o].e=n=!n;for(var u,c,d=s[0];;){for(var h=d,f=!0;h.v;)if((h=h.n)===d)return;u=h.z,a.lineStart();do{if(h.v=h.o.v=!0,h.e){if(f)for(o=0,i=u.length;o<i;++o)a.point((c=u[o])[0],c[1]);else r(h.x,h.n.x,1,a);h=h.n}else{if(f)for(u=h.p.z,o=u.length-1;0<=o;--o)a.point((c=u[o])[0],c[1]);else r(h.x,h.p.x,-1,a);h=h.p}u=(h=h.o).z,f=!f}while(!h.v);a.lineEnd()}}}function fl(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}el.invert=el;var pl=io();function ml(t,e){var n=e[0],r=e[1],i=[ko(n),-bo(n),0],a=0,o=0;pl.reset();for(var s=0,l=t.length;s<l;++s)if(c=(u=t[s]).length)for(var u,c,d=u[c-1],h=d[0],f=d[1]/2+fo,p=ko(f),m=bo(f),g=0;g<c;++g,h=y,p=b,m=w,d=v){var v=u[g],y=v[0],_=v[1]/2+fo,b=ko(_),w=bo(_),M=y-h,$=0<=M?1:-1,x=$*M,k=co<x,S=p*b;if(pl.add(_o(S*$*ko(x),m*w+S*bo(x))),a+=k?M+$*po:M,k^n<=h^n<=y){var T=ls(os(d),os(v));ds(T);var L=ls(i,T);ds(L);var C=(k^0<=M?-1:1)*Do(L[2]);(C<r||r===C&&(T[0]||T[1]))&&(o+=k^0<=M?1:-1)}}return(a<-lo||a<lo&&pl<-lo)^1&o}function gl(g,v,y,_){return function(s){var l,u,c,n=v(s),d=ul(),h=v(d),f=!1,e={point:r,lineStart:i,lineEnd:a,polygonStart:function(){e.point=p,e.lineStart=o,e.lineEnd=m,u=[],l=[]},polygonEnd:function(){e.point=r,e.lineStart=i,e.lineEnd=a,u=T(u);var t=ml(l,_);u.length?(f||(s.polygonStart(),f=!0),hl(u,yl,t,y,s)):t&&(f||(s.polygonStart(),f=!0),s.lineStart(),y(null,null,1,s),s.lineEnd()),f&&(s.polygonEnd(),f=!1),u=l=null},sphere:function(){s.polygonStart(),s.lineStart(),y(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function r(t,e){g(t,e)&&s.point(t,e)}function t(t,e){n.point(t,e)}function i(){e.point=t,n.lineStart()}function a(){e.point=r,n.lineEnd()}function p(t,e){c.push([t,e]),h.point(t,e)}function o(){h.lineStart(),c=[]}function m(){p(c[0][0],c[0][1]),h.lineEnd();var t,e,n,r,i=h.clean(),a=d.result(),o=a.length;if(c.pop(),l.push(c),c=null,o)if(1&i){if(0<(e=(n=a[0]).length-1)){for(f||(s.polygonStart(),f=!0),s.lineStart(),t=0;t<e;++t)s.point((r=n[t])[0],r[1]);s.lineEnd()}}else 1<o&&2&i&&a.push(a.pop().concat(a.shift())),u.push(a.filter(vl))}return e}}function vl(t){return 1<t.length}function yl(t,e){return((t=t.x)[0]<0?t[1]-ho-lo:ho-t[1])-((e=e.x)[0]<0?e[1]-ho-lo:ho-e[1])}var _l=gl(function(){return!0},function(d){var h,f=NaN,p=NaN,m=NaN;return{lineStart:function(){d.lineStart(),h=1},point:function(t,e){var n,r,i,a,o,s,l,u=0<t?co:-co,c=vo(t-f);vo(c-co)<lo?(d.point(f,p=0<(p+e)/2?ho:-ho),d.point(m,p),d.lineEnd(),d.lineStart(),d.point(u,p),d.point(t,p),h=0):m!==u&&co<=c&&(vo(f-m)<lo&&(f-=m*lo),vo(t-u)<lo&&(t-=u*lo),r=p,a=e,l=ko((n=f)-(i=t)),p=vo(l)>lo?yo((ko(r)*(s=bo(a))*ko(i)-ko(a)*(o=bo(r))*ko(n))/(o*s*l)):(r+a)/2,d.point(m,p),d.lineEnd(),d.lineStart(),d.point(u,p),h=0),d.point(f=t,p=e),m=u},lineEnd:function(){d.lineEnd(),f=p=NaN},clean:function(){return 2-h}}},function(t,e,n,r){var i;if(null==t)i=n*ho,r.point(-co,i),r.point(0,i),r.point(co,i),r.point(co,0),r.point(co,-i),r.point(0,-i),r.point(-co,-i),r.point(-co,0),r.point(-co,i);else if(vo(t[0]-e[0])>lo){var a=t[0]<e[0]?co:-co;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])},[-co,-ho]);function bl(i){var S=bo(i),a=6*go,f=0<S,p=vo(S)>lo;function m(t,e){return bo(t)*bo(e)>S}function g(t,e,n){var r=[1,0,0],i=ls(os(t),os(e)),a=ss(i,i),o=i[0],s=a-o*o;if(!s)return!n&&t;var l=S*a/s,u=-S*o/s,c=ls(r,i),d=cs(r,l);us(d,cs(i,u));var h=c,f=ss(d,h),p=ss(h,h),m=f*f-p*(ss(d,d)-1);if(!(m<0)){var g=To(m),v=cs(h,(-f-g)/p);if(us(v,d),v=as(v),!n)return v;var y,_=t[0],b=e[0],w=t[1],M=e[1];b<_&&(y=_,_=b,b=y);var $=b-_,x=vo($-co)<lo;if(!x&&M<w&&(y=w,w=M,M=y),x||$<lo?x?0<w+M^v[1]<(vo(v[0]-_)<lo?w:M):w<=v[1]&&v[1]<=M:co<$^(_<=v[0]&&v[0]<=b)){var k=cs(h,(-f+g)/p);return us(k,d),[v,as(k)]}}}function v(t,e){var n=f?i:co-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}return gl(m,function(s){var l,u,c,d,h;return{lineStart:function(){d=c=!1,h=1},point:function(t,e){var n,r=[t,e],i=m(t,e),a=f?i?0:v(t,e):i?v(t+(t<0?co:-co),e):0;if(!l&&(d=c=i)&&s.lineStart(),i!==c&&(!(n=g(l,r))||cl(l,n)||cl(r,n))&&(r[0]+=lo,r[1]+=lo,i=m(r[0],r[1])),i!==c)h=0,i?(s.lineStart(),n=g(r,l),s.point(n[0],n[1])):(n=g(l,r),s.point(n[0],n[1]),s.lineEnd()),l=n;else if(p&&l&&f^i){var o;a&u||!(o=g(r,l,!0))||(h=0,f?(s.lineStart(),s.point(o[0][0],o[0][1]),s.point(o[1][0],o[1][1]),s.lineEnd()):(s.point(o[1][0],o[1][1]),s.lineEnd(),s.lineStart(),s.point(o[0][0],o[0][1])))}!i||l&&cl(l,r)||s.point(r[0],r[1]),l=r,c=i,u=a},lineEnd:function(){c&&s.lineEnd(),l=null},clean:function(){return h|(d&&c)<<1}}},function(t,e,n,r){sl(r,i,a,n,t,e)},f?[0,-i]:[-co,i-co])}var wl=1e9,Ml=-wl;function $l(v,y,_,b){function w(t,e){return v<=t&&t<=_&&y<=e&&e<=b}function M(t,e,n,r){var i=0,a=0;if(null==t||(i=o(t,n))!==(a=o(e,n))||s(t,e)<0^0<n)for(;r.point(0===i||3===i?v:_,1<i?b:y),(i=(i+n+4)%4)!==a;);else r.point(e[0],e[1])}function o(t,e){return vo(t[0]-v)<lo?0<e?0:3:vo(t[0]-_)<lo?0<e?2:1:vo(t[1]-y)<lo?0<e?1:0:0<e?3:2}function $(t,e){return s(t.x,e.x)}function s(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var i,d,a,o,s,l,u,c,h,f,p,m=r,t=ul(),e={point:n,lineStart:function(){e.point=g,d&&d.push(a=[]);f=!0,h=!1,u=c=NaN},lineEnd:function(){i&&(g(o,s),l&&h&&t.rejoin(),i.push(t.result()));e.point=n,h&&m.lineEnd()},polygonStart:function(){m=t,i=[],d=[],p=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=d.length;e<n;++e)for(var r,i,a=d[e],o=1,s=a.length,l=a[0],u=l[0],c=l[1];o<s;++o)r=u,i=c,l=a[o],u=l[0],c=l[1],i<=b?b<c&&(c-i)*(v-r)<(u-r)*(b-i)&&++t:c<=b&&(u-r)*(b-i)<(c-i)*(v-r)&&--t;return t}(),e=p&&t,n=(i=T(i)).length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),M(null,null,1,r),r.lineEnd()),n&&hl(i,$,t,M,r),r.polygonEnd());m=r,i=d=a=null}};function n(t,e){w(t,e)&&m.point(t,e)}function g(t,e){var n=w(t,e);if(d&&a.push([t,e]),f)o=t,s=e,f=!1,(l=n)&&(m.lineStart(),m.point(t,e));else if(n&&h)m.point(t,e);else{var r=[u=Math.max(Ml,Math.min(wl,u)),c=Math.max(Ml,Math.min(wl,c))],i=[t=Math.max(Ml,Math.min(wl,t)),e=Math.max(Ml,Math.min(wl,e))];!function(t,e,n,r,i,a){var o,s=t[0],l=t[1],u=0,c=1,d=e[0]-s,h=e[1]-l;if(o=n-s,d||!(0<o)){if(o/=d,d<0){if(o<u)return;o<c&&(c=o)}else if(0<d){if(c<o)return;u<o&&(u=o)}if(o=i-s,d||!(o<0)){if(o/=d,d<0){if(c<o)return;u<o&&(u=o)}else if(0<d){if(o<u)return;o<c&&(c=o)}if(o=r-l,h||!(0<o)){if(o/=h,h<0){if(o<u)return;o<c&&(c=o)}else if(0<h){if(c<o)return;u<o&&(u=o)}if(o=a-l,h||!(o<0)){if(o/=h,h<0){if(c<o)return;u<o&&(u=o)}else if(0<h){if(o<u)return;o<c&&(c=o)}return 0<u&&(t[0]=s+u*d,t[1]=l+u*h),c<1&&(e[0]=s+c*d,e[1]=l+c*h),!0}}}}}(r,i,v,y,_,b)?n&&(m.lineStart(),m.point(t,e),p=!1):(h||(m.lineStart(),m.point(r[0],r[1])),m.point(i[0],i[1]),n||m.lineEnd(),p=!1)}u=t,c=e,h=n}return e}}var xl,kl,Sl,Tl=io(),Ll={sphere:Yo,point:Yo,lineStart:function(){Ll.point=Dl,Ll.lineEnd=Cl},lineEnd:Yo,polygonStart:Yo,polygonEnd:Yo};function Cl(){Ll.point=Ll.lineEnd=Yo}function Dl(t,e){xl=t*=go,kl=ko(e*=go),Sl=bo(e),Ll.point=El}function El(t,e){t*=go;var n=ko(e*=go),r=bo(e),i=vo(t-xl),a=bo(i),o=r*ko(i),s=Sl*n-kl*r*a,l=kl*n+Sl*r*a;Tl.add(_o(To(o*o+s*s),l)),xl=t,kl=n,Sl=r}function Yl(t){return Tl.reset(),Po(t,Ll),+Tl}var Al=[null,null],Nl={type:"LineString",coordinates:Al};function Ol(t,e){return Al[0]=t,Al[1]=e,Yl(Nl)}var Rl={Feature:function(t,e){return Pl(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Pl(n[r].geometry,e))return!0;return!1}},Hl={Sphere:function(){return!0},Point:function(t,e){return jl(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(jl(n[r],e))return!0;return!1},LineString:function(t,e){return Fl(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Fl(n[r],e))return!0;return!1},Polygon:function(t,e){return Il(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Il(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Pl(n[r],e))return!0;return!1}};function Pl(t,e){return!(!t||!Hl.hasOwnProperty(t.type))&&Hl[t.type](t,e)}function jl(t,e){return 0===Ol(t,e)}function Fl(t,e){var n=Ol(t[0],t[1]);return Ol(t[0],e)+Ol(e,t[1])<=n+lo}function Il(t,e){return!!ml(t.map(zl),Bl(e))}function zl(t){return(t=t.map(Bl)).pop(),t}function Bl(t){return[t[0]*go,t[1]*go]}function Wl(t,e,n){var r=k(t,e-lo,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function Ul(t,e,n){var r=k(t,e-lo,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function ql(){var e,n,r,i,a,o,s,l,u,c,d,h,f=10,p=f,m=90,g=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:t()}}function t(){return k(wo(i/m)*m,r,m).map(d).concat(k(wo(l/g)*g,s,g).map(h)).concat(k(wo(n/f)*f,e,f).filter(function(t){return vo(t%m)>lo}).map(u)).concat(k(wo(o/p)*p,a,p).filter(function(t){return vo(t%g)>lo}).map(c))}return y.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},y.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(h(s).slice(1),d(r).reverse().slice(1),h(l).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],l=+t[0][1],s=+t[1][1],r<i&&(t=i,i=r,r=t),s<l&&(t=l,l=s,s=t),y.precision(v)):[[i,l],[r,s]]},y.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],o=+t[0][1],a=+t[1][1],e<n&&(t=n,n=e,e=t),a<o&&(t=o,o=a,a=t),y.precision(v)):[[n,o],[e,a]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(m=+t[0],g=+t[1],y):[m,g]},y.stepMinor=function(t){return arguments.length?(f=+t[0],p=+t[1],y):[f,p]},y.precision=function(t){return arguments.length?(v=+t,u=Wl(o,a,90),c=Ul(n,e,v),d=Wl(l,s,90),h=Ul(i,r,v),y):v},y.extentMajor([[-180,-90+lo],[180,90-lo]]).extentMinor([[-180,-80-lo],[180,80+lo]])}function Vl(t){return t}var Gl,Kl,Jl,Xl,Zl=io(),Ql=io(),tu={point:Yo,lineStart:Yo,lineEnd:Yo,polygonStart:function(){tu.lineStart=eu,tu.lineEnd=iu},polygonEnd:function(){tu.lineStart=tu.lineEnd=tu.point=Yo,Zl.add(vo(Ql)),Ql.reset()},result:function(){var t=Zl/2;return Zl.reset(),t}};function eu(){tu.point=nu}function nu(t,e){tu.point=ru,Gl=Jl=t,Kl=Xl=e}function ru(t,e){Ql.add(Xl*t-Jl*e),Jl=t,Xl=e}function iu(){ru(Gl,Kl)}var au=1/0,ou=au,su=-au,lu=su,uu={point:function(t,e){t<au&&(au=t);su<t&&(su=t);e<ou&&(ou=e);lu<e&&(lu=e)},lineStart:Yo,lineEnd:Yo,polygonStart:Yo,polygonEnd:Yo,result:function(){var t=[[au,ou],[su,lu]];return su=lu=-(ou=au=1/0),t}};var cu,du,hu,fu,pu=0,mu=0,gu=0,vu=0,yu=0,_u=0,bu=0,wu=0,Mu=0,$u={point:xu,lineStart:ku,lineEnd:Lu,polygonStart:function(){$u.lineStart=Cu,$u.lineEnd=Du},polygonEnd:function(){$u.point=xu,$u.lineStart=ku,$u.lineEnd=Lu},result:function(){var t=Mu?[bu/Mu,wu/Mu]:_u?[vu/_u,yu/_u]:gu?[pu/gu,mu/gu]:[NaN,NaN];return pu=mu=gu=vu=yu=_u=bu=wu=Mu=0,t}};function xu(t,e){pu+=t,mu+=e,++gu}function ku(){$u.point=Su}function Su(t,e){$u.point=Tu,xu(hu=t,fu=e)}function Tu(t,e){var n=t-hu,r=e-fu,i=To(n*n+r*r);vu+=i*(hu+t)/2,yu+=i*(fu+e)/2,_u+=i,xu(hu=t,fu=e)}function Lu(){$u.point=xu}function Cu(){$u.point=Eu}function Du(){Yu(cu,du)}function Eu(t,e){$u.point=Yu,xu(cu=hu=t,du=fu=e)}function Yu(t,e){var n=t-hu,r=e-fu,i=To(n*n+r*r);vu+=i*(hu+t)/2,yu+=i*(fu+e)/2,_u+=i,bu+=(i=fu*t-hu*e)*(hu+t),wu+=i*(fu+e),Mu+=3*i,xu(hu=t,fu=e)}function Au(t){this._context=t}Au.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,po)}},result:Yo};var Nu,Ou,Ru,Hu,Pu,ju=io(),Fu={point:Yo,lineStart:function(){Fu.point=Iu},lineEnd:function(){Nu&&zu(Ou,Ru),Fu.point=Yo},polygonStart:function(){Nu=!0},polygonEnd:function(){Nu=null},result:function(){var t=+ju;return ju.reset(),t}};function Iu(t,e){Fu.point=zu,Ou=Hu=t,Ru=Pu=e}function zu(t,e){Hu-=t,Pu-=e,ju.add(To(Hu*Hu+Pu*Pu)),Hu=t,Pu=e}function Bu(){this._string=[]}function Wu(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Uu(r){return function(t){var e=new qu;for(var n in r)e[n]=r[n];return e.stream=t,e}}function qu(){}function Vu(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Po(n,t.stream(uu)),e(uu.result()),null!=r&&t.clipExtent(r),t}function Gu(o,s,t){return Vu(o,function(t){var e=s[1][0]-s[0][0],n=s[1][1]-s[0][1],r=Math.min(e/(t[1][0]-t[0][0]),n/(t[1][1]-t[0][1])),i=+s[0][0]+(e-r*(t[1][0]+t[0][0]))/2,a=+s[0][1]+(n-r*(t[1][1]+t[0][1]))/2;o.scale(150*r).translate([i,a])},t)}function Ku(t,e,n){return Gu(t,[[0,0],e],n)}function Ju(a,o,t){return Vu(a,function(t){var e=+o,n=e/(t[1][0]-t[0][0]),r=(e-n*(t[1][0]+t[0][0]))/2,i=-n*t[0][1];a.scale(150*n).translate([r,i])},t)}function Xu(a,o,t){return Vu(a,function(t){var e=+o,n=e/(t[1][1]-t[0][1]),r=-n*t[0][0],i=(e-n*(t[1][1]+t[0][1]))/2;a.scale(150*n).translate([r,i])},t)}Bu.prototype={_radius:4.5,_circle:Wu(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Wu(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},qu.prototype={constructor:qu,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Zu=16,Qu=bo(30*go);function tc(t,e){return+e?function(C,D){function E(t,e,n,r,i,a,o,s,l,u,c,d,h,f){var p=o-t,m=s-e,g=p*p+m*m;if(4*D<g&&h--){var v=r+u,y=i+c,_=a+d,b=To(v*v+y*y+_*_),w=Do(_/=b),M=vo(vo(_)-1)<lo||vo(n-l)<lo?(n+l)/2:_o(y,v),$=C(M,w),x=$[0],k=$[1],S=x-t,T=k-e,L=m*S-p*T;(D<L*L/g||.3<vo((p*S+m*T)/g-.5)||r*u+i*c+a*d<Qu)&&(E(t,e,n,r,i,a,x,k,M,v/=b,y/=b,_,h,f),f.point(x,k),E(x,k,M,v,y,_,o,s,l,u,c,d,h,f))}}return function(i){var n,r,a,o,s,l,u,c,d,h,f,p,m={point:t,lineStart:e,lineEnd:v,polygonStart:function(){i.polygonStart(),m.lineStart=y},polygonEnd:function(){i.polygonEnd(),m.lineStart=e}};function t(t,e){t=C(t,e),i.point(t[0],t[1])}function e(){c=NaN,m.point=g,i.lineStart()}function g(t,e){var n=os([t,e]),r=C(t,e);E(c,d,u,h,f,p,c=r[0],d=r[1],u=t,h=n[0],f=n[1],p=n[2],Zu,i),i.point(c,d)}function v(){m.point=t,i.lineEnd()}function y(){e(),m.point=_,m.lineEnd=b}function _(t,e){g(n=t,e),r=c,a=d,o=h,s=f,l=p,m.point=g}function b(){E(c,d,u,h,f,p,r,a,n,o,s,l,Zu,i),(m.lineEnd=v)()}return m}}(t,e):(n=t,Uu({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n}var ec=Uu({point:function(t,e){this.stream.point(t*go,e*go)}});function nc(t){return rc(function(){return t})()}function rc(t){var n,r,i,e,a,o,s,l,u,c,d=150,h=480,f=250,p=0,m=0,g=0,v=0,y=0,_=null,b=_l,w=null,M=Vl,$=.5,x=tc(T,$);function k(t){return[(t=a(t[0]*go,t[1]*go))[0]*d+r,i-t[1]*d]}function S(t){return(t=a.invert((t[0]-r)/d,(i-t[1])/d))&&[t[0]*mo,t[1]*mo]}function T(t,e){return[(t=n(t,e))[0]*d+r,i-t[1]*d]}function L(){a=tl(e=nl(g,v,y),n);var t=n(p,m);return r=h-t[0]*d,i=f+t[1]*d,C()}function C(){return u=c=null,k}return k.stream=function(t){return u&&c===t?u:u=ec((r=e,Uu({point:function(t,e){var n=r(t,e);return this.stream.point(n[0],n[1])}}))(b(x(M(c=t)))));var r},k.preclip=function(t){return arguments.length?(b=t,_=void 0,C()):b},k.postclip=function(t){return arguments.length?(M=t,w=o=s=l=null,C()):M},k.clipAngle=function(t){return arguments.length?(b=+t?bl(_=t*go):(_=null,_l),C()):_*mo},k.clipExtent=function(t){return arguments.length?(M=null==t?(w=o=s=l=null,Vl):$l(w=+t[0][0],o=+t[0][1],s=+t[1][0],l=+t[1][1]),C()):null==w?null:[[w,o],[s,l]]},k.scale=function(t){return arguments.length?(d=+t,L()):d},k.translate=function(t){return arguments.length?(h=+t[0],f=+t[1],L()):[h,f]},k.center=function(t){return arguments.length?(p=t[0]%360*go,m=t[1]%360*go,L()):[p*mo,m*mo]},k.rotate=function(t){return arguments.length?(g=t[0]%360*go,v=t[1]%360*go,y=2<t.length?t[2]%360*go:0,L()):[g*mo,v*mo,y*mo]},k.precision=function(t){return arguments.length?(x=tc(T,$=t*t),C()):To($)},k.fitExtent=function(t,e){return Gu(k,t,e)},k.fitSize=function(t,e){return Ku(k,t,e)},k.fitWidth=function(t,e){return Ju(k,t,e)},k.fitHeight=function(t,e){return Xu(k,t,e)},function(){return n=t.apply(this,arguments),k.invert=n.invert&&S,L()}}function ic(t){var e=0,n=co/3,r=rc(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*go,n=t[1]*go):[e*mo,n*mo]},i}function ac(t,e){var n=ko(t),r=(n+ko(e))/2;if(vo(r)<lo)return function(t){var n=bo(t);function e(t,e){return[t*n,ko(e)/n]}return e.invert=function(t,e){return[t/n,Do(e*n)]},e}(t);var i=1+n*(2*r-n),a=To(i)/r;function o(t,e){var n=To(i-2*r*ko(e))/r;return[n*ko(t*=r),a-n*bo(t)]}return o.invert=function(t,e){var n=a-e;return[_o(t,vo(n))/r*So(n),Do((i-(t*t+n*n)*r*r)/(2*r))]},o}function oc(){return ic(ac).scale(155.424).center([0,33.6442])}function sc(){return oc().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function lc(a){return function(t,e){var n=bo(t),r=bo(e),i=a(n*r);return[i*r*ko(t),i*ko(e)]}}function uc(o){return function(t,e){var n=To(t*t+e*e),r=o(n),i=ko(r),a=bo(r);return[_o(t*i,n*a),Do(n&&e*i/n)]}}var cc=lc(function(t){return To(2/(1+t))});cc.invert=uc(function(t){return 2*Do(t/2)});var dc=lc(function(t){return(t=Co(t))&&t/ko(t)});function hc(t,e){return[t,$o(Lo((ho+e)/2))]}function fc(n){var r,i,a,o=nc(n),e=o.center,s=o.scale,l=o.translate,u=o.clipExtent,c=null;function d(){var t=co*s(),e=o(ol(o.rotate()).invert([0,0]));return u(null==c?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:n===hc?[[Math.max(e[0]-t,c),r],[Math.min(e[0]+t,i),a]]:[[c,Math.max(e[1]-t,r)],[i,Math.min(e[1]+t,a)]])}return o.scale=function(t){return arguments.length?(s(t),d()):s()},o.translate=function(t){return arguments.length?(l(t),d()):l()},o.center=function(t){return arguments.length?(e(t),d()):e()},o.clipExtent=function(t){return arguments.length?(null==t?c=r=i=a=null:(c=+t[0][0],r=+t[0][1],i=+t[1][0],a=+t[1][1]),d()):null==c?null:[[c,r],[i,a]]},d()}function pc(t){return Lo((ho+t)/2)}function mc(t,e){var n=bo(t),i=t===e?ko(t):$o(n/bo(e))/$o(pc(e)/pc(t)),a=n*xo(pc(t),i)/i;if(!i)return hc;function r(t,e){0<a?e<-ho+lo&&(e=-ho+lo):ho-lo<e&&(e=ho-lo);var n=a/xo(pc(e),i);return[n*ko(i*t),a-n*bo(i*t)]}return r.invert=function(t,e){var n=a-e,r=So(i)*To(t*t+n*n);return[_o(t,vo(n))/i*So(n),2*yo(xo(a/r,1/i))-ho]},r}function gc(t,e){return[t,e]}function vc(t,e){var n=bo(t),i=t===e?ko(t):(n-bo(e))/(e-t),a=n/i+t;if(vo(i)<lo)return gc;function r(t,e){var n=a-e,r=i*t;return[n*ko(r),a-n*bo(r)]}return r.invert=function(t,e){var n=a-e;return[_o(t,vo(n))/i*So(n),a-So(i)*To(t*t+n*n)]},r}function yc(t,e){var n=bo(e),r=bo(t)*n;return[n*ko(t)/r,ko(e)/r]}function _c(n,r,i,a){return 1===n&&1===r&&0===i&&0===a?Vl:Uu({point:function(t,e){this.stream.point(t*n+i,e*r+a)}})}function bc(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function wc(t,e){return[bo(e)*ko(t),ko(e)]}function Mc(t,e){var n=bo(e),r=1+bo(t)*n;return[n*ko(t)/r,ko(e)/r]}function $c(t,e){return[$o(Lo((ho+e)/2)),-t]}function xc(t,e){return t.parent===e.parent?1:2}function kc(t,e){return t+e.x}function Sc(t,e){return Math.max(t,e.y)}function Tc(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;0<=--r;)e+=n[r].value;else e=1;t.value=e}function Lc(t,e){var n,r,i,a,o,s=new Yc(t),l=+t.value&&(s.value=t.value),u=[s];for(null==e&&(e=Cc);n=u.pop();)if(l&&(n.value=+n.data.value),(i=e(n.data))&&(o=i.length))for(n.children=new Array(o),a=o-1;0<=a;--a)u.push(r=n.children[a]=new Yc(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Ec)}function Cc(t){return t.children}function Dc(t){t.data=t.data.data}function Ec(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function Yc(t){this.data=t,this.depth=this.height=0,this.parent=null}dc.invert=uc(function(t){return t}),hc.invert=function(t,e){return[t,2*yo(Mo(e))-ho]},gc.invert=gc,yc.invert=uc(yo),bc.invert=function(t,e){var n,r=e,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-e)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(vo(n)>lo&&0<--i);return[t/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},wc.invert=uc(Do),Mc.invert=uc(function(t){return 2*yo(t)}),$c.invert=function(t,e){return[-e,2*yo(Mo(t))-ho]},Yc.prototype=Lc.prototype={constructor:Yc,count:function(){return this.eachAfter(Tc)},each:function(t){var e,n,r,i,a=this,o=[a];do{for(e=o.reverse(),o=[];a=e.pop();)if(t(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r])}while(o.length);return this},eachAfter:function(t){for(var e,n,r,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)a.push(e[n]);for(;i=o.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;0<=n;--n)i.push(e[n]);return this},sum:function(i){return this.eachAfter(function(t){for(var e=+i(t.data)||0,n=t.children,r=n&&n.length;0<=--r;)e+=n[r].value;t.value=e})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function(){return Lc(this).eachBefore(Dc)}};var Ac=Array.prototype.slice;function Nc(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Ac.call(t))).length,a=[];r<i;)e=t[r],n&&Hc(n,e)?++r:(n=jc(a=Oc(a,e)),r=0);return n}function Oc(t,e){var n,r;if(Pc(e,t))return[e];for(n=0;n<t.length;++n)if(Rc(e,t[n])&&Pc(Fc(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Rc(Fc(t[n],t[r]),e)&&Rc(Fc(t[n],e),t[r])&&Rc(Fc(t[r],e),t[n])&&Pc(Ic(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Rc(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Hc(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return 0<n&&r*r+i*i<n*n}function Pc(t,e){for(var n=0;n<e.length;++n)if(!Hc(t,e[n]))return!1;return!0}function jc(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return Fc(t[0],t[1]);case 3:return Ic(t[0],t[1],t[2])}var e}function Fc(t,e){var n=t.x,r=t.y,i=t.r,a=e.x,o=e.y,s=e.r,l=a-n,u=o-r,c=s-i,d=Math.sqrt(l*l+u*u);return{x:(n+a+l/d*c)/2,y:(r+o+u/d*c)/2,r:(d+i+s)/2}}function Ic(t,e,n){var r=t.x,i=t.y,a=t.r,o=e.x,s=e.y,l=e.r,u=n.x,c=n.y,d=n.r,h=r-o,f=r-u,p=i-s,m=i-c,g=l-a,v=d-a,y=r*r+i*i-a*a,_=y-o*o-s*s+l*l,b=y-u*u-c*c+d*d,w=f*p-h*m,M=(p*b-m*_)/(2*w)-r,$=(m*g-p*v)/w,x=(f*_-h*b)/(2*w)-i,k=(h*v-f*g)/w,S=$*$+k*k-1,T=2*(a+M*$+x*k),L=M*M+x*x-a*a,C=-(S?(T+Math.sqrt(T*T-4*S*L))/(2*S):L/T);return{x:r+M+$*C,y:i+x+k*C,r:C}}function zc(t,e,n){var r=t.x,i=t.y,a=e.r+n.r,o=t.r+n.r,s=e.x-r,l=e.y-i,u=s*s+l*l;if(u){var c=.5+((o*=o)-(a*=a))/(2*u),d=Math.sqrt(Math.max(0,2*a*(o+u)-(o-=u)*o-a*a))/(2*u);n.x=r+c*s+d*l,n.y=i+c*l-d*s}else n.x=r+o,n.y=i}function Bc(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return n*n+r*r<i*i-1e-6}function Wc(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,a=(e.y*n.r+n.y*e.r)/r;return i*i+a*a}function Uc(t){this._=t,this.next=null,this.previous=null}function qc(t){if(!(i=t.length))return 0;var e,n,r,i,a,o,s,l,u,c,d;if((e=t[0]).x=0,e.y=0,!(1<i))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(2<i))return e.r+n.r;zc(n,e,r=t[2]),e=new Uc(e),n=new Uc(n),r=new Uc(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){zc(e._,n._,r=t[s]),r=new Uc(r),l=n.next,u=e.previous,c=n._.r,d=e._.r;do{if(c<=d){if(Bc(l._,r._)){n=l,(e.next=n).previous=e,--s;continue t}c+=l._.r,l=l.next}else{if(Bc(u._,r._)){((e=u).next=n).previous=e,--s;continue t}d+=u._.r,u=u.previous}}while(l!==u.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,a=Wc(e);(r=r.next)!==n;)(o=Wc(r))<a&&(e=r,a=o);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Nc(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function Vc(t){if("function"!=typeof t)throw new Error;return t}function Gc(){return 0}function Kc(t){return function(){return t}}function Jc(t){return Math.sqrt(t.value)}function Xc(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Zc(o,s){return function(t){if(e=t.children){var e,n,r,i=e.length,a=o(t)*s||0;if(a)for(n=0;n<i;++n)e[n].r+=a;if(r=qc(e),a)for(n=0;n<i;++n)e[n].r-=a;t.r=r+a}}}function Qc(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function td(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function ed(t,e,n,r,i){for(var a,o=t.children,s=-1,l=o.length,u=t.value&&(r-e)/t.value;++s<l;)(a=o[s]).y0=n,a.y1=i,a.x0=e,a.x1=e+=a.value*u}var nd="$",rd={depth:-1},id={};function ad(t){return t.id}function od(t){return t.parentId}function sd(t,e){return t.parent===e.parent?1:2}function ld(t){var e=t.children;return e?e[0]:t.t}function ud(t){var e=t.children;return e?e[e.length-1]:t.t}function cd(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function dd(t,e,n,r,i){for(var a,o=t.children,s=-1,l=o.length,u=t.value&&(i-n)/t.value;++s<l;)(a=o[s]).x0=e,a.x1=r,a.y0=n,a.y1=n+=a.value*u}cd.prototype=Object.create(Yc.prototype);var hd=(1+Math.sqrt(5))/2;function fd(t,e,n,r,i,a){for(var o,s,l,u,c,d,h,f,p,m,g,v=[],y=e.children,_=0,b=0,w=y.length,M=e.value;_<w;){for(l=i-n,u=a-r;!(c=y[b++].value)&&b<w;);for(d=h=c,g=c*c*(m=Math.max(u/l,l/u)/(M*t)),p=Math.max(h/g,g/d);b<w;++b){if(c+=s=y[b].value,s<d&&(d=s),h<s&&(h=s),g=c*c*m,p<(f=Math.max(h/g,g/d))){c-=s;break}p=f}v.push(o={value:c,dice:l<u,children:y.slice(_,b)}),o.dice?ed(o,n,r,i,M?r+=u*c/M:a):dd(o,n,r,M?n+=l*c/M:i,a),M-=c,_=b}return v}var pd=function e(a){function t(t,e,n,r,i){fd(a,t,e,n,r,i)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(hd);var md=function e(f){function t(t,e,n,r,i){if((a=t._squarify)&&a.ratio===f)for(var a,o,s,l,u,c=-1,d=a.length,h=t.value;++c<d;){for(s=(o=a[c]).children,l=o.value=0,u=s.length;l<u;++l)o.value+=s[l].value;o.dice?ed(o,e,n,r,n+=(i-n)*o.value/h):dd(o,e,n,e+=(r-e)*o.value/h,i),h-=o.value}else t._squarify=a=fd(f,t,e,n,r,i),a.ratio=f}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(hd);function gd(t,e){return t[0]-e[0]||t[1]-e[1]}function vd(t){for(var e,n,r,i=t.length,a=[0,1],o=2,s=2;s<i;++s){for(;1<o&&(e=t[a[o-2]],n=t[a[o-1]],r=t[s],(n[0]-e[0])*(r[1]-e[1])-(n[1]-e[1])*(r[0]-e[0])<=0);)--o;a[o++]=s}return a.slice(0,o)}var yd=[].slice,_d={};function bd(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function wd(e){if(!e._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,i=n[r];n[r]=Md(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||_d)}}(e)}catch(t){if(e._tasks[e._ended+e._active-1])$d(e,t);else if(!e._data)throw t}}function Md(n,r){return function(t,e){n._tasks[r]&&(--n._active,++n._ended,(n._tasks[r]=null)==n._error&&(null!=t?$d(n,t):(n._data[r]=e,n._waiting?wd(n):xd(n))))}}function $d(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;0<=--r;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,xd(t)}function xd(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function kd(t){if(null==t)t=1/0;else if(!(1<=(t=+t)))throw new Error("invalid concurrency");return new bd(t)}function Sd(){return Math.random()}bd.prototype=kd.prototype={constructor:bd,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=yd.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),wd(this),this},abort:function(){return null==this._error&&$d(this,new Error("abort")),this},await:function(n){if("function"!=typeof n)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,e){n.apply(null,[t].concat(e))},xd(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,xd(this),this}};var Td=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(Sd),Ld=function t(a){function e(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var t;if(null!=r)t=r,r=null;else for(;r=2*a()-1,t=2*a()-1,!(i=r*r+t*t)||1<i;);return e+n*t*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(Sd),Cd=function t(e){function n(){var t=Ld.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Sd),Dd=function t(r){function e(n){return function(){for(var t=0,e=0;e<n;++e)t+=r();return t}}return e.source=t,e}(Sd),Ed=function t(n){function e(t){var e=Dd.source(n)(t);return function(){return e()/t}}return e.source=t,e}(Sd),Yd=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Sd);function Ad(i,t){var a,o,s,l,u=I("beforesend","progress","load","error"),c=Qi(),d=new XMLHttpRequest,h=null,f=null,p=0;function e(t){var e,n,r,i=d.status;if(!i&&((r=(n=d).responseType)&&"text"!==r?n.response:n.responseText)||200<=i&&i<300||304===i){if(s)try{e=s.call(a,d)}catch(t){return void u.call("error",a,t)}else e=d;u.call("load",a,e)}else u.call("error",a,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in d||!/^(http(s)?:)?\/\//.test(i)||(d=new XDomainRequest),"onload"in d?d.onload=d.onerror=d.ontimeout=e:d.onreadystatechange=function(t){3<d.readyState&&e(t)},d.onprogress=function(t){u.call("progress",a,t)},a={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==e?c.remove(t):c.set(t,e+""),a)},mimeType:function(t){return arguments.length?(o=null==t?null:t+"",a):o},responseType:function(t){return arguments.length?(l=t,a):l},timeout:function(t){return arguments.length?(p=+t,a):p},user:function(t){return arguments.length<1?h:(h=null==t?null:t+"",a)},password:function(t){return arguments.length<1?f:(f=null==t?null:t+"",a)},response:function(t){return s=t,a},get:function(t,e){return a.send("GET",t,e)},post:function(t,e){return a.send("POST",t,e)},send:function(t,e,n){var r;return d.open(t,i,!0,h,f),null==o||c.has("accept")||c.set("accept",o+",*/*"),d.setRequestHeader&&c.each(function(t,e){d.setRequestHeader(e,t)}),null!=o&&d.overrideMimeType&&d.overrideMimeType(o),null!=l&&(d.responseType=l),0<p&&(d.timeout=p),null==n&&"function"==typeof e&&(n=e,e=null),null!=n&&1===n.length&&(r=n,n=function(t,e){r(null==t?e:null)}),null!=n&&a.on("error",n).on("load",function(t){n(null,t)}),u.call("beforesend",a,d),d.send(null==e?null:e),a},abort:function(){return d.abort(),a},on:function(){var t=u.on.apply(u,arguments);return t===u?a:t}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return a.get(t)}return a}function Nd(r,i){return function(t,e){var n=Ad(t).mimeType(r).response(i);if(null!=e){if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}return n}}var Od=Nd("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),Rd=Nd("application/json",function(t){return JSON.parse(t.responseText)}),Hd=Nd("text/plain",function(t){return t.responseText}),Pd=Nd("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e});function jd(n,a){return function(t,r,e){arguments.length<3&&(e=r,r=null);var i=Ad(t).mimeType(n);return i.row=function(t){return arguments.length?i.response((e=a,n=r=t,function(t){return e(t.responseText,n)})):r;var e,n},i.row(r),e?i.get(e):i}}var Fd=jd("text/csv",ma),Id=jd("text/tab-separated-values",ba),zd=Array.prototype,Bd=zd.map,Wd=zd.slice,Ud={name:"implicit"};function qd(r){var a=Qi(),o=[],i=Ud;function s(t){var e=t+"",n=a.get(e);if(!n){if(i!==Ud)return i;a.set(e,n=o.push(t))}return r[(n-1)%r.length]}return r=null==r?[]:Wd.call(r),s.domain=function(t){if(!arguments.length)return o.slice();o=[],a=Qi();for(var e,n,r=-1,i=t.length;++r<i;)a.has(n=(e=t[r])+"")||a.set(n,o.push(e));return s},s.range=function(t){return arguments.length?(r=Wd.call(t),s):r.slice()},s.unknown=function(t){return arguments.length?(i=t,s):i},s.copy=function(){return qd().domain(o).range(r).unknown(i)},s}function Vd(){var a,o,t=qd().unknown(void 0),s=t.domain,l=t.range,u=[0,1],c=!1,d=0,h=0,f=.5;function e(){var t=s().length,e=u[1]<u[0],n=u[e-0],r=u[1-e];a=(r-n)/Math.max(1,t-d+2*h),c&&(a=Math.floor(a)),n+=(r-n-a*(t-d))*f,o=a*(1-d),c&&(n=Math.round(n),o=Math.round(o));var i=k(t).map(function(t){return n+a*t});return l(e?i.reverse():i)}return delete t.unknown,t.domain=function(t){return arguments.length?(s(t),e()):s()},t.range=function(t){return arguments.length?(u=[+t[0],+t[1]],e()):u.slice()},t.rangeRound=function(t){return u=[+t[0],+t[1]],c=!0,e()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(t){return arguments.length?(c=!!t,e()):c},t.padding=function(t){return arguments.length?(d=h=Math.max(0,Math.min(1,t)),e()):d},t.paddingInner=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},t.paddingOuter=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},t.align=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},t.copy=function(){return Vd().domain(s()).range(u).round(c).paddingInner(d).paddingOuter(h).align(f)},e()}function Gd(t){return function(){return t}}function Kd(t){return+t}var Jd=[0,1];function Xd(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:Gd(n)}function Zd(t,e,n,r){var i=t[0],a=t[1],o=e[0],s=e[1];return a<i?(i=n(a,i),o=r(s,o)):(i=n(i,a),o=r(o,s)),function(t){return o(i(t))}}function Qd(n,t,e,r){var i=Math.min(n.length,t.length)-1,a=new Array(i),o=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)a[s]=e(n[s],n[s+1]),o[s]=r(t[s],t[s+1]);return function(t){var e=m(n,t,1,i)-1;return o[e](a[e](t))}}function th(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function eh(e,n){var r,a,o,s=Jd,l=Jd,u=vn,c=!1;function i(){return r=2<Math.min(s.length,l.length)?Qd:Zd,a=o=null,t}function t(t){return(a||(a=r(s,l,c?(i=e,function(e,n){var r=i(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:r(t)}}):e,u)))(+t);var i}return t.invert=function(t){return(o||(o=r(l,s,Xd,c?(i=n,function(e,n){var r=i(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:r(t)}}):n)))(+t);var i},t.domain=function(t){return arguments.length?(s=Bd.call(t,Kd),i()):s.slice()},t.range=function(t){return arguments.length?(l=Wd.call(t),i()):l.slice()},t.rangeRound=function(t){return l=Wd.call(t),u=yn,i()},t.clamp=function(t){return arguments.length?(c=!!t,i()):c},t.interpolate=function(t){return arguments.length?(u=t,i()):u},i()}function nh(s){var l=s.domain;return s.ticks=function(t){var e=l();return v(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return function(t,e,n){var r,i=t[0],a=t[t.length-1],o=S(i,a,null==e?10:e);switch((n=Ga(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(a));return null!=n.precision||isNaN(r=no(o,s))||(n.precision=r),F.formatPrefix(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=ro(o,Math.max(Math.abs(i),Math.abs(a))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=eo(o))||(n.precision=r-2*("%"===n.type))}return F.format(n)}(l(),t,e)},s.nice=function(t){null==t&&(t=10);var e,n=l(),r=0,i=n.length-1,a=n[r],o=n[i];return o<a&&(e=a,a=o,o=e,e=r,r=i,i=e),0<(e=y(a,o,t))?e=y(a=Math.floor(a/e)*e,o=Math.ceil(o/e)*e,t):e<0&&(e=y(a=Math.ceil(a*e)/e,o=Math.floor(o*e)/e,t)),0<e?(n[r]=Math.floor(a/e)*e,n[i]=Math.ceil(o/e)*e,l(n)):e<0&&(n[r]=Math.ceil(a*e)/e,n[i]=Math.floor(o*e)/e,l(n)),s},s}function rh(t,e){var n,r=0,i=(t=t.slice()).length-1,a=t[r],o=t[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),t[r]=e.floor(a),t[i]=e.ceil(o),t}function ih(e,n){return(n=Math.log(n/e))?function(t){return Math.log(t/e)/n}:Gd(n)}function ah(e,n){return e<0?function(t){return-Math.pow(-n,t)*Math.pow(-e,1-t)}:function(t){return Math.pow(n,t)*Math.pow(e,1-t)}}function oh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function sh(e){return 10===e?oh:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function lh(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function uh(e){return function(t){return-e(-t)}}function ch(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function dh(){var r=1,t=eh(function(e,n){return(n=ch(n,r)-(e=ch(e,r)))?function(t){return(ch(t,r)-e)/n}:Gd(n)},function(e,n){return n=ch(n,r)-(e=ch(e,r)),function(t){return ch(e+n*t,1/r)}}),e=t.domain;return t.exponent=function(t){return arguments.length?(r=+t,e(e())):r},t.copy=function(){return th(t,dh().exponent(r))},nh(t)}var hh=new Date,fh=new Date;function ph(a,o,n,r){function s(t){return a(t=new Date(+t)),t}return(s.floor=s).ceil=function(t){return a(t=new Date(t-1)),o(t,1),a(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return o(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var r,i=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(r=new Date(+t)),o(t,n),a(t),r<t&&t<e;);return i},s.filter=function(n){return ph(function(t){if(t<=t)for(;a(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;o(t,-1),!n(t););else for(;0<=--e;)for(;o(t,1),!n(t););})},n&&(s.count=function(t,e){return hh.setTime(+t),fh.setTime(+e),a(hh),a(fh),Math.floor(n(hh,fh))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(r?function(t){return r(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var mh=ph(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});mh.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?ph(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):mh:null};var gh=mh.range,vh=6e4,yh=36e5,_h=6048e5,bh=ph(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),wh=bh.range,Mh=ph(function(t){t.setTime(Math.floor(t/vh)*vh)},function(t,e){t.setTime(+t+e*vh)},function(t,e){return(e-t)/vh},function(t){return t.getMinutes()}),$h=Mh.range,xh=ph(function(t){var e=t.getTimezoneOffset()*vh%yh;e<0&&(e+=yh),t.setTime(Math.floor((+t-e)/yh)*yh+e)},function(t,e){t.setTime(+t+e*yh)},function(t,e){return(e-t)/yh},function(t){return t.getHours()}),kh=xh.range,Sh=ph(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vh)/864e5},function(t){return t.getDate()-1}),Th=Sh.range;function Lh(e){return ph(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*vh)/_h})}var Ch=Lh(0),Dh=Lh(1),Eh=Lh(2),Yh=Lh(3),Ah=Lh(4),Nh=Lh(5),Oh=Lh(6),Rh=Ch.range,Hh=Dh.range,Ph=Eh.range,jh=Yh.range,Fh=Ah.range,Ih=Nh.range,zh=Oh.range,Bh=ph(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Wh=Bh.range,Uh=ph(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Uh.every=function(n){return isFinite(n=Math.floor(n))&&0<n?ph(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var qh=Uh.range,Vh=ph(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*vh)},function(t,e){return(e-t)/vh},function(t){return t.getUTCMinutes()}),Gh=Vh.range,Kh=ph(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*yh)},function(t,e){return(e-t)/yh},function(t){return t.getUTCHours()}),Jh=Kh.range,Xh=ph(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),Zh=Xh.range;function Qh(e){return ph(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/_h})}var tf=Qh(0),ef=Qh(1),nf=Qh(2),rf=Qh(3),af=Qh(4),of=Qh(5),sf=Qh(6),lf=tf.range,uf=ef.range,cf=nf.range,df=rf.range,hf=af.range,ff=of.range,pf=sf.range,mf=ph(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),gf=mf.range,vf=ph(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});vf.every=function(n){return isFinite(n=Math.floor(n))&&0<n?ph(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var yf=vf.range;function _f(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function bf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wf(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Mf(t){var r=t.dateTime,i=t.date,a=t.time,e=t.periods,n=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Df(e),c=Ef(e),d=Df(n),h=Ef(n),f=Df(o),p=Ef(o),m=Df(s),g=Ef(s),v=Df(l),y=Ef(l),_={a:function(t){return o[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Xf,e:Xf,f:np,H:Zf,I:Qf,j:tp,L:ep,m:rp,M:ip,p:function(t){return e[+(12<=t.getHours())]},Q:Yp,s:Ap,S:ap,u:op,U:sp,V:lp,w:up,W:cp,x:null,X:null,y:dp,Y:hp,Z:fp,"%":Ep},b={a:function(t){return o[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:pp,e:pp,f:_p,H:mp,I:gp,j:vp,L:yp,m:bp,M:wp,p:function(t){return e[+(12<=t.getUTCHours())]},Q:Yp,s:Ap,S:Mp,u:$p,U:xp,V:kp,w:Sp,W:Tp,x:null,X:null,y:Lp,Y:Cp,Z:Dp,"%":Ep},w={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return x(t,r,e,n)},d:If,e:If,f:Vf,H:Bf,I:Bf,j:zf,L:qf,m:Ff,M:Wf,p:function(t,e,n){var r=u.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:Kf,s:Jf,S:Uf,u:Af,U:Nf,V:Of,w:Yf,W:Rf,x:function(t,e,n){return x(t,i,e,n)},X:function(t,e,n){return x(t,a,e,n)},y:Pf,Y:Hf,Z:jf,"%":Gf};function M(l,u){return function(t){var e,n,r,i=[],a=-1,o=0,s=l.length;for(t instanceof Date||(t=new Date(+t));++a<s;)37===l.charCodeAt(a)&&(i.push(l.slice(o,a)),null!=(n=xf[e=l.charAt(++a)])?e=l.charAt(++a):n="e"===e?" ":"0",(r=u[e])&&(e=r(t,n)),i.push(e),o=a+1);return i.push(l.slice(o,a)),i.join("")}}function $(i,a){return function(t){var e,n,r=wf(1900);if(x(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=bf(wf(r.y))).getUTCDay())||0===n?ef.ceil(e):ef(e),e=Xh.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=a(wf(r.y))).getDay())||0===n?Dh.ceil(e):Dh(e),e=Sh.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?bf(wf(r.y)).getUTCDay():a(wf(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,bf(r)):a(r)}}function x(t,e,n,r){for(var i,a,o=0,s=e.length,l=n.length;o<s;){if(l<=r)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=w[i in xf?e.charAt(o++):i])||(r=a(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=M(i,_),_.X=M(a,_),_.c=M(r,_),b.x=M(i,b),b.X=M(a,b),b.c=M(r,b),{format:function(t){var e=M(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=$(t+="",_f);return e.toString=function(){return t},e},utcFormat:function(t){var e=M(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=$(t,bf);return e.toString=function(){return t},e}}}var $f,xf={"-":"",_:" ",0:"0"},kf=/^\s*\d+/,Sf=/^%/,Tf=/[\\^$*+?|[\]().{}]/g;function Lf(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Cf(t){return t.replace(Tf,"\\$&")}function Df(t){return new RegExp("^(?:"+t.map(Cf).join("|")+")","i")}function Ef(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Yf(t,e,n){var r=kf.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Af(t,e,n){var r=kf.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Nf(t,e,n){var r=kf.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Of(t,e,n){var r=kf.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Rf(t,e,n){var r=kf.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Hf(t,e,n){var r=kf.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Pf(t,e,n){var r=kf.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function jf(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ff(t,e,n){var r=kf.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function If(t,e,n){var r=kf.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function zf(t,e,n){var r=kf.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Bf(t,e,n){var r=kf.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Wf(t,e,n){var r=kf.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Uf(t,e,n){var r=kf.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function qf(t,e,n){var r=kf.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Vf(t,e,n){var r=kf.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Gf(t,e,n){var r=Sf.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Kf(t,e,n){var r=kf.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Jf(t,e,n){var r=kf.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Xf(t,e){return Lf(t.getDate(),e,2)}function Zf(t,e){return Lf(t.getHours(),e,2)}function Qf(t,e){return Lf(t.getHours()%12||12,e,2)}function tp(t,e){return Lf(1+Sh.count(Uh(t),t),e,3)}function ep(t,e){return Lf(t.getMilliseconds(),e,3)}function np(t,e){return ep(t,e)+"000"}function rp(t,e){return Lf(t.getMonth()+1,e,2)}function ip(t,e){return Lf(t.getMinutes(),e,2)}function ap(t,e){return Lf(t.getSeconds(),e,2)}function op(t){var e=t.getDay();return 0===e?7:e}function sp(t,e){return Lf(Ch.count(Uh(t),t),e,2)}function lp(t,e){var n=t.getDay();return t=4<=n||0===n?Ah(t):Ah.ceil(t),Lf(Ah.count(Uh(t),t)+(4===Uh(t).getDay()),e,2)}function up(t){return t.getDay()}function cp(t,e){return Lf(Dh.count(Uh(t),t),e,2)}function dp(t,e){return Lf(t.getFullYear()%100,e,2)}function hp(t,e){return Lf(t.getFullYear()%1e4,e,4)}function fp(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+Lf(e/60|0,"0",2)+Lf(e%60,"0",2)}function pp(t,e){return Lf(t.getUTCDate(),e,2)}function mp(t,e){return Lf(t.getUTCHours(),e,2)}function gp(t,e){return Lf(t.getUTCHours()%12||12,e,2)}function vp(t,e){return Lf(1+Xh.count(vf(t),t),e,3)}function yp(t,e){return Lf(t.getUTCMilliseconds(),e,3)}function _p(t,e){return yp(t,e)+"000"}function bp(t,e){return Lf(t.getUTCMonth()+1,e,2)}function wp(t,e){return Lf(t.getUTCMinutes(),e,2)}function Mp(t,e){return Lf(t.getUTCSeconds(),e,2)}function $p(t){var e=t.getUTCDay();return 0===e?7:e}function xp(t,e){return Lf(tf.count(vf(t),t),e,2)}function kp(t,e){var n=t.getUTCDay();return t=4<=n||0===n?af(t):af.ceil(t),Lf(af.count(vf(t),t)+(4===vf(t).getUTCDay()),e,2)}function Sp(t){return t.getUTCDay()}function Tp(t,e){return Lf(ef.count(vf(t),t),e,2)}function Lp(t,e){return Lf(t.getUTCFullYear()%100,e,2)}function Cp(t,e){return Lf(t.getUTCFullYear()%1e4,e,4)}function Dp(){return"+0000"}function Ep(){return"%"}function Yp(t){return+t}function Ap(t){return Math.floor(+t/1e3)}function Np(t){return $f=Mf(t),F.timeFormat=$f.format,F.timeParse=$f.parse,F.utcFormat=$f.utcFormat,F.utcParse=$f.utcParse,$f}Np({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Op="%Y-%m-%dT%H:%M:%S.%LZ";var Rp=Date.prototype.toISOString?function(t){return t.toISOString()}:F.utcFormat(Op);var Hp=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:F.utcParse(Op),Pp=1e3,jp=60*Pp,Fp=60*jp,Ip=24*Fp,zp=7*Ip,Bp=30*Ip,Wp=365*Ip;function Up(t){return new Date(t)}function qp(t){return t instanceof Date?+t:+new Date(+t)}function Vp(o,e,n,r,i,a,s,l,u){var c=eh(Xd,hn),d=c.invert,h=c.domain,f=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),v=u("%a %d"),y=u("%b %d"),_=u("%B"),b=u("%Y"),w=[[s,1,Pp],[s,5,5*Pp],[s,15,15*Pp],[s,30,30*Pp],[a,1,jp],[a,5,5*jp],[a,15,15*jp],[a,30,30*jp],[i,1,Fp],[i,3,3*Fp],[i,6,6*Fp],[i,12,12*Fp],[r,1,Ip],[r,2,2*Ip],[n,1,zp],[e,1,Bp],[e,3,3*Bp],[o,1,Wp]];function M(t){return(s(t)<t?f:a(t)<t?p:i(t)<t?m:r(t)<t?g:e(t)<t?n(t)<t?v:y:o(t)<t?_:b)(t)}function $(t,e,n,r){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(n-e)/t,a=x(function(t){return t[2]}).right(w,i);a===w.length?(r=S(e/Wp,n/Wp,t),t=o):a?(r=(a=w[i/w[a-1][2]<w[a][2]/i?a-1:a])[1],t=a[0]):(r=Math.max(S(e,n,t),1),t=l)}return null==r?t:t.every(r)}return c.invert=function(t){return new Date(d(t))},c.domain=function(t){return arguments.length?h(Bd.call(t,qp)):h().map(Up)},c.ticks=function(t,e){var n,r=h(),i=r[0],a=r[r.length-1],o=a<i;return o&&(n=i,i=a,a=n),n=(n=$(t,i,a,e))?n.range(i,a+1):[],o?n.reverse():n},c.tickFormat=function(t,e){return null==e?M:u(e)},c.nice=function(t,e){var n=h();return(t=$(t,n[0],n[n.length-1],e))?h(rh(n,t)):c},c.copy=function(){return th(c,Vp(o,e,n,r,i,a,s,l,u))},c}function Gp(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}var Kp=Gp("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Jp=Gp("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Xp=Gp("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Zp=Gp("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Qp=Bn(Ke(300,.5,0),Ke(-240,.5,1)),tm=Bn(Ke(-100,.75,.35),Ke(80,1.5,.8)),em=Bn(Ke(260,.75,.35),Ke(80,1.5,.8)),nm=Ke();function rm(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}var im=rm(Gp("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),am=rm(Gp("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),om=rm(Gp("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),sm=rm(Gp("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function lm(t){return function(){return t}}var um=Math.abs,cm=Math.atan2,dm=Math.cos,hm=Math.max,fm=Math.min,pm=Math.sin,mm=Math.sqrt,gm=1e-12,vm=Math.PI,ym=vm/2,_m=2*vm;function bm(t){return 1<=t?ym:t<=-1?-ym:Math.asin(t)}function wm(t){return t.innerRadius}function Mm(t){return t.outerRadius}function $m(t){return t.startAngle}function xm(t){return t.endAngle}function km(t){return t&&t.padAngle}function Sm(t,e,n,r,i,a,o){var s=t-n,l=e-r,u=(o?a:-a)/mm(s*s+l*l),c=u*l,d=-u*s,h=t+c,f=e+d,p=n+c,m=r+d,g=(h+p)/2,v=(f+m)/2,y=p-h,_=m-f,b=y*y+_*_,w=i-a,M=h*m-p*f,$=(_<0?-1:1)*mm(hm(0,w*w*b-M*M)),x=(M*_-y*$)/b,k=(-M*y-_*$)/b,S=(M*_+y*$)/b,T=(-M*y+_*$)/b,L=x-g,C=k-v,D=S-g,E=T-v;return D*D+E*E<L*L+C*C&&(x=S,k=T),{cx:x,cy:k,x01:-c,y01:-d,x11:x*(i/w-1),y11:k*(i/w-1)}}function Tm(t){this._context=t}function Lm(t){return new Tm(t)}function Cm(t){return t[0]}function Dm(t){return t[1]}function Em(){var o=Cm,s=Dm,l=lm(!0),u=null,c=Lm,d=null;function e(t){var e,n,r,i=t.length,a=!1;for(null==u&&(d=c(r=Ui())),e=0;e<=i;++e)!(e<i&&l(n=t[e],e,t))===a&&((a=!a)?d.lineStart():d.lineEnd()),a&&d.point(+o(n,e,t),+s(n,e,t));if(r)return d=null,r+""||null}return e.x=function(t){return arguments.length?(o="function"==typeof t?t:lm(+t),e):o},e.y=function(t){return arguments.length?(s="function"==typeof t?t:lm(+t),e):s},e.defined=function(t){return arguments.length?(l="function"==typeof t?t:lm(!!t),e):l},e.curve=function(t){return arguments.length?(c=t,null!=u&&(d=c(u)),e):c},e.context=function(t){return arguments.length?(null==t?u=d=null:d=c(u=t),e):u},e}function Ym(){var c=Cm,d=null,h=lm(0),f=Dm,p=lm(!0),m=null,g=Lm,v=null;function e(t){var e,n,r,i,a,o=t.length,s=!1,l=new Array(o),u=new Array(o);for(null==m&&(v=g(a=Ui())),e=0;e<=o;++e){if(!(e<o&&p(i=t[e],e,t))===s)if(s=!s)n=e,v.areaStart(),v.lineStart();else{for(v.lineEnd(),v.lineStart(),r=e-1;n<=r;--r)v.point(l[r],u[r]);v.lineEnd(),v.areaEnd()}s&&(l[e]=+c(i,e,t),u[e]=+h(i,e,t),v.point(d?+d(i,e,t):l[e],f?+f(i,e,t):u[e]))}if(a)return v=null,a+""||null}function t(){return Em().defined(p).curve(g).context(m)}return e.x=function(t){return arguments.length?(c="function"==typeof t?t:lm(+t),d=null,e):c},e.x0=function(t){return arguments.length?(c="function"==typeof t?t:lm(+t),e):c},e.x1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:lm(+t),e):d},e.y=function(t){return arguments.length?(h="function"==typeof t?t:lm(+t),f=null,e):h},e.y0=function(t){return arguments.length?(h="function"==typeof t?t:lm(+t),e):h},e.y1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:lm(+t),e):f},e.lineX0=e.lineY0=function(){return t().x(c).y(h)},e.lineY1=function(){return t().x(c).y(f)},e.lineX1=function(){return t().x(d).y(h)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:lm(!!t),e):p},e.curve=function(t){return arguments.length?(g=t,null!=m&&(v=g(m)),e):g},e.context=function(t){return arguments.length?(null==t?m=v=null:v=g(m=t),e):m},e}function Am(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function Nm(t){return t}Tm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Om=Hm(Lm);function Rm(t){this._curve=t}function Hm(e){function t(t){return new Rm(e(t))}return t._curve=e,t}function Pm(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Hm(t)):e()._curve},t}function jm(){return Pm(Em().curve(Om))}function Fm(){var t=Ym().curve(Om),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Pm(n())},delete t.lineX0,t.lineEndAngle=function(){return Pm(r())},delete t.lineX1,t.lineInnerRadius=function(){return Pm(i())},delete t.lineY0,t.lineOuterRadius=function(){return Pm(a())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Hm(t)):e()._curve},t}function Im(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Rm.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var zm=Array.prototype.slice;function Bm(t){return t.source}function Wm(t){return t.target}function Um(i){var a=Bm,o=Wm,s=Cm,l=Dm,u=null;function e(){var t,e=zm.call(arguments),n=a.apply(this,e),r=o.apply(this,e);if(u||(u=t=Ui()),i(u,+s.apply(this,(e[0]=n,e)),+l.apply(this,e),+s.apply(this,(e[0]=r,e)),+l.apply(this,e)),t)return u=null,t+""||null}return e.source=function(t){return arguments.length?(a=t,e):a},e.target=function(t){return arguments.length?(o=t,e):o},e.x=function(t){return arguments.length?(s="function"==typeof t?t:lm(+t),e):s},e.y=function(t){return arguments.length?(l="function"==typeof t?t:lm(+t),e):l},e.context=function(t){return arguments.length?(u=null==t?null:t,e):u},e}function qm(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Vm(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Gm(t,e,n,r,i){var a=Im(e,n),o=Im(e,n=(n+i)/2),s=Im(r,n),l=Im(r,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],s[0],s[1],l[0],l[1])}var Km={draw:function(t,e){var n=Math.sqrt(e/vm);t.moveTo(n,0),t.arc(0,0,n,0,_m)}},Jm={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Xm=Math.sqrt(1/3),Zm=2*Xm,Qm={draw:function(t,e){var n=Math.sqrt(e/Zm),r=n*Xm;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},tg=Math.sin(vm/10)/Math.sin(7*vm/10),eg=Math.sin(_m/10)*tg,ng=-Math.cos(_m/10)*tg,rg={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=eg*n,i=ng*n;t.moveTo(0,-n),t.lineTo(r,i);for(var a=1;a<5;++a){var o=_m*a/5,s=Math.cos(o),l=Math.sin(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},ig={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},ag=Math.sqrt(3),og={draw:function(t,e){var n=-Math.sqrt(e/(3*ag));t.moveTo(0,2*n),t.lineTo(-ag*n,-n),t.lineTo(ag*n,-n),t.closePath()}},sg=-.5,lg=Math.sqrt(3)/2,ug=1/Math.sqrt(12),cg=3*(ug/2+1),dg={draw:function(t,e){var n=Math.sqrt(e/cg),r=n/2,i=n*ug,a=r,o=n*ug+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(sg*r-lg*i,lg*r+sg*i),t.lineTo(sg*a-lg*o,lg*a+sg*o),t.lineTo(sg*s-lg*l,lg*s+sg*l),t.lineTo(sg*r+lg*i,sg*i-lg*r),t.lineTo(sg*a+lg*o,sg*o-lg*a),t.lineTo(sg*s+lg*l,sg*l-lg*s),t.closePath()}},hg=[Km,Jm,Qm,ig,rg,og,dg];function fg(){}function pg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function mg(t){this._context=t}function gg(t){this._context=t}function vg(t){this._context=t}function yg(t,e){this._basis=new mg(t),this._beta=e}mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pg(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},gg.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:pg(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:pg(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},yg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var r,i=t[0],a=e[0],o=t[n]-i,s=e[n]-a,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+r*o),this._beta*e[l]+(1-this._beta)*(a+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var _g=function e(n){function t(t){return 1===n?new mg(t):new yg(t,n)}return t.beta=function(t){return e(+t)},t}(.85);function bg(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function wg(t,e){this._context=t,this._k=(1-e)/6}wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:bg(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:bg(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Mg=function e(n){function t(t){return new wg(t,n)}return t.tension=function(t){return e(+t)},t}(0);function $g(t,e){this._context=t,this._k=(1-e)/6}$g.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:bg(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var xg=function e(n){function t(t){return new $g(t,n)}return t.tension=function(t){return e(+t)},t}(0);function kg(t,e){this._context=t,this._k=(1-e)/6}kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bg(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Sg=function e(n){function t(t){return new kg(t,n)}return t.tension=function(t){return e(+t)},t}(0);function Tg(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>gm){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>gm){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-e*t._l12_2a)/c,o=(o*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function Lg(t,e){this._context=t,this._alpha=e}Lg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Tg(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Cg=function e(n){function t(t){return n?new Lg(t,n):new wg(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Dg(t,e){this._context=t,this._alpha=e}Dg.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Tg(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Eg=function e(n){function t(t){return n?new Dg(t,n):new $g(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Yg(t,e){this._context=t,this._alpha=e}Yg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Tg(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ag=function e(n){function t(t){return n?new Yg(t,n):new kg(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Ng(t){this._context=t}function Og(t){return t<0?-1:1}function Rg(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Og(a)+Og(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Hg(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Pg(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function jg(t){this._context=t}function Fg(t){this._context=new Ig(t)}function Ig(t){this._context=t}function zg(t){this._context=t}function Bg(t){var e,n,r=t.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(a[i[0]=0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;0<=e;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Wg(t,e){this._context=t,this._t=e}function Ug(t,e){if(1<(i=t.length))for(var n,r,i,a=1,o=t[e[0]],s=o.length;a<i;++a)for(r=o,o=t[e[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function qg(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n}function Vg(t,e){return t[e]}function Gg(t){var n=t.map(Kg);return qg(t).sort(function(t,e){return n[t]-n[e]})}function Kg(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function Jg(t){return function(){return t}}function Xg(t){return t[0]}function Zg(t){return t[1]}function Qg(){this._=null}function tv(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ev(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function nv(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function rv(t){for(;t.L;)t=t.L;return t}function iv(t,e,n,r){var i=[null,null],a=Sv.push(i)-1;return i.left=t,i.right=e,n&&ov(i,t,e,n),r&&ov(i,e,t,r),xv[t.index].halfedges.push(a),xv[e.index].halfedges.push(a),i}function av(t,e,n){var r=[e,n];return r.left=t,r}function ov(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function sv(t,e,n,r,i){var a,o=t[0],s=t[1],l=o[0],u=o[1],c=0,d=1,h=s[0]-l,f=s[1]-u;if(a=e-l,h||!(0<a)){if(a/=h,h<0){if(a<c)return;a<d&&(d=a)}else if(0<h){if(d<a)return;c<a&&(c=a)}if(a=r-l,h||!(a<0)){if(a/=h,h<0){if(d<a)return;c<a&&(c=a)}else if(0<h){if(a<c)return;a<d&&(d=a)}if(a=n-u,f||!(0<a)){if(a/=f,f<0){if(a<c)return;a<d&&(d=a)}else if(0<f){if(d<a)return;c<a&&(c=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(d<a)return;c<a&&(c=a)}else if(0<f){if(a<c)return;a<d&&(d=a)}return(0<c||d<1)&&(0<c&&(t[0]=[l+c*h,u+c*f]),d<1&&(t[1]=[l+d*h,u+d*f])),!0}}}}}function lv(t,e,n,r,i){var a=t[1];if(a)return!0;var o,s,l=t[0],u=t.left,c=t.right,d=u[0],h=u[1],f=c[0],p=c[1],m=(d+f)/2,g=(h+p)/2;if(p===h){if(m<e||r<=m)return;if(f<d){if(l){if(l[1]>=i)return}else l=[m,n];a=[m,i]}else{if(l){if(l[1]<n)return}else l=[m,i];a=[m,n]}}else if(s=g-(o=(d-f)/(p-h))*m,o<-1||1<o)if(f<d){if(l){if(l[1]>=i)return}else l=[(n-s)/o,n];a=[(i-s)/o,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/o,i];a=[(n-s)/o,n]}else if(h<p){if(l){if(l[0]>=r)return}else l=[e,o*e+s];a=[r,o*r+s]}else{if(l){if(l[0]<e)return}else l=[r,o*r+s];a=[e,o*e+s]}return t[0]=l,t[1]=a,!0}function uv(t,e){return e[+(e.left!==t.site)]}Ng.prototype={areaStart:fg,areaEnd:fg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pg(this,this._t0,Hg(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Pg(this,Hg(this,n=Rg(this,t,e)),n);break;default:Pg(this,this._t0,n=Rg(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Fg.prototype=Object.create(jg.prototype)).point=function(t,e){jg.prototype.point.call(this,e,t)},Ig.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}},zg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Bg(t),i=Bg(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},Qg.prototype={constructor:Qg,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=rv(this._),e.P=null,(e.N=t).P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ev(this,n),n=(t=n).U),n.C=!1,r.C=!0,nv(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(nv(this,n),n=(t=n).U),n.C=!1,r.C=!0,ev(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,a=t.L,o=t.R;if(n=a?o?rv(o):a:o,i?i.L===t?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=t.C,((n.L=a).U=n)!==o?(i=n.U,n.U=t.U,t=n.R,i.L=t,(n.R=o).U=n):(n.U=i,t=(i=n).R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,ev(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,nv(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ev(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,nv(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ev(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,nv(this,i),t=this._;break}e.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}};var cv,dv=[];function hv(){tv(this),this.x=this.y=this.arc=this.site=this.cy=null}function fv(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,a=n.site;if(r!==a){var o=i[0],s=i[1],l=r[0]-o,u=r[1]-s,c=a[0]-o,d=a[1]-s,h=2*(l*d-u*c);if(!(-Lv<=h)){var f=l*l+u*u,p=c*c+d*d,m=(d*f-u*p)/h,g=(l*p-c*f)/h,v=dv.pop()||new hv;v.arc=t,v.site=i,v.x=m+o,v.y=(v.cy=g+s)+Math.sqrt(m*m+g*g),t.circle=v;for(var y=null,_=kv._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}kv.insert(y,v),y||(cv=v)}}}}function pv(t){var e=t.circle;e&&(e.P||(cv=e.N),kv.remove(e),dv.push(e),tv(e),t.circle=null)}var mv=[];function gv(){tv(this),this.edge=this.site=this.circle=null}function vv(t){var e=mv.pop()||new gv;return e.site=t,e}function yv(t){pv(t),$v.remove(t),mv.push(t),tv(t)}function _v(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],a=t.P,o=t.N,s=[t];yv(t);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<Tv&&Math.abs(r-l.circle.cy)<Tv;)a=l.P,s.unshift(l),yv(l),l=a;s.unshift(l),pv(l);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<Tv&&Math.abs(r-u.circle.cy)<Tv;)o=u.N,s.push(u),yv(u),u=o;s.push(u),pv(u);var c,d=s.length;for(c=1;c<d;++c)u=s[c],l=s[c-1],ov(u.edge,l.site,u.site,i);l=s[0],(u=s[d-1]).edge=iv(l.site,u.site,null,i),fv(l),fv(u)}function bv(t){for(var e,n,r,i,a,o=t[0],s=t[1],l=$v._;l;)if(r=wv(l,s)-o,Tv<r)l=l.L;else{if(i=o-Mv(l,s),!(Tv<i)){-Tv<r?(e=l.P,n=l):-Tv<i?n=(e=l).N:e=n=l;break}if(!l.R){e=l;break}l=l.R}xv[(a=t).index]={site:a,halfedges:[]};var u=vv(t);if($v.insert(e,u),e||n){if(e===n)return pv(e),n=vv(e.site),$v.insert(u,n),u.edge=n.edge=iv(e.site,u.site),fv(e),void fv(n);if(n){pv(e),pv(n);var c=e.site,d=c[0],h=c[1],f=t[0]-d,p=t[1]-h,m=n.site,g=m[0]-d,v=m[1]-h,y=2*(f*v-p*g),_=f*f+p*p,b=g*g+v*v,w=[(v*_-p*b)/y+d,(f*b-g*_)/y+h];ov(n.edge,c,m,w),u.edge=iv(c,t,null,w),n.edge=iv(t,m,null,w),fv(e),fv(n)}else u.edge=iv(e.site,u.site)}}function wv(t,e){var n=t.site,r=n[0],i=n[1],a=i-e;if(!a)return r;var o=t.P;if(!o)return-1/0;var s=(n=o.site)[0],l=n[1],u=l-e;if(!u)return s;var c=s-r,d=1/a-1/u,h=c/u;return d?(-h+Math.sqrt(h*h-2*d*(c*c/(-2*u)-l+u/2+i-a/2)))/d+r:(r+s)/2}function Mv(t,e){var n=t.N;if(n)return wv(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var $v,xv,kv,Sv,Tv=1e-6,Lv=1e-12;function Cv(t,e){return e[1]-t[1]||e[0]-t[0]}function Dv(t,e){var n,r,i,a=t.sort(Cv).pop();for(Sv=[],xv=new Array(t.length),$v=new Qg,kv=new Qg;;)if(i=cv,a&&(!i||a[1]<i.y||a[1]===i.y&&a[0]<i.x))a[0]===n&&a[1]===r||(bv(a),n=a[0],r=a[1]),a=t.pop();else{if(!i)break;_v(i.arc)}if(function(){for(var t,e,n,r,i=0,a=xv.length;i<a;++i)if((t=xv[i])&&(r=(e=t.halfedges).length)){var o=new Array(r),s=new Array(r);for(n=0;n<r;++n)o[n]=n,s[n]=(l=t,u=Sv[e[n]],h=d=void 0,c=l.site,d=u.left,h=u.right,c===h&&(h=d,d=c),h?Math.atan2(h[1]-d[1],h[0]-d[0]):(c===d?(d=u[1],h=u[0]):(d=u[0],h=u[1]),Math.atan2(d[0]-h[0],h[1]-d[1])));for(o.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[o[n]];for(n=0;n<r;++n)e[n]=s[n]}var l,u,c,d,h}(),e){var o=+e[0][0],s=+e[0][1],l=+e[1][0],u=+e[1][1];!function(t,e,n,r){for(var i,a=Sv.length;a--;)lv(i=Sv[a],t,e,n,r)&&sv(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Tv||Math.abs(i[0][1]-i[1][1])>Tv)||delete Sv[a]}(o,s,l,u),function(t,e,n,r){var i,a,o,s,l,u,c,d,h,f,p,m,g,v,y=xv.length,_=!0;for(i=0;i<y;++i)if(a=xv[i]){for(o=a.site,s=(l=a.halfedges).length;s--;)Sv[l[s]]||l.splice(s,1);for(s=0,u=l.length;s<u;)g=a,p=(f=(v=Sv[l[s]])[+(v.left===g.site)])[0],m=f[1],d=(c=uv(a,Sv[l[++s%u]]))[0],h=c[1],(Math.abs(p-d)>Tv||Math.abs(m-h)>Tv)&&(l.splice(s,0,Sv.push(av(o,f,Math.abs(p-t)<Tv&&Tv<r-m?[t,Math.abs(d-t)<Tv?h:r]:Math.abs(m-r)<Tv&&Tv<n-p?[Math.abs(h-r)<Tv?d:n,r]:Math.abs(p-n)<Tv&&Tv<m-e?[n,Math.abs(d-n)<Tv?h:e]:Math.abs(m-e)<Tv&&Tv<p-t?[Math.abs(h-e)<Tv?d:t,e]:null))-1),++u);u&&(_=!1)}if(_){var b,w,M,$=1/0;for(i=0,_=null;i<y;++i)(a=xv[i])&&(M=(b=(o=a.site)[0]-t)*b+(w=o[1]-e)*w)<$&&($=M,_=a);if(_){var x=[t,e],k=[t,r],S=[n,r],T=[n,e];_.halfedges.push(Sv.push(av(o=_.site,x,k))-1,Sv.push(av(o,k,S))-1,Sv.push(av(o,S,T))-1,Sv.push(av(o,T,x))-1)}}for(i=0;i<y;++i)(a=xv[i])&&(a.halfedges.length||delete xv[i])}(o,s,l,u)}this.edges=Sv,this.cells=xv,$v=kv=Sv=xv=null}function Ev(t){return function(){return t}}function Yv(t,e,n){this.target=t,this.type=e,this.transform=n}function Av(t,e,n){this.k=t,this.x=e,this.y=n}Dv.prototype={constructor:Dv,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(t){return uv(e,n[t])});return t.data=e.site.data,t})},triangles:function(){var h=[],f=this.edges;return this.cells.forEach(function(t,e){if(r=(n=t.halfedges).length)for(var n,r,i,a,o,s,l=t.site,u=-1,c=f[n[r-1]],d=c.left===l?c.right:c.left;++u<r;)i=d,d=(c=f[n[u]]).left===l?c.right:c.left,i&&d&&e<i.index&&e<d.index&&(o=i,s=d,((a=l)[0]-s[0])*(o[1]-a[1])-(a[0]-o[0])*(s[1]-a[1])<0)&&h.push([l.data,i.data,d.data])}),h},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(o,s,t){for(var e,l,u=this,c=u._found||0,n=u.cells.length;!(l=u.cells[c]);)if(++c>=n)return null;for(var r=o-l.site[0],i=s-l.site[1],d=r*r+i*i;l=u.cells[e=c],c=null,l.halfedges.forEach(function(t){var e=u.edges[t],n=e.left;if(n!==l.site&&n||(n=e.right)){var r=o-n[0],i=s-n[1],a=r*r+i*i;a<d&&(d=a,c=n.index)}}),null!==c;);return u._found=e,null==t||d<=t*t?l.site:null}},Av.prototype={constructor:Av,scale:function(t){return 1===t?this:new Av(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Av(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Nv=new Av(1,0,0);function Ov(t){return t.__zoom||Nv}function Rv(){F.event.stopImmediatePropagation()}function Hv(){F.event.preventDefault(),F.event.stopImmediatePropagation()}function Pv(){return!F.event.button}function jv(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function Fv(){return this.__zoom||Nv}function Iv(){return-F.event.deltaY*(F.event.deltaMode?120:1)/500}function zv(){return"ontouchstart"in this}function Bv(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(r<i?(r+i)/2:Math.min(0,r)||Math.max(0,i),a<o?(a+o)/2:Math.min(0,a)||Math.max(0,o))}Ov.prototype=Av.prototype,F.version="4.13.0",F.bisect=m,F.bisectRight=m,F.bisectLeft=e,F.ascending=s,F.bisector=x,F.cross=function(t,e,n){var r,i,a,o,s=t.length,l=e.length,u=new Array(s*l);for(null==n&&(n=c),r=a=0;r<s;++r)for(o=t[r],i=0;i<l;++i,++a)u[a]=n(o,e[i]);return u},F.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},F.deviation=i,F.extent=n,F.histogram=function(){var h=g,f=n,p=_;function e(t){var e,n,r=t.length,i=new Array(r);for(e=0;e<r;++e)i[e]=h(t[e],e,t);var a=f(i),o=a[0],s=a[1],l=p(i,o,s);Array.isArray(l)||(l=S(o,s,l),l=k(Math.ceil(o/l)*l,Math.floor(s/l)*l,l));for(var u=l.length;l[0]<=o;)l.shift(),--u;for(;l[u-1]>s;)l.pop(),--u;var c,d=new Array(u+1);for(e=0;e<=u;++e)(c=d[e]=[]).x0=0<e?l[e-1]:o,c.x1=e<u?l[e]:s;for(e=0;e<r;++e)o<=(n=i[e])&&n<=s&&d[m(l,n,0,u)].push(t[e]);return d}return e.value=function(t){return arguments.length?(h="function"==typeof t?t:d(t),e):h},e.domain=function(t){return arguments.length?(f="function"==typeof t?t:d([t[0],t[1]]),e):f},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?d(o.call(t)):d(t),e):p},e},F.thresholdFreedmanDiaconis=function(t,e,n){return t=l.call(t,u).sort(s),Math.ceil((n-e)/(2*(b(t,.75)-b(t,.25))*Math.pow(t.length,-1/3)))},F.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*i(t)*Math.pow(t.length,-1/3)))},F.thresholdSturges=_,F.max=function(t,e){var n,r,i=t.length,a=-1;if(null==e){for(;++a<i;)if(null!=(n=t[a])&&n<=n)for(r=n;++a<i;)null!=(n=t[a])&&r<n&&(r=n)}else for(;++a<i;)if(null!=(n=e(t[a],a,t))&&n<=n)for(r=n;++a<i;)null!=(n=e(t[a],a,t))&&r<n&&(r=n);return r},F.mean=function(t,e){var n,r=t.length,i=r,a=-1,o=0;if(null==e)for(;++a<r;)isNaN(n=u(t[a]))?--i:o+=n;else for(;++a<r;)isNaN(n=u(e(t[a],a,t)))?--i:o+=n;if(i)return o/i},F.median=function(t,e){var n,r=t.length,i=-1,a=[];if(null==e)for(;++i<r;)isNaN(n=u(t[i]))||a.push(n);else for(;++i<r;)isNaN(n=u(e(t[i],i,t)))||a.push(n);return b(a.sort(s),.5)},F.merge=T,F.min=w,F.pairs=function(t,e){null==e&&(e=c);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return a},F.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},F.quantile=b,F.range=k,F.scan=function(t,e){if(n=t.length){var n,r,i=0,a=0,o=t[a];for(null==e&&(e=s);++i<n;)(e(r=t[i],o)<0||0!==e(o,o))&&(o=r,a=i);return 0===e(o,o)?a:void 0}},F.shuffle=function(t,e,n){for(var r,i,a=(null==n?t.length:n)-(e=null==e?0:+e);a;)i=Math.random()*a--|0,r=t[a+e],t[a+e]=t[i+e],t[i+e]=r;return t},F.sum=function(t,e){var n,r=t.length,i=-1,a=0;if(null==e)for(;++i<r;)(n=+t[i])&&(a+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(a+=n);return a},F.ticks=v,F.tickIncrement=y,F.tickStep=S,F.transpose=M,F.variance=r,F.zip=function(){return M(arguments)},F.axisTop=function(t){return P(D,t)},F.axisRight=function(t){return P(E,t)},F.axisBottom=function(t){return P(Y,t)},F.axisLeft=function(t){return P(A,t)},F.brush=function(){return Ei(bi)},F.brushX=function(){return Ei(yi)},F.brushY=function(){return Ei(_i)},F.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},F.chord=function(){var w=0,M=null,$=null,x=null;function e(r){var t,e,n,i,a,o,s=r.length,l=[],u=k(s),c=[],d=[],h=d.groups=new Array(s),f=new Array(s*s);for(t=0,a=-1;++a<s;){for(e=0,o=-1;++o<s;)e+=r[a][o];l.push(e),c.push(k(s)),t+=e}for(M&&u.sort(function(t,e){return M(l[t],l[e])}),$&&c.forEach(function(t,n){t.sort(function(t,e){return $(r[n][t],r[n][e])})}),i=(t=Hi(0,Ri-w*s)/t)?w:Ri/s,e=0,a=-1;++a<s;){for(n=e,o=-1;++o<s;){var p=u[a],m=c[p][o],g=r[p][m],v=e,y=e+=g*t;f[m*s+p]={index:p,subindex:m,startAngle:v,endAngle:y,value:g}}h[p]={index:p,startAngle:n,endAngle:e,value:l[p]},e+=i}for(a=-1;++a<s;)for(o=a-1;++o<s;){var _=f[o*s+a],b=f[a*s+o];(_.value||b.value)&&d.push(_.value<b.value?{source:b,target:_}:{source:_,target:b})}return x?d.sort(x):d}return e.padAngle=function(t){return arguments.length?(w=Hi(0,t),e):w},e.sortGroups=function(t){return arguments.length?(M=t,e):M},e.sortSubgroups=function(t){return arguments.length?($=t,e):$},e.sortChords=function(t){return arguments.length?(null==t?x=null:(n=t,x=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=t,e):x&&x._;var n},e},F.ribbon=function(){var h=qi,f=Vi,p=Gi,m=Ki,g=Ji,v=null;function e(){var t,e=Pi.call(arguments),n=h.apply(this,e),r=f.apply(this,e),i=+p.apply(this,(e[0]=n,e)),a=m.apply(this,e)-Oi,o=g.apply(this,e)-Oi,s=i*Yi(a),l=i*Ai(a),u=+p.apply(this,(e[0]=r,e)),c=m.apply(this,e)-Oi,d=g.apply(this,e)-Oi;if(v||(v=t=Ui()),v.moveTo(s,l),v.arc(0,0,i,a,o),a===c&&o===d||(v.quadraticCurveTo(0,0,u*Yi(c),u*Ai(c)),v.arc(0,0,u,c,d)),v.quadraticCurveTo(0,0,s,l),v.closePath(),t)return v=null,t+""||null}return e.radius=function(t){return arguments.length?(p="function"==typeof t?t:ji(+t),e):p},e.startAngle=function(t){return arguments.length?(m="function"==typeof t?t:ji(+t),e):m},e.endAngle=function(t){return arguments.length?(g="function"==typeof t?t:ji(+t),e):g},e.source=function(t){return arguments.length?(h=t,e):h},e.target=function(t){return arguments.length?(f=t,e):f},e.context=function(t){return arguments.length?(v=null==t?null:t,e):v},e},F.nest=function(){var h,f,e,p=[],o=[];function m(t,n,r,i){if(n>=p.length)return null!=h&&t.sort(h),null!=f?f(t):t;for(var e,a,o,s=-1,l=t.length,u=p[n++],c=Qi(),d=r();++s<l;)(o=c.get(e=u(a=t[s])+""))?o.push(a):c.set(e,[a]);return c.each(function(t,e){i(d,e,m(t,n,r,i))}),d}return e={object:function(t){return m(t,0,ta,ea)},map:function(t){return m(t,0,na,ra)},entries:function(t){return function n(t,r){if(++r>p.length)return t;var i,a=o[r-1];return null!=f&&r>=p.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:n(t,r)})})),null!=a?i.sort(function(t,e){return a(t.key,e.key)}):i}(m(t,0,na,ra),0)},key:function(t){return p.push(t),e},sortKeys:function(t){return o[p.length-1]=t,e},sortValues:function(t){return h=t,e},rollup:function(t){return f=t,e}}},F.set=oa,F.map=Qi,F.keys=function(t){var e=[];for(var n in t)e.push(n);return e},F.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},F.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},F.color=pe,F.rgb=ye,F.hsl=we,F.lab=Ne,F.hcl=Fe,F.cubehelix=Ke,F.dispatch=I,F.drag=function(){var n,r,i,a,o=Gt,s=Kt,e=Jt,l=Xt,p={},m=I("start","drag","end"),g=0,u=0;function v(t){t.on("mousedown.drag",c).filter(l).on("touchstart.drag",f).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){if(!a&&o.apply(this,arguments)){var t=b("mouse",s.apply(this,arguments),Ft,this,arguments);t&&(Nt(F.event.view).on("mousemove.drag",d,!0).on("mouseup.drag",h,!0),Wt(F.event.view),zt(),i=!1,n=F.event.clientX,r=F.event.clientY,t("start"))}}function d(){if(Bt(),!i){var t=F.event.clientX-n,e=F.event.clientY-r;i=u<t*t+e*e}p.mouse("drag")}function h(){Nt(F.event.view).on("mousemove.drag mouseup.drag",null),Ut(F.event.view,i),Bt(),p.mouse("end")}function f(){if(o.apply(this,arguments)){var t,e,n=F.event.changedTouches,r=s.apply(this,arguments),i=n.length;for(t=0;t<i;++t)(e=b(n[t].identifier,r,It,this,arguments))&&(zt(),e("start"))}}function y(){var t,e,n=F.event.changedTouches,r=n.length;for(t=0;t<r;++t)(e=p[n[t].identifier])&&(Bt(),e("drag"))}function _(){var t,e,n=F.event.changedTouches,r=n.length;for(a&&clearTimeout(a),a=setTimeout(function(){a=null},500),t=0;t<r;++t)(e=p[n[t].identifier])&&(zt(),e("end"))}function b(i,a,o,s,l){var u,c,d,h=o(a,i),f=m.copy();if(Ct(new Vt(v,"beforestart",u,i,g,h[0],h[1],0,0,f),function(){return null!=(F.event.subject=u=e.apply(s,l))&&(c=u.x-h[0]||0,d=u.y-h[1]||0,!0)}))return function t(e){var n,r=h;switch(e){case"start":p[i]=t,n=g++;break;case"end":delete p[i],--g;case"drag":h=o(a,i),n=g}Ct(new Vt(v,e,u,i,n,h[0]+c,h[1]+d,h[0]-r[0],h[1]-r[1],f),f.apply,f,[e,s,l])}}return v.filter=function(t){return arguments.length?(o="function"==typeof t?t:qt(!!t),v):o},v.container=function(t){return arguments.length?(s="function"==typeof t?t:qt(t),v):s},v.subject=function(t){return arguments.length?(e="function"==typeof t?t:qt(t),v):e},v.touchable=function(t){return arguments.length?(l="function"==typeof t?t:qt(!!t),v):l},v.on=function(){var t=m.on.apply(m,arguments);return t===m?v:t},v.clickDistance=function(t){return arguments.length?(u=(t=+t)*t,v):Math.sqrt(u)},v},F.dragDisable=Wt,F.dragEnable=Ut,F.dsvFormat=fa,F.csvParse=ma,F.csvParseRows=ga,F.csvFormat=va,F.csvFormatRows=ya,F.tsvParse=ba,F.tsvParseRows=wa,F.tsvFormat=Ma,F.tsvFormatRows=$a,F.easeLinear=function(t){return+t},F.easeQuad=Yr,F.easeQuadIn=function(t){return t*t},F.easeQuadOut=function(t){return t*(2-t)},F.easeQuadInOut=Yr,F.easeCubic=Ar,F.easeCubicIn=function(t){return t*t*t},F.easeCubicOut=function(t){return--t*t*t+1},F.easeCubicInOut=Ar,F.easePoly=Rr,F.easePolyIn=Nr,F.easePolyOut=Or,F.easePolyInOut=Rr,F.easeSin=jr,F.easeSinIn=function(t){return 1-Math.cos(t*Pr)},F.easeSinOut=function(t){return Math.sin(t*Pr)},F.easeSinInOut=jr,F.easeExp=Fr,F.easeExpIn=function(t){return Math.pow(2,10*t-10)},F.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},F.easeExpInOut=Fr,F.easeCircle=Ir,F.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},F.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},F.easeCircleInOut=Ir,F.easeBounce=Zr,F.easeBounceIn=function(t){return 1-Zr(1-t)},F.easeBounceOut=Zr,F.easeBounceInOut=function(t){return((t*=2)<=1?1-Zr(1-t):Zr(t-1)+1)/2},F.easeBack=ni,F.easeBackIn=ti,F.easeBackOut=ei,F.easeBackInOut=ni,F.easeElastic=ai,F.easeElasticIn=ii,F.easeElasticOut=ai,F.easeElasticInOut=oi,F.forceCenter=function(a,o){var s;function e(){var t,e,n=s.length,r=0,i=0;for(t=0;t<n;++t)r+=(e=s[t]).x,i+=e.y;for(r=r/n-a,i=i/n-o,t=0;t<n;++t)(e=s[t]).x-=r,e.y-=i}return null==a&&(a=0),null==o&&(o=0),e.initialize=function(t){s=t},e.x=function(t){return arguments.length?(a=+t,e):a},e.y=function(t){return arguments.length?(o=+t,e):o},e},F.forceCollide=function(r){var a,o,g=1,s=1;function e(){for(var t,e,d,h,f,p,m,n=a.length,r=0;r<s;++r)for(e=Da(a,Na,Oa).visitAfter(l),t=0;t<n;++t)d=a[t],p=o[d.index],m=p*p,h=d.x+d.vx,f=d.y+d.vy,e.visit(i);function i(t,e,n,r,i){var a=t.data,o=t.r,s=p+o;if(!a)return h+s<e||r<h-s||f+s<n||i<f-s;if(a.index>d.index){var l=h-a.x-a.vx,u=f-a.y-a.vy,c=l*l+u*u;c<s*s&&(0===l&&(c+=(l=ka())*l),0===u&&(c+=(u=ka())*u),c=(s-(c=Math.sqrt(c)))/c*g,d.vx+=(l*=c)*(s=(o*=o)/(m+o)),d.vy+=(u*=c)*s,a.vx-=l*(s=1-s),a.vy-=u*s)}}}function l(t){if(t.data)return t.r=o[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function n(){if(a){var t,e,n=a.length;for(o=new Array(n),t=0;t<n;++t)e=a[t],o[e.index]=+r(e,t,a)}}return"function"!=typeof r&&(r=xa(null==r?1:+r)),e.initialize=function(t){a=t,n()},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(g=+t,e):g},e.radius=function(t){return arguments.length?(r="function"==typeof t?t:xa(+t),n(),e):r},e},F.forceLink=function(d){var h,f,a,o,p,s=Ra,n=function(t){return 1/Math.min(o[t.source.index],o[t.target.index])},r=xa(30),m=1;function e(t){for(var e=0,n=d.length;e<m;++e)for(var r,i,a,o,s,l,u,c=0;c<n;++c)i=(r=d[c]).source,o=(a=r.target).x+a.vx-i.x-i.vx||ka(),s=a.y+a.vy-i.y-i.vy||ka(),o*=l=((l=Math.sqrt(o*o+s*s))-f[c])/l*t*h[c],s*=l,a.vx-=o*(u=p[c]),a.vy-=s*u,i.vx+=o*(u=1-u),i.vy+=s*u}function i(){if(a){var t,e,n=a.length,r=d.length,i=Qi(a,s);for(t=0,o=new Array(n);t<r;++t)(e=d[t]).index=t,"object"!=typeof e.source&&(e.source=Ha(i,e.source)),"object"!=typeof e.target&&(e.target=Ha(i,e.target)),o[e.source.index]=(o[e.source.index]||0)+1,o[e.target.index]=(o[e.target.index]||0)+1;for(t=0,p=new Array(r);t<r;++t)e=d[t],p[t]=o[e.source.index]/(o[e.source.index]+o[e.target.index]);h=new Array(r),l(),f=new Array(r),u()}}function l(){if(a)for(var t=0,e=d.length;t<e;++t)h[t]=+n(d[t],t,d)}function u(){if(a)for(var t=0,e=d.length;t<e;++t)f[t]=+r(d[t],t,d)}return null==d&&(d=[]),e.initialize=function(t){a=t,i()},e.links=function(t){return arguments.length?(d=t,i(),e):d},e.id=function(t){return arguments.length?(s=t,e):s},e.iterations=function(t){return arguments.length?(m=+t,e):m},e.strength=function(t){return arguments.length?(n="function"==typeof t?t:xa(+t),l(),e):n},e.distance=function(t){return arguments.length?(r="function"==typeof t?t:xa(+t),u(),e):r},e},F.forceManyBody=function(){var i,l,u,c,r=xa(-30),d=1,h=1/0,f=.81;function e(t){var e,n=i.length,r=Da(i,Pa,ja).visitAfter(a);for(u=t,e=0;e<n;++e)l=i[e],r.visit(o)}function n(){if(i){var t,e,n=i.length;for(c=new Array(n),t=0;t<n;++t)e=i[t],c[e.index]=+r(e,t,i)}}function a(t){var e,n,r,i,a,o=0,s=0;if(t.length){for(r=i=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(o+=e.value,s+=n,r+=n*e.x,i+=n*e.y);t.x=r/s,t.y=i/s}else for((e=t).x=e.data.x,e.y=e.data.y;o+=c[e.data.index],e=e.next;);t.value=o}function o(t,e,n,r){if(!t.value)return!0;var i=t.x-l.x,a=t.y-l.y,o=r-e,s=i*i+a*a;if(o*o/f<s)return s<h&&(0===i&&(s+=(i=ka())*i),0===a&&(s+=(a=ka())*a),s<d&&(s=Math.sqrt(d*s)),l.vx+=i*t.value*u/s,l.vy+=a*t.value*u/s),!0;if(!(t.length||h<=s))for((t.data!==l||t.next)&&(0===i&&(s+=(i=ka())*i),0===a&&(s+=(a=ka())*a),s<d&&(s=Math.sqrt(d*s)));t.data!==l&&(o=c[t.data.index]*u/s,l.vx+=i*o,l.vy+=a*o),t=t.next;);}return e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:xa(+t),n(),e):r},e.distanceMin=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e.distanceMax=function(t){return arguments.length?(h=t*t,e):Math.sqrt(h)},e.theta=function(t){return arguments.length?(f=t*t,e):Math.sqrt(f)},e},F.forceRadial=function(n,l,u){var c,d,h,r=xa(.1);function e(t){for(var e=0,n=c.length;e<n;++e){var r=c[e],i=r.x-l||1e-6,a=r.y-u||1e-6,o=Math.sqrt(i*i+a*a),s=(h[e]-o)*d[e]*t/o;r.vx+=i*s,r.vy+=a*s}}function i(){if(c){var t,e=c.length;for(d=new Array(e),h=new Array(e),t=0;t<e;++t)h[t]=+n(c[t],t,c),d[t]=isNaN(h[t])?0:+r(c[t],t,c)}}return"function"!=typeof n&&(n=xa(+n)),null==l&&(l=0),null==u&&(u=0),e.initialize=function(t){c=t,i()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:xa(+t),i(),e):r},e.radius=function(t){return arguments.length?(n="function"==typeof t?t:xa(+t),i(),e):n},e.x=function(t){return arguments.length?(l=+t,e):l},e.y=function(t){return arguments.length?(u=+t,e):u},e},F.forceSimulation=function(c){var n,r=1,e=.001,i=1-Math.pow(e,1/300),a=0,o=.6,s=Qi(),t=ir(u),l=I("tick","end");function u(){d(),l.call("tick",n),r<e&&(t.stop(),l.call("end",n))}function d(){var t,e,n=c.length;for(r+=(a-r)*i,s.each(function(t){t(r)}),t=0;t<n;++t)null==(e=c[t]).fx?e.x+=e.vx*=o:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=o:(e.y=e.fy,e.vy=0)}function h(){for(var t,e=0,n=c.length;e<n;++e){if((t=c[e]).index=e,isNaN(t.x)||isNaN(t.y)){var r=Ia*Math.sqrt(e),i=e*za;t.x=r*Math.cos(i),t.y=r*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function f(t){return t.initialize&&t.initialize(c),t}return null==c&&(c=[]),h(),n={tick:d,restart:function(){return t.restart(u),n},stop:function(){return t.stop(),n},nodes:function(t){return arguments.length?(c=t,h(),s.each(f),n):c},alpha:function(t){return arguments.length?(r=+t,n):r},alphaMin:function(t){return arguments.length?(e=+t,n):e},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(a=+t,n):a},velocityDecay:function(t){return arguments.length?(o=1-t,n):1-o},force:function(t,e){return 1<arguments.length?(null==e?s.remove(t):s.set(t,f(e)),n):s.get(t)},find:function(t,e,n){var r,i,a,o,s,l=0,u=c.length;for(null==n?n=1/0:n*=n,l=0;l<u;++l)(a=(r=t-(o=c[l]).x)*r+(i=e-o.y)*i)<n&&(s=o,n=a);return s},on:function(t,e){return 1<arguments.length?(l.on(t,e),n):l.on(t)}}},F.forceX=function(n){var i,a,o,r=xa(.1);function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vx+=(o[n]-e.x)*a[n]*t}function s(){if(i){var t,e=i.length;for(a=new Array(e),o=new Array(e),t=0;t<e;++t)a[t]=isNaN(o[t]=+n(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof n&&(n=xa(null==n?0:+n)),e.initialize=function(t){i=t,s()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:xa(+t),s(),e):r},e.x=function(t){return arguments.length?(n="function"==typeof t?t:xa(+t),s(),e):n},e},F.forceY=function(n){var i,a,o,r=xa(.1);function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vy+=(o[n]-e.y)*a[n]*t}function s(){if(i){var t,e=i.length;for(a=new Array(e),o=new Array(e),t=0;t<e;++t)a[t]=isNaN(o[t]=+n(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof n&&(n=xa(null==n?0:+n)),e.initialize=function(t){i=t,s()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:xa(+t),s(),e):r},e.y=function(t){return arguments.length?(n="function"==typeof t?t:xa(+t),s(),e):n},e},F.formatDefaultLocale=to,F.formatLocale=Qa,F.formatSpecifier=Ga,F.precisionFixed=eo,F.precisionPrefix=no,F.precisionRound=ro,F.geoArea=function(t){return Qo.reset(),Po(t,ts),2*Qo},F.geoBounds=function(t){var e,n,r,i,a,o,s;if(Vo=qo=-(Wo=Uo=1/0),hs=[],Po(t,Es),n=hs.length){for(hs.sort(Fs),e=1,a=[r=hs[0]];e<n;++e)Is(r,(i=hs[e])[0])||Is(r,i[1])?(js(r[0],i[1])>js(r[0],r[1])&&(r[1]=i[1]),js(i[0],r[1])>js(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,e=0,r=a[n=a.length-1];e<=n;r=i,++e)i=a[e],(s=js(r[1],i[0]))>o&&(o=s,Wo=i[0],qo=r[1])}return hs=fs=null,Wo===1/0||Uo===1/0?[[NaN,NaN],[NaN,NaN]]:[[Wo,Uo],[qo,Vo]]},F.geoCentroid=function(t){ps=ms=gs=vs=ys=_s=bs=ws=Ms=$s=xs=0,Po(t,zs);var e=Ms,n=$s,r=xs,i=e*e+n*n+r*r;return i<uo&&(e=_s,n=bs,r=ws,ms<lo&&(e=gs,n=vs,r=ys),(i=e*e+n*n+r*r)<uo)?[NaN,NaN]:[_o(n,e)*mo,Do(r/To(i))*mo]},F.geoCircle=function(){var r,i,a=Qs([0,0]),o=Qs(90),s=Qs(6),l={point:function(t,e){r.push(t=i(t,e)),t[0]*=mo,t[1]*=mo}};function e(){var t=a.apply(this,arguments),e=o.apply(this,arguments)*go,n=s.apply(this,arguments)*go;return r=[],i=nl(-t[0]*go,-t[1]*go,0).invert,sl(l,e,n,1),t={type:"Polygon",coordinates:[r]},r=i=null,t}return e.center=function(t){return arguments.length?(a="function"==typeof t?t:Qs([+t[0],+t[1]]),e):a},e.radius=function(t){return arguments.length?(o="function"==typeof t?t:Qs(+t),e):o},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:Qs(+t),e):s},e},F.geoClipAntimeridian=_l,F.geoClipCircle=bl,F.geoClipExtent=function(){var e,n,r,i=0,a=0,o=960,s=500;return r={stream:function(t){return e&&n===t?e:e=$l(i,a,o,s)(n=t)},extent:function(t){return arguments.length?(i=+t[0][0],a=+t[0][1],o=+t[1][0],s=+t[1][1],e=n=null,r):[[i,a],[o,s]]}}},F.geoClipRectangle=$l,F.geoContains=function(t,e){return(t&&Rl.hasOwnProperty(t.type)?Rl[t.type]:Pl)(t,e)},F.geoDistance=Ol,F.geoGraticule=ql,F.geoGraticule10=function(){return ql()()},F.geoInterpolate=function(t,e){var n=t[0]*go,r=t[1]*go,i=e[0]*go,a=e[1]*go,o=bo(r),s=ko(r),l=bo(a),u=ko(a),c=o*bo(n),d=o*ko(n),h=l*bo(i),f=l*ko(i),p=2*Do(To(Eo(a-r)+o*l*Eo(i-n))),m=ko(p),g=p?function(t){var e=ko(t*=p)/m,n=ko(p-t)/m,r=n*c+e*h,i=n*d+e*f,a=n*s+e*u;return[_o(i,r)*mo,_o(a,To(r*r+i*i))*mo]}:function(){return[n*mo,r*mo]};return g.distance=p,g},F.geoLength=Yl,F.geoPath=function(e,n){var r,i,a=4.5;function o(t){return t&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),Po(t,r(i))),i.result()}return o.area=function(t){return Po(t,r(tu)),tu.result()},o.measure=function(t){return Po(t,r(Fu)),Fu.result()},o.bounds=function(t){return Po(t,r(uu)),uu.result()},o.centroid=function(t){return Po(t,r($u)),$u.result()},o.projection=function(t){return arguments.length?(r=null==t?(e=null,Vl):(e=t).stream,o):e},o.context=function(t){return arguments.length?(i=null==t?(n=null,new Bu):new Au(n=t),"function"!=typeof a&&i.pointRadius(a),o):n},o.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),o):a},o.projection(e).context(n)},F.geoAlbers=sc,F.geoAlbersUsa=function(){var e,n,i,a,o,r,s=sc(),l=oc().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=oc().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){r=[t,e]}};function d(t){var e=t[0],n=t[1];return r=null,i.point(e,n),r||(a.point(e,n),r)||(o.point(e,n),r)}function h(){return e=n=null,d}return d.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?l:.166<=i&&i<.234&&-.214<=r&&r<-.115?u:s).invert(t)},d.stream=function(t){return e&&n===t?e:(r=[s.stream(n=t),l.stream(t),u.stream(t)],i=r.length,e={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},d.precision=function(t){return arguments.length?(s.precision(t),l.precision(t),u.precision(t),h()):s.precision()},d.scale=function(t){return arguments.length?(s.scale(t),l.scale(.35*t),u.scale(t),d.translate(s.translate())):s.scale()},d.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],r=+t[1];return i=s.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(c),a=l.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+lo,r+.12*e+lo],[n-.214*e-lo,r+.234*e-lo]]).stream(c),o=u.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+lo,r+.166*e+lo],[n-.115*e-lo,r+.234*e-lo]]).stream(c),h()},d.fitExtent=function(t,e){return Gu(d,t,e)},d.fitSize=function(t,e){return Ku(d,t,e)},d.fitWidth=function(t,e){return Ju(d,t,e)},d.fitHeight=function(t,e){return Xu(d,t,e)},d.scale(1070)},F.geoAzimuthalEqualArea=function(){return nc(cc).scale(124.75).clipAngle(179.999)},F.geoAzimuthalEqualAreaRaw=cc,F.geoAzimuthalEquidistant=function(){return nc(dc).scale(79.4188).clipAngle(179.999)},F.geoAzimuthalEquidistantRaw=dc,F.geoConicConformal=function(){return ic(mc).scale(109.5).parallels([30,30])},F.geoConicConformalRaw=mc,F.geoConicEqualArea=oc,F.geoConicEqualAreaRaw=ac,F.geoConicEquidistant=function(){return ic(vc).scale(131.154).center([0,13.9389])},F.geoConicEquidistantRaw=vc,F.geoEquirectangular=function(){return nc(gc).scale(152.63)},F.geoEquirectangularRaw=gc,F.geoGnomonic=function(){return nc(yc).scale(144.049).clipAngle(60)},F.geoGnomonicRaw=yc,F.geoIdentity=function(){var e,n,r,i,a,o,s=1,l=0,u=0,c=1,d=1,h=Vl,f=null,p=Vl;function m(){return i=a=null,o}return o={stream:function(t){return i&&a===t?i:i=h(p(a=t))},postclip:function(t){return arguments.length?(p=t,f=e=n=r=null,m()):p},clipExtent:function(t){return arguments.length?(p=null==t?(f=e=n=r=null,Vl):$l(f=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),m()):null==f?null:[[f,e],[n,r]]},scale:function(t){return arguments.length?(h=_c((s=+t)*c,s*d,l,u),m()):s},translate:function(t){return arguments.length?(h=_c(s*c,s*d,l=+t[0],u=+t[1]),m()):[l,u]},reflectX:function(t){return arguments.length?(h=_c(s*(c=t?-1:1),s*d,l,u),m()):c<0},reflectY:function(t){return arguments.length?(h=_c(s*c,s*(d=t?-1:1),l,u),m()):d<0},fitExtent:function(t,e){return Gu(o,t,e)},fitSize:function(t,e){return Ku(o,t,e)},fitWidth:function(t,e){return Ju(o,t,e)},fitHeight:function(t,e){return Xu(o,t,e)}}},F.geoProjection=nc,F.geoProjectionMutator=rc,F.geoMercator=function(){return fc(hc).scale(961/po)},F.geoMercatorRaw=hc,F.geoNaturalEarth1=function(){return nc(bc).scale(175.295)},F.geoNaturalEarth1Raw=bc,F.geoOrthographic=function(){return nc(wc).scale(249.5).clipAngle(90+lo)},F.geoOrthographicRaw=wc,F.geoStereographic=function(){return nc(Mc).scale(250).clipAngle(142)},F.geoStereographicRaw=Mc,F.geoTransverseMercator=function(){var t=fc($c),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},F.geoTransverseMercatorRaw=$c,F.geoRotation=ol,F.geoStream=Po,F.geoTransform=function(t){return{stream:Uu(t)}},F.cluster=function(){var s=xc,l=1,u=1,c=!1;function e(e){var r,i=0;e.eachAfter(function(t){var e,n=t.children;n?(t.x=(e=n).reduce(kc,0)/e.length,t.y=1+n.reduce(Sc,0)):(t.x=r?i+=s(t,r):0,t.y=0,r=t)});var t=function(t){for(var e;e=t.children;)t=e[0];return t}(e),n=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),a=t.x-s(t,n)/2,o=n.x+s(n,t)/2;return e.eachAfter(c?function(t){t.x=(t.x-e.x)*l,t.y=(e.y-t.y)*u}:function(t){t.x=(t.x-a)/(o-a)*l,t.y=(1-(e.y?t.y/e.y:1))*u})}return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(c=!1,l=+t[0],u=+t[1],e):c?null:[l,u]},e.nodeSize=function(t){return arguments.length?(c=!0,l=+t[0],u=+t[1],e):c?[l,u]:null},e},F.hierarchy=Lc,F.pack=function(){var n=null,e=1,r=1,i=Gc;function a(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(Xc(n)).eachAfter(Zc(i,.5)).eachBefore(Qc(1)):t.eachBefore(Xc(Jc)).eachAfter(Zc(Gc,1)).eachAfter(Zc(i,t.r/Math.min(e,r))).eachBefore(Qc(Math.min(e,r)/(2*t.r))),t}return a.radius=function(t){return arguments.length?(n=null==(e=t)?null:Vc(e),a):n;var e},a.size=function(t){return arguments.length?(e=+t[0],r=+t[1],a):[e,r]},a.padding=function(t){return arguments.length?(i="function"==typeof t?t:Kc(+t),a):i},a},F.packSiblings=function(t){return qc(t),t},F.packEnclose=Nc,F.partition=function(){var n=1,r=1,s=0,i=!1;function e(t){var a,o,e=t.height+1;return t.x0=t.y0=s,t.x1=n,t.y1=r/e,t.eachBefore((a=r,o=e,function(t){t.children&&ed(t,t.x0,a*(t.depth+1)/o,t.x1,a*(t.depth+2)/o);var e=t.x0,n=t.y0,r=t.x1-s,i=t.y1-s;r<e&&(e=r=(e+r)/2),i<n&&(n=i=(n+i)/2),t.x0=e,t.y0=n,t.x1=r,t.y1=i})),i&&t.eachBefore(td),t}return e.round=function(t){return arguments.length?(i=!!t,e):i},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(s=+t,e):s},e},F.stratify=function(){var d=ad,h=od;function e(t){var e,n,r,i,a,o,s,l=t.length,u=new Array(l),c={};for(n=0;n<l;++n)e=t[n],a=u[n]=new Yc(e),null!=(o=d(e,n,t))&&(o+="")&&(c[s=nd+(a.id=o)]=s in c?id:a);for(n=0;n<l;++n)if(a=u[n],null!=(o=h(t[n],n,t))&&(o+="")){if(!(i=c[nd+o]))throw new Error("missing: "+o);if(i===id)throw new Error("ambiguous: "+o);i.children?i.children.push(a):i.children=[a],a.parent=i}else{if(r)throw new Error("multiple roots");r=a}if(!r)throw new Error("no root");if(r.parent=rd,r.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(Ec),r.parent=null,0<l)throw new Error("cycle");return r}return e.id=function(t){return arguments.length?(d=Vc(t),e):d},e.parentId=function(t){return arguments.length?(h=Vc(t),e):h},e},F.tree=function(){var _=sd,u=1,c=1,d=null;function e(t){var e=function(t){for(var e,n,r,i,a,o=new cd(t,0),s=[o];e=s.pop();)if(r=e._.children)for(e.children=new Array(a=r.length),i=a-1;0<=i;--i)s.push(n=e.children[i]=new cd(r[i],i)),n.parent=e;return(o.parent=new cd(null,0)).children=[o],o}(t);if(e.eachAfter(h),e.parent.m=-e.z,e.eachBefore(f),d)t.eachBefore(p);else{var n=t,r=t,i=t;t.eachBefore(function(t){t.x<n.x&&(n=t),t.x>r.x&&(r=t),t.depth>i.depth&&(i=t)});var a=n===r?1:_(n,r)/2,o=a-n.x,s=u/(r.x+a+o),l=c/(i.depth||1);t.eachBefore(function(t){t.x=(t.x+o)*s,t.y=t.depth*l})}return t}function h(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){!function(t){for(var e,n=0,r=0,i=t.children,a=i.length;0<=--a;)(e=i[a]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+_(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+_(t._,r._));t.parent.A=function(t,e,n){if(e){for(var r,i=t,a=t,o=e,s=i.parent.children[0],l=i.m,u=a.m,c=o.m,d=s.m;o=ud(o),i=ld(i),o&&i;)s=ld(s),(a=ud(a)).a=t,0<(r=o.z+c-i.z-l+_(o._,i._))&&(v=t,y=n,h=(g=o).a.parent===v.parent?g.a:y,m=(p=r)/((f=t).i-h.i),f.c-=m,f.s+=p,h.c+=m,f.z+=p,f.m+=p,l+=r,u+=r),c+=o.m,l+=i.m,d+=s.m,u+=a.m;o&&!ud(a)&&(a.t=o,a.m+=c-u),i&&!ld(s)&&(s.t=i,s.m+=l-d,n=t)}var h,f,p,m,g,v,y;return n}(t,r,t.parent.A||n[0])}function f(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function p(t){t.x*=u,t.y=t.depth*c}return e.separation=function(t){return arguments.length?(_=t,e):_},e.size=function(t){return arguments.length?(d=!1,u=+t[0],c=+t[1],e):d?null:[u,c]},e.nodeSize=function(t){return arguments.length?(d=!0,u=+t[0],c=+t[1],e):d?[u,c]:null},e},F.treemap=function(){var o=pd,e=!1,n=1,r=1,s=[0],l=Gc,u=Gc,c=Gc,d=Gc,h=Gc;function i(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(a),s=[0],e&&t.eachBefore(td),t}function a(t){var e=s[t.depth],n=t.x0+e,r=t.y0+e,i=t.x1-e,a=t.y1-e;i<n&&(n=i=(n+i)/2),a<r&&(r=a=(r+a)/2),t.x0=n,t.y0=r,t.x1=i,t.y1=a,t.children&&(e=s[t.depth+1]=l(t)/2,n+=h(t)-e,r+=u(t)-e,(i-=c(t)-e)<n&&(n=i=(n+i)/2),(a-=d(t)-e)<r&&(r=a=(r+a)/2),o(t,n,r,i,a))}return i.round=function(t){return arguments.length?(e=!!t,i):e},i.size=function(t){return arguments.length?(n=+t[0],r=+t[1],i):[n,r]},i.tile=function(t){return arguments.length?(o=Vc(t),i):o},i.padding=function(t){return arguments.length?i.paddingInner(t).paddingOuter(t):i.paddingInner()},i.paddingInner=function(t){return arguments.length?(l="function"==typeof t?t:Kc(+t),i):l},i.paddingOuter=function(t){return arguments.length?i.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):i.paddingTop()},i.paddingTop=function(t){return arguments.length?(u="function"==typeof t?t:Kc(+t),i):u},i.paddingRight=function(t){return arguments.length?(c="function"==typeof t?t:Kc(+t),i):c},i.paddingBottom=function(t){return arguments.length?(d="function"==typeof t?t:Kc(+t),i):d},i.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:Kc(+t),i):h},i},F.treemapBinary=function(t,e,n,r,i){var a,o,y=t.children,s=y.length,_=new Array(s+1);for(_[0]=o=a=0;a<s;++a)_[a+1]=o+=y[a].value;!function t(e,n,r,i,a,o,s){if(n-1<=e){var l=y[e];return l.x0=i,l.y0=a,l.x1=o,void(l.y1=s)}for(var u=_[e],c=r/2+u,d=e+1,h=n-1;d<h;){var f=d+h>>>1;_[f]<c?d=f+1:h=f}c-_[d-1]<_[d]-c&&e+1<d&&--d;var p=_[d]-u,m=r-p;if(s-a<o-i){var g=(i*m+o*p)/r;t(e,d,p,i,a,g,s),t(d,n,m,g,a,o,s)}else{var v=(a*m+s*p)/r;t(e,d,p,i,a,o,v),t(d,n,m,i,v,o,s)}}(0,s,t.value,e,n,r,i)},F.treemapDice=ed,F.treemapSlice=dd,F.treemapSliceDice=function(t,e,n,r,i){(1&t.depth?dd:ed)(t,e,n,r,i)},F.treemapSquarify=pd,F.treemapResquarify=md,F.interpolate=vn,F.interpolateArray=cn,F.interpolateBasis=Ze,F.interpolateBasisClosed=Qe,F.interpolateDate=dn,F.interpolateNumber=hn,F.interpolateObject=fn,F.interpolateRound=yn,F.interpolateString=gn,F.interpolateTransformCss=Tn,F.interpolateTransformSvg=Ln,F.interpolateZoom=Nn,F.interpolateRgb=on,F.interpolateRgbBasis=ln,F.interpolateRgbBasisClosed=un,F.interpolateHsl=Rn,F.interpolateHslLong=Hn,F.interpolateLab=function(e,t){var n=an((e=Ne(e)).l,(t=Ne(t)).l),r=an(e.a,t.a),i=an(e.b,t.b),a=an(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+""}},F.interpolateHcl=jn,F.interpolateHclLong=Fn,F.interpolateCubehelix=zn,F.interpolateCubehelixLong=Bn,F.quantize=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},F.path=Ui,F.polygonArea=function(t){for(var e,n=-1,r=t.length,i=t[r-1],a=0;++n<r;)e=i,i=t[n],a+=e[1]*i[0]-e[0]*i[1];return a/2},F.polygonCentroid=function(t){for(var e,n,r=-1,i=t.length,a=0,o=0,s=t[i-1],l=0;++r<i;)e=s,s=t[r],l+=n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a/(l*=3),o/l]},F.polygonHull=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(gd),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var a=vd(r),o=vd(i),s=o[0]===a[0],l=o[o.length-1]===a[a.length-1],u=[];for(e=a.length-1;0<=e;--e)u.push(t[r[a[e]][2]]);for(e=+s;e<o.length-l;++e)u.push(t[r[o[e]][2]]);return u},F.polygonContains=function(t,e){for(var n,r,i=t.length,a=t[i-1],o=e[0],s=e[1],l=a[0],u=a[1],c=!1,d=0;d<i;++d)n=(a=t[d])[0],s<(r=a[1])!=s<u&&o<(l-n)*(s-r)/(u-r)+n&&(c=!c),l=n,u=r;return c},F.polygonLength=function(t){for(var e,n,r=-1,i=t.length,a=t[i-1],o=a[0],s=a[1],l=0;++r<i;)e=o,n=s,e-=o=(a=t[r])[0],n-=s=a[1],l+=Math.sqrt(e*e+n*n);return l},F.quadtree=Da,F.queue=kd,F.randomUniform=Td,F.randomNormal=Ld,F.randomLogNormal=Cd,F.randomBates=Ed,F.randomIrwinHall=Dd,F.randomExponential=Yd,F.request=Ad,F.html=Od,F.json=Rd,F.text=Hd,F.xml=Pd,F.csv=Fd,F.tsv=Id,F.scaleBand=Vd,F.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(Vd().paddingInner(1))},F.scaleIdentity=function t(){var e=[0,1];function n(t){return+t}return(n.invert=n).domain=n.range=function(t){return arguments.length?(e=Bd.call(t,Kd),n):e.slice()},n.copy=function(){return t().domain(e)},nh(n)},F.scaleLinear=function t(){var e=eh(Xd,hn);return e.copy=function(){return th(e,t())},nh(e)},F.scaleLog=function t(){var e=eh(ih,ah).domain([1,10]),h=e.domain,f=10,p=lh(10),m=sh(10);function n(){return p=lh(f),m=sh(f),h()[0]<0&&(p=uh(p),m=uh(m)),e}return e.base=function(t){return arguments.length?(f=+t,n()):f},e.domain=function(t){return arguments.length?(h(t),n()):h()},e.ticks=function(t){var e,n=h(),r=n[0],i=n[n.length-1];(e=i<r)&&(l=r,r=i,i=l);var a,o,s,l=p(r),u=p(i),c=null==t?10:+t,d=[];if(!(f%1)&&u-l<c){if(l=Math.round(l)-1,u=Math.round(u)+1,0<r){for(;l<u;++l)for(o=1,a=m(l);o<f;++o)if(!((s=a*o)<r)){if(i<s)break;d.push(s)}}else for(;l<u;++l)for(o=f-1,a=m(l);1<=o;--o)if(!((s=a*o)<r)){if(i<s)break;d.push(s)}}else d=v(l,u,Math.min(u-l,c)).map(m);return e?d.reverse():d},e.tickFormat=function(t,n){if(null==n&&(n=10===f?".0e":","),"function"!=typeof n&&(n=F.format(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,f*t/e.ticks().length);return function(t){var e=t/m(Math.round(p(t)));return e*f<f-.5&&(e*=f),e<=r?n(t):""}},e.nice=function(){return h(rh(h(),{floor:function(t){return m(Math.floor(p(t)))},ceil:function(t){return m(Math.ceil(p(t)))}}))},e.copy=function(){return th(e,t().base(f))},e},F.scaleOrdinal=qd,F.scaleImplicit=Ud,F.scalePow=dh,F.scaleSqrt=function(){return dh().exponent(.5)},F.scaleQuantile=function t(){var i=[],n=[],r=[];function a(){var t=0,e=Math.max(1,n.length);for(r=new Array(e-1);++t<e;)r[t-1]=b(i,t/e);return o}function o(t){if(!isNaN(t=+t))return n[m(r,t)]}return o.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[0<e?r[e-1]:i[0],e<r.length?r[e]:i[i.length-1]]},o.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var e,n=0,r=t.length;n<r;++n)null==(e=t[n])||isNaN(e=+e)||i.push(e);return i.sort(s),a()},o.range=function(t){return arguments.length?(n=Wd.call(t),a()):n.slice()},o.quantiles=function(){return r.slice()},o.copy=function(){return t().domain(i).range(n)},o},F.scaleQuantize=function t(){var n=0,r=1,i=1,a=[.5],o=[0,1];function e(t){if(t<=t)return o[m(a,t,0,i)]}function s(){var t=-1;for(a=new Array(i);++t<i;)a[t]=((t+1)*r-(t-i)*n)/(i+1);return e}return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],s()):[n,r]},e.range=function(t){return arguments.length?(i=(o=Wd.call(t)).length-1,s()):o.slice()},e.invertExtent=function(t){var e=o.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,a[0]]:i<=e?[a[i-1],r]:[a[e-1],a[e]]},e.copy=function(){return t().domain([n,r]).range(o)},nh(e)},F.scaleThreshold=function t(){var n=[.5],r=[0,1],e=1;function i(t){if(t<=t)return r[m(n,t,0,e)]}return i.domain=function(t){return arguments.length?(n=Wd.call(t),e=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(t){return arguments.length?(r=Wd.call(t),e=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},i.copy=function(){return t().domain(n).range(r)},i},F.scaleTime=function(){return Vp(Uh,Bh,Ch,Sh,xh,Mh,bh,mh,F.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},F.scaleUtc=function(){return Vp(vf,mf,tf,Xh,Kh,Vh,bh,mh,F.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},F.schemeCategory10=Kp,F.schemeCategory20b=Jp,F.schemeCategory20c=Xp,F.schemeCategory20=Zp,F.interpolateCubehelixDefault=Qp,F.interpolateRainbow=function(t){(t<0||1<t)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return nm.h=360*t-100,nm.s=1.5-1.5*e,nm.l=.8-.9*e,nm+""},F.interpolateWarm=tm,F.interpolateCool=em,F.interpolateViridis=im,F.interpolateMagma=am,F.interpolateInferno=om,F.interpolatePlasma=sm,F.scaleSequential=function t(n){var r=0,i=1,a=!1;function e(t){var e=(t-r)/(i-r);return n(a?Math.max(0,Math.min(1,e)):e)}return e.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],e):[r,i]},e.clamp=function(t){return arguments.length?(a=!!t,e):a},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return t(n).domain([r,i]).clamp(a)},nh(e)},F.create=function(t){return Nt(G(t).call(document.documentElement))},F.creator=G,F.local=Rt,F.matcher=nt,F.mouse=Ft,F.namespace=V,F.namespaces=q,F.clientPoint=jt,F.select=Nt,F.selectAll=function(t){return"string"==typeof t?new Yt([document.querySelectorAll(t)],[document.documentElement]):new Yt([null==t?[]:t],Et)},F.selection=At,F.selector=J,F.selectorAll=Z,F.style=ct,F.touch=It,F.touches=function(t,e){null==e&&(e=Pt().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=jt(t,e[n]);return i},F.window=ut,F.customEvent=Ct,F.arc=function(){var G=wm,K=Mm,J=lm(0),X=null,Z=$m,Q=xm,tt=km,et=null;function e(){var t,e,n,r,i,a,o,s,l,u,c,d,h=+G.apply(this,arguments),f=+K.apply(this,arguments),p=Z.apply(this,arguments)-ym,m=Q.apply(this,arguments)-ym,g=um(m-p),v=p<m;if(et||(et=t=Ui()),f<h&&(e=f,f=h,h=e),gm<f)if(_m-gm<g)et.moveTo(f*dm(p),f*pm(p)),et.arc(0,0,f,p,m,!v),gm<h&&(et.moveTo(h*dm(m),h*pm(m)),et.arc(0,0,h,m,p,v));else{var y,_,b=p,w=m,M=p,$=m,x=g,k=g,S=tt.apply(this,arguments)/2,T=gm<S&&(X?+X.apply(this,arguments):mm(h*h+f*f)),L=fm(um(f-h)/2,+J.apply(this,arguments)),C=L,D=L;if(gm<T){var E=bm(T/h*pm(S)),Y=bm(T/f*pm(S));(x-=2*E)>gm?(M+=E*=v?1:-1,$-=E):(x=0,M=$=(p+m)/2),(k-=2*Y)>gm?(b+=Y*=v?1:-1,w-=Y):(k=0,b=w=(p+m)/2)}var A=f*dm(b),N=f*pm(b),O=h*dm($),R=h*pm($);if(gm<L){var H=f*dm(w),P=f*pm(w),j=h*dm(M),F=h*pm(M);if(g<vm){var I=gm<x?[(r=A)+(d=((u=O-(a=H))*((i=N)-(o=P))-(c=R-o)*(r-a))/(c*(s=j-r)-u*(l=F-i)))*s,i+d*l]:[O,R],z=A-I[0],B=N-I[1],W=H-I[0],U=P-I[1],q=1/pm((1<(n=(z*W+B*U)/(mm(z*z+B*B)*mm(W*W+U*U)))?0:n<-1?vm:Math.acos(n))/2),V=mm(I[0]*I[0]+I[1]*I[1]);C=fm(L,(h-V)/(q-1)),D=fm(L,(f-V)/(q+1))}}gm<k?gm<D?(y=Sm(j,F,A,N,f,D,v),_=Sm(H,P,O,R,f,D,v),et.moveTo(y.cx+y.x01,y.cy+y.y01),D<L?et.arc(y.cx,y.cy,D,cm(y.y01,y.x01),cm(_.y01,_.x01),!v):(et.arc(y.cx,y.cy,D,cm(y.y01,y.x01),cm(y.y11,y.x11),!v),et.arc(0,0,f,cm(y.cy+y.y11,y.cx+y.x11),cm(_.cy+_.y11,_.cx+_.x11),!v),et.arc(_.cx,_.cy,D,cm(_.y11,_.x11),cm(_.y01,_.x01),!v))):(et.moveTo(A,N),et.arc(0,0,f,b,w,!v)):et.moveTo(A,N),gm<h&&gm<x?gm<C?(y=Sm(O,R,H,P,h,-C,v),_=Sm(A,N,j,F,h,-C,v),et.lineTo(y.cx+y.x01,y.cy+y.y01),C<L?et.arc(y.cx,y.cy,C,cm(y.y01,y.x01),cm(_.y01,_.x01),!v):(et.arc(y.cx,y.cy,C,cm(y.y01,y.x01),cm(y.y11,y.x11),!v),et.arc(0,0,h,cm(y.cy+y.y11,y.cx+y.x11),cm(_.cy+_.y11,_.cx+_.x11),v),et.arc(_.cx,_.cy,C,cm(_.y11,_.x11),cm(_.y01,_.x01),!v))):et.arc(0,0,h,$,M,v):et.lineTo(O,R)}else et.moveTo(0,0);if(et.closePath(),t)return et=null,t+""||null}return e.centroid=function(){var t=(+G.apply(this,arguments)+ +K.apply(this,arguments))/2,e=(+Z.apply(this,arguments)+ +Q.apply(this,arguments))/2-vm/2;return[dm(e)*t,pm(e)*t]},e.innerRadius=function(t){return arguments.length?(G="function"==typeof t?t:lm(+t),e):G},e.outerRadius=function(t){return arguments.length?(K="function"==typeof t?t:lm(+t),e):K},e.cornerRadius=function(t){return arguments.length?(J="function"==typeof t?t:lm(+t),e):J},e.padRadius=function(t){return arguments.length?(X=null==t?null:"function"==typeof t?t:lm(+t),e):X},e.startAngle=function(t){return arguments.length?(Z="function"==typeof t?t:lm(+t),e):Z},e.endAngle=function(t){return arguments.length?(Q="function"==typeof t?t:lm(+t),e):Q},e.padAngle=function(t){return arguments.length?(tt="function"==typeof t?t:lm(+t),e):tt},e.context=function(t){return arguments.length?(et=null==t?null:t,e):et},e},F.area=Ym,F.line=Em,F.pie=function(){var p=Nm,m=Am,g=null,v=lm(0),y=lm(_m),_=lm(0);function e(n){var t,e,r,i,a,o=n.length,s=0,l=new Array(o),u=new Array(o),c=+v.apply(this,arguments),d=Math.min(_m,Math.max(-_m,y.apply(this,arguments)-c)),h=Math.min(Math.abs(d)/o,_.apply(this,arguments)),f=h*(d<0?-1:1);for(t=0;t<o;++t)0<(a=u[l[t]=t]=+p(n[t],t,n))&&(s+=a);for(null!=m?l.sort(function(t,e){return m(u[t],u[e])}):null!=g&&l.sort(function(t,e){return g(n[t],n[e])}),t=0,r=s?(d-o*f)/s:0;t<o;++t,c=i)e=l[t],i=c+(0<(a=u[e])?a*r:0)+f,u[e]={data:n[e],index:t,value:a,startAngle:c,endAngle:i,padAngle:h};return u}return e.value=function(t){return arguments.length?(p="function"==typeof t?t:lm(+t),e):p},e.sortValues=function(t){return arguments.length?(m=t,g=null,e):m},e.sort=function(t){return arguments.length?(g=t,m=null,e):g},e.startAngle=function(t){return arguments.length?(v="function"==typeof t?t:lm(+t),e):v},e.endAngle=function(t){return arguments.length?(y="function"==typeof t?t:lm(+t),e):y},e.padAngle=function(t){return arguments.length?(_="function"==typeof t?t:lm(+t),e):_},e},F.areaRadial=Fm,F.radialArea=Fm,F.lineRadial=jm,F.radialLine=jm,F.pointRadial=Im,F.linkHorizontal=function(){return Um(qm)},F.linkVertical=function(){return Um(Vm)},F.linkRadial=function(){var t=Um(Gm);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},F.symbol=function(){var e=lm(Km),n=lm(64),r=null;function i(){var t;if(r||(r=t=Ui()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}return i.type=function(t){return arguments.length?(e="function"==typeof t?t:lm(t),i):e},i.size=function(t){return arguments.length?(n="function"==typeof t?t:lm(+t),i):n},i.context=function(t){return arguments.length?(r=null==t?null:t,i):r},i},F.symbols=hg,F.symbolCircle=Km,F.symbolCross=Jm,F.symbolDiamond=Qm,F.symbolSquare=ig,F.symbolStar=rg,F.symbolTriangle=og,F.symbolWye=dg,F.curveBasisClosed=function(t){return new gg(t)},F.curveBasisOpen=function(t){return new vg(t)},F.curveBasis=function(t){return new mg(t)},F.curveBundle=_g,F.curveCardinalClosed=xg,F.curveCardinalOpen=Sg,F.curveCardinal=Mg,F.curveCatmullRomClosed=Eg,F.curveCatmullRomOpen=Ag,F.curveCatmullRom=Cg,F.curveLinearClosed=function(t){return new Ng(t)},F.curveLinear=Lm,F.curveMonotoneX=function(t){return new jg(t)},F.curveMonotoneY=function(t){return new Fg(t)},F.curveNatural=function(t){return new zg(t)},F.curveStep=function(t){return new Wg(t,.5)},F.curveStepAfter=function(t){return new Wg(t,1)},F.curveStepBefore=function(t){return new Wg(t,0)},F.stack=function(){var d=lm([]),h=qg,f=Ug,p=Vg;function e(t){var e,n,r=d.apply(this,arguments),i=t.length,a=r.length,o=new Array(a);for(e=0;e<a;++e){for(var s,l=r[e],u=o[e]=new Array(i),c=0;c<i;++c)u[c]=s=[0,+p(t[c],l,c,t)],s.data=t[c];u.key=l}for(e=0,n=h(o);e<a;++e)o[n[e]].index=e;return f(o,n),o}return e.keys=function(t){return arguments.length?(d="function"==typeof t?t:lm(zm.call(t)),e):d},e.value=function(t){return arguments.length?(p="function"==typeof t?t:lm(+t),e):p},e.order=function(t){return arguments.length?(h=null==t?qg:"function"==typeof t?t:lm(zm.call(t)),e):h},e.offset=function(t){return arguments.length?(f=null==t?Ug:t,e):f},e},F.stackOffsetExpand=function(t,e){if(0<(r=t.length)){for(var n,r,i,a=0,o=t[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=t[n][a][1]||0;if(i)for(n=0;n<r;++n)t[n][a][1]/=i}Ug(t,e)}},F.stackOffsetDiverging=function(t,e){if(1<(s=t.length))for(var n,r,i,a,o,s,l=0,u=t[e[0]].length;l<u;++l)for(a=o=0,n=0;n<s;++n)0<=(i=(r=t[e[n]][l])[1]-r[0])?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):r[0]=a},F.stackOffsetNone=Ug,F.stackOffsetSilhouette=function(t,e){if(0<(n=t.length)){for(var n,r=0,i=t[e[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=t[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}Ug(t,e)}},F.stackOffsetWiggle=function(t,e){if(0<(i=t.length)&&0<(r=(n=t[e[0]]).length)){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,u=0;s<i;++s){for(var c=t[e[s]],d=c[o][1]||0,h=(d-(c[o-1][1]||0))/2,f=0;f<s;++f){var p=t[e[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,u+=h*d}n[o-1][1]+=n[o-1][0]=a,l&&(a-=u/l)}n[o-1][1]+=n[o-1][0]=a,Ug(t,e)}},F.stackOrderAscending=Gg,F.stackOrderDescending=function(t){return Gg(t).reverse()},F.stackOrderInsideOut=function(t){var e,n,r=t.length,i=t.map(Kg),a=qg(t).sort(function(t,e){return i[e]-i[t]}),o=0,s=0,l=[],u=[];for(e=0;e<r;++e)n=a[e],o<s?(o+=i[n],l.push(n)):(s+=i[n],u.push(n));return u.reverse().concat(l)},F.stackOrderNone=qg,F.stackOrderReverse=function(t){return qg(t).reverse()},F.timeInterval=ph,F.timeMillisecond=mh,F.timeMilliseconds=gh,F.utcMillisecond=mh,F.utcMilliseconds=gh,F.timeSecond=bh,F.timeSeconds=wh,F.utcSecond=bh,F.utcSeconds=wh,F.timeMinute=Mh,F.timeMinutes=$h,F.timeHour=xh,F.timeHours=kh,F.timeDay=Sh,F.timeDays=Th,F.timeWeek=Ch,F.timeWeeks=Rh,F.timeSunday=Ch,F.timeSundays=Rh,F.timeMonday=Dh,F.timeMondays=Hh,F.timeTuesday=Eh,F.timeTuesdays=Ph,F.timeWednesday=Yh,F.timeWednesdays=jh,F.timeThursday=Ah,F.timeThursdays=Fh,F.timeFriday=Nh,F.timeFridays=Ih,F.timeSaturday=Oh,F.timeSaturdays=zh,F.timeMonth=Bh,F.timeMonths=Wh,F.timeYear=Uh,F.timeYears=qh,F.utcMinute=Vh,F.utcMinutes=Gh,F.utcHour=Kh,F.utcHours=Jh,F.utcDay=Xh,F.utcDays=Zh,F.utcWeek=tf,F.utcWeeks=lf,F.utcSunday=tf,F.utcSundays=lf,F.utcMonday=ef,F.utcMondays=uf,F.utcTuesday=nf,F.utcTuesdays=cf,F.utcWednesday=rf,F.utcWednesdays=df,F.utcThursday=af,F.utcThursdays=hf,F.utcFriday=of,F.utcFridays=ff,F.utcSaturday=sf,F.utcSaturdays=pf,F.utcMonth=mf,F.utcMonths=gf,F.utcYear=vf,F.utcYears=yf,F.timeFormatDefaultLocale=Np,F.timeFormatLocale=Mf,F.isoFormat=Rp,F.isoParse=Hp,F.now=er,F.timer=ir,F.timerFlush=ar,F.timeout=ur,F.interval=function(n,r,i){var a=new rr,o=r;return null==r?a.restart(n,r,i):(r=+r,i=null==i?er():+i,a.restart(function t(e){e+=o,a.restart(t,o+=r,i),n(e)},r,i)),a},F.transition=Cr,F.active=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>fr&&n.name===e)return new Lr([[t]],ui,e,+r);return null},F.interrupt=$r,F.voronoi=function(){var i=Xg,a=Zg,e=null;function n(r){return new Dv(r.map(function(t,e){var n=[Math.round(i(t,e,r)/Tv)*Tv,Math.round(a(t,e,r)/Tv)*Tv];return n.index=e,n.data=t,n}),e)}return n.polygons=function(t){return n(t).polygons()},n.links=function(t){return n(t).links()},n.triangles=function(t){return n(t).triangles()},n.x=function(t){return arguments.length?(i="function"==typeof t?t:Jg(+t),n):i},n.y=function(t){return arguments.length?(a="function"==typeof t?t:Jg(+t),n):a},n.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],n):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},n.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],n):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},n},F.zoom=function(){var f,a,s=Pv,c=jv,p=Bv,i=Iv,e=zv,o=[0,1/0],m=[[-1/0,-1/0],[1/0,1/0]],l=250,d=Nn,u=[],n=I("start","zoom","end"),h=500,g=150,v=0;function y(t){t.property("__zoom",Fv).on("wheel.zoom",r).on("mousedown.zoom",k).on("dblclick.zoom",S).filter(e).on("touchstart.zoom",T).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(t,e){return(e=Math.max(o[0],Math.min(o[1],e)))===t.k?t:new Av(e,t.x,t.y)}function b(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Av(t.k,r,i)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function M(t,l,u){t.on("start.zoom",function(){$(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=$(this,t),e=c.apply(this,t),i=u||w(e),a=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),n=this.__zoom,o="function"==typeof l?l.apply(this,t):l,s=d(n.invert(i).concat(a/n.k),o.invert(i).concat(a/o.k));return function(t){if(1===t)t=o;else{var e=s(t),n=a/e[2];t=new Av(n,i[0]-e[0]*n,i[1]-e[1]*n)}r.zoom(null,t)}})}function $(t,e){for(var n,r=0,i=u.length;r<i;++r)if((n=u[r]).that===t)return n;return new x(t,e)}function x(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=c.apply(t,e)}function r(){if(s.apply(this,arguments)){var t=$(this,arguments),e=this.__zoom,n=Math.max(o[0],Math.min(o[1],e.k*Math.pow(2,i.apply(this,arguments)))),r=Ft(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=e.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[r,e.invert(r)],$r(this),t.start()}Hv(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},g),t.zoom("mouse",p(b(_(e,n),t.mouse[0],t.mouse[1]),t.extent,m))}}function k(){if(!a&&s.apply(this,arguments)){var n=$(this,arguments),t=Nt(F.event.view).on("mousemove.zoom",function(){if(Hv(),!n.moved){var t=F.event.clientX-r,e=F.event.clientY-i;n.moved=v<t*t+e*e}n.zoom("mouse",p(b(n.that.__zoom,n.mouse[0]=Ft(n.that),n.mouse[1]),n.extent,m))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),Ut(F.event.view,n.moved),Hv(),n.end()},!0),e=Ft(this),r=F.event.clientX,i=F.event.clientY;Wt(F.event.view),Rv(),n.mouse=[e,this.__zoom.invert(e)],$r(this),n.start()}}function S(){if(s.apply(this,arguments)){var t=this.__zoom,e=Ft(this),n=t.invert(e),r=t.k*(F.event.shiftKey?.5:2),i=p(b(_(t,r),e,n),c.apply(this,arguments),m);Hv(),0<l?Nt(this).transition().duration(l).call(M,i,e):Nt(this).call(y.transform,i)}}function T(){if(s.apply(this,arguments)){var t,e,n,r,i=$(this,arguments),a=F.event.changedTouches,o=a.length;for(Rv(),e=0;e<o;++e)r=[r=It(this,a,(n=a[e]).identifier),this.__zoom.invert(r),n.identifier],i.touch0?i.touch1||(i.touch1=r):(i.touch0=r,t=!0);if(f&&(f=clearTimeout(f),!i.touch1))return i.end(),void((r=Nt(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(f=setTimeout(function(){f=null},h),$r(this),i.start())}}function L(){var t,e,n,r,i=$(this,arguments),a=F.event.changedTouches,o=a.length;for(Hv(),f&&(f=clearTimeout(f)),t=0;t<o;++t)n=It(this,a,(e=a[t]).identifier),i.touch0&&i.touch0[2]===e.identifier?i.touch0[0]=n:i.touch1&&i.touch1[2]===e.identifier&&(i.touch1[0]=n);if(e=i.that.__zoom,i.touch1){var s=i.touch0[0],l=i.touch0[1],u=i.touch1[0],c=i.touch1[1],d=(d=u[0]-s[0])*d+(d=u[1]-s[1])*d,h=(h=c[0]-l[0])*h+(h=c[1]-l[1])*h;e=_(e,Math.sqrt(d/h)),n=[(s[0]+u[0])/2,(s[1]+u[1])/2],r=[(l[0]+c[0])/2,(l[1]+c[1])/2]}else{if(!i.touch0)return;n=i.touch0[0],r=i.touch0[1]}i.zoom("touch",p(b(e,n,r),i.extent,m))}function C(){var t,e,n=$(this,arguments),r=F.event.changedTouches,i=r.length;for(Rv(),a&&clearTimeout(a),a=setTimeout(function(){a=null},h),t=0;t<i;++t)e=r[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}return y.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Fv),t!==n?M(t,e):n.interrupt().each(function(){$(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},y.scaleBy=function(t,e){y.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},y.scaleTo=function(t,a){y.transform(t,function(){var t=c.apply(this,arguments),e=this.__zoom,n=w(t),r=e.invert(n),i="function"==typeof a?a.apply(this,arguments):a;return p(b(_(e,i),n,r),t,m)})},y.translateBy=function(t,e,n){y.transform(t,function(){return p(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),c.apply(this,arguments),m)})},y.translateTo=function(t,r,i){y.transform(t,function(){var t=c.apply(this,arguments),e=this.__zoom,n=w(t);return p(Nv.translate(n[0],n[1]).scale(e.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof i?-i.apply(this,arguments):-i),t,m)})},x.prototype={start:function(){return 1==++this.active&&(this.index=u.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(u.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Ct(new Yv(y,t,this.that.__zoom),n.apply,n,[t,this.that,this.args])}},y.wheelDelta=function(t){return arguments.length?(i="function"==typeof t?t:Ev(+t),y):i},y.filter=function(t){return arguments.length?(s="function"==typeof t?t:Ev(!!t),y):s},y.touchable=function(t){return arguments.length?(e="function"==typeof t?t:Ev(!!t),y):e},y.extent=function(t){return arguments.length?(c="function"==typeof t?t:Ev([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):c},y.scaleExtent=function(t){return arguments.length?(o[0]=+t[0],o[1]=+t[1],y):[o[0],o[1]]},y.translateExtent=function(t){return arguments.length?(m[0][0]=+t[0][0],m[1][0]=+t[1][0],m[0][1]=+t[0][1],m[1][1]=+t[1][1],y):[[m[0][0],m[0][1]],[m[1][0],m[1][1]]]},y.constrain=function(t){return arguments.length?(p=t,y):p},y.duration=function(t){return arguments.length?(l=+t,y):l},y.interpolate=function(t){return arguments.length?(d=t,y):d},y.on=function(){var t=n.on.apply(n,arguments);return t===n?y:t},y.clickDistance=function(t){return arguments.length?(v=(t=+t)*t,y):Math.sqrt(v)},y},F.zoomTransform=Ov,F.zoomIdentity=Nv,Object.defineProperty(F,"__esModule",{value:!0})}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function($,t){var e=[],x=$.document,c=e.slice,m=e.concat,s=e.push,i=e.indexOf,n={},r=n.toString,p=n.hasOwnProperty,g={},k=function(t,e){return new k.fn.init(t,e)},a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,l=/-([\da-z])/gi,u=function(t,e){return e.toUpperCase()};function d(t){var e=!!t&&"length"in t&&t.length,n=k.type(t);return"function"!==n&&!k.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}k.fn=k.prototype={jquery:"2.2.4",constructor:k,selector:"",length:0,toArray:function(){return c.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:c.call(this)},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return k.each(this,t)},map:function(n){return this.pushStack(k.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(0<=n&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:e.sort,splice:e.splice},k.extend=k.fn.extend=function(){var t,e,n,r,i,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"==typeof o||k.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=o[e],o!==(r=t[e])&&(u&&r&&(k.isPlainObject(r)||(i=k.isArray(r)))?(i?(i=!1,a=n&&k.isArray(n)?n:[]):a=n&&k.isPlainObject(n)?n:{},o[e]=k.extend(u,a,r)):void 0!==r&&(o[e]=r));return o},k.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===k.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!k.isArray(t)&&0<=e-parseFloat(e)+1},isPlainObject:function(t){var e;if("object"!==k.type(t)||t.nodeType||k.isWindow(t))return!1;if(t.constructor&&!p.call(t,"constructor")&&!p.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||p.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?n[r.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=k.trim(t))&&(1===t.indexOf("use strict")?((e=x.createElement("script")).text=t,x.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(o,"ms-").replace(l,u)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(d(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(a,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(d(Object(t))?k.merge(n,"string"==typeof t?[t]:t):s.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:i.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,a=t.length,o=!n;i<a;i++)!e(t[i],i)!==o&&r.push(t[i]);return r},map:function(t,e,n){var r,i,a=0,o=[];if(d(t))for(r=t.length;a<r;a++)null!=(i=e(t[a],a,n))&&o.push(i);else for(a in t)null!=(i=e(t[a],a,n))&&o.push(i);return m.apply([],o)},guid:1,proxy:function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),k.isFunction(t))return r=c.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(c.call(arguments)))}).guid=t.guid=t.guid||k.guid++,i},now:Date.now,support:g}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=e[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){n["[object "+e+"]"]=e.toLowerCase()});var h=function(n){var t,p,b,a,i,m,d,g,w,l,u,M,$,o,x,v,s,c,y,k="sizzle"+1*new Date,_=n.document,S=0,r=0,h=at(),f=at(),T=at(),L=function(t,e){return t===e&&(u=!0),0},C=1<<31,D={}.hasOwnProperty,e=[],E=e.pop,Y=e.push,A=e.push,N=e.slice,O=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",H="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",j="\\["+H+"*("+P+")(?:"+H+"*([*^$|!~]?=)"+H+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+H+"*\\]",F=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",I=new RegExp(H+"+","g"),z=new RegExp("^"+H+"+|((?:^|[^\\\\])(?:\\\\.)*)"+H+"+$","g"),B=new RegExp("^"+H+"*,"+H+"*"),W=new RegExp("^"+H+"*([>+~]|"+H+")"+H+"*"),U=new RegExp("="+H+"*([^\\]'\"]*?)"+H+"*\\]","g"),q=new RegExp(F),V=new RegExp("^"+P+"$"),G={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+H+"*(even|odd|(([+-]|)(\\d*)n|)"+H+"*(?:([+-]|)"+H+"*(\\d+)|))"+H+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+H+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+H+"*((?:-\\d)?\\d*)"+H+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,tt=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+H+"?|("+H+")|.)","ig"),nt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},rt=function(){M()};try{A.apply(e=N.call(_.childNodes),_.childNodes),e[_.childNodes.length].nodeType}catch(t){A={apply:e.length?function(t,e){Y.apply(t,N.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function it(t,e,n,r){var i,a,o,s,l,u,c,d,h=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!r&&((e?e.ownerDocument||e:_)!==$&&M(e),e=e||$,x)){if(11!==f&&(u=Z.exec(t)))if(i=u[1]){if(9===f){if(!(o=e.getElementById(i)))return n;if(o.id===i)return n.push(o),n}else if(h&&(o=h.getElementById(i))&&y(e,o)&&o.id===i)return n.push(o),n}else{if(u[2])return A.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&p.getElementsByClassName&&e.getElementsByClassName)return A.apply(n,e.getElementsByClassName(i)),n}if(p.qsa&&!T[t+" "]&&(!v||!v.test(t))){if(1!==f)h=e,d=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(tt,"\\$&"):e.setAttribute("id",s=k),a=(c=m(t)).length,l=V.test(s)?"#"+s:"[id='"+s+"']";a--;)c[a]=l+" "+mt(c[a]);d=c.join(","),h=Q.test(t)&&ft(e.parentNode)||e}if(d)try{return A.apply(n,h.querySelectorAll(d)),n}catch(t){}finally{s===k&&e.removeAttribute("id")}}}return g(t.replace(z,"$1"),e,n,r)}function at(){var r=[];return function t(e,n){return r.push(e+" ")>b.cacheLength&&delete t[r.shift()],t[e+" "]=n}}function ot(t){return t[k]=!0,t}function st(t){var e=$.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=e}function ut(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||C)-(~t.sourceIndex||C);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ct(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function dt(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}function ht(o){return ot(function(a){return a=+a,ot(function(t,e){for(var n,r=o([],t.length,a),i=r.length;i--;)t[n=r[i]]&&(t[n]=!(e[n]=t[n]))})})}function ft(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in p=it.support={},i=it.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},M=it.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:_;return r!==$&&9===r.nodeType&&r.documentElement&&(o=($=r).documentElement,x=!i($),(n=$.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",rt,!1):n.attachEvent&&n.attachEvent("onunload",rt)),p.attributes=st(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=st(function(t){return t.appendChild($.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=X.test($.getElementsByClassName),p.getById=st(function(t){return o.appendChild(t).id=k,!$.getElementsByName||!$.getElementsByName(k).length}),p.getById?(b.find.ID=function(t,e){if(void 0!==e.getElementById&&x){var n=e.getElementById(t);return n?[n]:[]}},b.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}}):(delete b.find.ID,b.filter.ID=function(t){var n=t.replace(et,nt);return function(t){var e=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return e&&e.value===n}}),b.find.TAG=p.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):p.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},b.find.CLASS=p.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&x)return e.getElementsByClassName(t)},s=[],v=[],(p.qsa=X.test($.querySelectorAll))&&(st(function(t){o.appendChild(t).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+H+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+H+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+k+"-]").length||v.push("~="),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+k+"+*").length||v.push(".#.+[+~]")}),st(function(t){var e=$.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+H+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(p.matchesSelector=X.test(c=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&st(function(t){p.disconnectedMatch=c.call(t,"div"),c.call(t,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),e=X.test(o.compareDocumentPosition),y=e||X.test(o.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},L=e?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===n?t===$||t.ownerDocument===_&&y(_,t)?-1:e===$||e.ownerDocument===_&&y(_,e)?1:l?O(l,t)-O(l,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var n,r=0,i=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!i||!a)return t===$?-1:e===$?1:i?-1:a?1:l?O(l,t)-O(l,e):0;if(i===a)return ut(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;o[r]===s[r];)r++;return r?ut(o[r],s[r]):o[r]===_?-1:s[r]===_?1:0}),$},it.matches=function(t,e){return it(t,null,null,e)},it.matchesSelector=function(t,e){if((t.ownerDocument||t)!==$&&M(t),e=e.replace(U,"='$1']"),p.matchesSelector&&x&&!T[e+" "]&&(!s||!s.test(e))&&(!v||!v.test(e)))try{var n=c.call(t,e);if(n||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return 0<it(e,$,null,[t]).length},it.contains=function(t,e){return(t.ownerDocument||t)!==$&&M(t),y(t,e)},it.attr=function(t,e){(t.ownerDocument||t)!==$&&M(t);var n=b.attrHandle[e.toLowerCase()],r=n&&D.call(b.attrHandle,e.toLowerCase())?n(t,e,!x):void 0;return void 0!==r?r:p.attributes||!x?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},it.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},it.uniqueSort=function(t){var e,n=[],r=0,i=0;if(u=!p.detectDuplicates,l=!p.sortStable&&t.slice(0),t.sort(L),u){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return l=null,t},a=it.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=a(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=a(e);return n},(b=it.selectors={cacheLength:50,createPseudo:ot,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||it.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&it.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=m(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=h[t+" "];return e||(e=new RegExp("(^|"+H+")"+t+"("+H+"|$)"))&&h(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(t){var e=it.attr(t,n);return null==e?"!="===r:!r||(e+="","="===r?e===i:"!="===r?e!==i:"^="===r?i&&0===e.indexOf(i):"*="===r?i&&-1<e.indexOf(i):"$="===r?i&&e.slice(-i.length)===i:"~="===r?-1<(" "+e.replace(I," ")+" ").indexOf(i):"|="===r&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(p,t,e,m,g){var v="nth"!==p.slice(0,3),y="last"!==p.slice(-4),_="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var r,i,a,o,s,l,u=v!==y?"nextSibling":"previousSibling",c=t.parentNode,d=_&&t.nodeName.toLowerCase(),h=!n&&!_,f=!1;if(c){if(v){for(;u;){for(o=t;o=o[u];)if(_?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=u="only"===p&&!l&&"nextSibling"}return!0}if(l=[y?c.firstChild:c.lastChild],y&&h){for(f=(s=(r=(i=(a=(o=c)[k]||(o[k]={}))[o.uniqueID]||(a[o.uniqueID]={}))[p]||[])[0]===S&&r[1])&&r[2],o=s&&c.childNodes[s];o=++s&&o&&o[u]||(f=s=0)||l.pop();)if(1===o.nodeType&&++f&&o===t){i[p]=[S,s,f];break}}else if(h&&(f=s=(r=(i=(a=(o=t)[k]||(o[k]={}))[o.uniqueID]||(a[o.uniqueID]={}))[p]||[])[0]===S&&r[1]),!1===f)for(;(o=++s&&o&&o[u]||(f=s=0)||l.pop())&&((_?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++f||(h&&((i=(a=o[k]||(o[k]={}))[o.uniqueID]||(a[o.uniqueID]={}))[p]=[S,f]),o!==t)););return(f-=g)===m||f%m==0&&0<=f/m}}},PSEUDO:function(t,a){var e,o=b.pseudos[t]||b.setFilters[t.toLowerCase()]||it.error("unsupported pseudo: "+t);return o[k]?o(a):1<o.length?(e=[t,t,"",a],b.setFilters.hasOwnProperty(t.toLowerCase())?ot(function(t,e){for(var n,r=o(t,a),i=r.length;i--;)t[n=O(t,r[i])]=!(e[n]=r[i])}):function(t){return o(t,0,e)}):o}},pseudos:{not:ot(function(t){var r=[],i=[],s=d(t.replace(z,"$1"));return s[k]?ot(function(t,e,n,r){for(var i,a=s(t,null,r,[]),o=t.length;o--;)(i=a[o])&&(t[o]=!(e[o]=i))}):function(t,e,n){return r[0]=t,s(r,null,n,i),r[0]=null,!i.pop()}}),has:ot(function(e){return function(t){return 0<it(e,t).length}}),contains:ot(function(e){return e=e.replace(et,nt),function(t){return-1<(t.textContent||t.innerText||a(t)).indexOf(e)}}),lang:ot(function(n){return V.test(n||"")||it.error("unsupported lang: "+n),n=n.replace(et,nt).toLowerCase(),function(t){var e;do{if(e=x?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===o},focus:function(t){return t===$.activeElement&&(!$.hasFocus||$.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ht(function(){return[0]}),last:ht(function(t,e){return[e-1]}),eq:ht(function(t,e,n){return[n<0?n+e:n]}),even:ht(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ht(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ht(function(t,e,n){for(var r=n<0?n+e:n;0<=--r;)t.push(r);return t}),gt:ht(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})b.pseudos[t]=dt(t);function pt(){}function mt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function gt(s,t,e){var l=t.dir,u=e&&"parentNode"===l,c=r++;return t.first?function(t,e,n){for(;t=t[l];)if(1===t.nodeType||u)return s(t,e,n)}:function(t,e,n){var r,i,a,o=[S,c];if(n){for(;t=t[l];)if((1===t.nodeType||u)&&s(t,e,n))return!0}else for(;t=t[l];)if(1===t.nodeType||u){if((r=(i=(a=t[k]||(t[k]={}))[t.uniqueID]||(a[t.uniqueID]={}))[l])&&r[0]===S&&r[1]===c)return o[2]=r[2];if((i[l]=o)[2]=s(t,e,n))return!0}}}function vt(i){return 1<i.length?function(t,e,n){for(var r=i.length;r--;)if(!i[r](t,e,n))return!1;return!0}:i[0]}function yt(t,e,n,r,i){for(var a,o=[],s=0,l=t.length,u=null!=e;s<l;s++)(a=t[s])&&(n&&!n(a,r,i)||(o.push(a),u&&e.push(s)));return o}function _t(f,p,m,g,v,t){return g&&!g[k]&&(g=_t(g)),v&&!v[k]&&(v=_t(v,t)),ot(function(t,e,n,r){var i,a,o,s=[],l=[],u=e.length,c=t||function(t,e,n){for(var r=0,i=e.length;r<i;r++)it(t,e[r],n);return n}(p||"*",n.nodeType?[n]:n,[]),d=!f||!t&&p?c:yt(c,s,f,n,r),h=m?v||(t?f:u||g)?[]:e:d;if(m&&m(d,h,n,r),g)for(i=yt(h,l),g(i,[],n,r),a=i.length;a--;)(o=i[a])&&(h[l[a]]=!(d[l[a]]=o));if(t){if(v||f){if(v){for(i=[],a=h.length;a--;)(o=h[a])&&i.push(d[a]=o);v(null,h=[],i,r)}for(a=h.length;a--;)(o=h[a])&&-1<(i=v?O(t,o):s[a])&&(t[i]=!(e[i]=o))}}else h=yt(h===e?h.splice(u,h.length):h),v?v(null,e,h,r):A.apply(e,h)})}function bt(t){for(var i,e,n,r=t.length,a=b.relative[t[0].type],o=a||b.relative[" "],s=a?1:0,l=gt(function(t){return t===i},o,!0),u=gt(function(t){return-1<O(i,t)},o,!0),c=[function(t,e,n){var r=!a&&(n||e!==w)||((i=e).nodeType?l(t,e,n):u(t,e,n));return i=null,r}];s<r;s++)if(e=b.relative[t[s].type])c=[gt(vt(c),e)];else{if((e=b.filter[t[s].type].apply(null,t[s].matches))[k]){for(n=++s;n<r&&!b.relative[t[n].type];n++);return _t(1<s&&vt(c),1<s&&mt(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(z,"$1"),e,s<n&&bt(t.slice(s,n)),n<r&&bt(t=t.slice(n)),n<r&&mt(t))}c.push(e)}return vt(c)}return pt.prototype=b.filters=b.pseudos,b.setFilters=new pt,m=it.tokenize=function(t,e){var n,r,i,a,o,s,l,u=f[t+" "];if(u)return e?0:u.slice(0);for(o=t,s=[],l=b.preFilter;o;){for(a in n&&!(r=B.exec(o))||(r&&(o=o.slice(r[0].length)||o),s.push(i=[])),n=!1,(r=W.exec(o))&&(n=r.shift(),i.push({value:n,type:r[0].replace(z," ")}),o=o.slice(n.length)),b.filter)!(r=G[a].exec(o))||l[a]&&!(r=l[a](r))||(n=r.shift(),i.push({value:n,type:a,matches:r}),o=o.slice(n.length));if(!n)break}return e?o.length:o?it.error(t):f(t,s).slice(0)},d=it.compile=function(t,e){var n,g,v,y,_,r,i=[],a=[],o=T[t+" "];if(!o){for(e||(e=m(t)),n=e.length;n--;)(o=bt(e[n]))[k]?i.push(o):a.push(o);(o=T(t,(g=a,y=0<(v=i).length,_=0<g.length,r=function(t,e,n,r,i){var a,o,s,l=0,u="0",c=t&&[],d=[],h=w,f=t||_&&b.find.TAG("*",i),p=S+=null==h?1:Math.random()||.1,m=f.length;for(i&&(w=e===$||e||i);u!==m&&null!=(a=f[u]);u++){if(_&&a){for(o=0,e||a.ownerDocument===$||(M(a),n=!x);s=g[o++];)if(s(a,e||$,n)){r.push(a);break}i&&(S=p)}y&&((a=!s&&a)&&l--,t&&c.push(a))}if(l+=u,y&&u!==l){for(o=0;s=v[o++];)s(c,d,e,n);if(t){if(0<l)for(;u--;)c[u]||d[u]||(d[u]=E.call(r));d=yt(d)}A.apply(r,d),i&&!t&&0<d.length&&1<l+v.length&&it.uniqueSort(r)}return i&&(S=p,w=h),c},y?ot(r):r))).selector=t}return o},g=it.select=function(t,e,n,r){var i,a,o,s,l,u="function"==typeof t&&t,c=!r&&m(t=u.selector||t);if(n=n||[],1===c.length){if(2<(a=c[0]=c[0].slice(0)).length&&"ID"===(o=a[0]).type&&p.getById&&9===e.nodeType&&x&&b.relative[a[1].type]){if(!(e=(b.find.ID(o.matches[0].replace(et,nt),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(i=G.needsContext.test(t)?0:a.length;i--&&(o=a[i],!b.relative[s=o.type]);)if((l=b.find[s])&&(r=l(o.matches[0].replace(et,nt),Q.test(a[0].type)&&ft(e.parentNode)||e))){if(a.splice(i,1),!(t=r.length&&mt(a)))return A.apply(n,r),n;break}}return(u||d(t,c))(r,e,!x,n,!e||Q.test(t)&&ft(e.parentNode)||e),n},p.sortStable=k.split("").sort(L).join("")===k,p.detectDuplicates=!!u,M(),p.sortDetached=st(function(t){return 1&t.compareDocumentPosition($.createElement("div"))}),st(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&st(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),st(function(t){return null==t.getAttribute("disabled")})||lt(R,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),it}($);k.find=h,k.expr=h.selectors,k.expr[":"]=k.expr.pseudos,k.uniqueSort=k.unique=h.uniqueSort,k.text=h.getText,k.isXMLDoc=h.isXML,k.contains=h.contains;var f=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&k(t).is(n))break;r.push(t)}return r},v=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},y=k.expr.match.needsContext,_=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,b=/^.[^:#\[\.,]*$/;function w(t,n,r){if(k.isFunction(n))return k.grep(t,function(t,e){return!!n.call(t,e,t)!==r});if(n.nodeType)return k.grep(t,function(t){return t===n!==r});if("string"==typeof n){if(b.test(n))return k.filter(n,t,r);n=k.filter(n,t)}return k.grep(t,function(t){return-1<i.call(n,t)!==r})}k.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?k.find.matchesSelector(r,t)?[r]:[]:k.find.matches(t,k.grep(e,function(t){return 1===t.nodeType}))},k.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(k(t).filter(function(){for(e=0;e<n;e++)if(k.contains(i[e],this))return!0}));for(e=0;e<n;e++)k.find(t,i[e],r);return(r=this.pushStack(1<n?k.unique(r):r)).selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(w(this,t||[],!1))},not:function(t){return this.pushStack(w(this,t||[],!0))},is:function(t){return!!w(this,"string"==typeof t&&y.test(t)?k(t):t||[],!1).length}});var M,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(k.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||M,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:S.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof k?e[0]:e,k.merge(this,k.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:x,!0)),_.test(r[1])&&k.isPlainObject(e))for(r in e)k.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=x.getElementById(r[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=x,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):k.isFunction(t)?void 0!==n.ready?n.ready(t):t(k):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),k.makeArray(t,this))}).prototype=k.fn,M=k(x);var T=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function C(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(k.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,a=[],o=y.test(t)||"string"!=typeof t?k(t,e||this.context):0;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?-1<o.index(n):1===n.nodeType&&k.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(1<a.length?k.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?i.call(k(t),this[0]):i.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return f(t,"parentNode")},parentsUntil:function(t,e,n){return f(t,"parentNode",n)},next:function(t){return C(t,"nextSibling")},prev:function(t){return C(t,"previousSibling")},nextAll:function(t){return f(t,"nextSibling")},prevAll:function(t){return f(t,"previousSibling")},nextUntil:function(t,e,n){return f(t,"nextSibling",n)},prevUntil:function(t,e,n){return f(t,"previousSibling",n)},siblings:function(t){return v((t.parentNode||{}).firstChild,t)},children:function(t){return v(t.firstChild)},contents:function(t){return t.contentDocument||k.merge([],t.childNodes)}},function(r,i){k.fn[r]=function(t,e){var n=k.map(this,i,t);return"Until"!==r.slice(-5)&&(e=t),e&&"string"==typeof e&&(n=k.filter(e,n)),1<this.length&&(L[r]||k.uniqueSort(n),T.test(r)&&n.reverse()),this.pushStack(n)}});var D,E=/\S+/g;function Y(){x.removeEventListener("DOMContentLoaded",Y),$.removeEventListener("load",Y),k.ready()}k.Callbacks=function(r){var t,n;r="string"==typeof r?(t=r,n={},k.each(t.match(E)||[],function(t,e){n[e]=!0}),n):k.extend({},r);var i,e,a,o,s=[],l=[],u=-1,c=function(){for(o=r.once,a=i=!0;l.length;u=-1)for(e=l.shift();++u<s.length;)!1===s[u].apply(e[0],e[1])&&r.stopOnFalse&&(u=s.length,e=!1);r.memory||(e=!1),i=!1,o&&(s=e?[]:"")},d={add:function(){return s&&(e&&!i&&(u=s.length-1,l.push(e)),function n(t){k.each(t,function(t,e){k.isFunction(e)?r.unique&&d.has(e)||s.push(e):e&&e.length&&"string"!==k.type(e)&&n(e)})}(arguments),e&&!i&&c()),this},remove:function(){return k.each(arguments,function(t,e){for(var n;-1<(n=k.inArray(e,s,n));)s.splice(n,1),n<=u&&u--}),this},has:function(t){return t?-1<k.inArray(t,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return o=l=[],s=e="",this},disabled:function(){return!s},lock:function(){return o=l=[],e||(s=e=""),this},locked:function(){return!!o},fireWith:function(t,e){return o||(e=[t,(e=e||[]).slice?e.slice():e],l.push(e),i||c()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!a}};return d},k.extend({Deferred:function(t){var a=[["resolve","done",k.Callbacks("once memory"),"resolved"],["reject","fail",k.Callbacks("once memory"),"rejected"],["notify","progress",k.Callbacks("memory")]],i="pending",o={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var i=arguments;return k.Deferred(function(r){k.each(a,function(t,e){var n=k.isFunction(i[t])&&i[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&k.isFunction(t.promise)?t.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[e[0]+"With"](this===o?r.promise():this,n?[t]:arguments)})}),i=null}).promise()},promise:function(t){return null!=t?k.extend(t,o):o}},s={};return o.pipe=o.then,k.each(a,function(t,e){var n=e[2],r=e[3];o[e[1]]=n.add,r&&n.add(function(){i=r},a[1^t][2].disable,a[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?o:this,arguments),this},s[e[0]+"With"]=n.fireWith}),o.promise(s),t&&t.call(s,s),s},when:function(t){var i,e,n,r=0,a=c.call(arguments),o=a.length,s=1!==o||t&&k.isFunction(t.promise)?o:0,l=1===s?t:k.Deferred(),u=function(e,n,r){return function(t){n[e]=this,r[e]=1<arguments.length?c.call(arguments):t,r===i?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(1<o)for(i=new Array(o),e=new Array(o),n=new Array(o);r<o;r++)a[r]&&k.isFunction(a[r].promise)?a[r].promise().progress(u(r,e,i)).done(u(r,n,a)).fail(l.reject):--s;return s||l.resolveWith(n,a),l.promise()}}),k.fn.ready=function(t){return k.ready.promise().done(t),this},k.extend({isReady:!1,readyWait:1,holdReady:function(t){t?k.readyWait++:k.ready(!0)},ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0)!==t&&0<--k.readyWait||(D.resolveWith(x,[k]),k.fn.triggerHandler&&(k(x).triggerHandler("ready"),k(x).off("ready")))}}),k.ready.promise=function(t){return D||(D=k.Deferred(),"complete"===x.readyState||"loading"!==x.readyState&&!x.documentElement.doScroll?$.setTimeout(k.ready):(x.addEventListener("DOMContentLoaded",Y),$.addEventListener("load",Y))),D.promise(t)},k.ready.promise();var A=function(t,e,n,r,i,a,o){var s=0,l=t.length,u=null==n;if("object"===k.type(n))for(s in i=!0,n)A(t,e,s,n[s],!0,a,o);else if(void 0!==r&&(i=!0,k.isFunction(r)||(o=!0),u&&(o?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(k(t),n)})),e))for(;s<l;s++)e(t[s],n,o?r:r.call(t[s],s,e(t[s],n)));return i?t:u?e.call(t):l?e(t[0],n):a},N=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function O(){this.expando=k.expando+O.uid++}O.uid=1,O.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!N(t))return{};var e=t[this.expando];return e||(e={},N(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[e]=n;else for(r in e)i[r]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(r=this.get(t,e))?r:this.get(t,k.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,a=t[this.expando];if(void 0!==a){if(void 0===e)this.register(t);else{k.isArray(e)?r=e.concat(e.map(k.camelCase)):(i=k.camelCase(e),r=e in a?[e,i]:(r=i)in a?[r]:r.match(E)||[]),n=r.length;for(;n--;)delete a[r[n]]}(void 0===e||k.isEmptyObject(a))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var R=new O,H=new O,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,j=/[A-Z]/g;function F(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(j,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:P.test(n)?k.parseJSON(n):n)}catch(t){}H.set(t,e,n)}else n=void 0;return n}k.extend({hasData:function(t){return H.hasData(t)||R.hasData(t)},data:function(t,e,n){return H.access(t,e,n)},removeData:function(t,e){H.remove(t,e)},_data:function(t,e,n){return R.access(t,e,n)},_removeData:function(t,e){R.remove(t,e)}}),k.fn.extend({data:function(r,t){var e,n,i,a=this[0],o=a&&a.attributes;if(void 0===r){if(this.length&&(i=H.get(a),1===a.nodeType&&!R.get(a,"hasDataAttrs"))){for(e=o.length;e--;)o[e]&&0===(n=o[e].name).indexOf("data-")&&(n=k.camelCase(n.slice(5)),F(a,n,i[n]));R.set(a,"hasDataAttrs",!0)}return i}return"object"==typeof r?this.each(function(){H.set(this,r)}):A(this,function(e){var t,n;if(a&&void 0===e)return void 0!==(t=H.get(a,r)||H.get(a,r.replace(j,"-$&").toLowerCase()))?t:(n=k.camelCase(r),void 0!==(t=H.get(a,n))?t:void 0!==(t=F(a,n,void 0))?t:void 0);n=k.camelCase(r),this.each(function(){var t=H.get(this,n);H.set(this,n,e),-1<r.indexOf("-")&&void 0!==t&&H.set(this,r,e)})},null,t,1<arguments.length,null,!0)},removeData:function(t){return this.each(function(){H.remove(this,t)})}}),k.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=R.get(t,e),n&&(!r||k.isArray(n)?r=R.access(t,e,k.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=k.queue(t,e),r=n.length,i=n.shift(),a=k._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete a.stop,i.call(t,function(){k.dequeue(t,e)},a)),!r&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return R.get(t,n)||R.access(t,n,{empty:k.Callbacks("once memory").add(function(){R.remove(t,[e+"queue",n])})})}}),k.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?k.queue(this[0],e):void 0===n?this:this.each(function(){var t=k.queue(this,e,n);k._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&k.dequeue(this,e)})},dequeue:function(t){return this.each(function(){k.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=k.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=R.get(a[o],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var I=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=new RegExp("^(?:([+-])=|)("+I+")([a-z%]*)$","i"),B=["Top","Right","Bottom","Left"],W=function(t,e){return t=e||t,"none"===k.css(t,"display")||!k.contains(t.ownerDocument,t)};function U(t,e,n,r){var i,a=1,o=20,s=r?function(){return r.cur()}:function(){return k.css(t,e,"")},l=s(),u=n&&n[3]||(k.cssNumber[e]?"":"px"),c=(k.cssNumber[e]||"px"!==u&&+l)&&z.exec(k.css(t,e));if(c&&c[3]!==u)for(u=u||c[3],n=n||[],c=+l||1;c/=a=a||".5",k.style(t,e,c+u),a!==(a=s()/l)&&1!==a&&--o;);return n&&(c=+c||+l||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=u,r.start=c,r.end=i)),i}var q=/^(?:checkbox|radio)$/i,V=/<([\w:-]+)/,G=/^$|\/(?:java|ecma)script/i,K={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function J(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&k.nodeName(t,e)?k.merge([t],n):n}function X(t,e){for(var n=0,r=t.length;n<r;n++)R.set(t[n],"globalEval",!e||R.get(e[n],"globalEval"))}K.optgroup=K.option,K.tbody=K.tfoot=K.colgroup=K.caption=K.thead,K.th=K.td;var Z,Q,tt=/<|&#?\w+;/;function et(t,e,n,r,i){for(var a,o,s,l,u,c,d=e.createDocumentFragment(),h=[],f=0,p=t.length;f<p;f++)if((a=t[f])||0===a)if("object"===k.type(a))k.merge(h,a.nodeType?[a]:a);else if(tt.test(a)){for(o=o||d.appendChild(e.createElement("div")),s=(V.exec(a)||["",""])[1].toLowerCase(),l=K[s]||K._default,o.innerHTML=l[1]+k.htmlPrefilter(a)+l[2],c=l[0];c--;)o=o.lastChild;k.merge(h,o.childNodes),(o=d.firstChild).textContent=""}else h.push(e.createTextNode(a));for(d.textContent="",f=0;a=h[f++];)if(r&&-1<k.inArray(a,r))i&&i.push(a);else if(u=k.contains(a.ownerDocument,a),o=J(d.appendChild(a),"script"),u&&X(o),n)for(c=0;a=o[c++];)G.test(a.type||"")&&n.push(a);return d}Z=x.createDocumentFragment().appendChild(x.createElement("div")),(Q=x.createElement("input")).setAttribute("type","radio"),Q.setAttribute("checked","checked"),Q.setAttribute("name","t"),Z.appendChild(Q),g.checkClone=Z.cloneNode(!0).cloneNode(!0).lastChild.checked,Z.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!Z.cloneNode(!0).lastChild.defaultValue;var nt=/^key/,rt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,it=/^([^.]*)(?:\.(.+)|)/;function at(){return!0}function ot(){return!1}function st(){try{return x.activeElement}catch(t){}}function lt(t,e,n,r,i,a){var o,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)lt(t,s,n,r,e[s],a);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ot;else if(!i)return t;return 1===a&&(o=i,(i=function(t){return k().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=k.guid++)),t.each(function(){k.event.add(this,e,i,r,n)})}k.event={global:{},add:function(e,t,n,r,i){var a,o,s,l,u,c,d,h,f,p,m,g=R.get(e);if(g)for(n.handler&&(n=(a=n).handler,i=a.selector),n.guid||(n.guid=k.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(t){return void 0!==k&&k.event.triggered!==t.type?k.event.dispatch.apply(e,arguments):void 0}),u=(t=(t||"").match(E)||[""]).length;u--;)f=m=(s=it.exec(t[u])||[])[1],p=(s[2]||"").split(".").sort(),f&&(d=k.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,d=k.event.special[f]||{},c=k.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&k.expr.match.needsContext.test(i),namespace:p.join(".")},a),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,p,o)||e.addEventListener&&e.addEventListener(f,o)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,c):h.push(c),k.event.global[f]=!0)},remove:function(t,e,n,r,i){var a,o,s,l,u,c,d,h,f,p,m,g=R.hasData(t)&&R.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(E)||[""]).length;u--;)if(f=m=(s=it.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),f){for(d=k.event.special[f]||{},h=l[f=(r?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=h.length;a--;)c=h[a],!i&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(h.splice(a,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(t,p,g.handle)||k.removeEvent(t,f,g.handle),delete l[f])}else for(f in l)k.event.remove(t,f+e[u],n,r,!0);k.isEmptyObject(l)&&R.remove(t,"handle events")}},dispatch:function(t){t=k.event.fix(t);var e,n,r,i,a,o,s=c.call(arguments),l=(R.get(this,"events")||{})[t.type]||[],u=k.event.special[t.type]||{};if((s[0]=t).delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(o=k.event.handlers.call(this,t,l),e=0;(i=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(r=((k.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,s))&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,a,o=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(r=[],n=0;n<s;n++)void 0===r[i=(a=e[n]).selector+" "]&&(r[i]=a.needsContext?-1<k(i,this).index(l):k.find(i,this,null,[l]).length),r[i]&&r.push(a);r.length&&o.push({elem:l,handlers:r})}return s<e.length&&o.push({elem:this,handlers:e.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,a=e.button;return null==t.pageX&&null!=e.clientX&&(r=(n=t.target.ownerDocument||x).documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[k.expando])return t;var e,n,r,i=t.type,a=t,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=rt.test(i)?this.mouseHooks:nt.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,t=new k.Event(a),e=r.length;e--;)t[n=r[e]]=a[n];return t.target||(t.target=x),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,a):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==st()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===st()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&k.nodeName(this,"input"))return this.click(),!1},_default:function(t){return k.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?at:ot):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||k.now(),this[k.expando]=!0},k.Event.prototype={constructor:k.Event,isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=at,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=at,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=at,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,i){k.event.special[t]={delegateType:i,bindType:i,handle:function(t){var e,n=t.relatedTarget,r=t.handleObj;return n&&(n===this||k.contains(this,n))||(t.type=r.origType,e=r.handler.apply(this,arguments),t.type=i),e}}}),k.fn.extend({on:function(t,e,n,r){return lt(this,t,e,n,r)},one:function(t,e,n,r){return lt(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,k(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=ot),this.each(function(){k.event.remove(this,t,n,e)})}});var ut=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ct=/<script|<style|<link/i,dt=/checked\s*(?:[^=]|=\s*.checked.)/i,ht=/^true\/(.*)/,ft=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pt(t,e){return k.nodeName(t,"table")&&k.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function mt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function gt(t){var e=ht.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function vt(t,e){var n,r,i,a,o,s,l,u;if(1===e.nodeType){if(R.hasData(t)&&(a=R.access(t),o=R.set(e,a),u=a.events))for(i in delete o.handle,o.events={},u)for(n=0,r=u[i].length;n<r;n++)k.event.add(e,i,u[i][n]);H.hasData(t)&&(s=H.access(t),l=k.extend({},s),H.set(e,l))}}function yt(n,r,i,a){r=m.apply([],r);var t,e,o,s,l,u,c=0,d=n.length,h=d-1,f=r[0],p=k.isFunction(f);if(p||1<d&&"string"==typeof f&&!g.checkClone&&dt.test(f))return n.each(function(t){var e=n.eq(t);p&&(r[0]=f.call(this,t,e.html())),yt(e,r,i,a)});if(d&&(e=(t=et(r,n[0].ownerDocument,!1,n,a)).firstChild,1===t.childNodes.length&&(t=e),e||a)){for(s=(o=k.map(J(t,"script"),mt)).length;c<d;c++)l=t,c!==h&&(l=k.clone(l,!0,!0),s&&k.merge(o,J(l,"script"))),i.call(n[c],l,c);if(s)for(u=o[o.length-1].ownerDocument,k.map(o,gt),c=0;c<s;c++)l=o[c],G.test(l.type||"")&&!R.access(l,"globalEval")&&k.contains(u,l)&&(l.src?k._evalUrl&&k._evalUrl(l.src):k.globalEval(l.textContent.replace(ft,"")))}return n}function _t(t,e,n){for(var r,i=e?k.filter(e,t):t,a=0;null!=(r=i[a]);a++)n||1!==r.nodeType||k.cleanData(J(r)),r.parentNode&&(n&&k.contains(r.ownerDocument,r)&&X(J(r,"script")),r.parentNode.removeChild(r));return t}k.extend({htmlPrefilter:function(t){return t.replace(ut,"<$1></$2>")},clone:function(t,e,n){var r,i,a,o,s,l,u,c=t.cloneNode(!0),d=k.contains(t.ownerDocument,t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||k.isXMLDoc(t)))for(o=J(c),r=0,i=(a=J(t)).length;r<i;r++)s=a[r],l=o[r],void 0,"input"===(u=l.nodeName.toLowerCase())&&q.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(e)if(n)for(a=a||J(t),o=o||J(c),r=0,i=a.length;r<i;r++)vt(a[r],o[r]);else vt(t,c);return 0<(o=J(c,"script")).length&&X(o,!d&&J(t,"script")),c},cleanData:function(t){for(var e,n,r,i=k.event.special,a=0;void 0!==(n=t[a]);a++)if(N(n)){if(e=n[R.expando]){if(e.events)for(r in e.events)i[r]?k.event.remove(n,r):k.removeEvent(n,r,e.handle);n[R.expando]=void 0}n[H.expando]&&(n[H.expando]=void 0)}}}),k.fn.extend({domManip:yt,detach:function(t){return _t(this,t,!0)},remove:function(t){return _t(this,t)},text:function(t){return A(this,function(t){return void 0===t?k.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return yt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||pt(this,t).appendChild(t)})},prepend:function(){return yt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=pt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(J(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return k.clone(this,t,e)})},html:function(t){return A(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ct.test(t)&&!K[(V.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(k.cleanData(J(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return yt(this,arguments,function(t){var e=this.parentNode;k.inArray(this,n)<0&&(k.cleanData(J(this)),e&&e.replaceChild(t,this))},n)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,o){k.fn[t]=function(t){for(var e,n=[],r=k(t),i=r.length-1,a=0;a<=i;a++)e=a===i?this:this.clone(!0),k(r[a])[o](e),s.apply(n,e.get());return this.pushStack(n)}});var bt,wt={HTML:"block",BODY:"block"};function Mt(t,e){var n=k(e.createElement(t)).appendTo(e.body),r=k.css(n[0],"display");return n.detach(),r}function $t(t){var e=x,n=wt[t];return n||("none"!==(n=Mt(t,e))&&n||((e=(bt=(bt||k("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=Mt(t,e),bt.detach()),wt[t]=n),n}var xt=/^margin/,kt=new RegExp("^("+I+")(?!px)[a-z%]+$","i"),St=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=$),e.getComputedStyle(t)},Tt=function(t,e,n,r){var i,a,o={};for(a in e)o[a]=t.style[a],t.style[a]=e[a];for(a in i=n.apply(t,r||[]),e)t.style[a]=o[a];return i},Lt=x.documentElement;function Ct(t,e,n){var r,i,a,o,s=t.style;return""!==(o=(n=n||St(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==o||k.contains(t.ownerDocument,t)||(o=k.style(t,e)),n&&!g.pixelMarginRight()&&kt.test(o)&&xt.test(e)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a),void 0!==o?o+"":o}function Dt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){var e,n,r,i,a=x.createElement("div"),o=x.createElement("div");function t(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",o.innerHTML="",Lt.appendChild(a);var t=$.getComputedStyle(o);e="1%"!==t.top,i="2px"===t.marginLeft,n="4px"===t.width,o.style.marginRight="50%",r="4px"===t.marginRight,Lt.removeChild(a)}o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===o.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(o),k.extend(g,{pixelPosition:function(){return t(),e},boxSizingReliable:function(){return null==n&&t(),n},pixelMarginRight:function(){return null==n&&t(),r},reliableMarginLeft:function(){return null==n&&t(),i},reliableMarginRight:function(){var t,e=o.appendChild(x.createElement("div"));return e.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",o.style.width="1px",Lt.appendChild(a),t=!parseFloat($.getComputedStyle(e).marginRight),Lt.removeChild(a),o.removeChild(e),t}}))}();var Et=/^(none|table(?!-c[ea]).+)/,Yt={position:"absolute",visibility:"hidden",display:"block"},At={letterSpacing:"0",fontWeight:"400"},Nt=["Webkit","O","Moz","ms"],Ot=x.createElement("div").style;function Rt(t){if(t in Ot)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Nt.length;n--;)if((t=Nt[n]+e)in Ot)return t}function Ht(t,e,n){var r=z.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function Pt(t,e,n,r,i){for(var a=n===(r?"border":"content")?4:"width"===e?1:0,o=0;a<4;a+=2)"margin"===n&&(o+=k.css(t,n+B[a],!0,i)),r?("content"===n&&(o-=k.css(t,"padding"+B[a],!0,i)),"margin"!==n&&(o-=k.css(t,"border"+B[a]+"Width",!0,i))):(o+=k.css(t,"padding"+B[a],!0,i),"padding"!==n&&(o+=k.css(t,"border"+B[a]+"Width",!0,i)));return o}function jt(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,a=St(t),o="border-box"===k.css(t,"boxSizing",!1,a);if(i<=0||null==i){if(((i=Ct(t,e,a))<0||null==i)&&(i=t.style[e]),kt.test(i))return i;r=o&&(g.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+Pt(t,e,n||(o?"border":"content"),r,a)+"px"}function Ft(t,e){for(var n,r,i,a=[],o=0,s=t.length;o<s;o++)(r=t[o]).style&&(a[o]=R.get(r,"olddisplay"),n=r.style.display,e?(a[o]||"none"!==n||(r.style.display=""),""===r.style.display&&W(r)&&(a[o]=R.access(r,"olddisplay",$t(r.nodeName)))):(i=W(r),"none"===n&&i||R.set(r,"olddisplay",i?n:k.css(r,"display"))));for(o=0;o<s;o++)(r=t[o]).style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?a[o]||"":"none"));return t}function It(t,e,n,r,i){return new It.prototype.init(t,e,n,r,i)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ct(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,a,o,s=k.camelCase(e),l=t.style;if(e=k.cssProps[s]||(k.cssProps[s]=Rt(s)||s),o=k.cssHooks[e]||k.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(t,!1,r))?i:l[e];"string"===(a=typeof n)&&(i=z.exec(n))&&i[1]&&(n=U(t,e,i),a="number"),null!=n&&n==n&&("number"===a&&(n+=i&&i[3]||(k.cssNumber[s]?"":"px")),g.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),o&&"set"in o&&void 0===(n=o.set(t,n,r))||(l[e]=n))}},css:function(t,e,n,r){var i,a,o,s=k.camelCase(e);return e=k.cssProps[s]||(k.cssProps[s]=Rt(s)||s),(o=k.cssHooks[e]||k.cssHooks[s])&&"get"in o&&(i=o.get(t,!0,n)),void 0===i&&(i=Ct(t,e,r)),"normal"===i&&e in At&&(i=At[e]),""===n||n?(a=parseFloat(i),!0===n||isFinite(a)?a||0:i):i}}),k.each(["height","width"],function(t,o){k.cssHooks[o]={get:function(t,e,n){if(e)return Et.test(k.css(t,"display"))&&0===t.offsetWidth?Tt(t,Yt,function(){return jt(t,o,n)}):jt(t,o,n)},set:function(t,e,n){var r,i=n&&St(t),a=n&&Pt(t,o,n,"border-box"===k.css(t,"boxSizing",!1,i),i);return a&&(r=z.exec(e))&&"px"!==(r[3]||"px")&&(t.style[o]=e,e=k.css(t,o)),Ht(0,e,a)}}}),k.cssHooks.marginLeft=Dt(g.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ct(t,"marginLeft"))||t.getBoundingClientRect().left-Tt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),k.cssHooks.marginRight=Dt(g.reliableMarginRight,function(t,e){if(e)return Tt(t,{display:"inline-block"},Ct,[t,"marginRight"])}),k.each({margin:"",padding:"",border:"Width"},function(i,a){k.cssHooks[i+a]={expand:function(t){for(var e=0,n={},r="string"==typeof t?t.split(" "):[t];e<4;e++)n[i+B[e]+a]=r[e]||r[e-2]||r[0];return n}},xt.test(i)||(k.cssHooks[i+a].set=Ht)}),k.fn.extend({css:function(t,e){return A(this,function(t,e,n){var r,i,a={},o=0;if(k.isArray(e)){for(r=St(t),i=e.length;o<i;o++)a[e[o]]=k.css(t,e[o],!1,r);return a}return void 0!==n?k.style(t,e,n):k.css(t,e)},t,e,1<arguments.length)},show:function(){return Ft(this,!0)},hide:function(){return Ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){W(this)?k(this).show():k(this).hide()})}}),((k.Tween=It).prototype={constructor:It,init:function(t,e,n,r,i,a){this.elem=t,this.prop=n,this.easing=i||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=a||(k.cssNumber[n]?"":"px")},cur:function(){var t=It.propHooks[this.prop];return t&&t.get?t.get(this):It.propHooks._default.get(this)},run:function(t){var e,n=It.propHooks[this.prop];return this.options.duration?this.pos=e=k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):It.propHooks._default.set(this),this}}).init.prototype=It.prototype,(It.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[k.cssProps[t.prop]]&&!k.cssHooks[t.prop]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=It.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},k.fx=It.prototype.init,k.fx.step={};var zt,Bt,Wt,Ut,qt,Vt=/^(?:toggle|show|hide)$/,Gt=/queueHooks$/;function Kt(){return $.setTimeout(function(){zt=void 0}),zt=k.now()}function Jt(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=B[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function Xt(t,e,n){for(var r,i=(Zt.tweeners[e]||[]).concat(Zt.tweeners["*"]),a=0,o=i.length;a<o;a++)if(r=i[a].call(n,e,t))return r}function Zt(a,t,e){var n,o,r=0,i=Zt.prefilters.length,s=k.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=zt||Kt(),e=Math.max(0,u.startTime+u.duration-t),n=1-(e/u.duration||0),r=0,i=u.tweens.length;r<i;r++)u.tweens[r].run(n);return s.notifyWith(a,[u,n,e]),n<1&&i?e:(s.resolveWith(a,[u]),!1)},u=s.promise({elem:a,props:k.extend({},t),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},e),originalProperties:t,originalOptions:e,startTime:zt||Kt(),duration:e.duration,tweens:[],createTween:function(t,e){var n=k.Tween(a,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(n),n},stop:function(t){var e=0,n=t?u.tweens.length:0;if(o)return this;for(o=!0;e<n;e++)u.tweens[e].run(1);return t?(s.notifyWith(a,[u,1,0]),s.resolveWith(a,[u,t])):s.rejectWith(a,[u,t]),this}}),c=u.props;for(!function(t,e){var n,r,i,a,o;for(n in t)if(i=e[r=k.camelCase(n)],a=t[n],k.isArray(a)&&(i=a[1],a=t[n]=a[0]),n!==r&&(t[r]=a,delete t[n]),(o=k.cssHooks[r])&&"expand"in o)for(n in a=o.expand(a),delete t[r],a)n in t||(t[n]=a[n],e[n]=i);else e[r]=i}(c,u.opts.specialEasing);r<i;r++)if(n=Zt.prefilters[r].call(u,a,c,u.opts))return k.isFunction(n.stop)&&(k._queueHooks(u.elem,u.opts.queue).stop=k.proxy(n.stop,n)),n;return k.map(c,Xt,u),k.isFunction(u.opts.start)&&u.opts.start.call(a,u),k.fx.timer(k.extend(l,{elem:a,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}k.Animation=k.extend(Zt,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return U(n.elem,t,z.exec(e),n),n}]},tweener:function(t,e){k.isFunction(t)?(e=t,t=["*"]):t=t.match(E);for(var n,r=0,i=t.length;r<i;r++)n=t[r],Zt.tweeners[n]=Zt.tweeners[n]||[],Zt.tweeners[n].unshift(e)},prefilters:[function(e,t,n){var r,i,a,o,s,l,u,c=this,d={},h=e.style,f=e.nodeType&&W(e),p=R.get(e,"fxshow");for(r in n.queue||(null==(s=k._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,k.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(u=k.css(e,"display"))?R.get(e,"olddisplay")||$t(e.nodeName):u)&&"none"===k.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",c.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),t)if(i=t[r],Vt.exec(i)){if(delete t[r],a=a||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!p||void 0===p[r])continue;f=!0}d[r]=p&&p[r]||k.style(e,r)}else u=void 0;if(k.isEmptyObject(d))"inline"===("none"===u?$t(e.nodeName):u)&&(h.display=u);else for(r in p?"hidden"in p&&(f=p.hidden):p=R.access(e,"fxshow",{}),a&&(p.hidden=!f),f?k(e).show():c.done(function(){k(e).hide()}),c.done(function(){var t;for(t in R.remove(e,"fxshow"),d)k.style(e,t,d[t])}),d)o=Xt(f?p[r]:0,r,c),r in p||(p[r]=o.start,f&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}],prefilter:function(t,e){e?Zt.prefilters.unshift(t):Zt.prefilters.push(t)}}),k.speed=function(t,e,n){var r=t&&"object"==typeof t?k.extend({},t):{complete:n||!n&&e||k.isFunction(t)&&t,duration:t,easing:n&&e||e&&!k.isFunction(e)&&e};return r.duration=k.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in k.fx.speeds?k.fx.speeds[r.duration]:k.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){k.isFunction(r.old)&&r.old.call(this),r.queue&&k.dequeue(this,r.queue)},r},k.fn.extend({fadeTo:function(t,e,n,r){return this.filter(W).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(e,t,n,r){var i=k.isEmptyObject(e),a=k.speed(t,n,r),o=function(){var t=Zt(this,k.extend({},e),a);(i||R.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(i,t,a){var o=function(t){var e=t.stop;delete t.stop,e(a)};return"string"!=typeof i&&(a=t,t=i,i=void 0),t&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var t=!0,e=null!=i&&i+"queueHooks",n=k.timers,r=R.get(this);if(e)r[e]&&r[e].stop&&o(r[e]);else for(e in r)r[e]&&r[e].stop&&Gt.test(e)&&o(r[e]);for(e=n.length;e--;)n[e].elem!==this||null!=i&&n[e].queue!==i||(n[e].anim.stop(a),t=!1,n.splice(e,1));!t&&a||k.dequeue(this,i)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var t,e=R.get(this),n=e[o+"queue"],r=e[o+"queueHooks"],i=k.timers,a=n?n.length:0;for(e.finish=!0,k.queue(this,o,[]),r&&r.stop&&r.stop.call(this,!0),t=i.length;t--;)i[t].elem===this&&i[t].queue===o&&(i[t].anim.stop(!0),i.splice(t,1));for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),k.each(["toggle","show","hide"],function(t,r){var i=k.fn[r];k.fn[r]=function(t,e,n){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(Jt(r,!0),t,e,n)}}),k.each({slideDown:Jt("show"),slideUp:Jt("hide"),slideToggle:Jt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,r){k.fn[t]=function(t,e,n){return this.animate(r,t,e,n)}}),k.timers=[],k.fx.tick=function(){var t,e=0,n=k.timers;for(zt=k.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||k.fx.stop(),zt=void 0},k.fx.timer=function(t){k.timers.push(t),t()?k.fx.start():k.timers.pop()},k.fx.interval=13,k.fx.start=function(){Bt||(Bt=$.setInterval(k.fx.tick,k.fx.interval))},k.fx.stop=function(){$.clearInterval(Bt),Bt=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(r,t){return r=k.fx&&k.fx.speeds[r]||r,t=t||"fx",this.queue(t,function(t,e){var n=$.setTimeout(t,r);e.stop=function(){$.clearTimeout(n)}})},Wt=x.createElement("input"),Ut=x.createElement("select"),qt=Ut.appendChild(x.createElement("option")),Wt.type="checkbox",g.checkOn=""!==Wt.value,g.optSelected=qt.selected,Ut.disabled=!0,g.optDisabled=!qt.disabled,(Wt=x.createElement("input")).value="t",Wt.type="radio",g.radioValue="t"===Wt.value;var Qt,te=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return A(this,k.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){k.removeAttr(this,t)})}}),k.extend({attr:function(t,e,n){var r,i,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?k.prop(t,e,n):(1===a&&k.isXMLDoc(t)||(e=e.toLowerCase(),i=k.attrHooks[e]||(k.expr.match.bool.test(e)?Qt:void 0)),void 0!==n?null===n?void k.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=k.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!g.radioValue&&"radio"===e&&k.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r,i=0,a=e&&e.match(E);if(a&&1===t.nodeType)for(;n=a[i++];)r=k.propFix[n]||n,k.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)}}),Qt={set:function(t,e,n){return!1===e?k.removeAttr(t,n):t.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(t,e){var a=te[e]||k.find.attr;te[e]=function(t,e,n){var r,i;return n||(i=te[e],te[e]=r,r=null!=a(t,e,n)?e.toLowerCase():null,te[e]=i),r}});var ee=/^(?:input|select|textarea|button)$/i,ne=/^(?:a|area)$/i;k.fn.extend({prop:function(t,e){return A(this,k.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[k.propFix[t]||t]})}}),k.extend({prop:function(t,e,n){var r,i,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&k.isXMLDoc(t)||(e=k.propFix[e]||e,i=k.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):ee.test(t.nodeName)||ne.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(k.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this});var re=/[\t\r\n\f]/g;function ie(t){return t.getAttribute&&t.getAttribute("class")||""}k.fn.extend({addClass:function(e){var t,n,r,i,a,o,s,l=0;if(k.isFunction(e))return this.each(function(t){k(this).addClass(e.call(this,t,ie(this)))});if("string"==typeof e&&e)for(t=e.match(E)||[];n=this[l++];)if(i=ie(n),r=1===n.nodeType&&(" "+i+" ").replace(re," ")){for(o=0;a=t[o++];)r.indexOf(" "+a+" ")<0&&(r+=a+" ");i!==(s=k.trim(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,a,o,s,l=0;if(k.isFunction(e))return this.each(function(t){k(this).removeClass(e.call(this,t,ie(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(E)||[];n=this[l++];)if(i=ie(n),r=1===n.nodeType&&(" "+i+" ").replace(re," ")){for(o=0;a=t[o++];)for(;-1<r.indexOf(" "+a+" ");)r=r.replace(" "+a+" "," ");i!==(s=k.trim(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,e){var a=typeof i;return"boolean"==typeof e&&"string"===a?e?this.addClass(i):this.removeClass(i):k.isFunction(i)?this.each(function(t){k(this).toggleClass(i.call(this,t,ie(this),e),e)}):this.each(function(){var t,e,n,r;if("string"===a)for(e=0,n=k(this),r=i.match(E)||[];t=r[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==i&&"boolean"!==a||((t=ie(this))&&R.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===i?"":R.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+ie(n)+" ").replace(re," ").indexOf(e))return!0;return!1}});var ae=/\r/g,oe=/[\x20\t\r\n\f]+/g;k.fn.extend({val:function(n){var r,t,i,e=this[0];return arguments.length?(i=k.isFunction(n),this.each(function(t){var e;1===this.nodeType&&(null==(e=i?n.call(this,t,k(this).val()):n)?e="":"number"==typeof e?e+="":k.isArray(e)&&(e=k.map(e,function(t){return null==t?"":t+""})),(r=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,e,"value")||(this.value=e))})):e?(r=k.valHooks[e.type]||k.valHooks[e.nodeName.toLowerCase()])&&"get"in r&&void 0!==(t=r.get(e,"value"))?t:"string"==typeof(t=e.value)?t.replace(ae,""):null==t?"":t:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:k.trim(k.text(t)).replace(oe," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,a="select-one"===t.type||i<0,o=a?null:[],s=a?i+1:r.length,l=i<0?s:a?i:0;l<s;l++)if(((n=r[l]).selected||l===i)&&(g.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!k.nodeName(n.parentNode,"optgroup"))){if(e=k(n).val(),a)return e;o.push(e)}return o},set:function(t,e){for(var n,r,i=t.options,a=k.makeArray(e),o=i.length;o--;)((r=i[o]).selected=-1<k.inArray(k.valHooks.option.get(r),a))&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(t,e){if(k.isArray(e))return t.checked=-1<k.inArray(k(t).val(),e)}},g.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var se=/^(?:focusinfocus|focusoutblur)$/;k.extend(k.event,{trigger:function(t,e,n,r){var i,a,o,s,l,u,c,d=[n||x],h=p.call(t,"type")?t.type:t,f=p.call(t,"namespace")?t.namespace.split("."):[];if(a=o=n=n||x,3!==n.nodeType&&8!==n.nodeType&&!se.test(h+k.event.triggered)&&(-1<h.indexOf(".")&&(h=(f=h.split(".")).shift(),f.sort()),l=h.indexOf(":")<0&&"on"+h,(t=t[k.expando]?t:new k.Event(h,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:k.makeArray(e,[t]),c=k.event.special[h]||{},r||!c.trigger||!1!==c.trigger.apply(n,e))){if(!r&&!c.noBubble&&!k.isWindow(n)){for(s=c.delegateType||h,se.test(s+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),o=a;o===(n.ownerDocument||x)&&d.push(o.defaultView||o.parentWindow||$)}for(i=0;(a=d[i++])&&!t.isPropagationStopped();)t.type=1<i?s:c.bindType||h,(u=(R.get(a,"events")||{})[t.type]&&R.get(a,"handle"))&&u.apply(a,e),(u=l&&a[l])&&u.apply&&N(a)&&(t.result=u.apply(a,e),!1===t.result&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),e)||!N(n)||l&&k.isFunction(n[h])&&!k.isWindow(n)&&((o=n[l])&&(n[l]=null),n[k.event.triggered=h](),k.event.triggered=void 0,o&&(n[l]=o)),t.result}},simulate:function(t,e,n){var r=k.extend(new k.Event,n,{type:t,isSimulated:!0});k.event.trigger(r,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each(function(){k.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return k.event.trigger(t,e,n,!0)}}),k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){k.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),k.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),g.focusin="onfocusin"in $,g.focusin||k.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(t){k.event.simulate(r,t.target,k.event.fix(t))};k.event.special[r]={setup:function(){var t=this.ownerDocument||this,e=R.access(t,r);e||t.addEventListener(n,i,!0),R.access(t,r,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=R.access(t,r)-1;e?R.access(t,r,e):(t.removeEventListener(n,i,!0),R.remove(t,r))}}});var le=$.location,ue=k.now(),ce=/\?/;k.parseJSON=function(t){return JSON.parse(t+"")},k.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new $.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||k.error("Invalid XML: "+t),e};var de=/#.*$/,he=/([?&])_=[^&]*/,fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,pe=/^(?:GET|HEAD)$/,me=/^\/\//,ge={},ve={},ye="*/".concat("*"),_e=x.createElement("a");function be(a){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,r=0,i=t.toLowerCase().match(E)||[];if(k.isFunction(e))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(a[n]=a[n]||[]).unshift(e)):(a[n]=a[n]||[]).push(e)}}function we(e,i,a,o){var s={},l=e===ve;function u(t){var r;return s[t]=!0,k.each(e[t]||[],function(t,e){var n=e(i,a,o);return"string"!=typeof n||l||s[n]?l?!(r=n):void 0:(i.dataTypes.unshift(n),u(n),!1)}),r}return u(i.dataTypes[0])||!s["*"]&&u("*")}function Me(t,e){var n,r,i=k.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&k.extend(!0,t,r),t}_e.href=le.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:le.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(le.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":k.parseJSON,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Me(Me(t,k.ajaxSettings),e):Me(k.ajaxSettings,t)},ajaxPrefilter:be(ge),ajaxTransport:be(ve),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var c,d,h,n,f,r,p,i,m=k.ajaxSetup({},e),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?k(g):k.event,y=k.Deferred(),_=k.Callbacks("once memory"),b=m.statusCode||{},a={},o={},w=0,s="canceled",M={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!n)for(n={};e=fe.exec(h);)n[e[1].toLowerCase()]=e[2];e=n[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?h:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=o[n]=o[n]||t,a[t]=e),this},overrideMimeType:function(t){return w||(m.mimeType=t),this},statusCode:function(t){var e;if(t)if(w<2)for(e in t)b[e]=[b[e],t[e]];else M.always(t[M.status]);return this},abort:function(t){var e=t||s;return c&&c.abort(e),l(0,e),this}};if(y.promise(M).complete=_.add,M.success=M.done,M.error=M.fail,m.url=((t||m.url||le.href)+"").replace(de,"").replace(me,le.protocol+"//"),m.type=e.method||e.type||m.method||m.type,m.dataTypes=k.trim(m.dataType||"*").toLowerCase().match(E)||[""],null==m.crossDomain){r=x.createElement("a");try{r.href=m.url,r.href=r.href,m.crossDomain=_e.protocol+"//"+_e.host!=r.protocol+"//"+r.host}catch(t){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=k.param(m.data,m.traditional)),we(ge,m,e,M),2===w)return M;for(i in(p=k.event&&m.global)&&0==k.active++&&k.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!pe.test(m.type),d=m.url,m.hasContent||(m.data&&(d=m.url+=(ce.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=he.test(d)?d.replace(he,"$1_="+ue++):d+(ce.test(d)?"&":"?")+"_="+ue++)),m.ifModified&&(k.lastModified[d]&&M.setRequestHeader("If-Modified-Since",k.lastModified[d]),k.etag[d]&&M.setRequestHeader("If-None-Match",k.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||e.contentType)&&M.setRequestHeader("Content-Type",m.contentType),M.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ye+"; q=0.01":""):m.accepts["*"]),m.headers)M.setRequestHeader(i,m.headers[i]);if(m.beforeSend&&(!1===m.beforeSend.call(g,M,m)||2===w))return M.abort();for(i in s="abort",{success:1,error:1,complete:1})M[i](m[i]);if(c=we(ve,m,e,M)){if(M.readyState=1,p&&v.trigger("ajaxSend",[M,m]),2===w)return M;m.async&&0<m.timeout&&(f=$.setTimeout(function(){M.abort("timeout")},m.timeout));try{w=1,c.send(a,l)}catch(t){if(!(w<2))throw t;l(-1,t)}}else l(-1,"No Transport");function l(t,e,n,r){var i,a,o,s,l,u=e;2!==w&&(w=2,f&&$.clearTimeout(f),c=void 0,h=r||"",M.readyState=0<t?4:0,i=200<=t&&t<300||304===t,n&&(s=function(t,e,n){for(var r,i,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)a=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){a=i;break}o||(o=i)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(m,M,n)),s=function(t,e,n,r){var i,a,o,s,l,u={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(a=c.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=u[l+" "+a]||u["* "+a]))for(i in u)if((s=i.split(" "))[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[i]:!0!==u[i]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}(m,s,M,i),i?(m.ifModified&&((l=M.getResponseHeader("Last-Modified"))&&(k.lastModified[d]=l),(l=M.getResponseHeader("etag"))&&(k.etag[d]=l)),204===t||"HEAD"===m.type?u="nocontent":304===t?u="notmodified":(u=s.state,a=s.data,i=!(o=s.error))):(o=u,!t&&u||(u="error",t<0&&(t=0))),M.status=t,M.statusText=(e||u)+"",i?y.resolveWith(g,[a,u,M]):y.rejectWith(g,[M,u,o]),M.statusCode(b),b=void 0,p&&v.trigger(i?"ajaxSuccess":"ajaxError",[M,m,i?a:o]),_.fireWith(g,[M,u]),p&&(v.trigger("ajaxComplete",[M,m]),--k.active||k.event.trigger("ajaxStop")))}return M},getJSON:function(t,e,n){return k.get(t,e,n,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],function(t,i){k[i]=function(t,e,n,r){return k.isFunction(e)&&(r=r||n,n=e,e=void 0),k.ajax(k.extend({url:t,type:i,dataType:r,data:e,success:n},k.isPlainObject(t)&&t))}}),k._evalUrl=function(t){return k.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},k.fn.extend({wrapAll:function(e){var t;return k.isFunction(e)?this.each(function(t){k(this).wrapAll(e.call(this,t))}):(this[0]&&(t=k(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(n){return k.isFunction(n)?this.each(function(t){k(this).wrapInner(n.call(this,t))}):this.each(function(){var t=k(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=k.isFunction(e);return this.each(function(t){k(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,"body")||k(this).replaceWith(this.childNodes)}).end()}}),k.expr.filters.hidden=function(t){return!k.expr.filters.visible(t)},k.expr.filters.visible=function(t){return 0<t.offsetWidth||0<t.offsetHeight||0<t.getClientRects().length};var $e=/%20/g,xe=/\[\]$/,ke=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;function Le(n,t,r,i){var e;if(k.isArray(t))k.each(t,function(t,e){r||xe.test(n)?i(n,e):Le(n+"["+("object"==typeof e&&null!=e?t:"")+"]",e,r,i)});else if(r||"object"!==k.type(t))i(n,t);else for(e in t)Le(n+"["+e+"]",t[e],r,i)}k.param=function(t,e){var n,r=[],i=function(t,e){e=k.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=k.ajaxSettings&&k.ajaxSettings.traditional),k.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,function(){i(this.name,this.value)});else for(n in t)Le(n,t[n],e,i);return r.join("&").replace($e,"+")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&Te.test(this.nodeName)&&!Se.test(t)&&(this.checked||!q.test(t))}).map(function(t,e){var n=k(this).val();return null==n?null:k.isArray(n)?k.map(n,function(t){return{name:e.name,value:t.replace(ke,"\r\n")}}):{name:e.name,value:n.replace(ke,"\r\n")}}).get()}}),k.ajaxSettings.xhr=function(){try{return new $.XMLHttpRequest}catch(t){}};var Ce={0:200,1223:204},De=k.ajaxSettings.xhr();g.cors=!!De&&"withCredentials"in De,g.ajax=De=!!De,k.ajaxTransport(function(i){var a,o;if(g.cors||De&&!i.crossDomain)return{send:function(t,e){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)r.setRequestHeader(n,t[n]);a=function(t){return function(){a&&(a=o=r.onload=r.onerror=r.onabort=r.onreadystatechange=null,"abort"===t?r.abort():"error"===t?"number"!=typeof r.status?e(0,"error"):e(r.status,r.statusText):e(Ce[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=a(),o=r.onerror=a("error"),void 0!==r.onabort?r.onabort=o:r.onreadystatechange=function(){4===r.readyState&&$.setTimeout(function(){a&&o()})},a=a("abort");try{r.send(i.hasContent&&i.data||null)}catch(t){if(a)throw t}},abort:function(){a&&a()}}}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),k.ajaxTransport("script",function(n){var r,i;if(n.crossDomain)return{send:function(t,e){r=k("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(t){r.remove(),i=null,t&&e("error"===t.type?404:200,t.type)}),x.head.appendChild(r[0])},abort:function(){i&&i()}}});var Ee=[],Ye=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ee.pop()||k.expando+"_"+ue++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",function(t,e,n){var r,i,a,o=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(o||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=k.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o?t[o]=t[o].replace(Ye,"$1"+r):!1!==t.jsonp&&(t.url+=(ce.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||k.error(r+" was not called"),a[0]},t.dataTypes[0]="json",i=$[r],$[r]=function(){a=arguments},n.always(function(){void 0===i?k($).removeProp(r):$[r]=i,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ee.push(r)),a&&k.isFunction(i)&&i(a[0]),a=i=void 0}),"script"}),k.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||x;var r=_.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=et([t],e,i),i&&i.length&&k(i).remove(),k.merge([],r.childNodes))};var Ae=k.fn.load;function Ne(t){return k.isWindow(t)?t:9===t.nodeType&&t.defaultView}k.fn.load=function(t,e,n){if("string"!=typeof t&&Ae)return Ae.apply(this,arguments);var r,i,a,o=this,s=t.indexOf(" ");return-1<s&&(r=k.trim(t.slice(s)),t=t.slice(0,s)),k.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),0<o.length&&k.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){a=arguments,o.html(r?k("<div>").append(k.parseHTML(t)).find(r):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){k.fn[e]=function(t){return this.on(e,t)}}),k.expr.filters.animated=function(e){return k.grep(k.timers,function(t){return e===t.elem}).length},k.offset={setOffset:function(t,e,n){var r,i,a,o,s,l,u=k.css(t,"position"),c=k(t),d={};"static"===u&&(t.style.position="relative"),s=c.offset(),a=k.css(t,"top"),l=k.css(t,"left"),("absolute"===u||"fixed"===u)&&-1<(a+l).indexOf("auto")?(o=(r=c.position()).top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(l)||0),k.isFunction(e)&&(e=e.call(t,n,k.extend({},s))),null!=e.top&&(d.top=e.top-s.top+o),null!=e.left&&(d.left=e.left-s.left+i),"using"in e?e.using.call(t,d):c.css(d)}},k.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){k.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},a=r&&r.ownerDocument;return a?(t=a.documentElement,k.contains(t,r)?(i=r.getBoundingClientRect(),n=Ne(a),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===k.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),k.nodeName(t[0],"html")||(r=t.offset()),r.top+=k.css(t[0],"borderTopWidth",!0),r.left+=k.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-k.css(n,"marginTop",!0),left:e.left-r.left-k.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||Lt})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var a="pageYOffset"===i;k.fn[e]=function(t){return A(this,function(t,e,n){var r=Ne(t);if(void 0===n)return r?r[i]:t[e];r?r.scrollTo(a?r.pageXOffset:n,a?n:r.pageYOffset):t[e]=n},e,t,arguments.length)}}),k.each(["top","left"],function(t,n){k.cssHooks[n]=Dt(g.pixelPosition,function(t,e){if(e)return e=Ct(t,n),kt.test(e)?k(t).position()[n]+"px":e})}),k.each({Height:"height",Width:"width"},function(a,o){k.each({padding:"inner"+a,content:o,"":"outer"+a},function(r,t){k.fn[t]=function(t,e){var n=arguments.length&&(r||"boolean"!=typeof t),i=r||(!0===t||!0===e?"margin":"border");return A(this,function(t,e,n){var r;return k.isWindow(t)?t.document.documentElement["client"+a]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+a],r["scroll"+a],t.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?k.css(t,e,i):k.style(t,e,n,i)},o,n?t:void 0,n,null)}})}),k.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),k.fn.andSelf=k.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return k});var Oe=$.jQuery,Re=$.$;return k.noConflict=function(t){return $.$===k&&($.$=Re),t&&$.jQuery===k&&($.jQuery=Oe),k},t||($.jQuery=$.$=k),k});var TWEEN=TWEEN||function(){var r=[];return{getAll:function(){return r},removeAll:function(){r=[]},add:function(t){r.push(t)},remove:function(t){var e=r.indexOf(t);-1!==e&&r.splice(e,1)},update:function(t,e){if(0===r.length)return!1;var n=0;for(t=void 0!==t?t:TWEEN.now();n<r.length;)r[n].update(t)||e?n++:r.splice(n,1);return!0}}}();"undefined"==typeof window&&"undefined"!=typeof process?TWEEN.now=function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?TWEEN.now=window.performance.now.bind(window.performance):void 0!==Date.now?TWEEN.now=Date.now:TWEEN.now=function(){return(new Date).getTime()},TWEEN.Tween=function(t){var u,c=t,d={},h={},f={},p=1e3,m=0,g=!1,n=!1,v=!1,y=0,_=null,b=TWEEN.Easing.Linear.None,w=TWEEN.Interpolation.Linear,M=[],$=null,x=!1,k=null,S=null,e=null;this.to=function(t,e){return h=t,void 0!==e&&(p=e),this},this.start=function(t){for(var e in TWEEN.add(this),x=!(n=!0),_=void 0!==t?t:TWEEN.now(),_+=y,h){if(h[e]instanceof Array){if(0===h[e].length)continue;h[e]=[c[e]].concat(h[e])}void 0!==c[e]&&(d[e]=c[e],d[e]instanceof Array==!1&&(d[e]*=1),f[e]=d[e]||0)}return this},this.stop=function(){return n&&(TWEEN.remove(this),n=!1,null!==e&&e.call(c,c),this.stopChainedTweens()),this},this.end=function(){return this.update(_+p),this},this.stopChainedTweens=function(){for(var t=0,e=M.length;t<e;t++)M[t].stop()},this.delay=function(t){return y=t,this},this.repeat=function(t){return m=t,this},this.repeatDelay=function(t){return u=t,this},this.yoyo=function(t){return g=t,this},this.easing=function(t){return b=t,this},this.interpolation=function(t){return w=t,this},this.chain=function(){return M=arguments,this},this.onStart=function(t){return $=t,this},this.onUpdate=function(t){return k=t,this},this.onComplete=function(t){return S=t,this},this.onStop=function(t){return e=t,this},this.update=function(t){var e,n,r;if(t<_)return!0;for(e in!1===x&&(null!==$&&$.call(c,c),x=!0),r=b(n=1<(n=(t-_)/p)?1:n),h)if(void 0!==d[e]){var i=d[e]||0,a=h[e];a instanceof Array?c[e]=w(a,r):("string"==typeof a&&(a="+"===a.charAt(0)||"-"===a.charAt(0)?i+parseFloat(a):parseFloat(a)),"number"==typeof a&&(c[e]=i+(a-i)*r))}if(null!==k&&k.call(c,r),1===n){if(0<m){for(e in isFinite(m)&&m--,f){if("string"==typeof h[e]&&(f[e]=f[e]+parseFloat(h[e])),g){var o=f[e];f[e]=h[e],h[e]=o}d[e]=f[e]}return g&&(v=!v),_=void 0!==u?t+u:t+y,!0}null!==S&&S.call(c,c);for(var s=0,l=M.length;s<l;s++)M[s].start(_+p);return!1}return!0}},TWEEN.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-TWEEN.Easing.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*TWEEN.Easing.Bounce.In(2*t):.5*TWEEN.Easing.Bounce.Out(2*t-1)+.5}}},TWEEN.Interpolation={Linear:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),a=TWEEN.Interpolation.Utils.Linear;return e<0?a(t[0],t[1],r):1<e?a(t[n],t[n-1],n-r):a(t[i],t[n<i+1?n:i+1],r-i)},Bezier:function(t,e){for(var n=0,r=t.length-1,i=Math.pow,a=TWEEN.Interpolation.Utils.Bernstein,o=0;o<=r;o++)n+=i(1-e,r-o)*i(e,o)*t[o]*a(r,o);return n},CatmullRom:function(t,e){var n=t.length-1,r=n*e,i=Math.floor(r),a=TWEEN.Interpolation.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(i=Math.floor(r=n*(1+e))),a(t[(i-1+n)%n],t[i],t[(i+1)%n],t[(i+2)%n],r-i)):e<0?t[0]-(a(t[0],t[0],t[1],t[1],-r)-t[0]):1<e?t[n]-(a(t[n],t[n],t[n-1],t[n-1],r-n)-t[n]):a(t[i?i-1:0],t[i],t[n<i+1?n:i+1],t[n<i+2?n:i+2],r-i)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=TWEEN.Interpolation.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:function(){var r=[1];return function(t){var e=1;if(r[t])return r[t];for(var n=t;1<n;n--)e*=n;return r[t]=e}}(),CatmullRom:function(t,e,n,r,i){var a=.5*(n-t),o=.5*(r-e),s=i*i;return(2*e-2*n+a+o)*(i*s)+(-3*e+3*n-2*a-o)*s+a*i+e}}},function(t){"function"==typeof define&&define.amd?define([],function(){return TWEEN}):"undefined"!=typeof module&&"object"==typeof exports?module.exports=TWEEN:void 0!==t&&(t.TWEEN=TWEEN)}(this),function(z){"use strict";var l={objectMaxDepth:5};function t(t){if(!wt(t))return l;bt(t.objectMaxDepth)&&(l.objectMaxDepth=u(t.objectMaxDepth)?t.objectMaxDepth:NaN)}function u(t){return $(t)&&0<t}function T(o,s){return s=s||Error,function(){var t,e,n=arguments[0],r=arguments[1],i="["+(o?o+":":"")+n+"] ",a=At(arguments,2).map(function(t){return Gt(t,l.objectMaxDepth)});for(i+=r.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e<a.length?a[e]:t}),i+="\nhttp://errors.angularjs.org/1.6.6/"+(o?o+"/":"")+n,e=0,t="?";e<a.length;e++,t="&")i+=t+"p"+e+"="+encodeURIComponent(a[e]);return new s(i)}}var a=/^\/(.+)\/([a-z]*)$/,d="validity",B=Object.prototype.hasOwnProperty,ct=function(t){return Mt(t)?t.toLowerCase():t},c=function(t){return Mt(t)?t.toUpperCase():t};"i"!=="I".toLowerCase()&&(ct=function(t){return Mt(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},c=function(t){return Mt(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t});var dt,ht,o,g,s=[].slice,r=[].splice,e=[].push,ft=Object.prototype.toString,h=Object.getPrototypeOf,f=T("ng"),_=z.angular||(z.angular={}),n=0;function N(t){if(null==t||D(t))return!1;if($t(t)||Mt(t)||ht&&t instanceof ht)return!0;var e="length"in Object(t)&&t.length;return $(e)&&(0<=e&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function pt(t,e,n){var r,i;if(t)if(kt(t))for(r in t)"prototype"!==r&&"length"!==r&&"name"!==r&&t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else if($t(t)||N(t)){var a="object"!=typeof t;for(r=0,i=t.length;r<i;r++)(a||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==pt)t.forEach(e,n,t);else if(M(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)B.call(t,r)&&e.call(n,t[r],r,t);return t}function p(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function v(n){return function(t,e){n(e,t)}}function L(){return++n}function m(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function y(t,e,n){for(var r=t.$$hashKey,i=0,a=e.length;i<a;++i){var o=e[i];if(wt(o)||kt(o))for(var s=Object.keys(o),l=0,u=s.length;l<u;l++){var c=s[l],d=o[c];n&&wt(d)?x(d)?t[c]=new Date(d.valueOf()):k(d)?t[c]=new RegExp(d):d.nodeName?t[c]=d.cloneNode(!0):O(d)?t[c]=d.clone():(wt(t[c])||(t[c]=$t(d)?[]:{}),y(t[c],[d],!0)):t[c]=d}}return m(t,r),t}function mt(t){return y(t,s.call(arguments,1),!1)}function i(t){return y(t,s.call(arguments,1),!0)}function b(t){return parseInt(t,10)}dt=z.document.documentMode;var C=Number.isNaN||function(t){return t!=t};function gt(t,e){return mt(Object.create(t),e)}function vt(){}function yt(t){return t}function S(t){return function(){return t}}function w(t){return kt(t.toString)&&t.toString!==ft}function _t(t){return void 0===t}function bt(t){return void 0!==t}function wt(t){return null!==t&&"object"==typeof t}function M(t){return null!==t&&"object"==typeof t&&!h(t)}function Mt(t){return"string"==typeof t}function $(t){return"number"==typeof t}function x(t){return"[object Date]"===ft.call(t)}vt.$inject=[],yt.$inject=[];var $t=Array.isArray;function xt(t){switch(ft.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return t instanceof Error}}function kt(t){return"function"==typeof t}function k(t){return"[object RegExp]"===ft.call(t)}function D(t){return t&&t.window===t}function St(t){return t&&t.$evalAsync&&t.$watch}function Tt(t){return"boolean"==typeof t}function E(t){return t&&kt(t.then)}var Y=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var Lt=function(t){return Mt(t)?t.trim():t},A=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function O(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function Ct(t){return ct(t.nodeName||t[0]&&t[0].nodeName)}function R(t,e){return-1!==Array.prototype.indexOf.call(t,e)}function Dt(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),n}function H(t,n,e){var r,i,a=[],o=[];if(e=u(e)?e:NaN,n){if((i=n)&&$(i.length)&&Y.test(ft.call(i))||(r=n,"[object ArrayBuffer]"===ft.call(r)))throw f("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===n)throw f("cpi","Can't copy! Source and destination are identical.");return $t(n)?n.length=0:pt(n,function(t,e){"$$hashKey"!==e&&delete n[e]}),a.push(t),o.push(n),s(t,n,e)}return l(t,e);function s(t,e,n){if(--n<0)return"...";var r,i=e.$$hashKey;if($t(t))for(var a=0,o=t.length;a<o;a++)e.push(l(t[a],n));else if(M(t))for(r in t)e[r]=l(t[r],n);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(e[r]=l(t[r],n));else for(r in t)B.call(t,r)&&(e[r]=l(t[r],n));return m(e,i),e}function l(t,e){if(!wt(t))return t;var n=a.indexOf(t);if(-1!==n)return o[n];if(D(t)||St(t))throw f("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=function(t){switch(ft.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(l(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(kt(t.cloneNode))return t.cloneNode(!0)}(t);return void 0===i&&(i=$t(t)?[]:Object.create(h(t)),r=!0),a.push(t),o.push(i),r?s(t,i,e):i}}function Et(t,e){return t===e||t!=t&&e!=e}function Yt(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,r,i,a=typeof t;if(a===typeof e&&"object"===a){if(!$t(t)){if(x(t))return!!x(e)&&Et(t.getTime(),e.getTime());if(k(t))return!!k(e)&&t.toString()===e.toString();if(St(t)||St(e)||D(t)||D(e)||$t(e)||x(e)||k(e))return!1;for(r in i=Ft(),t)if("$"!==r.charAt(0)&&!kt(t[r])){if(!Yt(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&"$"!==r.charAt(0)&&bt(e[r])&&!kt(e[r]))return!1;return!0}if(!$t(e))return!1;if((n=t.length)===e.length){for(r=0;r<n;r++)if(!Yt(t[r],e[r]))return!1;return!0}}return!1}var P=function(){if(!bt(P.rules)){var t=z.document.querySelector("[ng-csp]")||z.document.querySelector("[data-ng-csp]");if(t){var e=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");P.rules={noUnsafeEval:!e||-1!==e.indexOf("no-unsafe-eval"),noInlineStyle:!e||-1!==e.indexOf("no-inline-style")}}else P.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(t){return!0}}(),noInlineStyle:!1}}return P.rules},j=function(){if(bt(j.name_))return j.name_;var t,e,n,r,i=tt.length;for(e=0;e<i;++e)if(n=tt[e],t=z.document.querySelector("["+n.replace(":","\\:")+"jq]")){r=t.getAttribute(n+"jq");break}return j.name_=r};function F(t,e,n){return t.concat(s.call(e,n))}function At(t,e){return s.call(t,e||0)}function Nt(t,e){var n=2<arguments.length?At(arguments,2):[];return!kt(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,F(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function I(t,e){var n=e;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?n=void 0:D(e)?n="$WINDOW":e&&z.document===e?n="$DOCUMENT":St(e)&&(n="$SCOPE"),n}function W(t,e){if(!_t(t))return $(e)||(e=e?2:null),JSON.stringify(t,I,e)}function U(t){return Mt(t)?JSON.parse(t):t}var q=/:/g;function V(t,e){t=t.replace(q,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return C(n)?e:n}function G(t,e,n){n=n?-1:1;var r,i,a=t.getTimezoneOffset(),o=V(e,a);return r=t,i=n*(o-a),(r=new Date(r.getTime())).setMinutes(r.getMinutes()+i),r}function Ot(t){t=ht(t).clone().empty();var e=ht("<div>").append(t).html();try{return t[0].nodeType===Bt?ct(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+ct(e)})}catch(t){return ct(e)}}function K(t){try{return decodeURIComponent(t)}catch(t){}}function J(t){var i={};return pt((t||"").split("&"),function(t){var e,n,r;t&&(n=t=t.replace(/\+/g,"%20"),-1!==(e=t.indexOf("="))&&(n=t.substring(0,e),r=t.substring(e+1)),bt(n=K(n))&&(r=!bt(r)||K(r),B.call(i,n)?$t(i[n])?i[n].push(r):i[n]=[i[n],r]:i[n]=r))}),i}function X(t){var n=[];return pt(t,function(t,e){$t(t)?pt(t,function(t){n.push(Q(e,!0)+(!0===t?"":"="+Q(t,!0)))}):n.push(Q(e,!0)+(!0===t?"":"="+Q(t,!0)))}),n.length?n.join("&"):""}function Z(t){return Q(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Q(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}var tt=["ng-","data-ng-","ng:","x-ng-"];var et=function(n){var t=n.currentScript;if(!t)return!0;if(!(t instanceof z.HTMLScriptElement||t instanceof z.SVGScriptElement))return!1;var e=t.attributes;return[e.getNamedItem("src"),e.getNamedItem("href"),e.getNamedItem("xlink:href")].every(function(t){if(!t)return!0;if(!t.value)return!1;var e=n.createElement("a");if(e.href=t.value,n.location.origin===e.origin)return!0;switch(e.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}(z.document);function nt(r,t){var i,a,e={};if(pt(tt,function(t){var e=t+"app";!i&&r.hasAttribute&&r.hasAttribute(e)&&(a=(i=r).getAttribute(e))}),pt(tt,function(t){var e,n=t+"app";!i&&(e=r.querySelector("["+n.replace(":","\\:")+"]"))&&(a=(i=e).getAttribute(n))}),i){if(!et)return void z.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");e.strictDi=null!==function(t,e){var n,r,i=tt.length;for(r=0;r<i;++r)if(n=tt[r]+e,Mt(n=t.getAttribute(n)))return n;return null}(i,"strict-di"),t(i,a?[a]:[],e)}}function rt(n,r,i){wt(i)||(i={});i=mt({strictDi:!1},i);var e=function(){if((n=ht(n)).injector()){var t=n[0]===z.document?"document":Ot(n);throw f("btstrpd","App already bootstrapped with this element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}(r=r||[]).unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var e=Je(r,i.strictDi);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),e},t=/^NG_ENABLE_DEBUG_INFO!/,a=/^NG_DEFER_BOOTSTRAP!/;if(z&&t.test(z.name)&&(i.debugInfoEnabled=!0,z.name=z.name.replace(t,"")),z&&!a.test(z.name))return e();z.name=z.name.replace(a,""),_.resumeBootstrap=function(t){return pt(t,function(t){r.push(t)}),e()},kt(_.resumeDeferredBootstrap)&&_.resumeDeferredBootstrap()}function it(){z.name="NG_ENABLE_DEBUG_INFO!"+z.name,z.location.reload()}function at(t){var e=_.element(t).injector();if(!e)throw f("test","no injector found for element argument to getTestability");return e.get("$$testability")}var ot=/[A-Z]/g;function Rt(t,n){return n=n||"_",t.replace(ot,function(t,e){return(e?n:"")+t.toLowerCase()})}var st=!1;function Ht(t,e,n){if(!t)throw f("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function lt(t,e,n){return n&&$t(t)&&(t=t[t.length-1]),Ht(kt(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function Pt(t,e){if("hasOwnProperty"===t)throw f("badname","hasOwnProperty is not a valid {0} name",e)}function ut(t,e,n){if(!e)return t;for(var r,i=e.split("."),a=t,o=i.length,s=0;s<o;s++)r=i[s],t&&(t=(a=t)[r]);return!n&&kt(t)?Nt(a,t):t}function jt(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=ht(s.call(t,0,i))),e.push(n));return e||t}function Ft(){return Object.create(null)}function It(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!w(t)||$t(t)||x(t)?W(t):t.toString()}return t}var zt=1,Bt=3,Wt=8,Ut=9,qt=11;function Vt(t,e){if($t(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(wt(t))for(var i in e=e||{},t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i]);return e||t}function Gt(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):_t(t)?"undefined":"string"!=typeof t?(n=t,i=[],u(r=e)&&(n=_.copy(n,null,r)),JSON.stringify(n,function(t,e){if(wt(e=I(t,e))){if(0<=i.indexOf(e))return"...";i.push(e)}return e})):t;var n,r,i}var Kt={full:"1.6.6",major:1,minor:6,dot:6,codeName:"interdimensional-cable"};fe.expando="ng339";var Jt=fe.cache={},Xt=1;fe._data=function(t){return this.cache[t[this.expando]]||{}};var Zt=/-([a-z])/g,Qt=/^-ms-/,te={mouseleave:"mouseout",mouseenter:"mouseover"},ee=T("jqLite");function ne(t,e){return e.toUpperCase()}function re(t){return t.replace(Zt,ne)}var ie=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ae=/<|&#?\w+;/,oe=/<([\w:-]+)/,se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,le={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ue(t){return!ae.test(t)}function ce(t){var e=t.nodeType;return e===zt||!e||e===Ut}function de(t,e){var n,r,i,a,o=e.createDocumentFragment(),s=[];if(ue(t))s.push(e.createTextNode(t));else{for(n=o.appendChild(e.createElement("div")),r=(oe.exec(t)||["",""])[1].toLowerCase(),i=le[r]||le._default,n.innerHTML=i[1]+t.replace(se,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;s=F(s,n.childNodes),(n=o.firstChild).textContent=""}return o.textContent="",o.innerHTML="",pt(s,function(t){o.appendChild(t)}),o}le.optgroup=le.option,le.tbody=le.tfoot=le.colgroup=le.caption=le.thead,le.th=le.td;var he=z.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))};function fe(t){if(t instanceof fe)return t;var e,n,r,i;if(Mt(t)&&(t=Lt(t),e=!0),!(this instanceof fe)){if(e&&"<"!==t.charAt(0))throw ee("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new fe(t)}e?$e(this,(n=t,r=r||z.document,(i=ie.exec(n))?[r.createElement(i[1])]:(i=de(n,r))?i.childNodes:[])):kt(t)?Le(t):$e(this,t)}function pe(t){return t.cloneNode(!0)}function me(t,e){!e&&ce(t)&&ht.cleanData([t]),t.querySelectorAll&&ht.cleanData(t.querySelectorAll("*"))}function ge(n,t,r,e){if(bt(e))throw ee("offargs","jqLite#off() does not support the `selector` argument");var i=ye(n),a=i&&i.events,o=i&&i.handle;if(o)if(t){var s=function(t){var e=a[t];bt(r)&&Dt(e||[],r),bt(r)&&e&&0<e.length||(n.removeEventListener(t,o),delete a[t])};pt(t.split(" "),function(t){s(t),te[t]&&s(te[t])})}else for(t in a)"$destroy"!==t&&n.removeEventListener(t,o),delete a[t]}function ve(t,e){var n=t.ng339,r=n&&Jt[n];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),ge(t)),delete Jt[n],t.ng339=void 0}}function ye(t,e){var n=t.ng339,r=n&&Jt[n];return e&&!r&&(t.ng339=n=++Xt,r=Jt[n]={events:{},data:{},handle:void 0}),r}function _e(t,e,n){if(ce(t)){var r,i=bt(n),a=!i&&e&&!wt(e),o=!e,s=ye(t,!a),l=s&&s.data;if(i)l[re(e)]=n;else{if(o)return l;if(a)return l&&l[re(e)];for(r in e)l[re(r)]=e[r]}}}function be(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function we(e,t){t&&e.setAttribute&&pt(t.split(" "),function(t){e.setAttribute("class",Lt((" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Lt(t)+" "," ")))})}function Me(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");pt(e.split(" "),function(t){t=Lt(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Lt(n))}}function $e(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function xe(t,e){return ke(t,"$"+(e||"ngController")+"Controller")}function ke(t,e,n){t.nodeType===Ut&&(t=t.documentElement);for(var r=$t(e)?e:[e];t;){for(var i=0,a=r.length;i<a;i++)if(bt(n=ht.data(t,r[i])))return n;t=t.parentNode||t.nodeType===qt&&t.host}}function Se(t){for(me(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Te(t,e){e||me(t);var n=t.parentNode;n&&n.removeChild(t)}function Le(t){function e(){z.document.removeEventListener("DOMContentLoaded",e),z.removeEventListener("load",e),t()}"complete"===z.document.readyState?z.setTimeout(t):(z.document.addEventListener("DOMContentLoaded",e),z.addEventListener("load",e))}var Ce=fe.prototype={ready:Le,toString:function(){var e=[];return pt(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(t){return ht(0<=t?this[t]:this[this.length+t])},length:0,push:e,sort:[].sort,splice:[].splice},De={};pt("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){De[ct(t)]=t});var Ee={};pt("input,select,option,textarea,button,form,details".split(","),function(t){Ee[t]=!0});var Ye={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};function Ae(t,e){var n=De[e.toLowerCase()];return n&&Ee[Ct(t)]&&n}function Ne(t,e,n){n.call(t,e)}function Oe(t,e,n){var r=e.relatedTarget;r&&(r===t||he.call(t,r))||n.call(t,e)}function Re(){this.$get=function(){return mt(fe,{hasClass:function(t,e){return t.attr&&(t=t[0]),be(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Me(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),we(t,e)}})}}function He(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"===r||"object"===r&&null!==t?t.$$hashKey=r+":"+(e||L)():r+":"+t}pt({data:_e,removeData:ve,hasData:function(t){for(var e in Jt[t.ng339])return!0;return!1},cleanData:function(t){for(var e=0,n=t.length;e<n;e++)ve(t[e])}},function(t,e){fe[e]=t}),pt({data:_e,inheritedData:ke,scope:function(t){return ht.data(t,"$scope")||ke(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return ht.data(t,"$isolateScope")||ht.data(t,"$isolateScopeNoTemplate")},controller:xe,injector:function(t){return ke(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:be,css:function(t,e,n){if(e=re(e.replace(Qt,"ms-")),!bt(n))return t.style[e];t.style[e]=n},attr:function(t,e,n){var r,i=t.nodeType;if(i!==Bt&&2!==i&&i!==Wt&&t.getAttribute){var a=ct(e),o=De[a];if(!bt(n))return r=t.getAttribute(e),o&&null!==r&&(r=a),null===r?void 0:r;null===n||!1===n&&o?t.removeAttribute(e):t.setAttribute(e,o?a:n)}},prop:function(t,e,n){if(!bt(n))return t[e];t[e]=n},text:function(){return t.$dv="",t;function t(t,e){if(_t(e)){var n=t.nodeType;return n===zt||n===Bt?t.textContent:""}t.textContent=e}}(),val:function(t,e){if(_t(e)){if(t.multiple&&"select"===Ct(t)){var n=[];return pt(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){if(_t(e))return t.innerHTML;me(t,!0),t.innerHTML=e},empty:Se},function(u,t){fe.prototype[t]=function(t,e){var n,r,i=this.length;if(u!==Se&&_t(2===u.length&&u!==be&&u!==xe?t:e)){if(wt(t)){for(n=0;n<i;n++)if(u===_e)u(this[n],t);else for(r in t)u(this[n],r,t[r]);return this}for(var a=u.$dv,o=_t(a)?Math.min(i,1):i,s=0;s<o;s++){var l=u(this[s],t,e);a=a?a+l:l}return a}for(n=0;n<i;n++)u(this[n],t,e);return this}}),pt({removeData:ve,on:function(i,t,a,e){if(bt(e))throw ee("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(ce(i)){var s,l,n,r=ye(i,!0),o=r.events,u=r.handle;u||(u=r.handle=(l=o,(n=function(t,e){t.isDefaultPrevented=function(){return t.defaultPrevented};var n=l[e||t.type],r=n?n.length:0;if(r){if(_t(t.immediatePropagationStopped)){var i=t.stopImmediatePropagation;t.stopImmediatePropagation=function(){t.immediatePropagationStopped=!0,t.stopPropagation&&t.stopPropagation(),i&&i.call(t)}}t.isImmediatePropagationStopped=function(){return!0===t.immediatePropagationStopped};var a=n.specialHandlerWrapper||Ne;1<r&&(n=Vt(n));for(var o=0;o<r;o++)t.isImmediatePropagationStopped()||a(s,t,n[o])}}).elem=s=i,n));for(var c=0<=t.indexOf(" ")?t.split(" "):[t],d=c.length,h=function(t,e,n){var r=o[t];r||((r=o[t]=[]).specialHandlerWrapper=e,"$destroy"===t||n||i.addEventListener(t,u)),r.push(a)};d--;)t=c[d],te[t]?(h(te[t],Oe),h(t,void 0,!0)):h(t)}},off:ge,one:function(e,n,r){(e=ht(e)).on(n,function t(){e.off(n,r),e.off(n,t)}),e.on(n,r)},replaceWith:function(e,t){var n,r=e.parentNode;me(e),pt(new fe(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(t){var e=[];return pt(t.childNodes,function(t){t.nodeType===zt&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===zt||n===qt)for(var r=0,i=(e=new fe(e)).length;r<i;r++){var a=e[r];t.appendChild(a)}},prepend:function(e,t){if(e.nodeType===zt){var n=e.firstChild;pt(new fe(t),function(t){e.insertBefore(t,n)})}},wrap:function(t,e){var n,r,i;n=t,r=ht(e).eq(0).clone()[0],(i=n.parentNode)&&i.replaceChild(r,n),r.appendChild(n)},remove:Te,detach:function(t){Te(t,!0)},after:function(t,e){var n=t,r=t.parentNode;if(r)for(var i=0,a=(e=new fe(e)).length;i<a;i++){var o=e[i];r.insertBefore(o,n.nextSibling),n=o}},addClass:Me,removeClass:we,toggleClass:function(n,t,r){t&&pt(t.split(" "),function(t){var e=r;_t(e)&&(e=!be(n,t)),(e?Me:we)(n,t)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==qt?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:pe,triggerHandler:function(e,t,n){var r,i,a,o=t.type||t,s=ye(e),l=s&&s.events,u=l&&l[o];u&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:vt,type:o,target:e},t.type&&(r=mt(r,t)),i=Vt(u),a=n?[r].concat(n):[r],pt(i,function(t){r.isImmediatePropagationStopped()||t.apply(e,a)}))}},function(o,t){fe.prototype[t]=function(t,e,n){for(var r,i=0,a=this.length;i<a;i++)_t(r)?bt(r=o(this[i],t,e,n))&&(r=ht(r)):$e(r,o(this[i],t,e,n));return bt(r)?r:this}}),fe.prototype.bind=fe.prototype.on,fe.prototype.unbind=fe.prototype.off;var Pe=Object.create(null);function je(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}je.prototype={_idx:function(t){return t===this._lastKey||(this._lastKey=t,this._lastIndex=this._keys.indexOf(t)),this._lastIndex},_transformKey:function(t){return C(t)?Pe:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(-1!==e)return this._values[e]},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},delete:function(t){t=this._transformKey(t);var e=this._idx(t);return-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var Fe=je,Ie=[function(){this.$get=[function(){return Fe}]}],ze=/^([^(]+?)=>/,Be=/^[^(]*\(\s*([^)]*)\)/m,We=/,/,Ue=/^\s*(_?)(\S+?)\1\s*$/,qe=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ve=T("$injector");function Ge(t){return Function.prototype.toString.call(t)}function Ke(t){var e=Ge(t).replace(qe,"");return e.match(ze)||e.match(Be)}function Je(t,u){u=!0===u;var i={},o="Provider",s=[],a=new Fe,c={$provide:{provider:h(f),factory:h(p),service:h(function(t,e){return p(t,["$injector",function(t){return t.instantiate(e)}])}),value:h(function(t,e){return p(t,S(e),!1)}),constant:h(function(t,e){Pt(t,"constant"),c[t]=e,n[t]=e}),decorator:function(t,e){var n=l.get(t+o),r=n.$get;n.$get=function(){var t=d.invoke(r,n);return d.invoke(e,null,{$delegate:t})}}}},l=c.$injector=m(c,function(t,e){throw _.isString(e)&&s.push(e),Ve("unpr","Unknown provider: {0}",s.join(" <- "))}),n={},e=m(n,function(t,e){var n=l.get(t+o,e);return d.invoke(n.$get,n,void 0,t)}),d=e;c["$injector"+o]={$get:S(e)},d.modules=l.modules=Ft();var r=function n(t){Ht(_t(t)||$t(t),"modulesToLoad","not an array");var r,i=[];pt(t,function(e){if(!a.get(e)){a.set(e,!0);try{Mt(e)?(r=g(e),d.modules[e]=r,i=i.concat(n(r.requires)).concat(r._runBlocks),t(r._invokeQueue),t(r._configBlocks)):kt(e)?i.push(l.invoke(e)):$t(e)?i.push(l.invoke(e)):lt(e,"module")}catch(t){throw $t(e)&&(e=e[e.length-1]),t.message&&t.stack&&-1===t.stack.indexOf(t.message)&&(t=t.message+"\n"+t.stack),Ve("modulerr","Failed to instantiate module {0} due to:\n{1}",e,t.stack||t.message||t)}}function t(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=l.get(r[0]);i[r[1]].apply(i,r[2])}}});return i}(t);return(d=e.get("$injector")).strictDi=u,pt(r,function(t){t&&d.invoke(t)}),d;function h(n){return function(t,e){if(!wt(t))return n(t,e);pt(t,v(n))}}function f(t,e){if(Pt(t,"service"),(kt(e)||$t(e))&&(e=l.instantiate(e)),!e.$get)throw Ve("pget","Provider '{0}' must define $get factory method.",t);return c[t+o]=e}function p(t,e,n){return f(t,{$get:!1!==n?(r=t,i=e,function(){var t=d.invoke(i,this);if(_t(t))throw Ve("undef","Provider '{0}' must return a value from $get factory method.",r);return t}):e});var r,i}function m(n,r){function l(e,t){if(n.hasOwnProperty(e)){if(n[e]===i)throw Ve("cdep","Circular dependency found: {0}",e+" <- "+s.join(" <- "));return n[e]}try{return s.unshift(e),n[e]=i,n[e]=r(e,t),n[e]}catch(t){throw n[e]===i&&delete n[e],t}finally{s.shift()}}function a(t,e,n){for(var r=[],i=Je.$$annotate(t,u,n),a=0,o=i.length;a<o;a++){var s=i[a];if("string"!=typeof s)throw Ve("itkn","Incorrect injection token! Expected service name as string, got {0}",s);r.push(e&&e.hasOwnProperty(s)?e[s]:l(s,n))}return r}return{invoke:function(t,e,n,r){"string"==typeof n&&(r=n,n=null);var i=a(t,n,r);return $t(t)&&(t=t[t.length-1]),function(t){if(dt||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return Tt(e)||(e=t.$$ngIsClass=/^(?:class\b|constructor\()/.test(Ge(t))),e}(t)?(i.unshift(null),new(Function.prototype.bind.apply(t,i))):t.apply(e,i)},instantiate:function(t,e,n){var r=$t(t)?t[t.length-1]:t,i=a(t,e,n);return i.unshift(null),new(Function.prototype.bind.apply(r,i))},get:l,annotate:Je.$$annotate,has:function(t){return c.hasOwnProperty(t+o)||n.hasOwnProperty(t)}}}}function Xe(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(r,i,a){var o=r.document;function s(t){if(t){t.scrollIntoView();var e=function(){var t=l.yOffset;if(kt(t))t=t();else if(O(t)){var e=t[0];t="fixed"!==r.getComputedStyle(e).position?0:e.getBoundingClientRect().bottom}else $(t)||(t=0);return t}();if(e){var n=t.getBoundingClientRect().top;r.scrollBy(0,n-e)}}else r.scrollTo(0,0)}function l(t){var e,n,r;(t=Mt(t)?t:$(t)?t.toString():i.hash())?(e=o.getElementById(t))?s(e):(n=o.getElementsByName(t),r=null,Array.prototype.some.call(n,function(t){if("a"===Ct(t))return r=t,!0}),(e=r)?s(e):"top"===t&&s(null)):s(null)}return t&&a.$watch(function(){return i.hash()},function(t,e){var n,r;t===e&&""===t||(n=function(){a.$evalAsync(l)},"complete"===(r=r||z).document.readyState?r.setTimeout(n):ht(r).on("load",n))}),l}]}Je.$$annotate=function(t,e,n){var r,i,a;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw Mt(n)&&n||(n=t.name||((a=Ke(t))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),Ve("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);pt(Ke(t)[1].split(We),function(t){t.replace(Ue,function(t,e,n){r.push(n)})})}t.$inject=r}}else $t(t)?(lt(t[i=t.length-1],"fn"),r=t.slice(0,i)):lt(t,"fn",!0);return r};var Ze=T("$animate"),Qe=1,tn="ng-animate";function en(t,e){return t||e?t?e?($t(t)&&(t=t.join(" ")),$t(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function nn(t){return wt(t)?t:{}}var rn=function(){this.$get=vt},an=function(){var m=new Fe,g=[];this.$get=["$$AnimateRunner","$rootScope",function(d,h){return{enabled:vt,on:vt,off:vt,pin:vt,push:function(t,e,n,r){var i,a,o,s,l,u;r&&r(),(n=n||{}).from&&t.css(n.from),n.to&&t.css(n.to),(n.addClass||n.removeClass)&&(i=t,a=n.addClass,o=n.removeClass,s=m.get(i)||{},l=f(s,a,!0),u=f(s,o,!1),(l||u)&&(m.set(i,s),g.push(i),1===g.length&&h.$$postDigest(p)));var c=new d;return c.complete(),c}};function f(e,t,n){var r=!1;return t&&pt(t=Mt(t)?t.split(" "):$t(t)?t:[],function(t){t&&(r=!0,e[t]=n)}),r}function p(){pt(g,function(t){var e=m.get(t);if(e){var n=function(t){Mt(t)&&(t=t.split(" "));var e=Ft();return pt(t,function(t){t.length&&(e[t]=!0)}),e}(t.attr("class")),r="",i="";pt(e,function(t,e){t!==!!n[e]&&(t?r+=(r.length?" ":"")+e:i+=(i.length?" ":"")+e)}),pt(t,function(t){r&&Me(t,r),i&&we(t,i)}),m.delete(t)}}),g.length=0}}]},on=["$provide",function(r){var i=this,e=null,n=null;this.$$registeredAnimations=Object.create(null),this.register=function(t,e){if(t&&"."!==t.charAt(0))throw Ze("notcsel","Expecting class selector starting with '.' got '{0}'.",t);var n=t+"-animation";i.$$registeredAnimations[t.substr(1)]=n,r.factory(n,e)},this.customFilter=function(t){return 1===arguments.length&&(n=kt(t)?t:null),n},this.classNameFilter=function(t){if(1===arguments.length&&((e=t instanceof RegExp?t:null)&&new RegExp("[(\\s|\\/)]"+tn+"[(\\s|\\/)]").test(e.toString())))throw e=null,Ze("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',tn);return e},this.$get=["$$animateQueue",function(a){function i(t,e,n){if(n){var r=function(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Qe)return n}}(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(t){t.end&&t.end()},enter:function(t,e,n,r){return e=e&&ht(e),n=n&&ht(n),i(t,e=e||n.parent(),n),a.push(t,"enter",nn(r))},move:function(t,e,n,r){return e=e&&ht(e),n=n&&ht(n),i(t,e=e||n.parent(),n),a.push(t,"move",nn(r))},leave:function(t,e){return a.push(t,"leave",nn(e),function(){t.remove()})},addClass:function(t,e,n){return(n=nn(n)).addClass=en(n.addclass,e),a.push(t,"addClass",n)},removeClass:function(t,e,n){return(n=nn(n)).removeClass=en(n.removeClass,e),a.push(t,"removeClass",n)},setClass:function(t,e,n,r){return(r=nn(r)).addClass=en(r.addClass,e),r.removeClass=en(r.removeClass,n),a.push(t,"setClass",r)},animate:function(t,e,n,r,i){return(i=nn(i)).from=i.from?mt(i.from,e):e,i.to=i.to?mt(i.to,n):n,r=r||"ng-inline-animate",i.tempClasses=en(i.tempClasses,r),a.push(t,"animate",i)}}}]}],sn=function(){this.$get=["$$rAF",function(e){var n=[];function r(t){n.push(t),1<n.length||e(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}return function(){var e=!1;return r(function(){e=!0}),function(t){e?t():r(t)}}}]},ln=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,r,i){function a(t){this.setHost(t);var e=n();this._doneCallbacks=[],this._tick=function(t){r()?i(t,0,!1):e(t)},this._state=0}return a.chain=function(t,n){var r=0;!function e(){if(r===t.length)return void n(!0);t[r](function(t){!1!==t?(r++,e()):n(!1)})}()},a.all=function(e,n){var r=0,i=!0;function a(t){i=i&&t,++r===e.length&&n(i)}pt(e,function(t){t.done(a)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:vt,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._tick(function(){e._resolve(t)}))},_resolve:function(e){2!==this._state&&(pt(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},a}]},un=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(o,t,s){return function(t,e){var n=e||{};n.$$prepared||(n=H(n)),n.cleanupStyles&&(n.from=n.to=null),n.from&&(t.css(n.from),n.from=null);var r,i=new s;return{start:a,end:a};function a(){return o(function(){!function(){n.addClass&&(t.addClass(n.addClass),n.addClass=null);n.removeClass&&(t.removeClass(n.removeClass),n.removeClass=null);n.to&&(t.css(n.to),n.to=null)}(),r||i.complete(),r=!0}),i}}}]};function cn(s,t,e,l){var u=this,c=s.location,d=s.history,r=s.setTimeout,n=s.clearTimeout,i={};u.isMock=!1;var a=0,o=[];function h(t){try{t.apply(null,At(arguments,1))}finally{if(0===--a)for(;o.length;)try{o.pop()()}catch(t){e.error(t)}}}u.$$completeOutstandingRequest=h,u.$$incOutstandingRequestCount=function(){a++},u.notifyWhenNoOutstandingRequests=function(t){0===a?t():o.push(t)};var f,p,m=c.href,g=t.find("base"),v=null,y=l.history?function(){try{return d.state}catch(t){}}:vt;$(),u.url=function(t,e,n){if(_t(n)&&(n=null),c!==s.location&&(c=s.location),d!==s.history&&(d=s.history),t){var r=p===n;if(m===t&&(!l.history||r))return u;var i=m&&or(m)===or(t);return m=t,p=n,!l.history||i&&r?(i||(v=t),e?c.replace(t):i?c.hash=-1===(o=(a=t).indexOf("#"))?"":a.substr(o):c.href=t,c.href!==t&&(v=t)):(d[e?"replaceState":"pushState"](n,"",t),$()),v&&(v=t),u}return v||c.href.replace(/%27/g,"'");var a,o},u.state=function(){return f};var _=[],b=!1;function w(){v=null,x()}var M=null;function $(){Yt(f=_t(f=y())?null:f,M)&&(f=M),p=M=f}function x(){var t=p;$(),m===u.url()&&t===f||(m=u.url(),p=f,pt(_,function(t){t(u.url(),f)}))}u.onUrlChange=function(t){return b||(l.history&&ht(s).on("popstate",w),ht(s).on("hashchange",w),b=!0),_.push(t),t},u.$$applicationDestroyed=function(){ht(s).off("hashchange popstate",w)},u.$$checkUrlChange=x,u.baseHref=function(){var t=g.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},u.defer=function(t,e){var n;return a++,n=r(function(){delete i[n],h(t)},e||0),i[n]=!0,n},u.defer.cancel=function(t){return!!i[t]&&(delete i[t],n(t),h(vt),!0)}}function dn(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new cn(t,r,e,n)}]}function hn(){this.$get=function(){var d={};function t(t,e){if(t in d)throw T("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var n=0,r=mt({},e,{id:t}),i=Ft(),a=e&&e.capacity||Number.MAX_VALUE,o=Ft(),s=null,l=null;return d[t]={put:function(t,e){if(!_t(e)){if(a<Number.MAX_VALUE)u(o[t]||(o[t]={key:t}));return t in i||n++,i[t]=e,a<n&&this.remove(l.key),e}},get:function(t){if(a<Number.MAX_VALUE){var e=o[t];if(!e)return;u(e)}return i[t]},remove:function(t){if(a<Number.MAX_VALUE){var e=o[t];if(!e)return;e===s&&(s=e.p),e===l&&(l=e.n),c(e.n,e.p),delete o[t]}t in i&&(delete i[t],n--)},removeAll:function(){i=Ft(),n=0,o=Ft(),s=l=null},destroy:function(){o=r=i=null,delete d[t]},info:function(){return mt({},r,{size:n})}};function u(t){t!==s&&(l?l===t&&(l=t.n):l=t,c(t.n,t.p),c(t,s),(s=t).n=null)}function c(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}}return t.info=function(){var n={};return pt(d,function(t,e){n[e]=t.info()}),n},t.get=function(t){return d[t]},t}}function fn(){this.$get=["$cacheFactory",function(t){return t("templates")}]}var pn=T("$compile");var mn=new function(){};function gn(n,e){var p={},m="Directive",P=/^\s*directive:\s*([\w-]+)\s+(.*)$/,j=/(([\w-]+)(?::([^;]+))?;?)/,c=function(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,d=/^(on[a-z]+|formaction)$/,s=Ft();function r(t,r,i){var a=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,o=Ft();return pt(t,function(t,e){if(t in s)o[e]=s[t];else{var n=t.match(a);if(!n)throw pn("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",r,e,t,i?"controller bindings definition":"isolate scope definition");o[e]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||e},n[4]&&(s[t]=o[e])}}),o}function g(t,e){var n={isolateScope:null,bindToController:null};if(wt(t.scope)&&(!0===t.bindToController?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),wt(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw pn("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}this.directive=function t(l,e){return Ht(l,"name"),Pt(l,"directive"),Mt(l)?(!function(t){var e=t.charAt(0);if(!e||e!==ct(e))throw pn("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw pn("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}(l),Ht(e,"directiveFactory"),p.hasOwnProperty(l)||(p[l]=[],n.factory(l+m,["$injector","$exceptionHandler",function(a,o){var s=[];return pt(p[l],function(t,e){try{var n=a.invoke(t);kt(n)?n={compile:S(n)}:!n.compile&&n.link&&(n.compile=S(n.link)),n.priority=n.priority||0,n.index=e,n.name=n.name||l,n.require=(i=(r=n).require||r.controller&&r.name,!$t(i)&&wt(i)&&pt(i,function(t,e){var n=t.match(h);t.substring(n[0].length)||(i[e]=n[0]+e)}),i),n.restrict=function(t,e){if(t&&(!Mt(t)||!/[EACM]/.test(t)))throw pn("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}(n.restrict,l),n.$$moduleName=t.$$moduleName,s.push(n)}catch(t){o(t)}var r,i}),s}])),p[l].push(e)):pt(l,v(t)),this},this.component=function t(e,i){if(!Mt(e))return pt(e,v(Nt(this,t))),this;var a=i.controller||function(){};function n(r){function t(n){return kt(n)||$t(n)?function(t,e){return r.invoke(n,this,{$element:t,$attrs:e})}:n}var e=i.template||i.templateUrl?i.template:"",n={controller:a,controllerAs:function(t,e){if(e&&Mt(e))return e;if(Mt(t)){var n=xn.exec(t);if(n)return n[3]}}(i.controller)||i.controllerAs||"$ctrl",template:t(e),templateUrl:t(i.templateUrl),transclude:i.transclude,scope:{},bindToController:i.bindings||{},restrict:"E",require:i.require};return pt(i,function(t,e){"$"===e.charAt(0)&&(n[e]=t)}),n}return pt(i,function(t,e){"$"===e.charAt(0)&&(n[e]=t,kt(a)&&(a[e]=t))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(t){return bt(t)?(e.aHrefSanitizationWhitelist(t),this):e.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return bt(t)?(e.imgSrcSanitizationWhitelist(t),this):e.imgSrcSanitizationWhitelist()};var u=!0,ut=!(this.debugInfoEnabled=function(t){return bt(t)?(u=t,this):u}),$=!(this.preAssignBindingsEnabled=function(t){return bt(t)?(ut=t,this):ut});this.strictComponentBindingsEnabled=function(t){return bt(t)?($=t,this):$};var x=10;this.onChangesTtl=function(t){return arguments.length?(x=t,this):x};var F=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(F=t,this):F};var I=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(I=t,this):I},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(f,k,W,t,_,U,a,i,o,v){var s,y=/^\w/,b=z.document.createElement("div"),S=F,T=I,e=x;function l(){try{if(!--e)throw s=void 0,pn("infchng","{0} $onChanges() iterations reached. Aborting!\n",x);a.$apply(function(){for(var e=[],t=0,n=s.length;t<n;++t)try{s[t]()}catch(t){e.push(t)}if(s=void 0,e.length)throw e})}finally{e++}}function q(t,e){if(e){var n,r,i,a=Object.keys(e);for(n=0,r=a.length;n<r;n++)this[i=a[n]]=e[i]}else this.$attr={};this.$$element=t}function L(t,e){try{t.addClass(e)}catch(t){}}q.prototype={$normalize:bn,$addClass:function(t){t&&0<t.length&&o.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&o.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=wn(t,e);n&&n.length&&o.addClass(this.$$element,n);var r=wn(e,t);r&&r.length&&o.removeClass(this.$$element,r)},$set:function(t,e,n,r){var i,a=Ae(this.$$element[0],t),o=Ye[t],s=t;if(a?(this.$$element.prop(t,e),r=a):o&&(this[o]=e,s=o),this[t]=e,r?this.$attr[t]=r:(r=this.$attr[t])||(this.$attr[t]=r=Rt(t,"-")),"a"===(i=Ct(this.$$element))&&("href"===t||"xlinkHref"===t)||"img"===i&&"src"===t)this[t]=e=v(e,"src"===t);else if("img"===i&&"srcset"===t&&bt(e)){for(var l="",u=Lt(e),c=/\s/.test(u)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,d=u.split(c),h=Math.floor(d.length/2),f=0;f<h;f++){var p=2*f;l+=v(Lt(d[p]),!0),l+=" "+Lt(d[p+1])}var m=Lt(d[2*f]).split(/\s/);l+=v(Lt(m[0]),!0),2===m.length&&(l+=" "+Lt(m[1])),this[t]=e=l}!1!==n&&(null===e||_t(e)?this.$$element.removeAttr(r):y.test(r)?this.$$element.attr(r,e):function(t,e,n){b.innerHTML="<span "+e+">";var r=b.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}(this.$$element[0],r,e));var g=this.$$observers;g&&pt(g[s],function(t){try{t(e)}catch(t){W(t)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=Ft()),i=r[t]||(r[t]=[]);return i.push(e),a.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||_t(n[t])||e(n[t])}),function(){Dt(i,e)}}};var n=k.startSymbol(),r=k.endSymbol(),V="{{"===n&&"}}"===r?yt:function(t){return t.replace(/\{\{/g,n).replace(/}}/g,r)},C=/^ngAttr[A-Z]/,D=/^(.+)Start$/;return G.$$addBindingInfo=u?function(t,e){var n=t.data("$binding")||[];$t(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:vt,G.$$addBindingClass=u?function(t){L(t,"ng-binding")}:vt,G.$$addScopeInfo=u?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:vt,G.$$addScopeClass=u?function(t,e){L(t,e?"ng-isolate-scope":"ng-scope")}:vt,G.$$createComment=function(t,e){var n="";return u&&(n=" "+(t||"")+": ",e&&(n+=e+" ")),z.document.createComment(n)},G;function G(c,t,e,n,d){c instanceof ht||(c=ht(c));var h=E(c,t,c,e,n,d);G.$$addScopeClass(c);var f=null;return function(t,e,n){if(!c)throw pn("multilink","This element has already been linked.");Ht(t,"scope"),d&&d.needsNewScope&&(t=t.$parent.$new());var r,i,a,o=(n=n||{}).parentBoundTranscludeFn,s=n.transcludeControllers,l=n.futureParentElement;if(o&&o.$$boundTransclude&&(o=o.$$boundTransclude),f||(i=(r=l)&&r[0],f=i&&"foreignobject"!==Ct(i)&&ft.call(i).match(/SVG/)?"svg":"html"),a="html"!==f?ht(it(f,ht("<div>").append(c).html())):e?Ce.clone.call(c):c,s)for(var u in s)a.data("$"+u+"Controller",s[u].instance);return G.$$addScopeInfo(a,t),e&&e(a,t),h&&h(t,a,a,o),e||(c=h=null),a}}function E(t,p,e,n,r,i){for(var a,o,s,l,u,c,m,g=[],d=$t(t)||t instanceof ht,h=0;h<t.length;h++)a=new q,11===dt&&w(t,h,d),(s=(o=K(t[h],[],a,0===h?n:void 0,r)).length?A(o,t[h],a,p,e,null,[],[],i):null)&&s.scope&&G.$$addScopeClass(a.$$element),u=s&&s.terminal||!(l=t[h].childNodes)||!l.length?null:E(l,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:p),(s||u)&&(g.push(h,s,u),c=!0,m=m||s),i=null;return c?function(t,e,n,r){var i,a,o,s,l,u,c,d,h;if(m){var f=e.length;for(h=new Array(f),l=0;l<g.length;l+=3)c=g[l],h[c]=e[c]}else h=e;for(l=0,u=g.length;l<u;)o=h[g[l++]],i=g[l++],a=g[l++],i?(i.scope?(s=t.$new(),G.$$addScopeInfo(ht(o),s)):s=t,d=i.transcludeOnThisElement?Y(t,i.transclude,r):!i.templateOnThisElement&&r?r:!r&&p?Y(t,p):null,i(a,s,o,n,d)):a&&a(t,o.childNodes,void 0,r)}:null}function w(t,e,n){var r,i=t[e],a=i.parentNode;if(i.nodeType===Bt)for(;(r=a?i.nextSibling:t[e+1])&&r.nodeType===Bt;)i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===t[e+1]&&t.splice(e+1,1)}function Y(a,o,s){function t(t,e,n,r,i){return t||((t=a.$new(!1,i)).$$transcluded=!0),o(t,e,{parentBoundTranscludeFn:s,transcludeControllers:n,futureParentElement:r})}var e=t.$$slots=Ft();for(var n in o.$$slots)o.$$slots[n]?e[n]=Y(a,o.$$slots[n],s):e[n]=null;return t}function K(t,e,n,r,i){var a,o,s,l,u,c,d=t.nodeType,h=n.$attr;switch(d){case zt:N(e,bn(o=Ct(t)),"E",r,i);for(var f,p,m,g,v,y,_=t.attributes,b=0,w=_&&_.length;b<w;b++){var M=!1,$=!1;p=(f=_[b]).name,v=f.value,g=bn(p),(y=C.test(g))&&(p=p.replace(yn,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var x=g.match(D);x&&O(x[1])&&($=(M=p).substr(0,p.length-5)+"end",p=p.substr(0,p.length-6)),h[m=bn(p.toLowerCase())]=p,!y&&n.hasOwnProperty(m)||(n[m]=v,Ae(t,m)&&(n[m]=!0)),H(t,e,v,m,y),N(e,m,"A",r,i,M,$)}if("input"===o&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!T)break;if(wt(s=t.className)&&(s=s.animVal),Mt(s)&&""!==s)for(;a=j.exec(s);)N(e,m=bn(a[2]),"C",r,i)&&(n[m]=Lt(a[3])),s=s.substr(a.index+a[0].length);break;case Bt:l=e,u=t.nodeValue,(c=k(u,!0))&&l.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&G.$$addBindingClass(e),function(t,e){var n=e.parent();r||G.$$addBindingClass(n),G.$$addBindingInfo(n,c.expressions),t.$watch(c,function(t){e[0].nodeValue=t})}}});break;case Wt:if(!S)break;!function(t,e,n,r,i){try{var a=P.exec(t.nodeValue);if(a){var o=bn(a[1]);N(e,o,"M",r,i)&&(n[o]=Lt(a[2]))}}catch(t){}}(t,e,n,r,i)}return e.sort(R),e}function J(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e))do{if(!t)throw pn("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===zt&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(0<i);else r.push(t);return ht(r)}function X(a,o,s){return function(t,e,n,r,i){return e=J(e[0],o,s),a(t,e,n,r,i)}}function Z(t,e,n,r,i,a){var o;return t?G(e,n,r,i,a):function(){return o||(o=G(e,n,r,i,a),e=n=a=null),o.apply(this,arguments)}}function A(t,w,M,e,n,r,$,x,i){i=i||{};for(var a,o,s,l,u,c=-Number.MAX_VALUE,k=i.newScopeDirective,S=i.controllerDirectives,T=i.newIsolateScopeDirective,L=i.templateDirective,d=i.nonTlbTranscludeDirective,h=!1,f=!1,C=i.hasElementTranscludeDirective,p=M.$$element=ht(w),m=r,g=e,v=!1,y=!1,_=0,b=t.length;_<b;_++){var D=(a=t[_]).$$start,E=a.$$end;if(D&&(p=J(w,D,E)),s=void 0,c>a.priority)break;if((u=a.scope)&&(a.templateUrl||(wt(u)?(rt("new/isolated scope",T||k,a,p),T=a):rt("new/isolated scope",T,a,p)),k=k||a),o=a.name,!v&&(a.replace&&(a.templateUrl||a.template)||a.transclude&&!a.$$tlb)){for(var Y,A=_+1;Y=t[A++];)if(Y.transclude&&!Y.$$tlb||Y.replace&&(Y.templateUrl||Y.template)){y=!0;break}v=!0}if(!a.templateUrl&&a.controller&&(S=S||Ft(),rt("'"+o+"' controller",S[o],a,p),S[o]=a),u=a.transclude)if(h=!0,a.$$tlb||(rt("transclusion",d,a,p),d=a),"element"===u)C=!0,c=a.priority,s=p,p=M.$$element=ht(G.$$createComment(o,M[o])),w=p[0],at(n,At(s),w),s[0].$$parentNode=s[0].parentNode,g=Z(y,s,e,c,m&&m.name,{nonTlbTranscludeDirective:d});else{var N=Ft();if(wt(u)){s=[];var O=Ft(),R=Ft();for(var H in pt(u,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,O[t]=e,N[e]=null,R[e]=n}),pt(p.contents(),function(t){var e=O[bn(Ct(t))];e?(R[e]=!0,N[e]=N[e]||[],N[e].push(t)):s.push(t)}),pt(R,function(t,e){if(!t)throw pn("reqslot","Required transclusion slot `{0}` was not filled.",e)}),N)N[H]&&(N[H]=Z(y,N[H],e))}else s=ht(pe(w)).contents();p.empty(),(g=Z(y,s,e,void 0,void 0,{needsNewScope:a.$$isolateScope||a.$$newScope})).$$slots=N}if(a.template)if(f=!0,rt("template",L,a,p),u=kt((L=a).template)?a.template(p,M):a.template,u=V(u),a.replace){if(m=a,s=ue(u)?[]:Mn(it(a.templateNamespace,Lt(u))),w=s[0],1!==s.length||w.nodeType!==zt)throw pn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",o,"");at(n,p,w);var P={$attr:{}},j=K(w,[],P),F=t.splice(_+1,t.length-(_+1));(T||k)&&tt(j,T,k),t=t.concat(j).concat(F),et(M,P),b=t.length}else p.html(u);if(a.templateUrl)f=!0,rt("template",L,a,p),(L=a).replace&&(m=a),B=nt(t.splice(_,t.length-_),p,M,n,h&&g,$,x,{controllerDirectives:S,newScopeDirective:k!==a&&k,newIsolateScopeDirective:T,templateDirective:L,nonTlbTranscludeDirective:d}),b=t.length;else if(a.compile)try{l=a.compile(p,M,g);var I=a.$$originalDirective||a;kt(l)?z(null,Nt(I,l),D,E):l&&z(Nt(I,l.pre),Nt(I,l.post),D,E)}catch(t){W(t,Ot(p))}a.terminal&&(B.terminal=!0,c=Math.max(c,a.priority))}return B.scope=k&&!0===k.scope,B.transcludeOnThisElement=h,B.templateOnThisElement=f,B.transclude=g,i.hasElementTranscludeDirective=C,B;function z(t,e,n,r){t&&(n&&(t=X(t,n,r)),t.require=a.require,t.directiveName=o,(T===a||a.$$isolateScope)&&(t=ot(t,{isolateScope:!0})),$.push(t)),e&&(n&&(e=X(e,n,r)),e.require=a.require,e.directiveName=o,(T===a||a.$$isolateScope)&&(e=ot(e,{isolateScope:!0})),x.push(e))}function B(t,e,n,r,o){var i,a,s,l,u,c,d,h,f,p;for(var m in w===n?h=(f=M).$$element:f=new q(h=ht(n),M),u=e,T?l=e.$new(!0):k&&(u=e.$parent),o&&((d=function(t,e,n,r){var i;St(t)||(r=n,n=e,e=t,t=void 0);C&&(i=c);n||(n=C?h.parent():h);{if(!r)return o(t,e,i,n,b);var a=o.$$slots[r];if(a)return a(t,e,i,n,b);if(_t(a))throw pn("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,Ot(h))}}).$$boundTransclude=o,d.isSlotFilled=function(t){return!!o.$$slots[t]}),S&&(c=function(t,e,n,r,i,a,o){var s=Ft();for(var l in r){var u=r[l],c={$scope:u===o||u.$$isolateScope?i:a,$element:t,$attrs:e,$transclude:n},d=u.controller;"@"===d&&(d=e[u.name]);var h=U(d,c,!0,u.controllerAs);s[u.name]=h,t.data("$"+u.name+"Controller",h.instance)}return s}(h,f,d,S,l,e,T)),T&&(G.$$addScopeInfo(h,l,!0,!(L&&(L===T||L===T.$$originalDirective))),G.$$addScopeClass(h,!0),l.$$isolateBindings=T.$$isolateBindings,(p=lt(e,f,l,l.$$isolateBindings,T)).removeWatches&&l.$on("$destroy",p.removeWatches)),c){var g=S[m],v=c[m],y=g.$$bindings.bindToController;if(ut){v.bindingInfo=y?lt(u,f,v.instance,y,g):{};var _=v();_!==v.instance&&(v.instance=_,h.data("$"+g.name+"Controller",_),v.bindingInfo.removeWatches&&v.bindingInfo.removeWatches(),v.bindingInfo=lt(u,f,v.instance,y,g))}else v.instance=v(),h.data("$"+g.name+"Controller",v.instance),v.bindingInfo=lt(u,f,v.instance,y,g)}for(pt(S,function(t,e){var n=t.require;t.bindToController&&!$t(n)&&wt(n)&&mt(c[e].instance,Q(e,n,h,c))}),pt(c,function(t){var e=t.instance;if(kt(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){W(t)}if(kt(e.$onInit))try{e.$onInit()}catch(t){W(t)}kt(e.$doCheck)&&(u.$watch(function(){e.$doCheck()}),e.$doCheck()),kt(e.$onDestroy)&&u.$on("$destroy",function(){e.$onDestroy()})}),i=0,a=$.length;i<a;i++)st(s=$[i],s.isolateScope?l:e,h,f,s.require&&Q(s.directiveName,s.require,h,c),d);var b=e;for(T&&(T.template||null===T.templateUrl)&&(b=l),t&&t(b,n.childNodes,void 0,o),i=x.length-1;0<=i;i--)st(s=x[i],s.isolateScope?l:e,h,f,s.require&&Q(s.directiveName,s.require,h,c),d);pt(c,function(t){var e=t.instance;kt(e.$postLink)&&e.$postLink()})}}function Q(n,t,r,i){var a;if(Mt(t)){var e=t.match(h),o=t.substring(e[0].length),s=e[1]||e[3],l="?"===e[2];if("^^"===s?r=r.parent():a=(a=i&&i[o])&&a.instance,!a){var u="$"+o+"Controller";a=s?r.inheritedData(u):r.data(u)}if(!a&&!l)throw pn("ctreq","Controller '{0}', required by directive '{1}', can't be found!",o,n)}else if($t(t)){a=[];for(var c=0,d=t.length;c<d;c++)a[c]=Q(n,t[c],r,i)}else wt(t)&&(a={},pt(t,function(t,e){a[e]=Q(n,t,r,i)}));return a||null}function tt(t,e,n){for(var r=0,i=t.length;r<i;r++)t[r]=gt(t[r],{$$isolateScope:e,$$newScope:n})}function N(t,e,n,r,i,a,o){if(e===i)return null;var s=null;if(p.hasOwnProperty(e))for(var l,u=f.get(e+m),c=0,d=u.length;c<d;c++)if(l=u[c],(_t(r)||r>l.priority)&&-1!==l.restrict.indexOf(n)){if(a&&(l=gt(l,{$$start:a,$$end:o})),!l.$$bindings){var h=l.$$bindings=g(l,l.name);wt(h.isolateScope)&&(l.$$isolateBindings=h.isolateScope)}t.push(l),s=l}return s}function O(t){if(p.hasOwnProperty(t))for(var e=f.get(t+m),n=0,r=e.length;n<r;n++)if(e[n].multiElement)return!0;return!1}function et(n,r){var i=r.$attr,a=n.$attr;pt(n,function(t,e){"$"!==e.charAt(0)&&(r[e]&&r[e]!==t&&(t.length?t+=("style"===e?";":" ")+r[e]:t=r[e]),n.$set(e,t,!0,i[e]))}),pt(r,function(t,e){n.hasOwnProperty(e)||"$"===e.charAt(0)||(n[e]=t,"class"!==e&&"style"!==e&&(a[e]=i[e]))})}function nt(h,f,p,m,g,v,y,_){var b,w,M=[],$=f[0],x=h.shift(),k=gt(x,{templateUrl:null,transclude:null,replace:null,$$originalDirective:x}),S=kt(x.templateUrl)?x.templateUrl(f,p):x.templateUrl,T=x.templateNamespace;return f.empty(),t(S).then(function(t){var n,e,r,i;if(t=V(t),x.replace){if(r=ue(t)?[]:Mn(it(T,Lt(t))),n=r[0],1!==r.length||n.nodeType!==zt)throw pn("tplrt","Template for directive '{0}' must have exactly one root element. {1}",x.name,S);e={$attr:{}},at(m,f,n);var a=K(n,[],e);wt(x.scope)&&tt(a,!0),h=a.concat(h),et(p,e)}else n=$,f.html(t);for(h.unshift(k),b=A(h,n,p,g,f,x,v,y,_),pt(m,function(t,e){t===n&&(m[e]=f[0])}),w=E(f[0].childNodes,g);M.length;){var o=M.shift(),s=M.shift(),l=M.shift(),u=M.shift(),c=f[0];if(!o.$$destroyed){if(s!==$){var d=s.className;_.hasElementTranscludeDirective&&x.replace||(c=pe(n)),at(l,ht(s),c),L(ht(c),d)}i=b.transcludeOnThisElement?Y(o,b.transclude,u):u,b(w,o,c,m,i)}}M=null}).catch(function(t){xt(t)&&W(t)}),function(t,e,n,r,i){var a=i;e.$$destroyed||(M?M.push(e,n,r,a):(b.transcludeOnThisElement&&(a=Y(e,b.transclude,i)),b(w,e,n,r,a)))}}function R(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function rt(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw pn("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,Ot(r))}function it(t,e){switch(t=ct(t||"html")){case"svg":case"math":var n=z.document.createElement("div");return n.innerHTML="<"+t+">"+e+"</"+t+">",n.childNodes[0].childNodes;default:return e}}function H(t,e,a,o,n){var s=function(t,e){if("srcdoc"===e)return i.HTML;var n=Ct(t);if("src"===e||"ngSrc"===e){if(-1===["img","video","audio","source","track"].indexOf(n))return i.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return i.RESOURCE_URL}(t,o),r=!n,l=c[o]||n,u=k(a,r,s,l);if(u){if("multiple"===o&&"select"===Ct(t))throw pn("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Ot(t));if(d.test(o))throw pn("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");e.push({priority:100,compile:function(){return{pre:function(t,e,n){var r=n.$$observers||(n.$$observers=Ft()),i=n[o];i!==a&&(u=i&&k(i,!0,s,l),a=i),u&&(n[o]=u(t),(r[o]||(r[o]=[])).$$inter=!0,(n.$$observers&&n.$$observers[o].$$scope||t).$watch(u,function(t,e){"class"===o&&t!==e?n.$updateClass(t,e):n.$set(o,t)}))}}}})}}function at(t,e,n){var r,i,a=e[0],o=e.length,s=a.parentNode;if(t)for(r=0,i=t.length;r<i;r++)if(t[r]===a){t[r++]=n;for(var l=r,u=l+o-1,c=t.length;l<c;l++,u++)u<c?t[l]=t[u]:delete t[l];t.length-=o-1,t.context===a&&(t.context=n);break}s&&s.replaceChild(n,a);var d=z.document.createDocumentFragment();for(r=0;r<o;r++)d.appendChild(e[r]);for(ht.hasData(a)&&(ht.data(n,ht.data(a)),ht(a).off("$destroy")),ht.cleanData(d.querySelectorAll("*")),r=1;r<o;r++)delete e[r];e[0]=n,e.length=1}function ot(t,e){return mt(function(){return t.apply(null,arguments)},t,e)}function st(t,e,n,r,i,a){try{t(e,n,r,i,a)}catch(t){W(t,Ot(n))}}function M(t,e){if($)throw pn("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",t,e)}function lt(h,f,p,t,m){var r,g=[],v={};function y(t,e,n){kt(p.$onChanges)&&!Et(e,n)&&(s||(h.$$postDigest(l),s=[]),r||(r={},s.push(i)),r[t]&&(n=r[t].previousValue),r[t]=new vn(n,e))}function i(){p.$onChanges(r),r=void 0}return pt(t,function(t,n){var e,r,i,a,o,s=t.attrName,l=t.optional;switch(t.mode){case"@":l||B.call(f,s)||(M(s,m.name),p[n]=f[s]=void 0),o=f.$observe(s,function(t){if(Mt(t)||Tt(t)){var e=p[n];y(n,t,e),p[n]=t}}),f.$$observers[s].$$scope=h,Mt(e=f[s])?p[n]=k(e)(h):Tt(e)&&(p[n]=e),v[n]=new vn(mn,p[n]),g.push(o);break;case"=":if(!B.call(f,s)){if(l)break;M(s,m.name),f[s]=void 0}if(l&&!f[s])break;r=_(f[s]),a=r.literal?Yt:Et,i=r.assign||function(){throw e=p[n]=r(h),pn("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",f[s],s,m.name)},e=p[n]=r(h);var u=function(t){return a(t,p[n])||(a(t,e)?i(h,t=p[n]):p[n]=t),e=t};u.$stateful=!0,o=t.collection?h.$watchCollection(f[s],u):h.$watch(_(f[s],u),null,r.literal),g.push(o);break;case"<":if(!B.call(f,s)){if(l)break;M(s,m.name),f[s]=void 0}if(l&&!f[s])break;var c=(r=_(f[s])).literal,d=p[n]=r(h);v[n]=new vn(mn,p[n]),o=h.$watch(r,function(t,e){if(e===t){if(e===d||c&&Yt(e,d))return;e=d}y(n,t,e),p[n]=t},c),g.push(o);break;case"&":if(l||B.call(f,s)||M(s,m.name),(r=f.hasOwnProperty(s)?_(f[s]):vt)===vt&&l)break;p[n]=function(t){return r(h,t)}}}),{initialChanges:v,removeWatches:g.length&&function(){for(var t=0,e=g.length;t<e;++t)g[t]()}}}}]}function vn(t,e){this.previousValue=t,this.currentValue=e}gn.$inject=["$provide","$$sanitizeUriProvider"],vn.prototype.isFirstChange=function(){return this.previousValue===mn};var yn=/^((?:x|data)[:\-_])/i,_n=/[:\-_]+(.)/g;function bn(t){return t.replace(yn,"").replace(_n,ne)}function wn(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var a=0;a<r.length;a++){for(var o=r[a],s=0;s<i.length;s++)if(o===i[s])continue t;n+=(0<n.length?" ":"")+o}return n}function Mn(t){var e=(t=ht(t)).length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===Wt||n.nodeType===Bt&&""===n.nodeValue.trim())&&r.call(t,e,1)}return t}var $n=T("$controller"),xn=/^(\S+)(\s+as\s+([\w$]+))?$/;function kn(){var h={},f=!1;this.has=function(t){return h.hasOwnProperty(t)},this.register=function(t,e){Pt(t,"controller"),wt(t)?mt(h,t):h[t]=e},this.allowGlobals=function(){f=!0},this.$get=["$injector","$window",function(u,c){return function(e,n,t,r){var i,a,o,s;if(t=!0===t,r&&Mt(r)&&(s=r),Mt(e)){if(!(a=e.match(xn)))throw $n("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);if(o=a[1],s=s||a[3],!(e=h.hasOwnProperty(o)?h[o]:ut(n.$scope,o,!0)||(f?ut(c,o,!0):void 0)))throw $n("ctrlreg","The controller with the name '{0}' is not registered.",o);lt(e,o,!0)}if(t){var l=($t(e)?e[e.length-1]:e).prototype;return i=Object.create(l||null),s&&d(n,s,i,o||e.name),mt(function(){var t=u.invoke(e,i,n,o);return t!==i&&(wt(t)||kt(t))&&(i=t,s&&d(n,s,i,o||e.name)),i},{instance:i,identifier:s})}return i=u.instantiate(e,n,o),s&&d(n,s,i,o||e.name),i};function d(t,e,n,r){if(!t||!wt(t.$scope))throw T("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",r,e);t.$scope[e]=n}}]}function Sn(){this.$get=["$window",function(t){return ht(t.document)}]}function Tn(){this.$get=["$document","$rootScope",function(t,e){var n=t[0],r=n&&n.hidden;function i(){r=n.hidden}return t.on("visibilitychange",i),e.$on("$destroy",function(){t.off("visibilitychange",i)}),function(){return r}}]}function Ln(){this.$get=["$log",function(n){return function(t,e){n.error.apply(n,arguments)}}]}var Cn=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof ht&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Dn="application/json",En={"Content-Type":Dn+";charset=utf-8"},Yn=/^\[|^\{(?!\{)/,An={"[":/]$/,"{":/}$/},Nn=/^\)]\}',?\n/,On=T("$http");function Rn(t){return wt(t)?x(t)?t.toISOString():W(t):t}function Hn(){this.$get=function(){return function(t){if(!t)return"";var n=[];return p(t,function(t,e){null===t||_t(t)||kt(t)||($t(t)?pt(t,function(t){n.push(Q(e)+"="+Q(Rn(t)))}):n.push(Q(e)+"="+Q(Rn(t))))}),n.join("&")}}}function Pn(){this.$get=function(){return function(t){if(!t)return"";var e=[];return function n(t,r,i){if(null===t||_t(t))return;$t(t)?pt(t,function(t,e){n(t,r+"["+(wt(t)?e:"")+"]")}):wt(t)&&!x(t)?p(t,function(t,e){n(t,r+(i?"":"[")+e+(i?"":"]"))}):e.push(Q(r)+"="+Q(Rn(t)))}(t,"",!0),e.join("&")}}}function jn(e,t){if(Mt(e)){var n=e.replace(Nn,"").trim();if(n){var r=t("Content-Type"),i=r&&0===r.indexOf(Dn);if(i||(o=(a=n).match(Yn))&&An[o[0]].test(a))try{e=U(n)}catch(t){if(!i)return e;throw On("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',e,t)}}}var a,o;return e}function Fn(t){var e,n=Ft();function r(t,e){t&&(n[t]=n[t]?n[t]+", "+e:e)}return Mt(t)?pt(t.split("\n"),function(t){e=t.indexOf(":"),r(ct(Lt(t.substr(0,e))),Lt(t.substr(e+1)))}):wt(t)&&pt(t,function(t,e){r(ct(e),Lt(t))}),n}function In(n){var r;return function(t){if(r||(r=Fn(n)),t){var e=r[ct(t)];return void 0===e&&(e=null),e}return r}}function zn(e,n,r,t){return kt(t)?t(e,n,r):(pt(t,function(t){e=t(e,n,r)}),e)}function Bn(t){return 200<=t&&t<300}function Wn(){var $=this.defaults={transformResponse:[jn],transformRequest:[function(t){return wt(t)&&(r=t,"[object File]"!==ft.call(r))&&(n=t,"[object Blob]"!==ft.call(n))&&(e=t,"[object FormData]"!==ft.call(e))?W(t):t;var e,n,r}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Vt(En),put:Vt(En),patch:Vt(En)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},x=!1;this.useApplyAsync=function(t){return bt(t)?(x=!!t,this):x};var e=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(s,g,v,t,y,_,l,b){var w=t("$http");$.paramSerializer=Mt($.paramSerializer)?l.get($.paramSerializer):$.paramSerializer;var u=[];function M(t){if(!wt(t))throw T("$http")("badreq","Http request configuration must be an object.  Received: {0}",t);if(!Mt(b.valueOf(t.url)))throw T("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",t.url);var n=mt({method:"get",transformRequest:$.transformRequest,transformResponse:$.transformResponse,paramSerializer:$.paramSerializer,jsonpCallbackParam:$.jsonpCallbackParam},t);n.headers=function(t){var e,n,r,i=$.headers,a=mt({},t.headers);i=mt({},i.common,i[ct(t.method)]);t:for(e in i){for(r in n=ct(e),a)if(ct(r)===n)continue t;a[e]=i[e]}return o=a,s=Vt(t),u={},pt(o,function(t,e){kt(t)?null!=(l=t(s))&&(u[e]=l):u[e]=t}),u;var o,s,l,u}(t),n.method=c(n.method),n.paramSerializer=Mt(n.paramSerializer)?l.get(n.paramSerializer):n.paramSerializer,s.$$incOutstandingRequestCount();var e=[],r=[],i=_.resolve(n);return pt(u,function(t){(t.request||t.requestError)&&e.unshift(t.request,t.requestError),(t.response||t.responseError)&&r.push(t.response,t.responseError)}),i=(i=a(i=(i=a(i,e)).then(function(t){var n=t.headers,e=zn(t.data,In(n),void 0,t.transformRequest);_t(e)&&pt(n,function(t,e){"content-type"===ct(e)&&delete n[e]});_t(t.withCredentials)&&!_t($.withCredentials)&&(t.withCredentials=$.withCredentials);return function(a,t){var o,e,s=_.defer(),n=s.promise,r=a.headers,i="jsonp"===ct(a.method),l=a.url;i?l=b.getTrustedResourceUrl(l):Mt(l)||(l=b.valueOf(l));u=l,c=a.paramSerializer(a.params),0<c.length&&(u+=(-1===u.indexOf("?")?"?":"&")+c),l=u,i&&(l=function(t,e){if(/[&?][^=]+=JSON_CALLBACK/.test(t))throw On("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);if(new RegExp("[&?]"+e+"=").test(t))throw On("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t);return t+=(-1===t.indexOf("?")?"?":"&")+e+"=JSON_CALLBACK"}(l,a.jsonpCallbackParam));var u,c;M.pendingRequests.push(a),n.then(m,m),!a.cache&&!$.cache||!1===a.cache||"GET"!==a.method&&"JSONP"!==a.method||(o=wt(a.cache)?a.cache:wt($.cache)?$.cache:w);o&&(bt(e=o.get(l))?E(e)?e.then(p,p):$t(e)?f(e[1],e[0],Vt(e[2]),e[3],e[4]):f(e,200,{},"OK","complete"):o.put(l,n));if(_t(e)){var d=oi(a.url)?v()[a.xsrfCookieName||$.xsrfCookieName]:void 0;d&&(r[a.xsrfHeaderName||$.xsrfHeaderName]=d),g(a.method,l,t,function(t,e,n,r,i){o&&(Bn(t)?o.put(l,[t,e,Fn(n),r,i]):o.remove(l));function a(){f(e,t,n,r,i)}x?y.$applyAsync(a):(a(),y.$$phase||y.$apply())},r,a.timeout,a.withCredentials,a.responseType,h(a.eventHandlers),h(a.uploadEventHandlers))}return n;function h(t){if(t){var e={};return pt(t,function(n,t){e[t]=function(t){function e(){n(t)}x?y.$applyAsync(e):y.$$phase?e():y.$apply(e)}}),e}}function f(t,e,n,r,i){(Bn(e=-1<=e?e:0)?s.resolve:s.reject)({data:t,status:e,headers:In(n),config:a,statusText:r,xhrStatus:i})}function p(t){f(t.data,t.status,Vt(t.headers()),t.statusText,t.xhrStatus)}function m(){var t=M.pendingRequests.indexOf(a);-1!==t&&M.pendingRequests.splice(t,1)}}(t,e).then(o,o)}),r)).finally(function(){s.$$completeOutstandingRequest(vt)});function a(t,e){for(var n=0,r=e.length;n<r;){var i=e[n++],a=e[n++];t=t.then(i,a)}return e.length=0,t}function o(t){var e=mt({},t);return e.data=zn(t.data,t.headers,t.status,n.transformResponse),Bn(t.status)?e:_.reject(e)}}return pt(e,function(t){u.unshift(Mt(t)?l.get(t):l.invoke(t))}),M.pendingRequests=[],function(t){pt(arguments,function(n){M[n]=function(t,e){return M(mt({},e||{},{method:n,url:t}))}})}("get","delete","head","jsonp"),function(t){pt(arguments,function(r){M[r]=function(t,e,n){return M(mt({},n||{},{method:r,url:t,data:e}))}})}("post","put","patch"),M.defaults=$,M}]}function Un(){this.$get=function(){return function(){return new z.XMLHttpRequest}}}function qn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,r){return v=r,y=(g=t).defer,_=e,b=n[0],function(t,r,e,i,n,a,o,s,l,u){if(r=r||g.url(),"jsonp"===ct(t))var c=_.createCallback(r),d=function(t,r,i){t=t.replace("JSON_CALLBACK",r);var a=b.createElement("script"),o=null;return a.type="text/javascript",a.src=t,a.async=!0,o=function(t){a.removeEventListener("load",o),a.removeEventListener("error",o),b.body.removeChild(a),a=null;var e=-1,n="unknown";t&&("load"!==t.type||_.wasCalled(r)||(t={type:"error"}),n=t.type,e="error"===t.type?404:200),i&&i(e,n)},a.addEventListener("load",o),a.addEventListener("error",o),b.body.appendChild(a),o}(r,c,function(t,e){var n=200===t&&_.getResponse(c);m(i,t,n,"",e,"complete"),_.removeCallback(c)});else{var h=v(t,r);if(h.open(t,r,!0),pt(n,function(t,e){bt(t)&&h.setRequestHeader(e,t)}),h.onload=function(){var t=h.statusText||"",e="response"in h?h.response:h.responseText,n=1223===h.status?204:h.status;0===n&&(n=e?200:"file"===ai(r).protocol?404:0),m(i,n,e,h.getAllResponseHeaders(),t,"complete")},h.onerror=function(){m(i,-1,null,null,"","error")},h.onabort=function(){m(i,-1,null,null,"","abort")},h.ontimeout=function(){m(i,-1,null,null,"","timeout")},pt(l,function(t,e){h.addEventListener(e,t)}),pt(u,function(t,e){h.upload.addEventListener(e,t)}),o&&(h.withCredentials=!0),s)try{h.responseType=s}catch(t){if("json"!==s)throw t}h.send(_t(e)?null:e)}if(0<a)var f=y(p,a);else E(a)&&a.then(p);function p(){d&&d(),h&&h.abort()}function m(t,e,n,r,i,a){bt(f)&&y.cancel(f),d=h=null,t(e,n,r,i,a)}};var g,v,y,_,b}]}var Vn=_.$interpolateMinErr=T("$interpolate");function Gn(){var x="{{",k="}}";this.startSymbol=function(t){return t?(x=t,this):x},this.endSymbol=function(t){return t?(k=t,this):k},this.$get=["$parse","$exceptionHandler","$sce",function(v,y,_){var b=x.length,w=k.length,e=new RegExp(x.replace(/./g,t),"g"),n=new RegExp(k.replace(/./g,t),"g");function t(t){return"\\\\\\"+t}function M(t){return t.replace(e,x).replace(n,k)}function $(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function r(i,t,e,r){if(!i.length||-1===i.indexOf(x)){var n;if(!t)(n=S(M(i))).exp=i,n.expressions=[],n.$$watchDelegate=$;return n}r=!!r;for(var a,o,s,l=0,u=[],c=[],d=i.length,h=[],f=[];l<d;){if(-1===(a=i.indexOf(x,l))||-1===(o=i.indexOf(k,a+b))){l!==d&&h.push(M(i.substring(l)));break}l!==a&&h.push(M(i.substring(l,a))),s=i.substring(a+b,o),u.push(s),c.push(v(s,g)),l=o+w,f.push(h.length),h.push("")}if(e&&1<h.length&&Vn.throwNoconcat(i),!t||u.length){var p=function(t){for(var e=0,n=u.length;e<n;e++){if(r&&_t(t[e]))return;h[f[e]]=t[e]}return h.join("")},m=function(t){return e?_.getTrusted(e,t):_.valueOf(t)};return mt(function(t){var e=0,n=u.length,r=new Array(n);try{for(;e<n;e++)r[e]=c[e](t);return p(r)}catch(t){y(Vn.interr(i,t))}},{exp:i,expressions:u,$$watchDelegate:function(r,i){var a;return r.$watchGroup(c,function(t,e){var n=p(t);kt(i)&&i.call(this,n,t!==e?a:n,r),a=n})}})}function g(t){try{return t=m(t),r&&!bt(t)?t:It(t)}catch(t){y(Vn.interr(i,t))}}}return r.startSymbol=function(){return x},r.endSymbol=function(){return k},r}]}function Kn(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(f,p,m,g,v){var y={};function t(t,e,n,r){var i=4<arguments.length,a=i?At(arguments,4):[],o=p.setInterval,s=p.clearInterval,l=0,u=bt(r)&&!r,c=(u?g:m).defer(),d=c.promise;return n=bt(n)?n:0,d.$$intervalId=o(function(){u?v.defer(h):f.$evalAsync(h),c.notify(l++),0<n&&n<=l&&(c.resolve(l),s(d.$$intervalId),delete y[d.$$intervalId]),u||f.$apply()},e),y[d.$$intervalId]=c,d;function h(){i?t.apply(null,a):t(l)}}return t.cancel=function(t){return!!(t&&t.$$intervalId in y)&&(Ir(y[t.$$intervalId].promise),y[t.$$intervalId].reject("canceled"),p.clearInterval(t.$$intervalId),delete y[t.$$intervalId],!0)},t}]}Vn.throwNoconcat=function(t){throw Vn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Vn.interr=function(t,e){return Vn("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Jn=function(){this.$get=function(){var a=_.callbacks,o={};return{createCallback:function(t){var e,n="_"+(a.$$counter++).toString(36),r="angular.callbacks."+n,i=((e=function(t){e.data=t,e.called=!0}).id=n,e);return o[r]=a[n]=i,r},wasCalled:function(t){return o[t].called},getResponse:function(t){return o[t].data},removeCallback:function(t){var e=o[t];delete a[e.id],delete o[t]}}}},Xn=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Zn={http:80,https:443,ftp:21},Qn=T("$location");function tr(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=Z(e[n]);return e.join("/")}function er(t,e){var n=ai(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=b(n.port)||Zn[n.protocol]||null}var nr=/^\s*[\\/]{2,}/;function rr(t,e){if(nr.test(t))throw Qn("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var r=ai(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=J(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function ir(t,e){return t.slice(0,e.length)===e}function ar(t,e){if(ir(e,t))return e.substr(t.length)}function or(t){var e=t.indexOf("#");return-1===e?t:t.substr(0,e)}function sr(t){return t.replace(/(#.+)|#$/,"$1")}function lr(a,o,s){this.$$html5=!0,s=s||"",er(a,this),this.$$parse=function(t){var e=ar(o,t);if(!Mt(e))throw Qn("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,o);rr(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=X(this.$$search),e=this.$$hash?"#"+Z(this.$$hash):"";this.$$url=tr(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=o+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(bt(n=ar(a,t))?(r=n,i=s&&bt(n=ar(s,n))?o+(ar("/",n)||n):a+r):bt(n=ar(o,t))?i=o+n:o===t+"/"&&(i=o),i&&this.$$parse(i),!!i);var n,r,i}}function ur(r,i,a){er(r,this),this.$$parse=function(t){var e,n=ar(r,t)||ar(i,t);_t(n)||"#"!==n.charAt(0)?this.$$html5?e=n:(e="",_t(n)&&(r=t,this.replace())):_t(e=ar(a,n))&&(e=n),rr(e,this),this.$$path=function(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;ir(e,n)&&(e=e.replace(n,""));if(i.exec(e))return t;return(r=i.exec(t))?r[1]:t}(this.$$path,e,r),this.$$compose()},this.$$compose=function(){var t=X(this.$$search),e=this.$$hash?"#"+Z(this.$$hash):"";this.$$url=tr(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+(this.$$url?a+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(t,e){return or(r)===or(t)&&(this.$$parse(t),!0)}}function cr(i,a,o){this.$$html5=!0,ur.apply(this,arguments),this.$$parseLinkUrl=function(t,e){return e&&"#"===e[0]?(this.hash(e.slice(1)),!0):(i===or(t)?n=t:(r=ar(a,t))?n=i+o+r:a===t+"/"&&(n=a),n&&this.$$parse(n),!!n);var n,r},this.$$compose=function(){var t=X(this.$$search),e=this.$$hash?"#"+Z(this.$$hash):"";this.$$url=tr(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+o+this.$$url,this.$$urlUpdatedByLocation=!0}}var dr={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:hr("$$absUrl"),url:function(t){if(_t(t))return this.$$url;var e=Xn.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:hr("$$protocol"),host:hr("$$host"),port:hr("$$port"),path:fr("$$path",function(t){return"/"===(t=null!==t?t.toString():"").charAt(0)?t:"/"+t}),search:function(n,t){switch(arguments.length){case 0:return this.$$search;case 1:if(Mt(n)||$(n))n=n.toString(),this.$$search=J(n);else{if(!wt(n))throw Qn("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");pt(n=H(n,{}),function(t,e){null==t&&delete n[e]}),this.$$search=n}break;default:_t(t)||null===t?delete this.$$search[n]:this.$$search[n]=t}return this.$$compose(),this},hash:fr("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};function hr(t){return function(){return this[t]}}function fr(e,n){return function(t){return _t(t)?this[e]:(this[e]=n(t),this.$$compose(),this)}}function pr(){var v="!",y={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return bt(t)?(v=t,this):v},this.html5Mode=function(t){return Tt(t)?(y.enabled=t,this):wt(t)?(Tt(t.enabled)&&(y.enabled=t.enabled),Tt(t.requireBase)&&(y.requireBase=t.requireBase),(Tt(t.rewriteLinks)||Mt(t.rewriteLinks))&&(y.rewriteLinks=t.rewriteLinks),this):y},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(o,s,e,a,l){var u,t,n,r,i=s.baseHref(),c=s.url();if(y.enabled){if(!i&&y.requireBase)throw Qn("nobase","$location in HTML5 mode requires a <base> tag to be present!");n=(r=c).substring(0,r.indexOf("/",r.indexOf("//")+2))+(i||"/"),t=e.history?lr:cr}else n=or(c),t=ur;var d,h=(d=n).substr(0,or(d).lastIndexOf("/")+1);(u=new t(n,h,"#"+v)).$$parseLinkUrl(c,c),u.$$state=s.state();var f=/^\s*(javascript|mailto):/i;function p(t,e,n){var r=u.url(),i=u.$$state;try{s.url(t,e,n),u.$$state=s.state()}catch(t){throw u.url(r),u.$$state=i,t}}a.on("click",function(t){var e=y.rewriteLinks;if(e&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var n=ht(t.target);"a"!==Ct(n[0]);)if(n[0]===a[0]||!(n=n.parent())[0])return;if(!Mt(e)||!_t(n.attr(e))){var r=n.prop("href"),i=n.attr("href")||n.attr("xlink:href");wt(r)&&"[object SVGAnimatedString]"===r.toString()&&(r=ai(r.animVal).href),f.test(r)||!r||n.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(r,i)&&(t.preventDefault(),u.absUrl()!==s.url()&&(o.$apply(),l.angular["ff-684208-preventDefault"]=!0))}}}),sr(u.absUrl())!==sr(c)&&s.url(u.absUrl(),!0);var m=!0;return s.onUrlChange(function(r,i){ir(r,h)?(o.$evalAsync(function(){var t,e=u.absUrl(),n=u.$$state;r=sr(r),u.$$parse(r),u.$$state=i,t=o.$broadcast("$locationChangeStart",r,e,i,n).defaultPrevented,u.absUrl()===r&&(t?(u.$$parse(e),p(e,!1,u.$$state=n)):(m=!1,g(e,n)))}),o.$$phase||o.$digest()):l.location.href=r}),o.$watch(function(){if(m||u.$$urlUpdatedByLocation){u.$$urlUpdatedByLocation=!1;var n=sr(s.url()),t=sr(u.absUrl()),r=s.state(),i=u.$$replace,a=n!==t||u.$$html5&&e.history&&r!==u.$$state;(m||a)&&(m=!1,o.$evalAsync(function(){var t=u.absUrl(),e=o.$broadcast("$locationChangeStart",t,n,u.$$state,r).defaultPrevented;u.absUrl()===t&&(e?(u.$$parse(n),u.$$state=r):(a&&p(t,i,r===u.$$state?null:u.$$state),g(n,r)))}))}u.$$replace=!1}),u;function g(t,e){o.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}}]}function mr(){var r=!0,a=this;this.debugEnabled=function(t){return bt(t)?(r=t,this):r},this.$get=["$window",function(n){var t,i=dt||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:(t=e("debug"),function(){r&&t.apply(a,arguments)})};function e(t){var e=n.console||{},r=e[t]||e.log||vt;return function(){var n=[];return pt(arguments,function(t){var e;n.push((xt(e=t)&&(e.stack&&i?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e))}),Function.prototype.apply.call(r,e,n)}}}]}pt([cr,ur,lr],function(e){e.prototype=Object.create(dr),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==lr||!this.$$html5)throw Qn("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=_t(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var gr=T("$parse"),vr={}.constructor.prototype.valueOf;function yr(t){return t+""}var _r=Ft();pt("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){_r[t]=!0});var br={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},wr=function(t){this.options=t};wr.prototype={constructor:wr,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=_r[e],a=_r[n],o=_r[r];if(i||a||o){var s=o?r:a?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),r=e.charCodeAt(0);return 55296<=n&&n<=56319&&56320<=r&&r<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=bt(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw gr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=ct(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var a=this.text.charAt(this.index);if(r+=a,i){if("u"===a){var o=this.text.substring(this.index+1,this.index+5);o.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+o+"]"),this.index+=4,n+=String.fromCharCode(parseInt(o,16))}else{n+=br[a]||a}i=!1}else if("\\"===a)i=!0;else{if(a===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=a}this.index++}this.throwError("Unterminated quote",e)}};var Mr=function(t,e){this.lexer=t,this.options=e};function $r(t,e){return void 0!==t?t:e}function xr(t,e){return void 0===t?e:void 0===e?t:t+e}Mr.Program="Program",Mr.ExpressionStatement="ExpressionStatement",Mr.AssignmentExpression="AssignmentExpression",Mr.ConditionalExpression="ConditionalExpression",Mr.LogicalExpression="LogicalExpression",Mr.BinaryExpression="BinaryExpression",Mr.UnaryExpression="UnaryExpression",Mr.CallExpression="CallExpression",Mr.MemberExpression="MemberExpression",Mr.Identifier="Identifier",Mr.Literal="Literal",Mr.ArrayExpression="ArrayExpression",Mr.Property="Property",Mr.ObjectExpression="ObjectExpression",Mr.ThisExpression="ThisExpression",Mr.LocalsExpression="LocalsExpression",Mr.NGValueParameter="NGValueParameter",Mr.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Mr.Program,body:t}},expressionStatement:function(){return{type:Mr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!Cr(t))throw gr("lval","Trying to assign a value to a non l-value");t={type:Mr.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Mr.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Mr.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Mr.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Mr.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Mr.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Mr.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Mr.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Mr.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,e;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=H(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:Mr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());e=this.expect("(","[",".");)"("===e.text?(t={type:Mr.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Mr.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Mr.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Mr.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)for(;t.push(this.filterChain()),this.expect(","););return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Mr.Identifier,name:t.text}},constant:function(){return{type:Mr.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Mr.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Mr.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Mr.ObjectExpression,properties:e}},throwError:function(t,e){throw gr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw gr("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw gr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var a=this.tokens[t],o=a.text;if(o===e||o===n||o===r||o===i||!e&&!n&&!r&&!i)return a}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:Mr.ThisExpression},$locals:{type:Mr.LocalsExpression}}};var kr=1,Sr=2;function Tr(t,e,n){var r,i,a,o,s,l=t.isPure=function(t,e){switch(t.type){case Mr.MemberExpression:if(t.computed)return!1;break;case Mr.UnaryExpression:return kr;case Mr.BinaryExpression:return"+"!==t.operator&&kr;case Mr.CallExpression:return!1}return void 0===e?Sr:e}(t,n);switch(t.type){case Mr.Program:r=!0,pt(t.body,function(t){Tr(t.expression,e,l),r=r&&t.expression.constant}),t.constant=r;break;case Mr.Literal:t.constant=!0,t.toWatch=[];break;case Mr.UnaryExpression:Tr(t.argument,e,l),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Mr.BinaryExpression:Tr(t.left,e,l),Tr(t.right,e,l),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Mr.LogicalExpression:Tr(t.left,e,l),Tr(t.right,e,l),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Mr.ConditionalExpression:Tr(t.test,e,l),Tr(t.alternate,e,l),Tr(t.consequent,e,l),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Mr.Identifier:t.constant=!1,t.toWatch=[t];break;case Mr.MemberExpression:Tr(t.object,e,l),t.computed&&Tr(t.property,e,l),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=t.constant?[]:[t];break;case Mr.CallExpression:a=!!t.filter&&(o=e,s=t.callee.name,!o(s).$stateful),r=a,i=[],pt(t.arguments,function(t){Tr(t,e,l),r=r&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=r,t.toWatch=a?i:[t];break;case Mr.AssignmentExpression:Tr(t.left,e,l),Tr(t.right,e,l),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Mr.ArrayExpression:r=!0,i=[],pt(t.elements,function(t){Tr(t,e,l),r=r&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=r,t.toWatch=i;break;case Mr.ObjectExpression:r=!0,i=[],pt(t.properties,function(t){Tr(t.value,e,l),r=r&&t.value.constant,i.push.apply(i,t.value.toWatch),t.computed&&(Tr(t.key,e,!1),r=r&&t.key.constant,i.push.apply(i,t.key.toWatch))}),t.constant=r,t.toWatch=i;break;case Mr.ThisExpression:case Mr.LocalsExpression:t.constant=!1,t.toWatch=[]}}function Lr(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function Cr(t){return t.type===Mr.Identifier||t.type===Mr.MemberExpression}function Dr(t){if(1===t.body.length&&Cr(t.body[0].expression))return{type:Mr.AssignmentExpression,left:t.body[0].expression,right:{type:Mr.NGValueParameter},operator:"="}}function Er(t){this.$filter=t}function Yr(t){this.$filter=t}function Ar(t,e,n){this.ast=new Mr(t,n),this.astCompiler=n.csp?new Yr(e):new Er(e)}function Nr(t){return kt(t.valueOf)?t.valueOf():vr.call(t)}function Or(){var n,r,m=Ft(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){i[t]=e},this.setIdentifierFns=function(t,e){return n=t,r=e,this},this.$get=["$filter",function(s){var l={csp:P().noUnsafeEval,literals:H(i),isIdentifierStart:kt(n)&&n,isIdentifierContinue:kt(r)&&r};return function(t,e){var n,r,i;switch(typeof t){case"string":if(t=t.trim(),!(n=m[i=t])){":"===t.charAt(0)&&":"===t.charAt(1)&&(r=!0,t=t.substring(2));var a=new wr(l),o=new Ar(a,s,l);(n=o.parse(t)).constant?n.$$watchDelegate=f:r?n.$$watchDelegate=n.literal?d:c:n.inputs&&(n.$$watchDelegate=u),m[i]=n}return p(n,e);case"function":return p(t,e);default:return p(vt,e)}};function h(t,e,n){return null==t||null==e?t===e:!("object"==typeof t&&"object"==typeof(t=Nr(t))&&!n)&&(t===e||t!=t&&e!=e)}function u(t,e,n,a,r){var o,s=a.inputs;if(1===s.length){var i=h;return s=s[0],t.$watch(function(t){var e=s(t);return h(e,i,s.isPure)||(o=a(t,void 0,void 0,[e]),i=e&&Nr(e)),o},e,n,r)}for(var l=[],u=[],c=0,d=s.length;c<d;c++)l[c]=h,u[c]=null;return t.$watch(function(t){for(var e=!1,n=0,r=s.length;n<r;n++){var i=s[n](t);(e||(e=!h(i,l[n],s[n].isPure)))&&(u[n]=i,l[n]=i&&Nr(i))}return e&&(o=a(t,void 0,void 0,u)),o},e,n,r)}function c(t,r,e,n,i){var a,o;return a=n.inputs?u(t,s,e,n,i):t.$watch(function(t){return n(t)},s,e);function s(t,e,n){o=t,kt(r)&&r(t,e,n),bt(t)&&n.$$postDigest(function(){bt(o)&&a()})}}function d(t,r,e,n){var i,a;return i=t.$watch(function(t){return n(t)},function(t,e,n){a=t,kt(r)&&r(t,e,n),o(t)&&n.$$postDigest(function(){o(a)&&i()})},e);function o(t){var e=!0;return pt(t,function(t){bt(t)||(e=!1)}),e}}function f(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function p(o,s){if(!s)return o;var t=o.$$watchDelegate,a=!1,e=t!==d&&t!==c?function(t,e,n,r){var i=a&&r?r[0]:o(t,e,n,r);return s(i,t,e)}:function(t,e,n,r){var i=o(t,e,n,r),a=s(i,t,e);return bt(i)?a:i};return a=!o.inputs,t&&t!==u?(e.$$watchDelegate=t,e.inputs=o.inputs):s.$stateful||(e.$$watchDelegate=u,e.inputs=o.inputs?o.inputs:[o]),e.inputs&&(e.inputs=e.inputs.map(function(e){return e.isPure===Sr?function(t){return e(t)}:e})),e}}]}function Rr(){var n=!0;this.$get=["$rootScope","$exceptionHandler",function(e,t){return Pr(function(t){e.$evalAsync(t)},t,n)}],this.errorOnUnhandledRejections=function(t){return bt(t)?(n=t,this):n}}function Hr(){var n=!0;this.$get=["$browser","$exceptionHandler",function(e,t){return Pr(function(t){e.defer(t)},t,n)}],this.errorOnUnhandledRejections=function(t){return bt(t)?(n=t,this):n}}function Pr(o,s,l){var n=T("$q",TypeError),u=0,r=[];function i(){return new t}function t(){var e=this.promise=new a;this.resolve=function(t){h(e,t)},this.reject=function(t){f(e,t)},this.notify=function(t){m(e,t)}}function a(){this.$$state={status:0}}function c(){for(;!u&&r.length;){var t=r.shift();if(!jr(t)){Fr(t);var e="Possibly unhandled rejection: "+Gt(t.value);xt(t.value)?s(t.value,e):s(e)}}}function d(t){!l||t.pending||2!==t.status||jr(t)||(0===u&&0===r.length&&o(c),r.push(t)),!t.processScheduled&&t.pending&&(t.processScheduled=!0,++u,o(function(){!function(t){var e,n,r;r=t.pending,t.processScheduled=!1,t.pending=void 0;try{for(var i=0,a=r.length;i<a;++i){Fr(t),n=r[i][0],e=r[i][t.status];try{kt(e)?h(n,e(t.value)):1===t.status?h(n,t.value):f(n,t.value)}catch(t){f(n,t)}}}finally{--u,l&&0===u&&o(c)}}(t)}))}function h(t,e){t.$$state.status||(e===t?p(t,n("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):function e(n,t){var r;var i=!1;try{(wt(t)||kt(t))&&(r=t.then),kt(r)?(n.$$state.status=-1,r.call(t,function a(t){if(i)return;i=!0,function e(n,t){var r;var i=!1;try{(wt(t)||kt(t))&&(r=t.then),kt(r)?(n.$$state.status=-1,r.call(t,a,o,function(t){m(n,t)})):(n.$$state.value=t,n.$$state.status=1,d(n.$$state))}catch(t){o(t)}function a(t){i||(i=!0,e(n,t))}function o(t){i||(i=!0,p(n,t))}}(n,t)},o,function(t){m(n,t)})):(n.$$state.value=t,n.$$state.status=1,d(n.$$state))}catch(t){o(t)}function a(t){i||(i=!0,e(n,t))}function o(t){i||(i=!0,p(n,t))}}(t,e))}function f(t,e){t.$$state.status||p(t,e)}function p(t,e){t.$$state.value=e,t.$$state.status=2,d(t.$$state)}function m(t,i){var a=t.$$state.pending;t.$$state.status<=0&&a&&a.length&&o(function(){for(var t,e,n=0,r=a.length;n<r;n++){e=a[n][0],t=a[n][3];try{m(e,kt(t)?t(i):i)}catch(t){s(t)}}})}function g(t){var e=new a;return f(e,t),e}function v(t,e,n){var r=null;try{kt(n)&&(r=n())}catch(t){return g(t)}return E(r)?r.then(function(){return e(t)},g):e(t)}function y(t,e,n,r){var i=new a;return h(i,t),i.then(e,n,r)}mt(a.prototype,{then:function(t,e,n){if(_t(t)&&_t(e)&&_t(n))return this;var r=new a;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),0<this.$$state.status&&d(this.$$state),r},catch:function(t){return this.then(null,t)},finally:function(e,t){return this.then(function(t){return v(t,_,e)},function(t){return v(t,g,e)},t)}});var _=y;function e(t){if(!kt(t))throw n("norslvr","Expected resolverFn, got '{0}'",t);var e=new a;return t(function(t){h(e,t)},function(t){f(e,t)}),e}return e.prototype=a.prototype,e.defer=i,e.reject=g,e.when=y,e.resolve=_,e.all=function(t){var n=new a,r=0,i=$t(t)?[]:{};return pt(t,function(t,e){r++,y(t).then(function(t){i[e]=t,--r||h(n,i)},function(t){f(n,t)})}),0===r&&h(n,i),n},e.race=function(t){var e=i();return pt(t,function(t){y(t).then(e.resolve,e.reject)}),e.promise},e}function jr(t){return!!t.pur}function Fr(t){t.pur=!0}function Ir(t){Fr(t.$$state)}function zr(){this.$get=["$window","$timeout",function(t,n){var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,e=!!r,a=e?function(t){var e=r(t);return function(){i(e)}}:function(t){var e=n(t,16.66,!1);return function(){n.cancel(e)}};return a.supported=e,a}]}function Br(){var $=10,x=T("$rootScope"),k=null,S=null;this.digestTtl=function(t){return arguments.length&&($=t),$},this.$get=["$exceptionHandler","$parse","$browser",function(h,p,f){function r(t){t.currentScope.$$destroyed=!0}function i(){this.$id=L(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}i.prototype={constructor:i,$new:function(t,e){var n;return e=e||this,t?(n=new i).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=L(),this.$$ChildScope=null}return e.prototype=t,e}(this)),n=new this.$$ChildScope),n.$parent=e,n.$$prevSibling=e.$$childTail,e.$$childHead?(e.$$childTail.$$nextSibling=n,e.$$childTail=n):e.$$childHead=e.$$childTail=n,(t||e!==this)&&n.$on("$destroy",r),n},$watch:function(t,e,n,r){var i=p(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var a=this,o=a.$$watchers,s={fn:e,last:w,get:i,exp:r||t,eq:!!n};return k=null,kt(e)||(s.fn=vt),o||((o=a.$$watchers=[]).$$digestWatchIndex=-1),o.unshift(s),o.$$digestWatchIndex++,l(this,1),function(){var t=Dt(o,s);0<=t&&(l(a,-1),t<o.$$digestWatchIndex&&o.$$digestWatchIndex--),k=null}},$watchGroup:function(t,r){var i=new Array(t.length),a=new Array(t.length),o=[],s=this,l=!1,e=!0;if(!t.length){var n=!0;return s.$evalAsync(function(){n&&r(a,a,s)}),function(){n=!1}}if(1===t.length)return this.$watch(t[0],function(t,e,n){a[0]=t,i[0]=e,r(a,t===e?a:i,n)});function u(){l=!1,e?(e=!1,r(a,a,s)):r(a,i,s)}return pt(t,function(t,n){var e=s.$watch(t,function(t,e){a[n]=t,i[n]=e,l||(l=!0,s.$evalAsync(u))});o.push(e)}),function(){for(;o.length;)o.shift()()}},$watchCollection:function(t,n){f.$stateful=!0;var o,s,r,i=this,a=1<n.length,l=0,e=p(t,f),u=[],c={},d=!0,h=0;function f(t){var e,n,r,i;if(!_t(o=t)){if(wt(o))if(N(o)){s!==u&&(h=(s=u).length=0,l++),e=o.length,h!==e&&(l++,s.length=h=e);for(var a=0;a<e;a++)i=s[a],r=o[a],i!=i&&r!=r||i===r||(l++,s[a]=r)}else{for(n in s!==c&&(s=c={},h=0,l++),e=0,o)B.call(o,n)&&(e++,r=o[n],i=s[n],n in s?i!=i&&r!=r||i===r||(l++,s[n]=r):(h++,s[n]=r,l++));if(e<h)for(n in l++,s)B.call(o,n)||(h--,delete s[n])}else s!==o&&(s=o,l++);return l}}return this.$watch(e,function(){if(d?(d=!1,n(o,o,i)):n(o,r,i),a)if(wt(o))if(N(o)){r=new Array(o.length);for(var t=0;t<o.length;t++)r[t]=o[t]}else for(var e in r={},o)B.call(o,e)&&(r[e]=o[e]);else r=o})},$digest:function(){var t,e,n,r,i,a,o,s,l,u=$,c=[];_("$digest"),f.$$checkUrlChange(),this===m&&null!==S&&(f.defer.cancel(S),M()),k=null;do{i=!1,o=this;for(var d=0;d<g.length;d++){try{(0,(l=g[d]).fn)(l.scope,l.locals)}catch(t){h(t)}k=null}g.length=0;t:do{if(r=o.$$watchers)for(r.$$digestWatchIndex=r.length;r.$$digestWatchIndex--;)try{if(t=r[r.$$digestWatchIndex])if((e=(0,t.get)(o))===(n=t.last)||(t.eq?Yt(e,n):C(e)&&C(n))){if(t===k){i=!1;break t}}else i=!0,(k=t).last=t.eq?H(e,null):e,(0,t.fn)(e,n===w?e:n,o),u<5&&(c[s=4-u]||(c[s]=[]),c[s].push({msg:kt(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:e,oldVal:n}))}catch(t){h(t)}if(!(a=o.$$watchersCount&&o.$$childHead||o!==this&&o.$$nextSibling))for(;o!==this&&!(a=o.$$nextSibling);)o=o.$parent}while(o=a);if((i||g.length)&&!u--)throw b(),x("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",$,c)}while(i||g.length);for(b();y<v.length;)try{v[y++]()}catch(t){h(t)}v.length=y=0,f.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;for(var e in this.$broadcast("$destroy"),this.$$destroyed=!0,this===m&&f.$$applicationDestroyed(),l(this,-this.$$watchersCount),this.$$listenerCount)a(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=vt,this.$on=this.$watch=this.$watchGroup=function(){return vt},this.$$listeners={},this.$$nextSibling=null,function t(e){9===dt&&(e.$$childHead&&t(e.$$childHead),e.$$nextSibling&&t(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}(this)}},$eval:function(t,e){return p(t)(this,e)},$evalAsync:function(t,e){m.$$phase||g.length||f.defer(function(){g.length&&m.$digest()}),g.push({scope:this,fn:p(t),locals:e})},$$postDigest:function(t){v.push(t)},$apply:function(t){try{_("$apply");try{return this.$eval(t)}finally{b()}}catch(t){h(t)}finally{try{m.$digest()}catch(t){throw h(t),t}}},$applyAsync:function(t){var e=this;t&&n.push(function(){e.$eval(t)}),t=p(t),null===S&&(S=f.defer(function(){m.$apply(M)}))},$on:function(e,n){var r=this.$$listeners[e];r||(this.$$listeners[e]=r=[]),r.push(n);for(var t=this;t.$$listenerCount[e]||(t.$$listenerCount[e]=0),t.$$listenerCount[e]++,t=t.$parent;);var i=this;return function(){var t=r.indexOf(n);-1!==t&&(r[t]=null,a(i,1,e))}},$emit:function(t,e){var n,r,i,a=[],o=this,s=!1,l={name:t,targetScope:o,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},u=F([l],arguments,1);do{for(n=o.$$listeners[t]||a,l.currentScope=o,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,u)}catch(t){h(t)}else n.splice(r,1),r--,i--;if(s)return l.currentScope=null,l;o=o.$parent}while(o);return l.currentScope=null,l},$broadcast:function(t,e){var n=this,r=this,i={name:t,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return i;for(var a,o,s,l=F([i],arguments,1);n=r;){for(o=0,s=(a=(i.currentScope=n).$$listeners[t]||[]).length;o<s;o++)if(a[o])try{a[o].apply(null,l)}catch(t){h(t)}else a.splice(o,1),o--,s--;if(!(r=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var m=new i,g=m.$$asyncQueue=[],v=m.$$postDigestQueue=[],n=m.$$applyAsyncQueue=[],y=0;return m;function _(t){if(m.$$phase)throw x("inprog","{0} already in progress",m.$$phase);m.$$phase=t}function b(){m.$$phase=null}function l(t,e){for(;t.$$watchersCount+=e,t=t.$parent;);}function a(t,e,n){for(;t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n],t=t.$parent;);}function w(){}function M(){for(;n.length;)try{n.shift()()}catch(t){h(t)}S=null}}]}function Wr(){var i=/^\s*(https?|ftp|mailto|tel|file):/,a=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return bt(t)?(i=t,this):i},this.imgSrcSanitizationWhitelist=function(t){return bt(t)?(a=t,this):a},this.$get=function(){return function(t,e){var n,r=e?a:i;return""===(n=ai(t).href)||n.match(r)?t:"unsafe:"+n}}}Er.prototype={compile:function(t){var i=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Tr(t,i.$filter);var e,n="";if(this.stage="assign",e=Dr(t)){this.state.computing="assign";var r=this.nextId();this.recurse(e,r),this.return_(r),n="fn.assign="+this.generateFunction("assign","s,v,l")}var a=Lr(t.body);i.stage="inputs",pt(a,function(t,e){var n="fn"+e;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(t,r),i.return_(r),i.state.inputs.push({name:n,isPure:t.isPure}),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(t);var o='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+n+this.watchFns()+"return fn;",s=new Function("$filter","getStringValue","ifDefined","plus",o)(this.$filter,yr,$r,xr);return this.state=this.stage=void 0,s},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return pt(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(t){return t.name}).join(",")+"];"),e.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var n=[],r=this;return pt(this.state.filters,function(t,e){n.push(t+"=$filter("+r.escape(e)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(n,e,t,r,i,a){var o,s,l,u,c,d=this;if(r=r||vt,!a&&bt(n.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",n.watchId)),this.lazyRecurse(n,e,t,r,i,!0));switch(n.type){case Mr.Program:pt(n.body,function(t,e){d.recurse(t.expression,void 0,void 0,function(t){s=t}),e!==n.body.length-1?d.current().body.push(s,";"):d.return_(s)});break;case Mr.Literal:u=this.escape(n.value),this.assign(e,u),r(e||u);break;case Mr.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(t){s=t}),u=n.operator+"("+this.ifDefined(s,0)+")",this.assign(e,u),r(u);break;case Mr.BinaryExpression:this.recurse(n.left,void 0,void 0,function(t){o=t}),this.recurse(n.right,void 0,void 0,function(t){s=t}),u="+"===n.operator?this.plus(o,s):"-"===n.operator?this.ifDefined(o,0)+n.operator+this.ifDefined(s,0):"("+o+")"+n.operator+"("+s+")",this.assign(e,u),r(u);break;case Mr.LogicalExpression:e=e||this.nextId(),d.recurse(n.left,e),d.if_("&&"===n.operator?e:d.not(e),d.lazyRecurse(n.right,e)),r(e);break;case Mr.ConditionalExpression:e=e||this.nextId(),d.recurse(n.test,e),d.if_(e,d.lazyRecurse(n.alternate,e),d.lazyRecurse(n.consequent,e)),r(e);break;case Mr.Identifier:e=e||this.nextId(),t&&(t.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),t.computed=!1,t.name=n.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",n.name)),function(){d.if_("inputs"===d.stage||"s",function(){i&&1!==i&&d.if_(d.isNull(d.nonComputedMember("s",n.name)),d.lazyAssign(d.nonComputedMember("s",n.name),"{}")),d.assign(e,d.nonComputedMember("s",n.name))})},e&&d.lazyAssign(e,d.nonComputedMember("l",n.name))),r(e);break;case Mr.MemberExpression:o=t&&(t.context=this.nextId())||this.nextId(),e=e||this.nextId(),d.recurse(n.object,o,void 0,function(){d.if_(d.notNull(o),function(){n.computed?(s=d.nextId(),d.recurse(n.property,s),d.getStringValue(s),i&&1!==i&&d.if_(d.not(d.computedMember(o,s)),d.lazyAssign(d.computedMember(o,s),"{}")),u=d.computedMember(o,s),d.assign(e,u),t&&(t.computed=!0,t.name=s)):(i&&1!==i&&d.if_(d.isNull(d.nonComputedMember(o,n.property.name)),d.lazyAssign(d.nonComputedMember(o,n.property.name),"{}")),u=d.nonComputedMember(o,n.property.name),d.assign(e,u),t&&(t.computed=!1,t.name=n.property.name))},function(){d.assign(e,"undefined")}),r(e)},!!i);break;case Mr.CallExpression:e=e||this.nextId(),n.filter?(s=d.filter(n.callee.name),l=[],pt(n.arguments,function(t){var e=d.nextId();d.recurse(t,e),l.push(e)}),u=s+"("+l.join(",")+")",d.assign(e,u),r(e)):(s=d.nextId(),o={},l=[],d.recurse(n.callee,s,o,function(){d.if_(d.notNull(s),function(){pt(n.arguments,function(t){d.recurse(t,n.constant?void 0:d.nextId(),void 0,function(t){l.push(t)})}),u=o.name?d.member(o.context,o.name,o.computed)+"("+l.join(",")+")":s+"("+l.join(",")+")",d.assign(e,u)},function(){d.assign(e,"undefined")}),r(e)}));break;case Mr.AssignmentExpression:s=this.nextId(),o={},this.recurse(n.left,void 0,o,function(){d.if_(d.notNull(o.context),function(){d.recurse(n.right,s),u=d.member(o.context,o.name,o.computed)+n.operator+s,d.assign(e,u),r(e||u)})},1);break;case Mr.ArrayExpression:l=[],pt(n.elements,function(t){d.recurse(t,n.constant?void 0:d.nextId(),void 0,function(t){l.push(t)})}),u="["+l.join(",")+"]",this.assign(e,u),r(e||u);break;case Mr.ObjectExpression:c=!(l=[]),pt(n.properties,function(t){t.computed&&(c=!0)}),c?(e=e||this.nextId(),this.assign(e,"{}"),pt(n.properties,function(t){t.computed?(o=d.nextId(),d.recurse(t.key,o)):o=t.key.type===Mr.Identifier?t.key.name:""+t.key.value,s=d.nextId(),d.recurse(t.value,s),d.assign(d.member(e,o,t.computed),s)})):(pt(n.properties,function(e){d.recurse(e.value,n.constant?void 0:d.nextId(),void 0,function(t){l.push(d.escape(e.key.type===Mr.Identifier?e.key.name:""+e.key.value)+":"+t)})}),u="{"+l.join(",")+"}",this.assign(e,u)),r(e||u);break;case Mr.ThisExpression:this.assign(e,"s"),r(e||"s");break;case Mr.LocalsExpression:this.assign(e,"l"),r(e||"l");break;case Mr.NGValueParameter:this.assign(e,"v"),r(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,r,i,a){var o=this;return function(){o.recurse(t,e,n,r,i,a)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(Mt(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if($(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw gr("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},Yr.prototype={compile:function(t){var e,r,i=this;Tr(t,i.$filter),(e=Dr(t))&&(r=this.recurse(e));var a,n=Lr(t.body);n&&(a=[],pt(n,function(t,e){var n=i.recurse(t);n.isPure=t.isPure,t.input=n,a.push(n),t.watchId=e}));var o=[];pt(t.body,function(t){o.push(i.recurse(t.expression))});var s=0===t.body.length?vt:1===t.body.length?o[0]:function(e,n){var r;return pt(o,function(t){r=t(e,n)}),r};return r&&(s.assign=function(t,e,n){return r(t,n,e)}),a&&(s.inputs=a),s},recurse:function(t,l,e){var o,u,c,n=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Mr.Literal:return this.value(t.value,l);case Mr.UnaryExpression:return u=this.recurse(t.argument),this["unary"+t.operator](u,l);case Mr.BinaryExpression:case Mr.LogicalExpression:return o=this.recurse(t.left),u=this.recurse(t.right),this["binary"+t.operator](o,u,l);case Mr.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),l);case Mr.Identifier:return n.identifier(t.name,l,e);case Mr.MemberExpression:return o=this.recurse(t.object,!1,!!e),t.computed||(u=t.property.name),t.computed&&(u=this.recurse(t.property)),t.computed?this.computedMember(o,u,l,e):this.nonComputedMember(o,u,l,e);case Mr.CallExpression:return c=[],pt(t.arguments,function(t){c.push(n.recurse(t))}),t.filter&&(u=this.$filter(t.callee.name)),t.filter||(u=this.recurse(t.callee,!0)),t.filter?function(t,e,n,r){for(var i=[],a=0;a<c.length;++a)i.push(c[a](t,e,n,r));var o=u.apply(void 0,i,r);return l?{context:void 0,name:void 0,value:o}:o}:function(t,e,n,r){var i,a=u(t,e,n,r);if(null!=a.value){for(var o=[],s=0;s<c.length;++s)o.push(c[s](t,e,n,r));i=a.value.apply(a.context,o)}return l?{value:i}:i};case Mr.AssignmentExpression:return o=this.recurse(t.left,!0,1),u=this.recurse(t.right),function(t,e,n,r){var i=o(t,e,n,r),a=u(t,e,n,r);return i.context[i.name]=a,l?{value:a}:a};case Mr.ArrayExpression:return c=[],pt(t.elements,function(t){c.push(n.recurse(t))}),function(t,e,n,r){for(var i=[],a=0;a<c.length;++a)i.push(c[a](t,e,n,r));return l?{value:i}:i};case Mr.ObjectExpression:return c=[],pt(t.properties,function(t){t.computed?c.push({key:n.recurse(t.key),computed:!0,value:n.recurse(t.value)}):c.push({key:t.key.type===Mr.Identifier?t.key.name:""+t.key.value,computed:!1,value:n.recurse(t.value)})}),function(t,e,n,r){for(var i={},a=0;a<c.length;++a)c[a].computed?i[c[a].key(t,e,n,r)]=c[a].value(t,e,n,r):i[c[a].key]=c[a].value(t,e,n,r);return l?{value:i}:i};case Mr.ThisExpression:return function(t){return l?{value:t}:t};case Mr.LocalsExpression:return function(t,e){return l?{value:e}:e};case Mr.NGValueParameter:return function(t,e,n){return l?{value:n}:n}}},"unary+":function(a,o){return function(t,e,n,r){var i=a(t,e,n,r);return i=bt(i)?+i:0,o?{value:i}:i}},"unary-":function(a,o){return function(t,e,n,r){var i=a(t,e,n,r);return i=bt(i)?-i:-0,o?{value:i}:i}},"unary!":function(a,o){return function(t,e,n,r){var i=!a(t,e,n,r);return o?{value:i}:i}},"binary+":function(a,o,s){return function(t,e,n,r){var i=xr(a(t,e,n,r),o(t,e,n,r));return s?{value:i}:i}},"binary-":function(s,l,u){return function(t,e,n,r){var i=s(t,e,n,r),a=l(t,e,n,r),o=(bt(i)?i:0)-(bt(a)?a:0);return u?{value:o}:o}},"binary*":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)*o(t,e,n,r);return s?{value:i}:i}},"binary/":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)/o(t,e,n,r);return s?{value:i}:i}},"binary%":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)%o(t,e,n,r);return s?{value:i}:i}},"binary===":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)===o(t,e,n,r);return s?{value:i}:i}},"binary!==":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)!==o(t,e,n,r);return s?{value:i}:i}},"binary==":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)==o(t,e,n,r);return s?{value:i}:i}},"binary!=":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)!=o(t,e,n,r);return s?{value:i}:i}},"binary<":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)<o(t,e,n,r);return s?{value:i}:i}},"binary>":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)>o(t,e,n,r);return s?{value:i}:i}},"binary<=":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)<=o(t,e,n,r);return s?{value:i}:i}},"binary>=":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)>=o(t,e,n,r);return s?{value:i}:i}},"binary&&":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)&&o(t,e,n,r);return s?{value:i}:i}},"binary||":function(a,o,s){return function(t,e,n,r){var i=a(t,e,n,r)||o(t,e,n,r);return s?{value:i}:i}},"ternary?:":function(a,o,s,l){return function(t,e,n,r){var i=a(t,e,n,r)?o(t,e,n,r):s(t,e,n,r);return l?{value:i}:i}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(o,s,l){return function(t,e,n,r){var i=e&&o in e?e:t;l&&1!==l&&i&&null==i[o]&&(i[o]={});var a=i?i[o]:void 0;return s?{context:i,name:o,value:a}:a}},computedMember:function(s,l,u,c){return function(t,e,n,r){var i,a,o=s(t,e,n,r);return null!=o&&(i=yr(i=l(t,e,n,r)),c&&1!==c&&o&&!o[i]&&(o[i]={}),a=o[i]),u?{context:o,name:i,value:a}:a}},nonComputedMember:function(o,s,l,u){return function(t,e,n,r){var i=o(t,e,n,r);u&&1!==u&&i&&null==i[s]&&(i[s]={});var a=null!=i?i[s]:void 0;return l?{context:i,name:s,value:a}:a}},inputs:function(i,a){return function(t,e,n,r){return r?r[a]:i(t,e,n)}}},Ar.prototype={constructor:Ar,parse:function(t){var e,n=this.ast.ast(t),r=this.astCompiler.compile(n);return r.literal=0===(e=n).body.length||1===e.body.length&&(e.body[0].expression.type===Mr.Literal||e.body[0].expression.type===Mr.ArrayExpression||e.body[0].expression.type===Mr.ObjectExpression),r.constant=n.constant,r}};var Ur=T("$sce"),qr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Vr=/_([a-z])/g;function Gr(t){return t.replace(Vr,ne)}function Kr(t){var e=[];return bt(t)&&pt(t,function(t){e.push(function(t){if("self"===t)return t;if(Mt(t)){if(-1<t.indexOf("***"))throw Ur("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=A(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(k(t))return new RegExp("^"+t.source+"$");throw Ur("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(t))}),e}function Jr(){this.SCE_CONTEXTS=qr;var o=["self"],s=[];this.resourceUrlWhitelist=function(t){return arguments.length&&(o=Kr(t)),o},this.resourceUrlBlacklist=function(t){return arguments.length&&(s=Kr(t)),s},this.$get=["$injector",function(t){var r=function(t){throw Ur("unsafe","Attempting to use an unsafe value in a safe context.")};function a(t,e){return"self"===t?oi(e):!!t.exec(e.href)}function e(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}t.has("$sanitize")&&(r=t.get("$sanitize"));var n=e(),i={};return i[qr.HTML]=e(n),i[qr.CSS]=e(n),i[qr.URL]=e(n),i[qr.JS]=e(n),i[qr.RESOURCE_URL]=e(i[qr.URL]),{trustAs:function(t,e){var n=i.hasOwnProperty(t)?i[t]:null;if(!n)throw Ur("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||_t(e)||""===e)return e;if("string"!=typeof e)throw Ur("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)},getTrusted:function(t,e){if(null===e||_t(e)||""===e)return e;var n=i.hasOwnProperty(t)?i[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===qr.RESOURCE_URL){if(function(t){var e,n,r=ai(t.toString()),i=!1;for(e=0,n=o.length;e<n;e++)if(a(o[e],r)){i=!0;break}if(i)for(e=0,n=s.length;e<n;e++)if(a(s[e],r)){i=!1;break}return i}(e))return e;throw Ur("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===qr.HTML)return r(e);throw Ur("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(t){return t instanceof n?t.$$unwrapTrustedValue():t}}}]}function Xr(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(r,t){if(e&&dt<8)throw Ur("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=Vt(qr);i.isEnabled=function(){return e},i.trustAs=t.trustAs,i.getTrusted=t.getTrusted,i.valueOf=t.valueOf,e||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=yt),i.parseAs=function(e,t){var n=r(t);return n.literal&&n.constant?n:r(t,function(t){return i.getTrusted(e,t)})};var a=i.parseAs,o=i.getTrusted,s=i.trustAs;return pt(qr,function(e,t){var n=ct(t);i[Gr("parse_as_"+n)]=function(t){return a(e,t)},i[Gr("get_trusted_"+n)]=function(t){return o(e,t)},i[Gr("trust_as_"+n)]=function(t){return s(e,t)}}),i}]}function Zr(){this.$get=["$window","$document",function(t,e){var n={},r=!(!(t.nw&&t.nw.process)&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id))&&t.history&&t.history.pushState,i=b((/android (\d+)/.exec(ct((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),o=e[0]||{},s=o.body&&o.body.style,l=!1,u=!1;return s&&(l=!!("transition"in s||"webkitTransition"in s),u=!!("animation"in s||"webkitAnimation"in s)),{history:!(!r||i<4||a),hasEvent:function(t){if("input"===t&&dt)return!1;if(_t(n[t])){var e=o.createElement("div");n[t]="on"+t in e}return n[t]},csp:P(),transitions:l,animations:u,android:i}}]}var Qr=T("$compile");function ti(){var u;this.httpOptions=function(t){return t?(u=t,this):u},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(r,i,a,o,s){function l(e,n){l.totalPendingRequests++,Mt(e)&&!_t(i.get(e))||(e=s.getTrustedResourceUrl(e));var t=a.defaults&&a.defaults.transformResponse;return $t(t)?t=t.filter(function(t){return t!==jn}):t===jn&&(t=null),a.get(e,mt({cache:i,transformResponse:t},u)).finally(function(){l.totalPendingRequests--}).then(function(t){return i.put(e,t.data),t.data},function(t){n||(t=Qr("tpload","Failed to load template: {0} (HTTP status: {1} {2})",e,t.status,t.statusText),r(t));return o.reject(t)})}return l.totalPendingRequests=0,l}]}function ei(){this.$get=["$rootScope","$browser","$location",function(e,n,r){var t={findBindings:function(t,n,r){var e=t.getElementsByClassName("ng-binding"),i=[];return pt(e,function(e){var t=_.element(e).data("$binding");t&&pt(t,function(t){r?new RegExp("(^|\\s)"+A(n)+"(\\s|\\||$)").test(t)&&i.push(e):-1!==t.indexOf(n)&&i.push(e)})}),i},findModels:function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var a="["+r[i]+"model"+(n?"=":"*=")+'"'+e+'"]',o=t.querySelectorAll(a);if(o.length)return o}},getLocation:function(){return r.url()},setLocation:function(t){t!==r.url()&&(r.url(t),e.$digest())},whenStable:function(t){n.notifyWhenNoOutstandingRequests(t)}};return t}]}function ni(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(l,u,c,d,h){var f={};function t(t,e,n){kt(t)||(n=e,e=t,t=vt);var r,i=At(arguments,3),a=bt(n)&&!n,o=(a?d:c).defer(),s=o.promise;return r=u.defer(function(){try{o.resolve(t.apply(null,i))}catch(t){o.reject(t),h(t)}finally{delete f[s.$$timeoutId]}a||l.$apply()},e),s.$$timeoutId=r,f[r]=o,s}return t.cancel=function(t){return!!(t&&t.$$timeoutId in f)&&(Ir(f[t.$$timeoutId].promise),f[t.$$timeoutId].reject("canceled"),delete f[t.$$timeoutId],u.defer.cancel(t.$$timeoutId))},t}]}var ri=z.document.createElement("a"),ii=ai(z.location.href);function ai(t){var e=t;return dt&&(ri.setAttribute("href",e),e=ri.href),ri.setAttribute("href",e),{href:ri.href,protocol:ri.protocol?ri.protocol.replace(/:$/,""):"",host:ri.host,search:ri.search?ri.search.replace(/^\?/,""):"",hash:ri.hash?ri.hash.replace(/^#/,""):"",hostname:ri.hostname,port:ri.port,pathname:"/"===ri.pathname.charAt(0)?ri.pathname:"/"+ri.pathname}}function oi(t){var e=Mt(t)?ai(t):t;return e.protocol===ii.protocol&&e.host===ii.host}function si(){this.$get=S(z)}function li(t){var o=t[0]||{},s={},l="";function u(e){try{return decodeURIComponent(e)}catch(t){return e}}return function(){var t,e,n,r,i,a=function(t){try{return t.cookie||""}catch(t){return""}}(o);if(a!==l)for(t=(l=a).split("; "),s={},n=0;n<t.length;n++)0<(r=(e=t[n]).indexOf("="))&&(i=u(e.substring(0,r)),_t(s[i])&&(s[i]=u(e.substring(r+1))));return s}}function ui(){this.$get=li}function ci(r){var i="Filter";function a(t,e){if(wt(t)){var n={};return pt(t,function(t,e){n[e]=a(e,t)}),n}return r.factory(t+i,e)}this.register=a,this.$get=["$injector",function(e){return function(t){return e.get(t+i)}}],a("currency",vi),a("date",Ci),a("filter",di),a("json",Di),a("limitTo",Ai),a("lowercase",Ei),a("number",yi),a("orderBy",Oi),a("uppercase",Yi)}function di(){return function(t,e,n,r){if(!N(t)){if(null==t)return t;throw T("filter")("notarray","Expected array but received: {0}",t)}var i,a;switch(r=r||"$",fi(e)){case"function":i=e;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":i=function(e,n,r,i){var a=wt(e)&&r in e;!0===n?n=Yt:kt(n)||(n=function(t,e){return!_t(t)&&(null===t||null===e?t===e:!(wt(e)||wt(t)&&!w(t))&&(t=ct(""+t),e=ct(""+e),-1!==t.indexOf(e)))});return function(t){return a&&!wt(t)?hi(t,e[r],n,r,!1):hi(t,e,n,r,i)}}(e,n,r,a);break;default:return t}return Array.prototype.filter.call(t,i)}}function hi(t,e,n,r,i,a){var o=fi(t),s=fi(e);if("string"===s&&"!"===e.charAt(0))return!hi(t,e.substring(1),n,r,i);if($t(t))return t.some(function(t){return hi(t,e,n,r,i)});switch(o){case"object":var l;if(i){for(l in t)if(l.charAt&&"$"!==l.charAt(0)&&hi(t[l],e,n,r,!0))return!0;return!a&&hi(t,e,n,r,!1)}if("object"===s){for(l in e){var u=e[l];if(!kt(u)&&!_t(u)){var c=l===r;if(!hi(c?t:t[l],u,n,r,c,c))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function fi(t){return null===t?"null":typeof t}li.$inject=["$document"],ci.$inject=["$provide"];var pi=22,mi=".",gi="0";function vi(t){var r=t.NUMBER_FORMATS;return function(t,e,n){return _t(e)&&(e=r.CURRENCY_SYM),_t(n)&&(n=r.PATTERNS[1].maxFrac),null==t?t:_i(t,r.PATTERNS[1],r.GROUP_SEP,r.DECIMAL_SEP,n).replace(/\u00A4/g,e)}}function yi(t){var n=t.NUMBER_FORMATS;return function(t,e){return null==t?t:_i(t,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,e)}}function _i(t,e,n,r,i){if(!Mt(t)&&!$(t)||isNaN(t))return"";var a,o=!isFinite(t),s=!1,l=Math.abs(t)+"",u="";if(o)u="";else{(function(t,e,n,r){var i=t.d,a=i.length-t.i,o=(e=_t(e)?Math.min(Math.max(n,a),r):+e)+t.i,s=i[o];if(0<o){i.splice(Math.max(t.i,o));for(var l=o;l<i.length;l++)i[l]=0}else{a=Math.max(0,a),t.i=1,i.length=Math.max(1,o=e+1),i[0]=0;for(var u=1;u<o;u++)i[u]=0}if(5<=s)if(o-1<0){for(var c=0;o<c;c--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[o-1]++;for(;a<Math.max(0,e);a++)i.push(0);var d=i.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);d&&(i.unshift(d),t.i++)})(a=function(t){var e,n,r,i,a,o=0;for(-1<(n=t.indexOf(mi))&&(t=t.replace(mi,"")),0<(r=t.search(/e/i))?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)===gi;r++);if(r===(a=t.length))e=[0],n=1;else{for(a--;t.charAt(a)===gi;)a--;for(n-=r,e=[],i=0;r<=a;r++,i++)e[i]=+t.charAt(r)}return pi<n&&(e=e.splice(0,pi-1),o=n-1,n=1),{d:e,e:o,i:n}}(l),i,e.minFrac,e.maxFrac);var c=a.d,d=a.i,h=a.e,f=[];for(s=c.reduce(function(t,e){return t&&!e},!0);d<0;)c.unshift(0),d++;0<d?f=c.splice(d,c.length):(f=c,c=[0]);var p=[];for(c.length>=e.lgSize&&p.unshift(c.splice(-e.lgSize,c.length).join(""));c.length>e.gSize;)p.unshift(c.splice(-e.gSize,c.length).join(""));c.length&&p.unshift(c.join("")),u=p.join(n),f.length&&(u+=r+f.join("")),h&&(u+="e+"+h)}return t<0&&!s?e.negPre+u+e.negSuf:e.posPre+u+e.posSuf}function bi(t,e,n,r){var i="";for((t<0||r&&t<=0)&&(r?t=1-t:(t=-t,i="-")),t=""+t;t.length<e;)t=gi+t;return n&&(t=t.substr(t.length-e)),i+t}function wi(n,r,i,a,o){return i=i||0,function(t){var e=t["get"+n]();return(0<i||-i<e)&&(e+=i),0===e&&-12===i&&(e=12),bi(e,r,a,o)}}function Mi(r,i,a){return function(t,e){var n=t["get"+r]();return e[c((a?"STANDALONE":"")+(i?"SHORT":"")+r)][n]}}function $i(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function xi(i){return function(t){var e,n=$i(t.getFullYear()),r=+(e=t,new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay())))-+n;return bi(1+Math.round(r/6048e5),i)}}function ki(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}vi.$inject=["$locale"];var Si={yyyy:wi("FullYear",4,0,!(yi.$inject=["$locale"]),!0),yy:wi("FullYear",2,0,!0,!0),y:wi("FullYear",1,0,!1,!0),MMMM:Mi("Month"),MMM:Mi("Month",!0),MM:wi("Month",2,1),M:wi("Month",1,1),LLLL:Mi("Month",!1,!0),dd:wi("Date",2),d:wi("Date",1),HH:wi("Hours",2),H:wi("Hours",1),hh:wi("Hours",2,-12),h:wi("Hours",1,-12),mm:wi("Minutes",2),m:wi("Minutes",1),ss:wi("Seconds",2),s:wi("Seconds",1),sss:wi("Milliseconds",3),EEEE:Mi("Day"),EEE:Mi("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){var r=-1*n,i=0<=r?"+":"";return i+=bi(Math[0<r?"floor":"ceil"](r/60),2)+bi(Math.abs(r%60),2)},ww:xi(2),w:xi(1),G:ki,GG:ki,GGG:ki,GGGG:function(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}},Ti=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Li=/^-?\d+$/;function Ci(l){var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(e,t,n){var r,i,a="",o=[];if(t=t||"mediumDate",t=l.DATETIME_FORMATS[t]||t,Mt(e)&&(e=Li.test(e)?b(e):function(t){var e;if(e=t.match(d)){var n=new Date(0),r=0,i=0,a=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(r=b(e[9]+e[10]),i=b(e[9]+e[11])),a.call(n,b(e[1]),b(e[2])-1,b(e[3]));var s=b(e[4]||0)-r,l=b(e[5]||0)-i,u=b(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return o.call(n,s,l,u,c),n}return t}(e)),$(e)&&(e=new Date(e)),!x(e)||!isFinite(e.getTime()))return e;for(;t;)(i=Ti.exec(t))?t=(o=F(o,i,1)).pop():(o.push(t),t=null);var s=e.getTimezoneOffset();return n&&(s=V(n,s),e=G(e,n,!0)),pt(o,function(t){r=Si[t],a+=r?r(e,l.DATETIME_FORMATS,s):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function Di(){return function(t,e){return _t(e)&&(e=2),W(t,e)}}Ci.$inject=["$locale"];var Ei=S(ct),Yi=S(c);function Ai(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):b(e),C(e)?t:($(t)&&(t=t.toString()),N(t)?(n=(n=!n||isNaN(n)?0:b(n))<0?Math.max(0,t.length+n):n,0<=e?Ni(t,n,n+e):0===n?Ni(t,e,t.length):Ni(t,Math.max(0,n+e),n)):t)}}function Ni(t,e,n){return Mt(t)?t.slice(e,n):s.call(t,e,n)}function Oi(l){return function(t,e,n,r){if(null==t)return t;if(!N(t))throw T("orderBy")("notarray","Expected array but received: {0}",t);$t(e)||(e=[e]),0===e.length&&(e=["+"]);var a=e.map(function(t){var e=1,n=yt;if(kt(t))n=t;else if(Mt(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(e="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(n=l(t)).constant)){var r=n();n=function(t){return t[r]}}return{get:n,descending:e}}),o=n?-1:1,s=kt(r)?r:c,i=Array.prototype.map.call(t,function(e,n){return{value:e,tieBreaker:{value:n,type:"number",index:n},predicateValues:a.map(function(t){return function(t,e){var n=typeof t;null===t?(n="string",t="null"):"object"===n&&(t=function(t){if(kt(t.valueOf)&&u(t=t.valueOf()))return t;if(w(t)&&u(t=t.toString()))return t;return t}(t));return{value:t,type:n,index:e}}(t.get(e),n)})}});return i.sort(function(t,e){for(var n=0,r=a.length;n<r;n++){var i=s(t.predicateValues[n],e.predicateValues[n]);if(i)return i*a[n].descending*o}return(s(t.tieBreaker,e.tieBreaker)||c(t.tieBreaker,e.tieBreaker))*o}),t=i.map(function(t){return t.value})};function u(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function c(t,e){var n=0,r=t.type,i=e.type;if(r===i){var a=t.value,o=e.value;"string"===r?(a=a.toLowerCase(),o=o.toLowerCase()):"object"===r&&(wt(a)&&(a=t.index),wt(o)&&(o=e.index)),a!==o&&(n=a<o?-1:1)}else n=r<i?-1:1;return n}}function Ri(t){return kt(t)&&(t={link:t}),t.restrict=t.restrict||"AC",S(t)}Oi.$inject=["$parse"];var Hi=S({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ft.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Pi={};pt(De,function(t,r){if("multiple"!==t){var i=bn("ng-"+r),e=a;"checked"===t&&(e=function(t,e,n){n.ngModel!==n[i]&&a(t,0,n)}),Pi[i]=function(){return{restrict:"A",priority:100,link:e}}}function a(t,e,n){t.$watch(n[i],function(t){n.$set(r,!!t)})}}),pt(Ye,function(t,i){Pi[i]=function(){return{priority:100,link:function(t,e,n){if("ngPattern"===i&&"/"===n.ngPattern.charAt(0)){var r=n.ngPattern.match(a);if(r)return void n.$set("ngPattern",new RegExp(r[1],r[2]))}t.$watch(n[i],function(t){n.$set(i,t)})}}}}),pt(["src","srcset","href"],function(a){var o=bn("ng-"+a);Pi[o]=function(){return{priority:99,link:function(t,e,n){var r=a,i=a;"href"===a&&"[object SVGAnimatedString]"===ft.call(e.prop("href"))&&(i="xlinkHref",n.$attr[i]="xlink:href",r=null),n.$observe(o,function(t){t?(n.$set(i,t),dt&&r&&e.prop(r,n[i])):"href"===a&&n.$set(i,null)})}}}});var ji={$addControl:vt,$$renameControl:function(t,e){t.$name=e},$removeControl:vt,$setValidity:vt,$setDirty:vt,$setPristine:vt,$setSubmitted:vt},Fi="ng-pending",Ii="ng-submitted";function zi(t,e,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=ji,this.$$element=t,this.$$animate=r,qi(this)}zi.$inject=["$element","$attrs","$scope","$animate","$interpolate"],zi.prototype={$rollbackViewValue:function(){pt(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){pt(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){Pt(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],(this[e]=t).$name=e},$removeControl:function(n){n.$name&&this[n.$name]===n&&delete this[n.$name],pt(this.$pending,function(t,e){this.$setValidity(e,null,n)},this),pt(this.$error,function(t,e){this.$setValidity(e,null,n)},this),pt(this.$$success,function(t,e){this.$setValidity(e,null,n)},this),Dt(this.$$controls,n),n.$$parentForm=ji},$setDirty:function(){this.$$animate.removeClass(this.$$element,Fa),this.$$animate.addClass(this.$$element,Ia),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Fa,Ia+" "+Ii),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,pt(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){pt(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,Ii),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Vi({clazz:zi,set:function(t,e,n){var r=t[e];r?-1===r.indexOf(n)&&r.push(n):t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(Dt(r,n),0===r.length&&delete t[e])}});var Bi=function(n){return["$timeout","$parse",function(l,e){return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:zi,compile:function(t,e){t.addClass(Fa).addClass(Pa);var s=e.name?"name":!(!n||!e.ngForm)&&"ngForm";return{pre:function(e,t,n,r){var i=r[0];if(!("action"in n)){var a=function(t){e.$apply(function(){i.$commitViewValue(),i.$setSubmitted()}),t.preventDefault()};t[0].addEventListener("submit",a),t.on("$destroy",function(){l(function(){t[0].removeEventListener("submit",a)},0,!1)})}(r[1]||i.$$parentForm).$addControl(i);var o=s?u(i.$name):vt;s&&(o(e,i),n.$observe(s,function(t){i.$name!==t&&(o(e,void 0),i.$$parentForm.$$renameControl(i,t),(o=u(i.$name))(e,i))})),t.on("$destroy",function(){i.$$parentForm.$removeControl(i),o(e,void 0),mt(i,ji)})}}}};function u(t){return""===t?e('this[""]').assign:e(t).assign||vt}}]},Wi=Bi(),Ui=Bi(!0);function qi(t){t.$$classCache={},t.$$classCache[ja]=!(t.$$classCache[Pa]=t.$$element.hasClass(Pa))}function Vi(t){var e=t.clazz,i=t.set,a=t.unset;function o(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function s(t,e,n){e=e?"-"+Rt(e,"-"):"",o(t,Pa+e,!0===n),o(t,ja+e,!1===n)}e.prototype.$setValidity=function(t,e,n){var r;_t(e)?function(t,e,n,r){t[e]||(t[e]={});i(t[e],n,r)}(this,"$pending",t,n):function(t,e,n,r){t[e]&&a(t[e],n,r);Gi(t[e])&&(t[e]=void 0)}(this,"$pending",t,n),Tt(e)?e?(a(this.$error,t,n),i(this.$$success,t,n)):(i(this.$error,t,n),a(this.$$success,t,n)):(a(this.$error,t,n),a(this.$$success,t,n)),this.$pending?(o(this,Fi,!0),this.$valid=this.$invalid=void 0,s(this,"",null)):(o(this,Fi,!1),this.$valid=Gi(this.$error),this.$invalid=!this.$valid,s(this,"",this.$valid)),s(this,t,r=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null)),this.$$parentForm.$setValidity(t,r,this)}}function Gi(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var Ki=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Ji=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Xi=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Zi=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Qi=/^(\d{4,})-(\d{2})-(\d{2})$/,ta=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ea=/^(\d{4,})-W(\d\d)$/,na=/^(\d{4,})-(\d\d)$/,ra=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ia="keydown wheel mousedown",aa=Ft();pt("date,datetime-local,month,time,week".split(","),function(t){aa[t]=!0});var oa={text:function(t,e,n,r,i,a){la(t,e,n,r,i,a),sa(r)},date:ca("date",Qi,ua(Qi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ca("datetimelocal",ta,ua(ta,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:ca("time",ra,ua(ra,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ca("week",ea,function(t,e){if(x(t))return t;if(Mt(t)){ea.lastIndex=0;var n=ea.exec(t);if(n){var r=+n[1],i=+n[2],a=0,o=0,s=0,l=0,u=$i(r),c=7*(i-1);return e&&(a=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),l=e.getMilliseconds()),new Date(r,0,u.getDate()+c,a,o,s,l)}}return NaN},"yyyy-Www"),month:ca("month",na,ua(na,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,n,r,i,a){var o,s;da(t,e,n,r),ha(r),la(t,e,n,r,i,a),(bt(n.min)||n.ngMin)&&(r.$validators.min=function(t){return r.$isEmpty(t)||_t(o)||o<=t},n.$observe("min",function(t){o=fa(t),r.$validate()}));(bt(n.max)||n.ngMax)&&(r.$validators.max=function(t){return r.$isEmpty(t)||_t(s)||t<=s},n.$observe("max",function(t){s=fa(t),r.$validate()}));if(bt(n.step)||n.ngStep){var l;r.$validators.step=function(t,e){return r.$isEmpty(e)||_t(l)||ga(e,o||0,l)},n.$observe("step",function(t){l=fa(t),r.$validate()})}},url:function(t,e,n,r,i,a){la(t,e,n,r,i,a),sa(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||Ji.test(n)}},email:function(t,e,n,r,i,a){la(t,e,n,r,i,a),sa(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||Xi.test(n)}},radio:function(t,n,r,i){var a=!r.ngTrim||"false"!==Lt(r.ngTrim);_t(r.name)&&n.attr("name",L());n.on("click",function(t){var e;n[0].checked&&(e=r.value,a&&(e=Lt(e)),i.$setViewValue(e,t&&t.type))}),i.$render=function(){var t=r.value;a&&(t=Lt(t)),n[0].checked=t===i.$viewValue},r.$observe("value",i.$render)},range:function(t,n,r,i,e,a){da(t,n,r,i),ha(i),la(t,n,r,i,e,a);var o=i.$$hasNativeValidators&&"range"===n[0].type,s=o?0:void 0,l=o?100:void 0,u=o?1:void 0,c=n[0].validity,d=bt(r.min),h=bt(r.max),f=bt(r.step),p=i.$render;i.$render=o&&bt(c.rangeUnderflow)&&bt(c.rangeOverflow)?function(){p(),i.$setViewValue(n.val())}:p,d&&(i.$validators.min=o?function(){return!0}:function(t,e){return i.$isEmpty(e)||_t(s)||s<=e},m("min",function(t){if(s=fa(t),C(i.$modelValue))return;if(o){var e=n.val();e<s&&(e=s,n.val(e)),i.$setViewValue(e)}else i.$validate()}));h&&(i.$validators.max=o?function(){return!0}:function(t,e){return i.$isEmpty(e)||_t(l)||e<=l},m("max",function(t){if(l=fa(t),C(i.$modelValue))return;if(o){var e=n.val();l<e&&(n.val(l),e=l<s?s:l),i.$setViewValue(e)}else i.$validate()}));f&&(i.$validators.step=o?function(){return!c.stepMismatch}:function(t,e){return i.$isEmpty(e)||_t(u)||ga(e,s||0,u)},m("step",function(t){if(u=fa(t),C(i.$modelValue))return;o&&i.$viewValue!==n.val()?i.$setViewValue(n.val()):i.$validate()}));function m(t,e){n.attr(t,r[t]),r.$observe(t,e)}},checkbox:function(t,e,n,r,i,a,o,s){var l=va(s,t,"ngTrueValue",n.ngTrueValue,!0),u=va(s,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){r.$setViewValue(e[0].checked,t&&t.type)}),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return!1===t},r.$formatters.push(function(t){return Yt(t,l)}),r.$parsers.push(function(t){return t?l:u})},hidden:vt,button:vt,submit:vt,reset:vt,file:vt};function sa(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function la(t,r,i,a,e,o){var s,l=ct(r[0].type);if(!e.android){var u=!1;r.on("compositionstart",function(){u=!0}),r.on("compositionend",function(){u=!1,c()})}var c=function(t){if(s&&(o.defer.cancel(s),s=null),!u){var e=r.val(),n=t&&t.type;"password"===l||i.ngTrim&&"false"===i.ngTrim||(e=Lt(e)),(a.$viewValue!==e||""===e&&a.$$hasNativeValidators)&&a.$setViewValue(e,n)}};if(e.hasEvent("input"))r.on("input",c);else{var n=function(t,e,n){s||(s=o.defer(function(){s=null,e&&e.value===n||c(t)}))};r.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||n(t,this,this.value)}),e.hasEvent("paste")&&r.on("paste cut",n)}r.on("change",c),aa[l]&&a.$$hasNativeValidators&&l===i.type&&r.on(ia,function(t){if(!s){var e=this[d],n=e.badInput,r=e.typeMismatch;s=o.defer(function(){s=null,e.badInput===n&&e.typeMismatch===r||c(t)})}}),a.$render=function(){var t=a.$isEmpty(a.$viewValue)?"":a.$viewValue;r.val()!==t&&r.val(t)}}function ua(i,a){return function(t,e){var n,r;if(x(t))return t;if(Mt(t)){if('"'===t.charAt(0)&&'"'===t.charAt(t.length-1)&&(t=t.substring(1,t.length-1)),Ki.test(t))return new Date(t);if(i.lastIndex=0,n=i.exec(t))return n.shift(),r=e?{yyyy:e.getFullYear(),MM:e.getMonth()+1,dd:e.getDate(),HH:e.getHours(),mm:e.getMinutes(),ss:e.getSeconds(),sss:e.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},pt(n,function(t,e){e<a.length&&(r[a[e]]=+t)}),new Date(r.yyyy,r.MM-1,r.dd,r.HH,r.mm,r.ss||0,1e3*r.sss||0)}return NaN}}function ca(f,p,m,g){return function(t,e,n,r,i,a,o){da(t,e,n,r),la(0,e,n,r,i,a);var s,l,u,c=r&&r.$options.getOption("timezone");(r.$$parserName=f,r.$parsers.push(function(t){if(r.$isEmpty(t))return null;if(p.test(t)){var e=m(t,s);return c&&(e=G(e,c)),e}}),r.$formatters.push(function(t){if(t&&!x(t))throw Ua("datefmt","Expected `{0}` to be a date",t);return d(t)?((s=t)&&c&&(s=G(s,c,!0)),o("date")(t,g,c)):(s=null,"")}),bt(n.min)||n.ngMin)&&(r.$validators.min=function(t){return!d(t)||_t(l)||m(t)>=l},n.$observe("min",function(t){l=h(t),r.$validate()}));(bt(n.max)||n.ngMax)&&(r.$validators.max=function(t){return!d(t)||_t(u)||m(t)<=u},n.$observe("max",function(t){u=h(t),r.$validate()}));function d(t){return t&&!(t.getTime&&t.getTime()!=t.getTime())}function h(t){return bt(t)&&!x(t)?m(t)||void 0:t}}}function da(t,n,e,r){var i=n[0];(r.$$hasNativeValidators=wt(i.validity))&&r.$parsers.push(function(t){var e=n.prop(d)||{};return e.badInput||e.typeMismatch?void 0:t})}function ha(e){e.$$parserName="number",e.$parsers.push(function(t){return e.$isEmpty(t)?null:Zi.test(t)?parseFloat(t):void 0}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!$(t))throw Ua("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t})}function fa(t){return bt(t)&&!$(t)&&(t=parseFloat(t)),C(t)?void 0:t}function pa(t){return(0|t)===t}function ma(t){var e=t.toString(),n=e.indexOf(".");if(-1===n){if(-1<t&&t<1){var r=/e-(\d+)$/.exec(e);if(r)return Number(r[1])}return 0}return e.length-n-1}function ga(t,e,n){var r=Number(t),i=!pa(r),a=!pa(e),o=!pa(n);if(i||a||o){var s=i?ma(r):0,l=a?ma(e):0,u=o?ma(n):0,c=Math.max(s,l,u),d=Math.pow(10,c);r*=d,e*=d,n*=d,i&&(r=Math.round(r)),a&&(e=Math.round(e)),o&&(n=Math.round(n))}return(r-e)%n==0}function va(t,e,n,r,i){var a;if(bt(r)){if(!(a=t(r)).constant)throw Ua("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return a(e)}return i}var ya=["$browser","$sniffer","$filter","$parse",function(i,a,o,s){return{restrict:"E",require:["?ngModel"],link:{pre:function(t,e,n,r){r[0]&&(oa[ct(n.type)]||oa.text)(t,e,n,r[0],a,i,o,s)}}}}],_a=/^(true|false|\d+)$/,ba=function(){function r(t,e,n){var r=bt(n)?n:9===dt?"":null;t.prop("value",r),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,e){return _a.test(e.ngValue)?function(t,e,n){r(e,n,t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){r(e,n,t)})}}}},wa=["$compile",function(r){return{restrict:"AC",compile:function(t){return r.$$addBindingClass(t),function(t,e,n){r.$$addBindingInfo(e,n.ngBind),e=e[0],t.$watch(n.ngBind,function(t){e.textContent=It(t)})}}}}],Ma=["$interpolate","$compile",function(i,a){return{compile:function(t){return a.$$addBindingClass(t),function(t,e,n){var r=i(e.attr(n.$attr.ngBindTemplate));a.$$addBindingInfo(e,r.expressions),e=e[0],n.$observe("ngBindTemplate",function(t){e.textContent=_t(t)?"":t})}}}}],$a=["$sce","$parse","$compile",function(a,n,o){return{restrict:"A",compile:function(t,e){var r=n(e.ngBindHtml),i=n(e.ngBindHtml,function(t){return a.valueOf(t)});return o.$$addBindingClass(t),function(e,n,t){o.$$addBindingInfo(n,t.ngBindHtml),e.$watch(i,function(){var t=r(e);n.html(a.getTrustedHtml(t)||"")})}}}}],xa=S({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}});function ka(f,p){var m;return f="ngClass"+f,["$parse",function(h){return{restrict:"AC",link:function(t,e,l){var u,n=l[f].trim(),r=":"===n.charAt(0)&&":"===n.charAt(1),i=h(n,r?_:y),a=r?function(t){var e=y(t);e!==u&&s(e)}:s,o=e.data("$classCounts"),c=!0;function d(t,e){var n=[];return pt(t,function(t){(0<e||o[t])&&(o[t]=(o[t]||0)+e,o[t]===+(0<e)&&n.push(t))}),n.join(" ")}function s(t){var e,n,r,i,a,o,s;c===p&&(e=t,n=v(u),r=v(e),i=g(n,r),a=g(r,n),o=d(i,-1),s=d(a,1),l.$addClass(s),l.$removeClass(o)),u=t}o||(o=Ft(),e.data("$classCounts",o)),"ngClass"!==f&&(m||(m=h("$index",function(t){return 1&t})),t.$watch(m,function(t){t===p?(n=d(v(n=u),1),l.$addClass(n)):(e=d(v(e=u),-1),l.$removeClass(e));var e;var n;c=t})),t.$watch(i,a,r)}}}];function g(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],a=0;a<e.length;a++)if(i===e[a])continue t;n.push(i)}return n}function v(t){return t&&t.split(" ")}function y(e){var t=e;return $t(e)?t=e.map(y).join(" "):wt(e)&&(t=Object.keys(e).filter(function(t){return e[t]}).join(" ")),t}function _(n){var t=n;if($t(n))t=n.map(_);else if(wt(n)){var r=!1;t=Object.keys(n).filter(function(t){var e=n[t];return!r&&_t(e)&&(r=!0),e}),r&&t.push(void 0)}return t}}var Sa=ka("",!0),Ta=ka("Odd",0),La=ka("Even",1),Ca=Ri({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Da=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ea={},Ya={blur:!0,focus:!0};pt("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var o=bn("ng-"+a);Ea[o]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(t,e){var r=n(e[o]);return function(n,t){t.on(a,function(t){var e=function(){r(n,{$event:t})};Ya[a]&&i.$$phase?n.$evalAsync(e):n.$apply(e)})}}}}]});var Aa=["$animate","$compile",function(l,u){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(t,n,r,e,i){var a,o,s;t.$watch(r.ngIf,function(t){t?o||i(function(t,e){o=e,t[t.length++]=u.$$createComment("end ngIf",r.ngIf),a={clone:t},l.enter(t,n.parent(),n)}):(s&&(s.remove(),s=null),o&&(o.$destroy(),o=null),a&&(s=jt(a.clone),l.leave(s).done(function(t){!1!==t&&(s=null)}),a=null))})}}}],Na=["$templateRequest","$anchorScroll","$animate",function(g,v,y){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:_.noop,compile:function(t,e){var n=e.ngInclude||e.src,p=e.onload||"",m=e.autoscroll;return function(o,s,t,l,u){var c,e,d,h=0,f=function(){e&&(e.remove(),e=null),c&&(c.$destroy(),c=null),d&&(y.leave(d).done(function(t){!1!==t&&(e=null)}),e=d,d=null)};o.$watch(n,function(r){var i=function(t){!1===t||!bt(m)||m&&!o.$eval(m)||v()},a=++h;r?(g(r,!0).then(function(t){if(!o.$$destroyed&&a===h){var e=o.$new();l.template=t;var n=u(e,function(t){f(),y.enter(t,null,s).done(i)});d=n,(c=e).$emit("$includeContentLoaded",r),o.$eval(p)}},function(){o.$$destroyed||a===h&&(f(),o.$emit("$includeContentError",r))}),o.$emit("$includeContentRequested",r)):(f(),l.template=null)})}}}}],Oa=["$compile",function(i){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(t,e,n,r){if(ft.call(e[0]).match(/SVG/))return e.empty(),void i(de(r.template,z.document).childNodes)(t,function(t){e.append(t)},{futureParentElement:e});e.html(r.template),i(e.contents())(t)}}}],Ra=Ri({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ha=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var i=n.ngList||", ",a="false"!==n.ngTrim,o=a?Lt(i):i;r.$parsers.push(function(t){if(!_t(t)){var e=[];return t&&pt(t.split(o),function(t){t&&e.push(a?Lt(t):t)}),e}}),r.$formatters.push(function(t){if($t(t))return t.join(i)}),r.$isEmpty=function(t){return!t||!t.length}}}},Pa="ng-valid",ja="ng-invalid",Fa="ng-pristine",Ia="ng-dirty",za="ng-untouched",Ba="ng-touched",Wa="ng-not-empty",Ua=T("ngModel");function qa(t,e,n,r,i,a,o,s,l){var u;this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(t),this.$$parentForm=ji,this.$options=Va,this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:t}),this.$$attr=n,this.$$element=r,this.$$animate=a,this.$$timeout=o,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=e,qi(this),(u=this).$$scope.$watch(function(t){var e=u.$$ngModelGet(t);if(e!==u.$modelValue&&(u.$modelValue==u.$modelValue||e==e)){u.$modelValue=u.$$rawModelValue=e,u.$$parserValid=void 0;for(var n=u.$formatters,r=n.length,i=e;r--;)i=n[r](i);u.$viewValue!==i&&(u.$$updateEmptyClasses(i),u.$viewValue=u.$$lastCommittedViewValue=i,u.$render(),u.$$runValidators(u.$modelValue,u.$viewValue,vt))}return e})}qa.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],qa.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var n=this.$$parse(this.$$attr.ngModel+"()"),r=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var e=this.$$parsedNgModel(t);return kt(e)&&(e=n(t)),e},this.$$ngModelSet=function(t,e){kt(this.$$parsedNgModel(t))?r(t,{$$$p:e}):this.$$parsedNgModelAssign(t,e)}}else if(!this.$$parsedNgModel.assign)throw Ua("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,Ot(this.$$element))},$render:vt,$isEmpty:function(t){return _t(t)||""===t||null===t||t!=t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,Wa),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,Wa))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ia),this.$$animate.addClass(this.$$element,Fa)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Fa),this.$$animate.addClass(this.$$element,Ia),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,za,Ba)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Ba,za)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!C(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),a=this;this.$$runValidators(e,t,function(t){i||n===t||(a.$modelValue=t?e:void 0,a.$modelValue!==r&&a.$$writeModelToScope())})}},$$runValidators:function(i,a,e){this.$$currentValidationRunId++;var r,o,n=this.$$currentValidationRunId,s=this;(function(){var t=s.$$parserName||"parse";{if(!_t(s.$$parserValid))return s.$$parserValid||(pt(s.$validators,function(t,e){l(e,null)}),pt(s.$asyncValidators,function(t,e){l(e,null)})),l(t,s.$$parserValid),s.$$parserValid;l(t,null)}return!0})()?!function(){var r=!0;if(pt(s.$validators,function(t,e){var n=Boolean(t(i,a));r=r&&n,l(e,n)}),!r)return pt(s.$asyncValidators,function(t,e){l(e,null)}),!1;return!0}()?t(!1):(r=[],o=!0,pt(s.$asyncValidators,function(t,e){var n=t(i,a);if(!E(n))throw Ua("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",n);l(e,void 0),r.push(n.then(function(){l(e,!0)},function(){l(e,o=!1)}))}),r.length?s.$$q.all(r).then(function(){t(o)},vt):t(!0)):t(!1);function l(t,e){n===s.$$currentValidationRunId&&s.$setValidity(t,e)}function t(t){n===s.$$currentValidationRunId&&e(t)}},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,n=this;if(this.$$parserValid=!_t(e)||void 0,this.$$parserValid)for(var t=0;t<this.$parsers.length;t++)if(_t(e=this.$parsers[t](e))){this.$$parserValid=!1;break}C(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var r=this.$modelValue,i=this.$options.getOption("allowInvalid");function a(){n.$modelValue!==r&&n.$$writeModelToScope()}this.$$rawModelValue=e,i&&(this.$modelValue=e,a()),this.$$runValidators(e,this.$$lastCommittedViewValue,function(t){i||(n.$modelValue=t?e:void 0,a())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),pt(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");$(e[t])?e=e[t]:$(e.default)&&(e=e.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;0<e?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t)}},Vi({clazz:qa,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var Va,Ga=["$rootScope",function(o){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:qa,priority:1,compile:function(t){return t.addClass(Fa).addClass(za).addClass(Pa),{pre:function(t,e,n,r){var i=r[0],a=r[1]||i.$$parentForm,o=r[2];o&&(i.$options=o.$options),i.$$initGetterSetters(),a.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(t,e,n,r){var i=r[0];function a(){i.$setTouched()}i.$options.getOption("updateOn")&&e.on(i.$options.getOption("updateOn"),function(t){i.$$debounceViewValueCommit(t&&t.type)}),e.on("blur",function(){i.$touched||(o.$$phase?t.$evalAsync(a):t.$apply(a))})}}}}}],Ka=/(\s+|^)default(\s+|$)/;function Ja(t){this.$$options=t}Ja.prototype={getOption:function(t){return this.$$options[t]},createChild:function(n){var r=!1;return pt(n=mt({},n),function(t,e){"$inherit"===t?"*"===e?r=!0:(n[e]=this.$$options[e],"updateOn"===e&&(n.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===e&&(n.updateOnDefault=!1,n[e]=Lt(t.replace(Ka,function(){return n.updateOnDefault=!0," "})))},this),r&&(delete n["*"],Za(n,this.$$options)),Za(n,Va.$$options),new Ja(n)}},Va=new Ja({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Xa=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:Va,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}};function Za(n,t){pt(t,function(t,e){bt(n[e])||(n[e]=t)})}var Qa=Ri({terminal:!0,priority:1e3}),to=T("ngOptions"),eo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,no=["$compile","$document","$parse",function(g,v,x){var y=z.document.createElement("option"),_=z.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=vt},post:function(t,o,e,n){for(var s=n[0],l=n[1],u=e.multiple,r=0,i=o.children(),a=i.length;r<a;r++)if(""===i[r].value){s.hasEmptyOption=!0,s.emptyOption=i.eq(r);break}o.empty();var c,d=!!s.emptyOption;ht(y.cloneNode(!1)).val("?");var h=function(t,e,h){var d=t.match(eo);if(!d)throw to("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,Ot(e));var n=d[5]||d[7],r=d[6],i=/ as /.test(d[0])&&d[1],f=d[9],a=x(d[2]?d[1]:n),p=i&&x(i)||a,o=f&&x(f),m=f?function(t,e){return o(h,e)}:function(t){return He(t)},g=function(t,e){return m(t,w(t,e))},v=x(d[2]||d[1]),y=x(d[3]||""),_=x(d[4]||""),b=x(d[8]),s={},w=r?function(t,e){return s[r]=e,s[n]=t,s}:function(t){return s[n]=t,s};function M(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function $(t){var e;if(!r&&N(t))e=t;else for(var n in e=[],t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n);return e}return{trackBy:f,getTrackByValue:g,getWatchables:x(b,function(t){for(var e=[],n=$(t=t||[]),r=n.length,i=0;i<r;i++){var a=t===n?i:n[i],o=t[a],s=w(o,a),l=m(o,s);if(e.push(l),d[2]||d[1]){var u=v(h,s);e.push(u)}if(d[4]){var c=_(h,s);e.push(c)}}return e}),getOptions:function(){for(var t=[],e={},n=b(h)||[],r=$(n),i=r.length,a=0;a<i;a++){var o=n===r?a:r[a],s=n[o],l=w(s,o),u=p(h,l),c=m(u,l),d=new M(c,u,v(h,l),y(h,l),_(h,l));t.push(d),e[c]=d}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[g(t)]},getViewValueFromOption:function(t){return f?H(t.viewValue):t.viewValue}}}}}(e.ngOptions,o,t),f=v[0].createDocumentFragment();function p(t,e){var n,r,i=y.cloneNode(!1);e.appendChild(i),r=i,((n=t).element=r).disabled=n.disabled,n.label!==r.label&&(r.label=n.label,r.textContent=n.label),r.value=n.selectValue}function m(t){var e=c.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}s.generateUnknownOptionValue=function(t){return"?"},u?(s.writeValue=function(t){if(c){var e=t&&t.map(m)||[];c.items.forEach(function(t){t.element.selected&&!R(e,t)&&(t.element.selected=!1)})}},s.readValue=function(){var t=o.val()||[],n=[];return pt(t,function(t){var e=c.selectValueMap[t];e&&!e.disabled&&n.push(c.getViewValueFromOption(e))}),n},h.trackBy&&t.$watchCollection(function(){if($t(l.$viewValue))return l.$viewValue.map(function(t){return h.getTrackByValue(t)})},function(){l.$render()})):(s.writeValue=function(t){if(c){var e=o[0].options[o[0].selectedIndex],n=c.getOptionFromViewValue(t);e&&e.removeAttribute("selected"),n?(o[0].value!==n.selectValue&&(s.removeUnknownOption(),o[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):s.selectUnknownOrEmptyOption(t)}},s.readValue=function(){var t=c.selectValueMap[o.val()];return t&&!t.disabled?(s.unselectEmptyOption(),s.removeUnknownOption(),c.getViewValueFromOption(t)):null},h.trackBy&&t.$watch(function(){return h.getTrackByValue(l.$viewValue)},function(){l.$render()})),d&&(g(s.emptyOption)(t),o.prepend(s.emptyOption),s.emptyOption[0].nodeType===Wt?(s.hasEmptyOption=!1,s.registerOption=function(t,e){""===e.val()&&(s.hasEmptyOption=!0,s.emptyOption=e,s.emptyOption.removeClass("ng-scope"),l.$render(),e.on("$destroy",function(){var t=s.$isEmptyOptionSelected();s.hasEmptyOption=!1,s.emptyOption=void 0,t&&l.$render()}))}):s.emptyOption.removeClass("ng-scope")),t.$watchCollection(h.getWatchables,function(){var t=c&&s.readValue();if(c)for(var e=c.items.length-1;0<=e;e--){var n=c.items[e];bt(n.group)?Te(n.element.parentNode):Te(n.element)}c=h.getOptions();var r={};if(c.items.forEach(function(t){var e;bt(t.group)?((e=r[t.group])||(e=_.cloneNode(!1),f.appendChild(e),e.label=null===t.group?"null":t.group,r[t.group]=e),p(t,e)):p(t,f)}),o[0].appendChild(f),l.$render(),!l.$isEmpty(t)){var i=s.readValue(),a=h.trackBy||u;(a?Yt(t,i):t===i)||(l.$setViewValue(i),l.$render())}})}}}}],ro=["$locale","$interpolate","$log",function(p,m,g){var v=/{}/g,y=/^when(Minus)?(.+)$/;return{link:function(i,a,o){var s,t=o.count,l=o.$attr.when&&a.attr(o.$attr.when),u=o.offset||0,c=i.$eval(l)||{},d={},e=m.startSymbol(),n=m.endSymbol(),r=e+t+"-"+u+n,h=_.noop;function f(t){a.text(t||"")}pt(o,function(t,e){var n=y.exec(e);if(n){var r=(n[1]?"-":"")+ct(n[2]);c[r]=a.attr(o.$attr[e])}}),pt(c,function(t,e){d[e]=m(t.replace(v,r))}),i.$watch(t,function(t){var e=parseFloat(t),n=C(e);if(n||e in c||(e=p.pluralCat(e-u)),!(e===s||n&&C(s))){h();var r=d[e];_t(r)?(null!=t&&g.debug("ngPluralize: no rule defined for '"+e+"' in "+l),h=vt,f()):h=i.$watch(r,f),s=e}})}}}],io=["$parse","$animate","$compile",function(l,D,u){var E="$$NG_REMOVED",Y=T("ngRepeat"),A=function(t,e,n,r,i,a,o){t[n]=r,i&&(t[i]=a),t.$index=e,t.$first=0===e,t.$last=e===o-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0==(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(t,e){var M=e.ngRepeat,$=u.$$createComment("end ngRepeat",M),n=M.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!n)throw Y("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",M);var r=n[1],i=n[2],x=n[3],a=n[4];if(!(n=r.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw Y("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",r);var o,k,S,T,L=n[3]||n[1],C=n[2];if(x&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(x)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(x)))throw Y("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",x);var s={$id:He};return a?o=l(a):(S=function(t,e){return He(e)},T=function(t){return t}),function(y,_,t,e,b){o&&(k=function(t,e,n){return C&&(s[C]=t),s[L]=e,s.$index=n,o(y,s)});var w=Ft();y.$watchCollection(i,function(t){var r,e,n,i,a,o,s,l,u,c,d,h,f,p=_[0],m=Ft();if(x&&(y[x]=t),N(t))u=t,l=k||S;else for(var g in l=k||T,u=[],t)B.call(t,g)&&"$"!==g.charAt(0)&&u.push(g);for(i=u.length,d=new Array(i),r=0;r<i;r++)if(a=t===u?r:u[r],o=t[a],s=l(a,o,r),w[s])c=w[s],delete w[s],m[s]=c,d[r]=c;else{if(m[s])throw pt(d,function(t){t&&t.scope&&(w[t.id]=t)}),Y("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",M,s,o);d[r]={id:s,scope:void 0,clone:void 0},m[s]=!0}for(var v in w){if(h=jt((c=w[v]).clone),D.leave(h),h[0].parentNode)for(r=0,e=h.length;r<e;r++)h[r][E]=!0;c.scope.$destroy()}for(r=0;r<i;r++)if(a=t===u?r:u[r],o=t[a],(c=d[r]).scope){for(n=p;(n=n.nextSibling)&&n[E];);c.clone[0]!==n&&D.move(jt(c.clone),null,p),p=(f=c).clone[f.clone.length-1],A(c.scope,r,L,o,C,a,i)}else b(function(t,e){c.scope=e;var n=$.cloneNode(!1);t[t.length++]=n,D.enter(t,null,p),p=n,c.clone=t,m[c.id]=c,A(c.scope,r,L,o,C,a,i)});w=m})}}}}],ao="ng-hide-animate",oo=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngShow,function(t){r[t?"removeClass":"addClass"](e,"ng-hide",{tempClasses:ao})})}}}],so=["$animate",function(r){return{restrict:"A",multiElement:!0,link:function(t,e,n){t.$watch(n.ngHide,function(t){r[t?"addClass":"removeClass"](e,"ng-hide",{tempClasses:ao})})}}}],lo=Ri(function(t,n,e){t.$watch(e.ngStyle,function(t,e){e&&t!==e&&pt(e,function(t,e){n.css(e,"")}),t&&n.css(t)},!0)}),uo=["$animate","$compile",function(c,d){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,e,n,i){var r=n.ngSwitch||n.on,a=[],o=[],s=[],l=[],u=function(e,n){return function(t){!1!==t&&e.splice(n,1)}};t.$watch(r,function(t){for(var e,n;s.length;)c.cancel(s.pop());for(e=0,n=l.length;e<n;++e){var r=jt(o[e].clone);l[e].$destroy(),(s[e]=c.leave(r)).done(u(s,e))}o.length=0,l.length=0,(a=i.cases["!"+t]||i.cases["?"])&&pt(a,function(i){i.transclude(function(t,e){l.push(e);var n=i.element;t[t.length++]=d.$$createComment("end ngSwitchWhen");var r={clone:t};o.push(r),c.enter(t,n.parent(),n)})})})}}}],co=Ri({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){pt(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t}),function(t){r.cases["!"+t]=r.cases["!"+t]||[],r.cases["!"+t].push({transclude:i,element:e})})}}),ho=Ri({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),fo=T("ngTransclude"),po=["$compile",function(e){return{restrict:"EAC",terminal:!0,compile:function(t){var s=e(t.contents());return t.empty(),function(t,n,e,r,i){if(!i)throw fo("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Ot(n));e.ngTransclude===e.$attr.ngTransclude&&(e.ngTransclude="");var a=e.ngTransclude||e.ngTranscludeSlot;function o(){s(t,function(t){n.append(t)})}i(function(t,e){t.length&&function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r.nodeType!==Bt||r.nodeValue.trim())return!0}}(t)?n.append(t):(o(),e.$destroy())},null,a),a&&!i.isSlotFilled(a)&&o()}}}}],mo=["$templateCache",function(i){return{restrict:"E",terminal:!0,compile:function(t,e){if("text/ng-template"===e.type){var n=e.id,r=t[0].text;i.put(n,r)}}}}],go={$setViewValue:vt,$render:vt};function vo(t,e){t.prop("selected",e),t.attr("selected",e)}var yo=["$element","$scope",function(i,e){var s=this,r=new Fe;s.selectValueMap={},s.ngModelCtrl=go,s.multiple=!1,s.unknownOption=ht(z.document.createElement("option")),s.hasEmptyOption=!1,s.emptyOption=void 0,s.renderUnknownOption=function(t){var e=s.generateUnknownOptionValue(t);s.unknownOption.val(e),i.prepend(s.unknownOption),vo(s.unknownOption,!0),i.val(e)},s.updateUnknownOption=function(t){var e=s.generateUnknownOptionValue(t);s.unknownOption.val(e),vo(s.unknownOption,!0),i.val(e)},s.generateUnknownOptionValue=function(t){return"? "+He(t)+" ?"},s.removeUnknownOption=function(){s.unknownOption.parent()&&s.unknownOption.remove()},s.selectEmptyOption=function(){s.emptyOption&&(i.val(""),vo(s.emptyOption,!0))},s.unselectEmptyOption=function(){s.hasEmptyOption&&vo(s.emptyOption,!1)},e.$on("$destroy",function(){s.renderUnknownOption=vt}),s.readValue=function(){var t=i.val(),e=t in s.selectValueMap?s.selectValueMap[t]:t;return s.hasOption(e)?e:null},s.writeValue=function(t){var e=i[0].options[i[0].selectedIndex];if(e&&vo(ht(e),!1),s.hasOption(t)){s.removeUnknownOption();var n=He(t);i.val(n in s.selectValueMap?n:t);var r=i[0].options[i[0].selectedIndex];vo(ht(r),!0)}else s.selectUnknownOrEmptyOption(t)},s.addOption=function(t,e){if(e[0].nodeType!==Wt){Pt(t,'"option value"'),""===t&&(s.hasEmptyOption=!0,s.emptyOption=e);var n=r.get(t)||0;r.set(t,n+1),l()}},s.removeOption=function(t){var e=r.get(t);e&&(1===e?(r.delete(t),""===t&&(s.hasEmptyOption=!1,s.emptyOption=void 0)):r.set(t,e-1))},s.hasOption=function(t){return!!r.get(t)},s.$hasEmptyOption=function(){return s.hasEmptyOption},s.$isUnknownOptionSelected=function(){return i[0].options[0]===s.unknownOption[0]},s.$isEmptyOptionSelected=function(){return s.hasEmptyOption&&i[0].options[i[0].selectedIndex]===s.emptyOption[0]};var t=!(s.selectUnknownOrEmptyOption=function(t){null==t&&s.emptyOption?(s.removeUnknownOption(),s.selectEmptyOption()):s.unknownOption.parent().length?s.updateUnknownOption(t):s.renderUnknownOption(t)});function l(){t||(t=!0,e.$$postDigest(function(){t=!1,s.ngModelCtrl.$render()}))}var n=!1;function u(t){n||(n=!0,e.$$postDigest(function(){e.$$destroyed||(n=!1,s.ngModelCtrl.$setViewValue(s.readValue()),t&&s.ngModelCtrl.$render())}))}s.registerOption=function(t,r,i,e,n){if(i.$attr.ngValue){var a,o=NaN;i.$observe("value",function(t){var e,n=r.prop("selected");bt(o)&&(s.removeOption(a),delete s.selectValueMap[o],e=!0),o=He(t),a=t,s.selectValueMap[o]=t,s.addOption(t,r),r.attr("value",o),e&&n&&u()})}else e?i.$observe("value",function(t){var e;s.readValue();var n=r.prop("selected");bt(a)&&(s.removeOption(a),e=!0),a=t,s.addOption(t,r),e&&n&&u()}):n?t.$watch(n,function(t,e){i.$set("value",t);var n=r.prop("selected");e!==t&&s.removeOption(e),s.addOption(t,r),e&&n&&u()}):s.addOption(i.value,r);i.$observe("disabled",function(t){("true"===t||t&&r.prop("selected"))&&(s.multiple?u(!0):(s.ngModelCtrl.$setViewValue(null),s.ngModelCtrl.$render()))}),r.on("$destroy",function(){var t=s.readValue(),e=i.value;s.removeOption(e),l(),(s.multiple&&t&&-1!==t.indexOf(e)||t===e)&&u(!0)})}}],_o=function(){return{restrict:"E",require:["select","?ngModel"],controller:yo,priority:1,link:{pre:function(t,e,n,r){var i=r[0],a=r[1];if(!a)return void(i.registerOption=vt);if(i.ngModelCtrl=a,e.on("change",function(){i.removeUnknownOption(),t.$apply(function(){a.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var n=[];return pt(e.find("option"),function(t){if(t.selected&&!t.disabled){var e=t.value;n.push(e in i.selectValueMap?i.selectValueMap[e]:e)}}),n},i.writeValue=function(r){pt(e.find("option"),function(t){var e=!!r&&(R(r,t.value)||R(r,i.selectValueMap[t.value])),n=t.selected;e!==n&&vo(ht(t),e)})};var o,s=NaN;t.$watch(function(){s!==a.$viewValue||Yt(o,a.$viewValue)||(o=Vt(a.$viewValue),a.$render()),s=a.$viewValue}),a.$isEmpty=function(t){return!t||0===t.length}}},post:function(t,e,n,r){var i=r[1];if(!i)return;var a=r[0];i.$render=function(){a.writeValue(i.$viewValue)}}}}},bo=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(t,e){var o,s;return bt(e.ngValue)||(bt(e.value)?o=n(e.value,!0):(s=n(t.text(),!0))||e.$set("value",t.text())),function(t,e,n){var r="$selectController",i=e.parent(),a=i.data(r)||i.parent().data(r);a&&a.registerOption(t,e,n,o,s)}}}}],wo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},Mo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i,a=n.ngPattern||n.pattern;n.$observe("pattern",function(t){if(Mt(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw T("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,Ot(e));i=t||void 0,r.$validate()}),r.$validators.pattern=function(t,e){return r.$isEmpty(e)||_t(i)||i.test(e)}}}}},$o=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=b(t);i=C(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return i<0||r.$isEmpty(e)||e.length<=i}}}}},xo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=b(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};z.angular.bootstrap?z.console&&console.log("WARNING: Tried to load angular more than once."):(!function(){var i;if(!st){var t=j();(o=_t(t)?z.jQuery:t?z[t]:void 0)&&o.fn.on?(mt((ht=o).fn,{scope:Ce.scope,isolateScope:Ce.isolateScope,controller:Ce.controller,injector:Ce.injector,inheritedData:Ce.inheritedData}),i=o.cleanData,o.cleanData=function(t){for(var e,n,r=0;null!=(n=t[r]);r++)(e=o._data(n,"events"))&&e.$destroy&&o(n).triggerHandler("$destroy");i(t)}):ht=fe,_.element=ht,st=!0}}(),mt(_,{errorHandlingConfig:t,bootstrap:rt,copy:H,extend:mt,merge:i,equals:Yt,element:ht,forEach:pt,injector:Je,noop:vt,bind:Nt,toJson:W,fromJson:U,identity:yt,isUndefined:_t,isDefined:bt,isString:Mt,isFunction:kt,isObject:wt,isNumber:$,isElement:O,isArray:$t,version:Kt,isDate:x,lowercase:ct,uppercase:c,callbacks:{$$counter:0},getTestability:at,reloadWithDebugInfo:it,$$minErr:T,$$csp:P,$$encodeUriSegment:Z,$$encodeUriQuery:Q,$$stringify:It}),(g=function(t){var d=T("$injector"),h=T("ng");function e(t,e,n){return t[e]||(t[e]=n())}var n=e(t,"angular",Object);return n.$$minErr=n.$$minErr||T,e(n,"module",function(){var t={};return function(s,l,u){var c={};return function(t,e){if("hasOwnProperty"===t)throw h("badname","hasOwnProperty is not a valid {0} name",e)}(s,"module"),l&&t.hasOwnProperty(s)&&(t[s]=null),e(t,s,function(){if(!l)throw d("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",s);var a=[],t=[],e=[],n=r("$injector","invoke","push",t),o={_invokeQueue:a,_configBlocks:t,_runBlocks:e,info:function(t){if(bt(t)){if(!wt(t))throw h("aobj","Argument '{0}' must be an object","value");return c=t,this}return c},requires:l,name:s,provider:i("$provide","provider"),factory:i("$provide","factory"),service:i("$provide","service"),value:r("$provide","value"),constant:r("$provide","constant","unshift"),decorator:i("$provide","decorator",t),animation:i("$animateProvider","register"),filter:i("$filterProvider","register"),controller:i("$controllerProvider","register"),directive:i("$compileProvider","directive"),component:i("$compileProvider","component"),config:n,run:function(t){return e.push(t),this}};return u&&n(u),o;function r(t,e,n,r){return r||(r=a),function(){return r[n||"push"]([t,e,arguments]),o}}function i(n,r,i){return i||(i=a),function(t,e){return e&&kt(e)&&(e.$$moduleName=s),i.push([n,r,arguments]),o}}})}})}(z))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Wr}),t.provider("$compile",gn).directive({a:Hi,input:ya,textarea:ya,form:Wi,script:mo,select:_o,option:bo,ngBind:wa,ngBindHtml:$a,ngBindTemplate:Ma,ngClass:Sa,ngClassEven:La,ngClassOdd:Ta,ngCloak:Ca,ngController:Da,ngForm:Ui,ngHide:so,ngIf:Aa,ngInclude:Na,ngInit:Ra,ngNonBindable:Qa,ngPluralize:ro,ngRepeat:io,ngShow:oo,ngStyle:lo,ngSwitch:uo,ngSwitchWhen:co,ngSwitchDefault:ho,ngOptions:no,ngTransclude:po,ngModel:Ga,ngList:Ha,ngChange:xa,pattern:Mo,ngPattern:Mo,required:wo,ngRequired:wo,minlength:xo,ngMinlength:xo,maxlength:$o,ngMaxlength:$o,ngValue:ba,ngModelOptions:Xa}).directive({ngInclude:Oa}).directive(Pi).directive(Ea),t.provider({$anchorScroll:Xe,$animate:on,$animateCss:un,$$animateJs:rn,$$animateQueue:an,$$AnimateRunner:ln,$$animateAsyncRun:sn,$browser:dn,$cacheFactory:hn,$controller:kn,$document:Sn,$$isDocumentHidden:Tn,$exceptionHandler:Ln,$filter:ci,$$forceReflow:Cn,$interpolate:Gn,$interval:Kn,$http:Wn,$httpParamSerializer:Hn,$httpParamSerializerJQLike:Pn,$httpBackend:qn,$xhrFactory:Un,$jsonpCallbacks:Jn,$location:pr,$log:mr,$parse:Or,$rootScope:Br,$q:Rr,$$q:Hr,$sce:Xr,$sceDelegate:Jr,$sniffer:Zr,$templateCache:fn,$templateRequest:ti,$$testability:ei,$timeout:ni,$window:si,$$rAF:zr,$$jqLite:Re,$$Map:Ie,$$cookieReader:ui})}]).info({angularVersion:"1.6.6"}),_.module("ngLocale",[],["$provide",function(t){var i="one",a="other";t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var n=0|t,r=function(t,e){var n,r,i=e;void 0===i&&(i=Math.min((n=t,-1==(r=(n+="").indexOf("."))?0:n.length-r-1),3));var a=Math.pow(10,i);return{v:i,f:(t*a|0)%a}}(t,e);return 1==n&&0==r.v?i:a}})}]),ht(function(){nt(z.document,rt)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(a,H,v){"use strict";function t(i,e,a,d,h,n){function f(t,e){return angular.element((e||H).querySelectorAll(t))}this.compile=function(o){o.template&&/\.html$/.test(o.template)&&(console.warn("Deprecated use of `template` option to pass a file. Please use the `templateUrl` option instead."),o.templateUrl=o.template,o.template="");var t=o.templateUrl,e=o.template||"",s=o.controller,l=o.controllerAs,n=o.resolve||{},r=o.locals||{},u=o.transformTemplate||angular.identity,c=o.bindToController;if(angular.forEach(n,function(t,e){angular.isString(t)?n[e]=a.get(t):n[e]=a.invoke(t)}),angular.extend(n,r),e)n.$template=i.when(e);else{if(!t)throw new Error("Missing `template` / `templateUrl` option.");n.$template=p(t)}return o.titleTemplate&&(n.$template=i.all([n.$template,p(o.titleTemplate)]).then(function(t){var e=angular.element(t[0]);return f('[ng-bind="title"]',e[0]).removeAttr("ng-bind").html(t[1]),e[0].outerHTML})),o.contentTemplate&&(n.$template=i.all([n.$template,p(o.contentTemplate)]).then(function(t){var e=angular.element(t[0]),n=f('[ng-bind="content"]',e[0]).removeAttr("ng-bind").html(t[1]);return o.templateUrl||n.next().remove(),e[0].outerHTML})),i.all(n).then(function(r){var t=u(r.$template);o.html&&(t=t.replace(/ng-bind="/gi,'ng-bind-html="'));var i=angular.element("<div>").html(t.trim()).contents(),a=d(i);return{locals:r,element:i,link:function(t){if(r.$scope=t,s){var e=h(s,r,!0);c&&angular.extend(e.instance,r);var n=angular.isObject(e)?e:e();i.data("$ngControllerController",n),i.children().data("$ngControllerController",n),l&&(t[l]=n)}return a.apply(null,arguments)}}})};var r={};function p(t){return r[t]?r[t]:r[t]=e.get(t,{cache:n}).then(function(t){return t.data})}}t.$inject=["$q","$http","$injector","$compile","$controller","$templateCache"],angular.module("mgcrea.ngStrap.typeahead",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var h=this.defaults={animation:"am-fade",prefixClass:"typeahead",prefixEvent:"$typeahead",placement:"bottom-left",templateUrl:"typeahead/typeahead.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,filter:"bsAsyncFilter",limit:6,autoSelect:!1,comparator:"",trimValue:!0};this.$get=["$window","$rootScope","$tooltip","$$rAF","$timeout",function(t,e,u,c,d){function n(t,n,e){var r={},i=angular.extend({},h,e);r=u(t,i);var a=e.scope,o=r.$scope;o.$resetMatches=function(){o.$matches=[],o.$activeIndex=i.autoSelect?0:-1},o.$resetMatches(),o.$activate=function(t){o.$$postDigest(function(){r.activate(t)})},o.$select=function(t,e){o.$$postDigest(function(){r.select(t)})},o.$isVisible=function(){return r.$isVisible()},r.update=function(t){var e;o.$matches=t,o.$activeIndex>=t.length&&(o.$activeIndex=i.autoSelect?0:-1),(e=o).$$phase||e.$root&&e.$root.$$phase||e.$digest(),c(r.$applyPlacement)},r.activate=function(t){o.$activeIndex=t},r.select=function(t){if(-1!==t){var e=o.$matches[t].value;n.$setViewValue(e),n.$render(),o.$resetMatches(),a&&a.$digest(),o.$emit(i.prefixEvent+".select",e,t,r),angular.isDefined(i.onSelect)&&angular.isFunction(i.onSelect)&&i.onSelect(e,t,r)}},r.$isVisible=function(){return i.minLength&&n?o.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=i.minLength:!!o.$matches.length},r.$getIndex=function(t){var e;for(e=o.$matches.length;e--&&!angular.equals(o.$matches[e].value,t););return e},r.$onMouseDown=function(t){t.preventDefault(),t.stopPropagation()},r.$$updateScrollTop=function(t,e){if(-1<e&&e<t.children.length){var n=t.children[e],r=n.offsetTop,i=n.offsetTop+n.clientHeight,a=t.scrollTop,o=t.scrollTop+t.clientHeight;a<=i&&r<a?t.scrollTop=Math.max(0,t.scrollTop-t.clientHeight):o<i&&(t.scrollTop=r)}},r.$onKeyDown=function(t){/(38|40|13)/.test(t.keyCode)&&(!r.$isVisible()||13===t.keyCode&&-1===o.$activeIndex||(t.preventDefault(),t.stopPropagation()),13===t.keyCode&&o.$matches.length?r.select(o.$activeIndex):38===t.keyCode&&0<o.$activeIndex?o.$activeIndex--:40===t.keyCode&&o.$activeIndex<o.$matches.length-1?o.$activeIndex++:angular.isUndefined(o.$activeIndex)&&(o.$activeIndex=0),r.$$updateScrollTop(r.$element[0],o.$activeIndex),o.$digest())};var s=r.show;r.show=function(){s(),d(function(){r.$element&&(r.$element.on("mousedown",r.$onMouseDown),i.keyboard&&t&&t.on("keydown",r.$onKeyDown))},0,!1)};var l=r.hide;return r.hide=function(){r.$element&&r.$element.off("mousedown",r.$onMouseDown),i.keyboard&&t&&t.off("keydown",r.$onKeyDown),i.autoSelect||r.activate(-1),l()},r}return n.defaults=h,n}]}).filter("bsAsyncFilter",["$filter",function(r){return function(t,e,n){return t&&angular.isFunction(t.then)?t.then(function(t){return r("filter")(t,e,n)}):r("filter")(t,e,n)}}]).directive("bsTypeahead",["$window","$parse","$q","$typeahead","$parseOptions",function(t,e,n,f,p){var m=f.defaults;return{restrict:"EAC",require:"ngModel",link:function(n,a,r,o){a.off("change");var s={scope:n};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","filter","limit","minLength","watchOptions","selectMode","autoSelect","comparator","id","prefixEvent","prefixClass"],function(t){angular.isDefined(r[t])&&(s[t]=r[t])});var e=/^(false|0|)$/i;angular.forEach(["html","container","trimValue","filter"],function(t){angular.isDefined(r[t])&&e.test(r[t])&&(s[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide","onSelect"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(r[e])&&(s[t]=n.$eval(r[e]))}),a.attr("autocomplete")||a.attr("autocomplete","off");var t=angular.isDefined(s.filter)?s.filter:m.filter,i=s.limit||m.limit,l=s.comparator||m.comparator,u=r.bsOptions;t&&(u+=" | "+t+":$viewValue",l&&(u+=":"+l)),i&&(u+=" | limitTo:"+i);var c=p(u),d=f(a,o,s);if(s.watchOptions){var h=c.$match[7].replace(/\|.+/,"").replace(/\(.*\)/g,"").trim();n.$watchCollection(h,function(t,e){c.valuesFn(n,o).then(function(t){d.update(t),o.$render()})})}n.$watch(r.ngModel,function(e,t){n.$modelValue=e,c.valuesFn(n,o).then(function(t){s.selectMode&&!t.length&&0<e.length?o.$setViewValue(o.$viewValue.substring(0,o.$viewValue.length-1)):(t.length>i&&(t=t.slice(0,i)),d.update(t),o.$render())})}),o.$formatters.push(function(t){var e=c.displayValue(t);return e||(angular.isDefined(t)&&"object"!=typeof t?t:"")}),o.$render=function(){if(o.$isEmpty(o.$viewValue))return a.val("");var t=d.$getIndex(o.$modelValue),e=-1!==t?d.$scope.$matches[t].label:o.$viewValue,n=(e=angular.isObject(e)?c.displayValue(e):e)?e.toString().replace(/<(?:.|\n)*?>/gm,""):"",r=a[0].selectionStart,i=a[0].selectionEnd;a.val(!1===s.trimValue?n:n.trim()),a[0].setSelectionRange(r,i)},n.$on("$destroy",function(){d&&d.destroy(),d=s=null})}}}]),angular.module("mgcrea.ngStrap.tooltip",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$tooltip",function(){var R=this.defaults={animation:"am-fade",customClass:"",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,target:!1,placement:"top",templateUrl:"tooltip/tooltip.tpl.html",template:"",titleTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0,autoClose:!1,bsEnabled:!0,mouseDownPreventDefault:!0,mouseDownStopPropagation:!0,viewport:{selector:"body",padding:0}};this.$get=["$window","$rootScope","$bsCompiler","$q","$templateCache","$http","$animate","$sce","dimensions","$$rAF","$timeout",function(x,k,S,t,e,n,T,L,C,D,E){var r=/(ip[ao]d|iphone|android)/gi.test(x.navigator.userAgent),Y="createTouch"in x.document&&r,A=angular.element(x.document);function N(t){t.$$phase||t.$root&&t.$root.$$phase||t.$digest()}function O(t,e){return angular.element((e||H).querySelectorAll(t))}return function(u,t){var e,n,r,g,i,a,o,s,v={},y=v.$options=angular.extend({},R,t),l=v.$promise=S.compile(y),c=v.$scope=y.scope&&y.scope.$new()||k.$new(),d=u[0].nodeName.toLowerCase();if(y.delay&&angular.isString(y.delay)){var h=y.delay.split(",").map(parseFloat);y.delay=1<h.length?{show:h[0],hide:h[1]}:h[0]}function f(){c.$emit(y.prefixEvent+".show",v),angular.isDefined(y.onShow)&&angular.isFunction(y.onShow)&&y.onShow(v)}function p(){if(c.$emit(y.prefixEvent+".hide",v),angular.isDefined(y.onHide)&&angular.isFunction(y.onHide)&&y.onHide(v),g===s){if(o&&"focus"===y.trigger)return u[0].blur();$()}}function m(){"focus"!==y.trigger?g.off("keyup",v.$onKeyUp):u.off("keyup",v.$onFocusKeyUp)}v.$id=y.id||u.attr("id")||"",y.title&&(c.title=L.trustAsHtml(y.title)),c.$setEnabled=function(t){c.$$postDigest(function(){v.setEnabled(t)})},c.$hide=function(){c.$$postDigest(function(){v.hide()})},c.$show=function(){c.$$postDigest(function(){v.show()})},c.$toggle=function(){c.$$postDigest(function(){v.toggle()})},v.$isShown=c.$isShown=!1,l.then(function(t){r=t,v.init()}),v.init=function(){var t;y.delay&&angular.isNumber(y.delay)&&(y.delay={show:y.delay,hide:y.delay}),"self"===y.container?i=u:angular.isElement(y.container)?i=y.container:y.container&&(i=O(y.container)),t=y.trigger.split(" "),angular.forEach(t,function(t){"click"===t||"contextmenu"===t?u.on(t,v.toggle):"manual"!==t&&(u.on("hover"===t?"mouseenter":"focus",v.enter),u.on("hover"===t?"mouseleave":"blur",v.leave),"button"===d&&"hover"!==t&&u.on(Y?"touchstart":"mousedown",v.$onFocusElementMouseDown))}),y.target&&(y.target=angular.isElement(y.target)?y.target:O(y.target)),y.show&&c.$$postDigest(function(){"focus"===y.trigger?u[0].focus():v.show()})},v.destroy=function(){!function(){for(var t=y.trigger.split(" "),e=t.length;e--;){var n=t[e];"click"===n||"contextmenu"===n?u.off(n,v.toggle):"manual"!==n&&(u.off("hover"===n?"mouseenter":"focus",v.enter),u.off("hover"===n?"mouseleave":"blur",v.leave),"button"===d&&"hover"!==n&&u.off(Y?"touchstart":"mousedown",v.$onFocusElementMouseDown))}}(),$(),c.$destroy()},v.enter=function(){if(clearTimeout(e),n="in",!y.delay||!y.delay.show)return v.show();e=setTimeout(function(){"in"===n&&v.show()},y.delay.show)},v.show=function(){var t,e;y.bsEnabled&&!v.$isShown&&(c.$emit(y.prefixEvent+".show.before",v),angular.isDefined(y.onBeforeShow)&&angular.isFunction(y.onBeforeShow)&&y.onBeforeShow(v),y.container?e=(t=i)[0].lastChild?angular.element(i[0].lastChild):null:(t=null,e=u),g&&$(),a=v.$scope.$new(),(g=v.$element=r.link(a,function(t,e){})).css({top:"-9999px",left:"-9999px",right:"auto",display:"block",visibility:"hidden"}),y.animation&&g.addClass(y.animation),y.type&&g.addClass(y.prefixClass+"-"+y.type),y.customClass&&g.addClass(y.customClass),e?e.after(g):t.prepend(g),v.$isShown=c.$isShown=!0,N(c),v.$applyPlacement(),angular.version.minor<=2?T.enter(g,t,e,f):T.enter(g,t,e).then(f),N(c),D(function(){g&&g.css({visibility:"visible"}),y.keyboard&&("focus"!==y.trigger&&v.focus(),"focus"!==y.trigger?g.on("keyup",v.$onKeyUp):u.on("keyup",v.$onFocusKeyUp))}),y.autoClose&&E(function(){g.on("click",w),A.on("click",v.hide),_=!0},0,!1))},v.leave=function(){if(clearTimeout(e),n="out",!y.delay||!y.delay.hide)return v.hide();e=setTimeout(function(){"out"===n&&v.hide()},y.delay.hide)},v.hide=function(t){v.$isShown&&(c.$emit(y.prefixEvent+".hide.before",v),angular.isDefined(y.onBeforeHide)&&angular.isFunction(y.onBeforeHide)&&y.onBeforeHide(v),o=t,null!==(s=g)&&(angular.version.minor<=2?T.leave(g,p):T.leave(g).then(p)),v.$isShown=c.$isShown=!1,N(c),y.keyboard&&null!==g&&m(),y.autoClose&&null!==g&&b())},v.toggle=function(t){t&&t.preventDefault(),v.$isShown?v.leave():v.enter()},v.focus=function(){g[0].focus()},v.setEnabled=function(t){y.bsEnabled=t},v.setViewport=function(t){y.viewport=t},v.$applyPlacement=function(){if(g){var t=y.placement,e=/\s?auto?\s?/i,n=e.test(t);n&&(t=t.replace(e,"")||R.placement),g.addClass(y.placement);var r=M(),i=g.prop("offsetWidth"),a=g.prop("offsetHeight");if(v.$viewport=y.viewport&&O(y.viewport.selector||y.viewport),n){var o=t,s=M(v.$viewport);/bottom/.test(o)&&r.bottom+a>s.bottom?t=o.replace("bottom","top"):/top/.test(o)&&r.top-a<s.top&&(t=o.replace("top","bottom")),/left/.test(o)&&r.left-i<s.left?t=t.replace("left","right"):/right/.test(o)&&r.right+i>s.width&&(t=t.replace("right","left")),g.removeClass(o).addClass(t)}!function(t,e){var n=g[0],r=n.offsetWidth,i=n.offsetHeight,a=parseInt(C.css(n,"margin-top"),10),o=parseInt(C.css(n,"margin-left"),10);isNaN(a)&&(a=0),isNaN(o)&&(o=0),t.top=t.top+a,t.left=t.left+o,C.setOffset(n,angular.extend({using:function(t){g.css({top:Math.round(t.top)+"px",left:Math.round(t.left)+"px",right:""})}},t),0);var s=n.offsetWidth,l=n.offsetHeight;if("top"===e&&l!==i&&(t.top=t.top+i-l),!/top-left|top-right|bottom-left|bottom-right/.test(e)){var u,c,d,h=function(t,e,n,r){var i={top:0,left:0};if(!v.$viewport)return i;var a=y.viewport&&y.viewport.padding||0,o=M(v.$viewport);if(/right|left/.test(t)){var s=e.top-a-o.scroll,l=e.top+a-o.scroll+r;s<o.top?i.top=o.top-s:l>o.top+o.height&&(i.top=o.top+o.height-l)}else{var u=e.left-a,c=e.left+a+n;u<o.left?i.left=o.left-u:c>o.right&&(i.left=o.left+o.width-c)}return i}(e,t,s,l);if(h.left?t.left+=h.left:t.top+=h.top,C.setOffset(n,t),/top|right|bottom|left/.test(e)){var f=/top|bottom/.test(e),p=f?2*h.left-r+s:2*h.top-i+l,m=f?"offsetWidth":"offsetHeight";u=p,c=n[m],d=f,O(".tooltip-arrow, .arrow",g[0]).css(d?"left":"top",50*(1-u/c)+"%").css(d?"top":"left","")}}}(function(t,e,n,r){var i,a=t.split("-");switch(a[0]){case"right":i={top:e.top+e.height/2-r/2,left:e.left+e.width};break;case"bottom":i={top:e.top+e.height,left:e.left+e.width/2-n/2};break;case"left":i={top:e.top+e.height/2-r/2,left:e.left-n};break;default:i={top:e.top-r,left:e.left+e.width/2-n/2}}if(!a[1])return i;if("top"===a[0]||"bottom"===a[0])switch(a[1]){case"left":i.left=e.left;break;case"right":i.left=e.left+e.width-n}else if("left"===a[0]||"right"===a[0])switch(a[1]){case"top":i.top=e.top-r+e.height;break;case"bottom":i.top=e.top}return i}(t,r,i,a),t)}},v.$onKeyUp=function(t){27===t.which&&v.$isShown&&(v.hide(),t.stopPropagation())},v.$onFocusKeyUp=function(t){27===t.which&&(u[0].blur(),t.stopPropagation())};var _=(v.$onFocusElementMouseDown=function(t){y.mouseDownPreventDefault&&t.preventDefault(),y.mouseDownStopPropagation&&t.stopPropagation(),v.$isShown?u[0].blur():u[0].focus()},!1);function b(){_&&(g.off("click",w),A.off("click",v.hide),_=!1)}function w(t){t.stopPropagation()}function M(t){var e=(t=t||y.target||u)[0],n="BODY"===e.tagName,r=e.getBoundingClientRect(),i={};for(var a in r)i[a]=r[a];null===i.width&&(i=angular.extend({},i,{width:r.right-r.left,height:r.bottom-r.top}));var o=n?{top:0,left:0}:C.offset(e),s={scroll:n?H.documentElement.scrollTop||H.body.scrollTop:t.prop("scrollTop")||0},l=n?{width:H.documentElement.clientWidth,height:x.innerHeight}:null;return angular.extend({},i,s,l,o)}function $(){clearTimeout(e),v.$isShown&&null!==g&&(y.autoClose&&b(),y.keyboard&&m()),a&&(a.$destroy(),a=null),g&&(g.remove(),g=v.$element=null)}return v}}]}).directive("bsTooltip",["$window","$location","$sce","$parse","$tooltip","$$rAF",function(t,e,l,n,u,c){return{restrict:"EAC",scope:!0,link:function(n,t,r,e){var i,a={scope:n};angular.forEach(["template","templateUrl","controller","controllerAs","titleTemplate","placement","container","delay","trigger","html","animation","backdropAnimation","type","customClass","id"],function(t){angular.isDefined(r[t])&&(a[t]=r[t])});var o=/^(false|0|)$/i;angular.forEach(["html","container"],function(t){angular.isDefined(r[t])&&o.test(r[t])&&(a[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(r[e])&&(a[t]=n.$eval(r[e]))});var s=t.attr("data-target");angular.isDefined(s)&&(o.test(s)?a.target=!1:a.target=s),n.hasOwnProperty("title")||(n.title=""),r.$observe("title",function(t){if(angular.isDefined(t)||!n.hasOwnProperty("title")){var e=n.title;n.title=l.trustAsHtml(t),angular.isDefined(e)&&c(function(){i&&i.$applyPlacement()})}}),r.$observe("disabled",function(t){t&&i.$isShown&&i.hide()}),r.bsTooltip&&n.$watch(r.bsTooltip,function(t,e){angular.isObject(t)?angular.extend(n,t):n.title=t,angular.isDefined(e)&&c(function(){i&&i.$applyPlacement()})},!0),r.bsShow&&n.$watch(r.bsShow,function(t,e){i&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(tooltip),?/i)),!0===t?i.show():i.hide())}),r.bsEnabled&&n.$watch(r.bsEnabled,function(t,e){i&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|1|,?(tooltip),?/i)),!1===t?i.setEnabled(!1):i.setEnabled(!0))}),r.viewport&&n.$watch(r.viewport,function(t){i&&angular.isDefined(t)&&i.setViewport(t)}),i=u(t,a),n.$on("$destroy",function(){i&&i.destroy(),i=a=null})}}}]),angular.module("mgcrea.ngStrap.timepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$timepicker",function(){var Y=this.defaults={animation:"am-fade",defaultDate:"auto",prefixClass:"timepicker",placement:"bottom-left",templateUrl:"timepicker/timepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!0,timeType:"date",timeFormat:"shortTime",timezone:null,modelTimeFormat:null,autoclose:!1,minTime:-1/0,maxTime:1/0,length:5,hourStep:1,minuteStep:5,secondStep:5,roundDisplay:!1,iconUp:"glyphicon glyphicon-chevron-up",iconDown:"glyphicon glyphicon-chevron-down",arrowBehavior:"pager"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","$tooltip","$timeout",function(t,e,n,r,T,L,C){var D=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent),E="createTouch"in t.document&&D;function i(p,r,t){var m=L(p,angular.extend({},Y,t)),g=t.scope,v=m.$options,u=m.$scope,i=v.lang,y=function(t,e,n){return T.formatDate(t,e,i,n)};var e,n,_=0,a=v.roundDisplay?(e=new Date,n=6e4*v.minuteStep,new Date(Math.floor(e.getTime()/n)*n)):new Date,o=r.$dateValue||a,c={hour:o.getHours(),meridian:o.getHours()<12,minute:o.getMinutes(),second:o.getSeconds(),millisecond:o.getMilliseconds()},s=T.getDatetimeFormat(v.timeFormat,i),b=T.hoursFormat(s),d=T.timeSeparator(s),w=T.minutesFormat(s),M=T.secondsFormat(s),$=T.showSeconds(s),x=T.showAM(s);function l(){p[0].focus()}u.$iconUp=v.iconUp,u.$iconDown=v.iconDown,u.$select=function(t,e){m.select(t,e)},u.$moveIndex=function(t,e){m.$moveIndex(t,e)},u.$switchMeridian=function(t){m.switchMeridian(t)},m.update=function(t){angular.isDate(t)&&!isNaN(t.getTime())?(m.$date=t,angular.extend(c,{hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()}),m.$build()):m.$isBuilt||m.$build()},m.select=function(t,e,n){r.$dateValue&&!isNaN(r.$dateValue.getTime())||(r.$dateValue="today"===v.defaultDate?new Date:new Date(1970,0,1)),angular.isDate(t)||(t=new Date(t)),0===e?r.$dateValue.setHours(t.getHours()):1===e?r.$dateValue.setMinutes(t.getMinutes()):2===e&&r.$dateValue.setSeconds(t.getSeconds()),r.$setViewValue(angular.copy(r.$dateValue)),r.$render(),v.autoclose&&!n&&C(function(){m.hide(!0)})},m.switchMeridian=function(t){if(r.$dateValue&&!isNaN(r.$dateValue.getTime())){var e=(t||r.$dateValue).getHours();r.$dateValue.setHours(e<12?e+12:e-12),r.$setViewValue(angular.copy(r.$dateValue)),r.$render()}},m.$build=function(){var t,e,n=u.midIndex=parseInt(v.length/2,10),r=[];for(t=0;t<v.length;t++)e=new Date(1970,0,1,c.hour-(n-t)*v.hourStep),r.push({date:e,label:y(e,b),selected:m.$date&&m.$isSelected(e,0),disabled:m.$isDisabled(e,0)});var i,a=[];for(t=0;t<v.length;t++)i=new Date(1970,0,1,0,c.minute-(n-t)*v.minuteStep),a.push({date:i,label:y(i,w),selected:m.$date&&m.$isSelected(i,1),disabled:m.$isDisabled(i,1)});var o,s=[];for(t=0;t<v.length;t++)o=new Date(1970,0,1,0,0,c.second-(n-t)*v.secondStep),s.push({date:o,label:y(o,M),selected:m.$date&&m.$isSelected(o,2),disabled:m.$isDisabled(o,2)});var l=[];for(t=0;t<v.length;t++)$?l.push([r[t],a[t],s[t]]):l.push([r[t],a[t]]);u.rows=l,u.showSeconds=$,u.showAM=x,u.isAM=(m.$date||r[n].date).getHours()<12,u.timeSeparator=d,m.$isBuilt=!0},m.$isSelected=function(t,e){return!!m.$date&&(0===e?t.getHours()===m.$date.getHours():1===e?t.getMinutes()===m.$date.getMinutes():2===e?t.getSeconds()===m.$date.getSeconds():void 0)},m.$isDisabled=function(t,e){var n;return 0===e?n=t.getTime()+6e4*c.minute+1e3*c.second:1===e?n=t.getTime()+36e5*c.hour+1e3*c.second:2===e&&(n=t.getTime()+36e5*c.hour+6e4*c.minute),n<1*v.minTime||n>1*v.maxTime},u.$arrowAction=function(t,e){"picker"===v.arrowBehavior?m.$setTimeByStep(t,e):m.$moveIndex(t,e)},m.$setTimeByStep=function(t,e){var n=new Date(m.$date||o),r=n.getHours(),i=n.getMinutes(),a=n.getSeconds();0===e?n.setHours(r-parseInt(v.hourStep,10)*t):1===e?n.setMinutes(i-parseInt(v.minuteStep,10)*t):2===e&&n.setSeconds(a-parseInt(v.secondStep,10)*t),m.select(n,e,!0)},m.$moveIndex=function(t,e){var n;0===e?(n=new Date(1970,0,1,c.hour+t*v.length,c.minute,c.second),angular.extend(c,{hour:n.getHours()})):1===e?(n=new Date(1970,0,1,c.hour,c.minute+t*v.length*v.minuteStep,c.second),angular.extend(c,{minute:n.getMinutes()})):2===e&&(n=new Date(1970,0,1,c.hour,c.minute,c.second+t*v.length*v.secondStep),angular.extend(c,{second:n.getSeconds()})),m.$build()},m.$onMouseDown=function(t){if("input"!==t.target.nodeName.toLowerCase()&&t.preventDefault(),t.stopPropagation(),E){var e=angular.element(t.target);"button"!==e[0].nodeName.toLowerCase()&&(e=e.parent()),e.triggerHandler("click")}},m.$onKeyDown=function(t){if(/(38|37|39|40|13)/.test(t.keyCode)&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),t.stopPropagation(),13!==t.keyCode){var e=new Date(m.$date),n=e.getHours(),r=y(e,b).length,i=e.getMinutes(),a=y(e,w).length,o=e.getSeconds(),s=y(e,M).length,l=/(37|39)/.test(t.keyCode),u=2+1*$+1*x;l&&(37===t.keyCode?_=_<1?u-1:_-1:39===t.keyCode&&(_=_<u-1?_+1:0));var c=[0,r],d=0;38===t.keyCode&&(d=-1),40===t.keyCode&&(d=1);var h=2===_&&$,f=2===_&&!$||3===_&&$;0===_?(e.setHours(n+d*parseInt(v.hourStep,10)),c=[0,r=y(e,b).length]):1===_?(e.setMinutes(i+d*parseInt(v.minuteStep,10)),c=[r+1,a=y(e,w).length]):h?(e.setSeconds(o+d*parseInt(v.secondStep,10)),c=[r+1+a+1,s=y(e,M).length]):f&&(l||m.switchMeridian(),c=[r+1+a+1+(s+1)*$,2]),m.select(e,_,!0),function(t,e){var n=t+e;if(p[0].createTextRange){var r=p[0].createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n),r.select()}else p[0].setSelectionRange?p[0].setSelectionRange(t,n):angular.isUndefined(p[0].selectionStart)&&(p[0].selectionStart=t,p[0].selectionEnd=n)}(c[0],c[1]),g.$digest()}else m.hide(!0)};var h=m.init;m.init=function(){if(D&&v.useNative)return p.prop("type","time"),void p.css("-webkit-appearance","textfield");E&&(p.prop("type","text"),p.attr("readonly","true"),p.on("click",l)),h()};var f=m.destroy;m.destroy=function(){D&&v.useNative&&p.off("click",l),f()};var k=m.show;m.show=function(){!E&&p.attr("readonly")||p.attr("disabled")||(k(),C(function(){m.$element&&m.$element.on(E?"touchstart":"mousedown",m.$onMouseDown),v.keyboard&&p&&p.on("keydown",m.$onKeyDown)},0,!1))};var S=m.hide;return m.hide=function(t){m.$isShown&&(m.$element&&m.$element.off(E?"touchstart":"mousedown",m.$onMouseDown),v.keyboard&&p&&p.off("keydown",m.$onKeyDown),S(t))},m}return Y.lang||(Y.lang=T.getDefaultLocale()),i.defaults=Y,i}]}).directive("bsTimepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$timepicker",function(t,e,n,h,f,p){var m=p.defaults,g=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(n,t,r,i){var a={scope:n};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","autoclose","timeType","timeFormat","timezone","modelTimeFormat","useNative","hourStep","minuteStep","secondStep","length","arrowBehavior","iconUp","iconDown","roundDisplay","id","prefixClass","prefixEvent","defaultDate"],function(t){angular.isDefined(r[t])&&(a[t]=r[t])});var e=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative","roundDisplay"],function(t){angular.isDefined(r[t])&&e.test(r[t])&&(a[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(r[e])&&(a[t]=n.$eval(r[e]))}),g&&(a.useNative||m.useNative)&&(a.timeFormat="HH:mm");var o=p(t,i,a),s=(a=o.$options).lang,l=function(t,e,n){return h.formatDate(t,e,s,n)};r.bsShow&&n.$watch(r.bsShow,function(t,e){o&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(timepicker),?/i)),!0===t?o.show():o.hide())});var u=f({format:a.timeFormat,lang:s});function c(t){if(angular.isDate(t)){var e=isNaN(a.minTime)||new Date(t.getTime()).setFullYear(1970,0,1)>=a.minTime,n=isNaN(a.maxTime)||new Date(t.getTime()).setFullYear(1970,0,1)<=a.maxTime,r=e&&n;i.$setValidity("date",r),i.$setValidity("min",e),i.$setValidity("max",n),r&&(i.$dateValue=t)}}function d(){return!i.$dateValue||isNaN(i.$dateValue.getTime())?"":l(i.$dateValue,a.timeFormat)}angular.forEach(["minTime","maxTime"],function(e){angular.isDefined(r[e])&&r.$observe(e,function(t){o.$options[e]=u.getTimeForAttribute(e,t),isNaN(o.$options[e])||o.$build(),c(i.$dateValue)})}),n.$watch(r.ngModel,function(t,e){o.update(i.$dateValue)},!0),i.$parsers.unshift(function(t){var e;if(!t)return i.$setValidity("date",!0),null;var n=angular.isDate(t)?t:u.parse(t,i.$dateValue);return!n||isNaN(n.getTime())?(i.$setValidity("date",!1),v):(c(n),"string"===a.timeType?(e=u.timezoneOffsetAdjust(n,a.timezone,!0),l(e,a.modelTimeFormat||a.timeFormat)):(e=u.timezoneOffsetAdjust(i.$dateValue,a.timezone,!0),"number"===a.timeType?e.getTime():"unix"===a.timeType?e.getTime()/1e3:"iso"===a.timeType?e.toISOString():new Date(e)))}),i.$formatters.push(function(t){var e;return e=angular.isUndefined(t)||null===t?NaN:angular.isDate(t)?t:"string"===a.timeType?u.parse(t,null,a.modelTimeFormat):"unix"===a.timeType?new Date(1e3*t):new Date(t),i.$dateValue=u.timezoneOffsetAdjust(e,a.timezone),d()}),i.$render=function(){t.val(d())},n.$on("$destroy",function(){o&&o.destroy(),o=a=null})}}}]),angular.module("mgcrea.ngStrap.tab",[]).provider("$tab",function(){var r=this.defaults={animation:"am-fade",template:"tab/tab.tpl.html",navClass:"nav-tabs",activeClass:"active"},e=this.controller=function(e,t,n){var i=this;i.$options=angular.copy(r),angular.forEach(["animation","navClass","activeClass"],function(t){angular.isDefined(n[t])&&(i.$options[t]=n[t])}),e.$navClass=i.$options.navClass,e.$activeClass=i.$options.activeClass,i.$panes=e.$panes=[],i.$activePaneChangeListeners=i.$viewChangeListeners=[],i.$push=function(t){angular.isUndefined(i.$panes.$active)&&e.$setActive(t.name||0),i.$panes.push(t)},i.$remove=function(t){var e,n=i.$panes.indexOf(t),r=i.$panes.$active;e=angular.isString(r)?i.$panes.map(function(t){return t.name}).indexOf(r):i.$panes.$active,i.$panes.splice(n,1),n<e?e--:n===e&&e===i.$panes.length&&e--,0<=e&&e<i.$panes.length?i.$setActive(i.$panes[e].name||e):i.$setActive()},i.$setActive=e.$setActive=function(t){i.$panes.$active=t,i.$activePaneChangeListeners.forEach(function(t){t()})},i.$isActive=e.$isActive=function(t,e){return i.$panes.$active===t.name||i.$panes.$active===e}};this.$get=function(){var t={};return t.defaults=r,t.controller=e,t}}).directive("bsTabs",["$window","$animate","$tab","$parse",function(t,e,n,s){var r=n.defaults;return{require:["?ngModel","bsTabs"],transclude:!0,scope:!0,controller:["$scope","$element","$attrs",n.controller],templateUrl:function(t,e){return e.template||r.template},link:function(t,e,n,r){var i=r[0],a=r[1];if(i&&(a.$activePaneChangeListeners.push(function(){i.$setViewValue(a.$panes.$active)}),i.$formatters.push(function(t){return a.$setActive(t),t})),n.bsActivePane){var o=s(n.bsActivePane);a.$activePaneChangeListeners.push(function(){o.assign(t,a.$panes.$active)}),t.$watch(n.bsActivePane,function(t,e){a.$setActive(t)},!0)}}}}]).directive("bsPane",["$window","$animate","$sce",function(t,o,s){return{require:["^?ngModel","^bsTabs"],scope:!0,link:function(n,e,t,r){var i=r[1];function a(){var t=i.$panes.indexOf(n);o[i.$isActive(n,t)?"addClass":"removeClass"](e,i.$options.activeClass)}e.addClass("tab-pane"),t.$observe("title",function(t,e){n.title=s.trustAsHtml(t)}),n.name=t.name,i.$options.animation&&e.addClass(i.$options.animation),t.$observe("disabled",function(t,e){n.disabled=n.$eval(t)}),i.$push(n),n.$on("$destroy",function(){i.$remove(n)}),i.$activePaneChangeListeners.push(function(){a()}),a()}}}]),angular.module("mgcrea.ngStrap.select",["mgcrea.ngStrap.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$select",function(){var f=this.defaults={animation:"am-fade",prefixClass:"select",prefixEvent:"$select",placement:"bottom-left",templateUrl:"select/select.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,multiple:!1,allNoneButtons:!1,sort:!0,caretHtml:'&nbsp;<span class="caret"></span>',placeholder:"Choose among the following...",allText:"All",noneText:"None",maxLength:3,maxLengthHtml:"selected",iconCheckmark:"glyphicon glyphicon-ok",toggle:!1};this.$get=["$window","$document","$rootScope","$tooltip","$timeout",function(l,u,t,c,d){var e=/(ip[ao]d|iphone|android)/gi.test(l.navigator.userAgent),h="createTouch"in l.document&&e;function n(t,n,e){var r={},i=angular.extend({},f,e),a=(r=c(t,i)).$scope;a.$matches=[],i.multiple?a.$activeIndex=[]:a.$activeIndex=-1,a.$isMultiple=i.multiple,a.$showAllNoneButtons=i.allNoneButtons&&i.multiple,a.$iconCheckmark=i.iconCheckmark,a.$allText=i.allText,a.$noneText=i.noneText,a.$activate=function(t){a.$$postDigest(function(){r.activate(t)})},a.$select=function(t,e){a.$$postDigest(function(){r.select(t)})},a.$isVisible=function(){return r.$isVisible()},a.$isActive=function(t){return r.$isActive(t)},a.$selectAll=function(){for(var t=0;t<a.$matches.length;t++)a.$isActive(t)||a.$select(t)},a.$selectNone=function(){for(var t=0;t<a.$matches.length;t++)a.$isActive(t)&&a.$select(t)},r.update=function(t){a.$matches=t,r.$updateActiveIndex()},r.activate=function(t){return i.multiple?(r.$isActive(t)?a.$activeIndex.splice(a.$activeIndex.indexOf(t),1):a.$activeIndex.push(t),i.sort&&a.$activeIndex.sort(function(t,e){return t-e})):a.$activeIndex=t,a.$activeIndex},r.select=function(t){if(!(angular.isUndefined(t)||t<0||t>=a.$matches.length)){var e=a.$matches[t].value;a.$apply(function(){r.activate(t),i.multiple?n.$setViewValue(a.$activeIndex.map(function(t){return angular.isUndefined(a.$matches[t])?null:a.$matches[t].value})):(i.toggle?n.$setViewValue(e===n.$modelValue?v:e):n.$setViewValue(e),r.hide())}),a.$emit(i.prefixEvent+".select",e,t,r),angular.isDefined(i.onSelect)&&angular.isFunction(i.onSelect)&&i.onSelect(e,t,r)}},r.$updateActiveIndex=function(){i.multiple?angular.isArray(n.$modelValue)?a.$activeIndex=n.$modelValue.map(function(t){return r.$getIndex(t)}):a.$activeIndex=[]:angular.isDefined(n.$modelValue)&&a.$matches.length?a.$activeIndex=r.$getIndex(n.$modelValue):a.$activeIndex=-1},r.$isVisible=function(){return i.minLength&&n?a.$matches.length&&n.$viewValue.length>=i.minLength:a.$matches.length},r.$isActive=function(t){return i.multiple?-1!==a.$activeIndex.indexOf(t):a.$activeIndex===t},r.$getIndex=function(t){var e;for(e=a.$matches.length;e--&&!angular.equals(a.$matches[e].value,t););return e},r.$onMouseDown=function(t){if(t.preventDefault(),t.stopPropagation(),h){var e,n=angular.element(t.target);if("A"!==t.target.nodeName)for(var r=n.parent();!e&&0<r.length;)"A"===r[0].nodeName&&(e=r),r=r.parent();e?angular.element(e).triggerHandler("click"):n.triggerHandler("click")}},r.$onKeyDown=function(t){if(/(9|13|38|40)/.test(t.keyCode))return 9!==t.keyCode&&(t.preventDefault(),t.stopPropagation()),i.multiple&&9===t.keyCode?r.hide():i.multiple||13!==t.keyCode&&9!==t.keyCode?void(i.multiple||(38===t.keyCode&&0<a.$activeIndex?a.$activeIndex--:38===t.keyCode&&a.$activeIndex<0?a.$activeIndex=a.$matches.length-1:40===t.keyCode&&a.$activeIndex<a.$matches.length-1?a.$activeIndex++:angular.isUndefined(a.$activeIndex)&&(a.$activeIndex=0),a.$digest())):r.select(a.$activeIndex)},r.$isIE=function(){var t=l.navigator.userAgent;return 0<t.indexOf("MSIE ")||0<t.indexOf("Trident/")||0<t.indexOf("Edge/")},r.$selectScrollFix=function(t){"UL"===u[0].activeElement.tagName&&(t.preventDefault(),t.stopImmediatePropagation(),t.target.focus())};var o=r.show;r.show=function(){o(),i.multiple&&r.$element.addClass("select-multiple"),d(function(){r.$element.on(h?"touchstart":"mousedown",r.$onMouseDown),i.keyboard&&t.on("keydown",r.$onKeyDown)},0,!1)};var s=r.hide;return r.hide=function(){!i.multiple&&angular.isUndefined(n.$modelValue)&&(a.$activeIndex=-1),r.$element.off(h?"touchstart":"mousedown",r.$onMouseDown),i.keyboard&&t.off("keydown",r.$onKeyDown),s(!0)},r}return n.defaults=f,n}]}).directive("bsSelect",["$window","$parse","$q","$select","$parseOptions",function(t,e,n,d,h){var f=d.defaults;return{restrict:"EAC",require:"ngModel",link:function(n,r,i,a){var o={scope:n,placeholder:f.placeholder};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","placeholder","allNoneButtons","maxLength","maxLengthHtml","allText","noneText","iconCheckmark","autoClose","id","sort","caretHtml","prefixClass","prefixEvent","toggle"],function(t){angular.isDefined(i[t])&&(o[t]=i[t])});var e=/^(false|0|)$/i;angular.forEach(["html","container","allNoneButtons","sort"],function(t){angular.isDefined(i[t])&&e.test(i[t])&&(o[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide","onSelect"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(i[e])&&(o[t]=n.$eval(i[e]))});var t=r.attr("data-multiple");if(angular.isDefined(t)&&(e.test(t)?o.multiple=!1:o.multiple=t),"select"===r[0].nodeName.toLowerCase()){var s=r;s.css("display","none"),r=angular.element('<button type="button" class="btn btn-default"></button>'),s.after(r)}var l=h(i.bsOptions),u=d(r,a,o);u.$isIE()&&r[0].addEventListener("blur",u.$selectScrollFix);var c=l.$match[7].replace(/\|.+/,"").trim();n.$watch(c,function(t,e){l.valuesFn(n,a).then(function(t){u.update(t),a.$render()})},!0),n.$watch(i.ngModel,function(t,e){u.$updateActiveIndex(),a.$render()},!0),a.$render=function(){var t,e;t=o.multiple&&angular.isArray(a.$modelValue)?(t=a.$modelValue.map(function(t){return-1!==(e=u.$getIndex(t))&&u.$scope.$matches[e].label}).filter(angular.isDefined)).length>(o.maxLength||f.maxLength)?t.length+" "+(o.maxLengthHtml||f.maxLengthHtml):t.join(", "):-1!==(e=u.$getIndex(a.$modelValue))&&u.$scope.$matches[e].label,r.html((t||o.placeholder)+(o.caretHtml||f.caretHtml))},o.multiple&&(a.$isEmpty=function(t){return!t||0===t.length}),n.$on("$destroy",function(){u&&u.destroy(),u=o=null})}}}]),angular.module("mgcrea.ngStrap.scrollspy",["mgcrea.ngStrap.helpers.debounce","mgcrea.ngStrap.helpers.dimensions"]).provider("$scrollspy",function(){var x=this.$$spies={},k=this.defaults={debounce:150,throttle:100,offset:100};this.$get=["$window","$document","$rootScope","dimensions","debounce","throttle",function(m,t,g,v,y,_){var b=angular.element(m),w=angular.element(t.prop("documentElement")),M=angular.element(m.document.body);function $(t,e){return t[0].nodeName&&t[0].nodeName.toLowerCase()===e.toLowerCase()}return function(t){var n=angular.extend({},k,t);n.element||(n.element=M);var e=$(n.element,"body"),r=e?b:n.element,i=e?"window":n.id;if(x[i])return x[i].$$count++,x[i];var a,o,s,l,u,c,d,h={},f=h.$trackedElements=[],p=[];return h.init=function(){this.$$count=1,l=y(this.checkPosition,n.debounce),u=_(this.checkPosition,n.throttle),r.on("click",this.checkPositionWithEventLoop),b.on("resize",l),r.on("scroll",u),c=y(this.checkOffsets,n.debounce),a=g.$on("$viewContentLoaded",c),o=g.$on("$includeContentLoaded",c),c(),i&&(x[i]=h)},h.destroy=function(){this.$$count--,0<this.$$count||(r.off("click",this.checkPositionWithEventLoop),b.off("resize",l),r.off("scroll",u),a(),o(),i&&delete x[i])},h.checkPosition=function(){if(p.length){if(d=(e?m.pageYOffset:r.prop("scrollTop"))||0,Math.max(m.innerHeight,w.prop("clientHeight")),d<p[0].offsetTop&&s!==p[0].target)return h.$activateElement(p[0]);for(var t=p.length;t--;)if(!angular.isUndefined(p[t].offsetTop)&&null!==p[t].offsetTop&&s!==p[t].target&&!(d<p[t].offsetTop||p[t+1]&&d>p[t+1].offsetTop))return h.$activateElement(p[t])}},h.checkPositionWithEventLoop=function(){setTimeout(h.checkPosition,1)},h.$activateElement=function(t){if(s){var e=h.$getTrackedElement(s);e&&(e.source.removeClass("active"),$(e.source,"li")&&$(e.source.parent().parent(),"li")&&e.source.parent().parent().removeClass("active"))}s=t.target,t.source.addClass("active"),$(t.source,"li")&&$(t.source.parent().parent(),"li")&&t.source.parent().parent().addClass("active")},h.$getTrackedElement=function(e){return f.filter(function(t){return t.target===e})[0]},h.checkOffsets=function(){angular.forEach(f,function(t){var e=H.querySelector(t.target);t.offsetTop=e?v.offset(e).top:null,n.offset&&null!==t.offsetTop&&(t.offsetTop-=1*n.offset)}),p=f.filter(function(t){return null!==t.offsetTop}).sort(function(t,e){return t.offsetTop-e.offsetTop}),l()},h.trackElement=function(t,e){f.push({target:t,source:e})},h.untrackElement=function(t,e){for(var n,r=f.length;r--;)if(f[r].target===t&&f[r].source===e){n=r;break}f.splice(n,1)},h.activate=function(t){f[t].addClass("active")},h.init(),h}}]}).directive("bsScrollspy",["$rootScope","debounce","dimensions","$scrollspy",function(t,e,n,a){return{restrict:"EAC",link:function(t,e,n){var r={scope:t};angular.forEach(["offset","target"],function(t){angular.isDefined(n[t])&&(r[t]=n[t])});var i=a(r);i.trackElement(r.target,e),t.$on("$destroy",function(){i&&(i.untrackElement(r.target,e),i.destroy()),i=r=null})}}}]).directive("bsScrollspyList",["$rootScope","debounce","dimensions","$scrollspy",function(t,e,n,r){return{restrict:"A",compile:function(t,e){var n=t[0].querySelectorAll("li > a[href]");angular.forEach(n,function(t){var e=angular.element(t);e.parent().attr("bs-scrollspy","").attr("data-target",e.attr("href"))})}}}]),angular.module("mgcrea.ngStrap.popover",["mgcrea.ngStrap.tooltip"]).provider("$popover",function(){var a=this.defaults={animation:"am-fade",customClass:"",container:!1,target:!1,placement:"right",templateUrl:"popover/popover.tpl.html",contentTemplate:!1,trigger:"click",keyboard:!0,html:!1,title:"",content:"",delay:0,autoClose:!1};this.$get=["$tooltip",function(i){return function(t,e){var n=angular.extend({},a,e),r=i(t,n);return n.content&&(r.$scope.content=n.content),r}}]}).directive("bsPopover",["$window","$sce","$popover",function(t,s,l){var u=t.requestAnimationFrame||t.setTimeout;return{restrict:"EAC",scope:!0,link:function(r,t,i){var a,n={scope:r};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","container","delay","trigger","html","animation","customClass","autoClose","id","prefixClass","prefixEvent","bsEnabled"],function(t){angular.isDefined(i[t])&&(n[t]=i[t])});var e=/^(false|0|)$/i;angular.forEach(["html","container","autoClose"],function(t){angular.isDefined(i[t])&&e.test(i[t])&&(n[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(i[e])&&(n[t]=r.$eval(i[e]))});var o=t.attr("data-target");angular.isDefined(o)&&(e.test(o)?n.target=!1:n.target=o),angular.forEach(["title","content"],function(n){i[n]&&i.$observe(n,function(t,e){r[n]=s.trustAsHtml(t),angular.isDefined(e)&&u(function(){a&&a.$applyPlacement()})})}),i.bsPopover&&r.$watch(i.bsPopover,function(t,e){angular.isObject(t)?angular.extend(r,t):r.content=t,angular.isDefined(e)&&u(function(){a&&a.$applyPlacement()})},!0),i.bsShow&&r.$watch(i.bsShow,function(t,e){a&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(popover),?/i)),!0===t?a.show():a.hide())}),i.bsEnabled&&r.$watch(i.bsEnabled,function(t){a&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|1|,?(popover),?/i)),!1===t?a.setEnabled(!1):a.setEnabled(!0))}),i.viewport&&r.$watch(i.viewport,function(t){a&&angular.isDefined(t)&&a.setViewport(t)}),a=l(t,n),r.$on("$destroy",function(){a&&a.destroy(),a=n=null})}}}]),angular.module("mgcrea.ngStrap.navbar",[]).provider("$navbar",function(){var t=this.defaults={activeClass:"active",routeAttr:"data-match-route",strict:!1};this.$get=function(){return{defaults:t}}}).directive("bsNavbar",["$window","$location","$navbar",function(t,a,e){var o=e.defaults;return{restrict:"A",link:function(t,n,e,r){var i=angular.copy(o);angular.forEach(Object.keys(o),function(t){angular.isDefined(e[t])&&(i[t]=e[t])}),t.$watch(function(){return a.path()},function(r,t){var e=n[0].querySelectorAll("li["+i.routeAttr+"]");angular.forEach(e,function(t){var e=angular.element(t),n=e.attr(i.routeAttr).replace("/","\\/");i.strict&&(n="^"+n+"$"),new RegExp(n,"i").test(r)?e.addClass(i.activeClass):e.removeClass(i.activeClass)})})}}}]),angular.module("mgcrea.ngStrap.modal",["mgcrea.ngStrap.core","mgcrea.ngStrap.helpers.dimensions"]).provider("$modal",function(){var C=this.defaults={animation:"am-fade",backdropAnimation:"am-fade",customClass:"",prefixClass:"modal",prefixEvent:"modal",placement:"top",templateUrl:"modal/modal.tpl.html",template:"",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0,size:null,zIndex:null};this.$get=["$window","$rootScope","$bsCompiler","$animate","$timeout","$sce","dimensions",function(t,g,v,y,e,_,n){var b=angular.forEach,w=t.requestAnimationFrame||t.setTimeout,M=angular.element(t.document.body),$=0,x=1050,k=1040,S={lg:"modal-lg",sm:"modal-sm"};function T(t){t.$$phase||t.$root&&t.$root.$$phase||t.$digest()}function L(t,e){return angular.element((e||H).querySelectorAll(t))}return function(t){var r,i,a,o={},s=o.$options=angular.extend({},C,t),e=o.$promise=v.compile(s),l=o.$scope=s.scope&&s.scope.$new()||g.$new();s.element||s.container||(s.container="body"),s.zIndex&&(x=parseInt(s.zIndex,10),k=x-10),o.$id=s.id||s.element&&s.element.attr("id")||"",b(["title","content"],function(t){s[t]&&(l[t]=_.trustAsHtml(s[t]))}),l.$hide=function(){l.$$postDigest(function(){o.hide()})},l.$show=function(){l.$$postDigest(function(){o.show()})},l.$toggle=function(){l.$$postDigest(function(){o.toggle()})},o.$isShown=l.$isShown=!1;var u=angular.element('<div class="'+s.prefixClass+'-backdrop"/>');function c(){l.$emit(s.prefixEvent+".show",o),angular.isDefined(s.onShow)&&angular.isFunction(s.onShow)&&s.onShow(o)}function n(){l.$emit(s.prefixEvent+".hide",o),angular.isDefined(s.onHide)&&angular.isFunction(s.onHide)&&s.onHide(o),L(".modal").length<=0&&M.removeClass(s.prefixClass+"-open"),s.animation&&M.removeClass(s.prefixClass+"-with-"+s.animation)}function d(){s.backdrop&&(i.off("click",f),u.off("click",f),u.off("wheel",p))}function h(){s.keyboard&&i.off("keyup",o.$onKeyUp)}function f(t){t.target===t.currentTarget&&("static"===s.backdrop?o.focus():o.hide())}function p(t){t.preventDefault()}function m(){o.$isShown&&null!==i&&(d(),h()),a&&(a.$destroy(),a=null),i&&(i.remove(),i=o.$element=null)}return u.css({position:"fixed",top:"0px",left:"0px",bottom:"0px",right:"0px"}),e.then(function(t){r=t,o.init()}),o.init=function(){s.show&&l.$$postDigest(function(){o.show()})},o.destroy=function(){m(),u&&(u.remove(),u=null),l.$destroy()},o.show=function(){var t,e;if(!o.$isShown&&(angular.isElement(s.container)?(t=s.container,e=s.container[0].lastChild?angular.element(s.container[0].lastChild):null):s.container?e=(t=L(s.container))[0]&&t[0].lastChild?angular.element(t[0].lastChild):null:(t=null,e=s.element),i&&m(),a=o.$scope.$new(),i=o.$element=r.link(a,function(t,e){}),s.backdrop&&(i.css({"z-index":x+20*$}),u.css({"z-index":k+20*$}),$++),!l.$emit(s.prefixEvent+".show.before",o).defaultPrevented)){angular.isDefined(s.onBeforeShow)&&angular.isFunction(s.onBeforeShow)&&s.onBeforeShow(o),i.css({display:"block"}).addClass(s.placement),s.customClass&&i.addClass(s.customClass),s.size&&S[s.size]&&angular.element(L(".modal-dialog",i[0])).addClass(S[s.size]),s.animation&&(s.backdrop&&u.addClass(s.backdropAnimation),i.addClass(s.animation)),s.backdrop&&y.enter(u,M,null),angular.version.minor<=2?y.enter(i,t,e,c):y.enter(i,t,e).then(c),o.$isShown=l.$isShown=!0,T(l);var n=i[0];w(function(){n.focus()}),M.addClass(s.prefixClass+"-open"),s.animation&&M.addClass(s.prefixClass+"-with-"+s.animation),s.backdrop&&(i.on("click",f),u.on("click",f),u.on("wheel",p)),s.keyboard&&i.on("keyup",o.$onKeyUp)}},o.hide=function(){o.$isShown&&(l.$emit(s.prefixEvent+".hide.before",o).defaultPrevented||(angular.isDefined(s.onBeforeHide)&&angular.isFunction(s.onBeforeHide)&&s.onBeforeHide(o),angular.version.minor<=2?y.leave(i,n):y.leave(i).then(n),s.backdrop&&($--,y.leave(u)),o.$isShown=l.$isShown=!1,T(l),d(),h()))},o.toggle=function(){o.$isShown?o.hide():o.show()},o.focus=function(){i[0].focus()},o.$onKeyUp=function(t){27===t.which&&o.$isShown&&(o.hide(),t.stopPropagation())},o}}]}).directive("bsModal",["$window","$sce","$parse","$modal",function(t,s,e,l){return{restrict:"EAC",scope:!0,link:function(r,t,i,e){var n={scope:r,element:t,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","backdrop","keyboard","html","container","animation","backdropAnimation","id","prefixEvent","prefixClass","customClass","modalClass","size","zIndex"],function(t){angular.isDefined(i[t])&&(n[t]=i[t])}),n.modalClass&&(n.customClass=n.modalClass);var a=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(t){angular.isDefined(i[t])&&a.test(i[t])&&(n[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(i[e])&&(n[t]=r.$eval(i[e]))}),angular.forEach(["title","content"],function(n){i[n]&&i.$observe(n,function(t,e){r[n]=s.trustAsHtml(t)})}),i.bsModal&&r.$watch(i.bsModal,function(t,e){angular.isObject(t)?angular.extend(r,t):r.content=t},!0);var o=l(n);t.on(i.trigger||"click",o.toggle),r.$on("$destroy",function(){o&&o.destroy(),o=n=null})}}}]),angular.version.minor<3&&angular.version.dot<14&&angular.module("ng").factory("$$rAF",["$window","$timeout",function(t,n){var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame,i=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,e=!!r,a=e?function(t){var e=r(t);return function(){i(e)}}:function(t){var e=n(t,16.66,!1);return function(){n.cancel(e)}};return a.supported=e,a}]),angular.module("mgcrea.ngStrap.helpers.parseOptions",[]).provider("$parseOptions",function(){var d=this.defaults={regexp:/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/};this.$get=["$parse","$q",function(u,c){return function(t,e){var n,o,s,l,r,i={},a=angular.extend({},d,e);return i.$values=[],i.init=function(){i.$match=n=t.match(a.regexp),o=u(n[2]||n[1]),s=n[4]||n[6],n[5],u(n[3]||""),l=u(n[2]?n[1]:s),r=u(n[7])},i.valuesFn=function(e,t){return c.when(r(e,t)).then(function(t){var a;return angular.isArray(t)||(t=[]),i.$values=t.length?(a=e,t.map(function(t,e){var n,r,i={};return i[s]=t,n=o(a,i),r=l(a,i),{label:n,value:r,index:e}})):[],i.$values})},i.displayValue=function(t){var e={};return e[s]=t,o(e)},i.init(),i}}]}),angular.module("mgcrea.ngStrap.helpers.dimensions",[]).factory("dimensions",function(){var h={},i=h.nodeName=function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()};return h.css=function(t,e,n){var r;return r=t.currentStyle?t.currentStyle[e]:a.getComputedStyle?a.getComputedStyle(t)[e]:t.style[e],!0===n?parseFloat(r)||0:r},h.offset=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument;return{width:e.width||t.offsetWidth,height:e.height||t.offsetHeight,top:e.top+(a.pageYOffset||n.documentElement.scrollTop)-(n.documentElement.clientTop||0),left:e.left+(a.pageXOffset||n.documentElement.scrollLeft)-(n.documentElement.clientLeft||0)}},h.setOffset=function(t,e,n){var r,i,a,o,s,l,u=h.css(t,"position"),c=angular.element(t),d={};"static"===u&&(t.style.position="relative"),s=h.offset(t),a=h.css(t,"top"),l=h.css(t,"left"),("absolute"===u||"fixed"===u)&&-1<(a+l).indexOf("auto")?(o=(r=h.position(t)).top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(l)||0),angular.isFunction(e)&&(e=e.call(t,n,s)),null!==e.top&&(d.top=e.top-s.top+o),null!==e.left&&(d.left=e.left-s.left+i),"using"in e?e.using.call(c,d):c.css({top:d.top+"px",left:d.left+"px"})},h.position=function(t){var e,n,r={top:0,left:0};return"fixed"===h.css(t,"position")?n=t.getBoundingClientRect():(e=function(t){var e=t.ownerDocument,n=t.offsetParent||e;if(i(n,"#document"))return e.documentElement;for(;n&&!i(n,"html")&&"static"===h.css(n,"position");)n=n.offsetParent;return n||e.documentElement}(t),n=h.offset(t),i(e,"html")||(r=h.offset(e)),r.top+=h.css(e,"borderTopWidth",!0),r.left+=h.css(e,"borderLeftWidth",!0)),{width:t.offsetWidth,height:t.offsetHeight,top:n.top-r.top-h.css(t,"marginTop",!0),left:n.left-r.left-h.css(t,"marginLeft",!0)}},h.height=function(t,e){var n=t.offsetHeight;return e?n+=h.css(t,"marginTop",!0)+h.css(t,"marginBottom",!0):n-=h.css(t,"paddingTop",!0)+h.css(t,"paddingBottom",!0)+h.css(t,"borderTopWidth",!0)+h.css(t,"borderBottomWidth",!0),n},h.width=function(t,e){var n=t.offsetWidth;return e?n+=h.css(t,"marginLeft",!0)+h.css(t,"marginRight",!0):n-=h.css(t,"paddingLeft",!0)+h.css(t,"paddingRight",!0)+h.css(t,"borderLeftWidth",!0)+h.css(t,"borderRightWidth",!0),n},h}),angular.module("mgcrea.ngStrap.helpers.debounce",[]).factory("debounce",["$timeout",function(s){return function(r,i,a){var o=null;return function(){var t=this,e=arguments,n=a&&!o;return o&&s.cancel(o),o=s(function(){o=null,a||r.apply(t,e)},i,!1),n&&r.apply(t,e),o}}}]).factory("throttle",["$timeout",function(o){return function(n,r,i){var a=null;return i||(i={}),function(){var t=this,e=arguments;a||(!1!==i.leading&&n.apply(t,e),a=o(function(){a=null,!1!==i.trailing&&n.apply(t,e)},r,!1))}}}]),angular.module("mgcrea.ngStrap.helpers.dateParser",[]).provider("$dateParser",["$localeProvider",function(t){function v(){this.year=1970,this.month=0,this.day=1,this.hours=0,this.minutes=0,this.seconds=0,this.milliseconds=0}v.prototype.setMilliseconds=function(t){this.milliseconds=t},v.prototype.setSeconds=function(t){this.seconds=t},v.prototype.setMinutes=function(t){this.minutes=t},v.prototype.setHours=function(t){this.hours=t},v.prototype.getHours=function(){return this.hours},v.prototype.setDate=function(t){this.day=t},v.prototype.setMonth=function(t){this.month=t},v.prototype.setFullYear=function(t){this.year=t},v.prototype.fromDate=function(t){return this.year=t.getFullYear(),this.month=t.getMonth(),this.day=t.getDate(),this.hours=t.getHours(),this.minutes=t.getMinutes(),this.seconds=t.getSeconds(),this.milliseconds=t.getMilliseconds(),this},v.prototype.toDate=function(){return new Date(this.year,this.month,this.day,this.hours,this.minutes,this.seconds,this.milliseconds)};var r=v.prototype;function i(){}function a(t){return!isNaN(parseFloat(t))&&isFinite(t)}function o(t,e){for(var n=t.length,r=e.toString().toLowerCase(),i=0;i<n;i++)if(t[i].toLowerCase()===r)return i;return-1}var s=this.defaults={format:"shortDate",strict:!1};this.$get=["$locale","dateFilter",function(m,g){return function(t){var c,d,e=angular.extend({},s,t),h={},l={sss:"[0-9]{3}",ss:"[0-5][0-9]",s:e.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",mm:"[0-5][0-9]",m:e.strict?"[1-5]?[0-9]":"[0-9]|[0-5][0-9]",HH:"[01][0-9]|2[0-3]",H:e.strict?"1?[0-9]|2[0-3]":"[01]?[0-9]|2[0-3]",hh:"[0][1-9]|[1][012]",h:e.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",a:"AM|PM",EEEE:m.DATETIME_FORMATS.DAY.join("|"),EEE:m.DATETIME_FORMATS.SHORTDAY.join("|"),dd:"0[1-9]|[12][0-9]|3[01]",d:e.strict?"[1-9]|[1-2][0-9]|3[01]":"0?[1-9]|[1-2][0-9]|3[01]",MMMM:m.DATETIME_FORMATS.MONTH.join("|"),MMM:m.DATETIME_FORMATS.SHORTMONTH.join("|"),MM:"0[1-9]|1[012]",M:e.strict?"[1-9]|1[012]":"0?[1-9]|1[012]",yyyy:"[1]{1}[0-9]{3}|[2]{1}[0-9]{3}",yy:"[0-9]{2}",y:e.strict?"-?(0|[1-9][0-9]{0,3})":"-?0*[0-9]{1,4}"},u={sss:r.setMilliseconds,ss:r.setSeconds,s:r.setSeconds,mm:r.setMinutes,m:r.setMinutes,HH:r.setHours,H:r.setHours,hh:r.setHours,h:r.setHours,EEEE:i,EEE:i,dd:r.setDate,d:r.setDate,a:function(t){var e=this.getHours()%12;return this.setHours(t.match(/pm/i)?e+12:e)},MMMM:function(t){return this.setMonth(o(m.DATETIME_FORMATS.MONTH,t))},MMM:function(t){return this.setMonth(o(m.DATETIME_FORMATS.SHORTMONTH,t))},MM:function(t){return this.setMonth(1*t-1)},M:function(t){return this.setMonth(1*t-1)},yyyy:r.setFullYear,yy:function(t){return this.setFullYear(2e3+1*t)},y:function(t){return 1*t<=50&&2===t.length?this.setFullYear(2e3+1*t):this.setFullYear(1*t)}};function f(t){return function(t){for(var e=Object.keys(l),n=t,r=0;r<e.length;r++)n=n.split("${"+r+"}").join("("+l[e[r]]+")");return new RegExp("^"+n+"$",["i"])}(n(t))}function n(t){var e=t.replace(/\\/g,"[\\\\]").replace(/-/g,"[-]").replace(/\./g,"[.]").replace(/\*/g,"[*]").replace(/\+/g,"[+]").replace(/\?/g,"[?]").replace(/\$/g,"[$]").replace(/\^/g,"[^]").replace(/\//g,"[/]").replace(/\\s/g,"[\\s]").replace(/''/g,"\\'").split(/('(?:\\'|.)*?')/),n=Object.keys(l),r=[];return angular.forEach(e,function(t){if(/^'.*'$/.test(t))t=t.replace(/^'(.*)'$/,"$1");else for(var e=0;e<n.length;e++)t=t.split(n[e]).join("${"+e+"}");r.push(t)}),r.join("")}function p(t){return function(t){for(var e,n,r,i,a=Object.keys(l),o=new RegExp("\\${(\\d+)}","g"),s=[];null!==(e=o.exec(t));)n=e[1],r=a[n],i=u[r],s.push(i);return s}(n(t))}return h.init=function(){h.$format=m.DATETIME_FORMATS[e.format]||e.format,c=f(h.$format),d=p(h.$format)},h.isValid=function(t){return angular.isDate(t)?!isNaN(t.getTime()):c.test(t)},h.parse=function(t,e,n,r){n&&(n=m.DATETIME_FORMATS[n]||n),angular.isDate(t)&&(t=g(t,n||h.$format,r));var i=n?f(n):c,a=n?p(n):d,o=i.exec(t);if(!o)return!1;for(var s=e&&!isNaN(e.getTime())?(new v).fromDate(e):(new v).fromDate(new Date(1970,0,1,0)),l=0;l<o.length-1;l++)a[l]&&a[l].call(s,o[l+1]);var u=s.toDate();return parseInt(s.day,10)===u.getDate()&&u},h.getDateForAttribute=function(t,e){var n;if("today"===e){var r=new Date;n=new Date(r.getFullYear(),r.getMonth(),r.getDate()+("maxDate"===t?1:0),0,0,0,"minDate"===t?0:-1)}else n=angular.isString(e)&&e.match(/^".+"$/)?new Date(e.substr(1,e.length-2)):a(e)?new Date(parseInt(e,10)):angular.isString(e)&&0===e.length?"minDate"===t?-1/0:1/0:new Date(e);return n},h.getTimeForAttribute=function(t,e){return"now"===e?(new Date).setFullYear(1970,0,1):angular.isString(e)&&e.match(/^".+"$/)?new Date(e.substr(1,e.length-2)).setFullYear(1970,0,1):a(e)?new Date(parseInt(e,10)).setFullYear(1970,0,1):angular.isString(e)&&0===e.length?"minTime"===t?-1/0:1/0:h.parse(e,new Date(1970,0,1,0))},h.daylightSavingAdjust=function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},h.timezoneOffsetAdjust=function(t,e,n){return t?(e&&"UTC"===e&&(t=new Date(t.getTime())).setMinutes(t.getMinutes()+(n?-1:1)*t.getTimezoneOffset()),t):null},h.init(),h}}]}]),angular.module("mgcrea.ngStrap.helpers.dateFormatter",[]).service("$dateFormatter",["$locale","dateFilter",function(n,i){function e(t){return/(h+)([:\.])?(m+)([:\.])?(s*)[ ]?(a?)/i.exec(t).slice(1)}this.getDefaultLocale=function(){return n.id},this.getDatetimeFormat=function(t,e){return n.DATETIME_FORMATS[t]||t},this.weekdaysShort=function(t){return n.DATETIME_FORMATS.SHORTDAY},this.hoursFormat=function(t){return e(t)[0]},this.minutesFormat=function(t){return e(t)[2]},this.secondsFormat=function(t){return e(t)[4]},this.timeSeparator=function(t){return e(t)[1]},this.showSeconds=function(t){return!!e(t)[4]},this.showAM=function(t){return!!e(t)[5]},this.formatDate=function(t,e,n,r){return i(t,e,r)}}]),angular.module("mgcrea.ngStrap.core",[]).service("$bsCompiler",t),angular.module("mgcrea.ngStrap.dropdown",["mgcrea.ngStrap.tooltip"]).provider("$dropdown",function(){var p=this.defaults={animation:"am-fade",prefixClass:"dropdown",prefixEvent:"dropdown",placement:"bottom-left",templateUrl:"dropdown/dropdown.tpl.html",trigger:"click",container:!1,keyboard:!0,html:!1,delay:0};this.$get=["$window","$rootScope","$tooltip","$timeout",function(t,u,c,d){var h=angular.element(t.document.body),f=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector;return function(e,t){var r={},n=angular.extend({},p,t);r.$scope=n.scope&&n.scope.$new()||u.$new(),r=c(e,n);var i=e.parent();r.$onKeyDown=function(t){if(/(38|40)/.test(t.keyCode)){t.preventDefault(),t.stopPropagation();var n,e=angular.element(r.$element[0].querySelectorAll("li:not(.divider) a"));e.length&&(angular.forEach(e,function(t,e){f&&f.call(t,":focus")&&(n=e)}),38===t.keyCode&&0<n?n--:40===t.keyCode&&n<e.length-1?n++:angular.isUndefined(n)&&(n=0),e.eq(n)[0].focus())}};var a=r.show;r.show=function(){a(),d(function(){n.keyboard&&r.$element&&r.$element.on("keydown",r.$onKeyDown),h.on("click",l)},0,!1),i.hasClass("dropdown")&&i.addClass("open")};var o=r.hide;r.hide=function(){r.$isShown&&(n.keyboard&&r.$element&&r.$element.off("keydown",r.$onKeyDown),h.off("click",l),i.hasClass("dropdown")&&i.removeClass("open"),o())};var s=r.destroy;function l(t){if(t.target!==e[0])return t.target!==e[0]&&r.hide()}return r.destroy=function(){h.off("click",l),s()},r}}]}).directive("bsDropdown",["$window","$sce","$dropdown",function(t,e,s){return{restrict:"EAC",scope:!0,compile:function(t,o){if(!o.bsDropdown){for(var e=t[0].nextSibling;e&&1!==e.nodeType;)e=e.nextSibling;e&&0<=e.className.split(" ").indexOf("dropdown-menu")&&(o.template=e.outerHTML,o.templateUrl=v,e.parentNode.removeChild(e))}return function(n,t,r){var i={scope:n};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","keyboard","html","animation","id","autoClose"],function(t){angular.isDefined(o[t])&&(i[t]=o[t])});var e=/^(false|0|)$/i;angular.forEach(["html","container"],function(t){angular.isDefined(r[t])&&e.test(r[t])&&(i[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(r[e])&&(i[t]=n.$eval(r[e]))}),r.bsDropdown&&n.$watch(r.bsDropdown,function(t,e){n.content=t},!0);var a=s(t,i);r.bsShow&&n.$watch(r.bsShow,function(t,e){a&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(dropdown),?/i)),!0===t?a.show():a.hide())}),n.$on("$destroy",function(){a&&a.destroy(),a=i=null})}}}}]),angular.module("mgcrea.ngStrap.button",[]).provider("$button",function(){var t=this.defaults={activeClass:"active",toggleEvent:"click"};this.$get=function(){return{defaults:t}}}).directive("bsCheckboxGroup",function(){return{restrict:"A",require:"ngModel",compile:function(t,n){t.attr("data-toggle","buttons"),t.removeAttr("ng-model");var e=t[0].querySelectorAll('input[type="checkbox"]');angular.forEach(e,function(t){var e=angular.element(t);e.attr("bs-checkbox",""),e.attr("ng-model",n.ngModel+"."+e.attr("value"))})}}}).directive("bsCheckbox",["$button","$$rAF",function(t,u){var c=t.defaults,d=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(t,e,n,r){var i=c,a="INPUT"===e[0].nodeName,o=a?e.parent():e,s=!angular.isDefined(n.trueValue)||n.trueValue;d.test(n.trueValue)&&(s=t.$eval(n.trueValue));var l=!!angular.isDefined(n.falseValue)&&n.falseValue;d.test(n.falseValue)&&(l=t.$eval(n.falseValue)),("boolean"!=typeof s||"boolean"!=typeof l)&&(r.$parsers.push(function(t){return t?s:l}),r.$formatters.push(function(t){return angular.equals(t,s)})),r.$render=function(){var t=!!r.$viewValue;u(function(){a&&(e[0].checked=t),o.toggleClass(i.activeClass,t)})},e.bind(i.toggleEvent,function(){t.$apply(function(){a||r.$setViewValue(!o.hasClass("active")),r.$render()})})}}}]).directive("bsRadioGroup",function(){return{restrict:"A",require:"ngModel",compile:function(t,e){t.attr("data-toggle","buttons"),t.removeAttr("ng-model");var n=t[0].querySelectorAll('input[type="radio"]');angular.forEach(n,function(t){angular.element(t).attr("bs-radio",""),angular.element(t).attr("ng-model",e.ngModel)})}}}).directive("bsRadio",["$button","$$rAF",function(t,l){var u=t.defaults,c=/^(true|false|\d+)$/;return{restrict:"A",require:"ngModel",link:function(e,n,t,r){var i,a=u,o="INPUT"===n[0].nodeName,s=o?n.parent():n;t.$observe("value",function(t){i="boolean"!=typeof t&&c.test(t)?e.$eval(t):t,r.$render()}),r.$render=function(){var t=angular.equals(r.$viewValue,i);l(function(){o&&(n[0].checked=t),s.toggleClass(a.activeClass,t)})},n.bind(a.toggleEvent,function(){e.$apply(function(){r.$setViewValue(i),r.$render()})})}}}]),angular.module("mgcrea.ngStrap.datepicker",["mgcrea.ngStrap.helpers.dateParser","mgcrea.ngStrap.helpers.dateFormatter","mgcrea.ngStrap.tooltip"]).provider("$datepicker",function(){var w=this.defaults={animation:"am-fade",prefixClass:"datepicker",placement:"bottom-left",templateUrl:"datepicker/datepicker.tpl.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,useNative:!1,dateType:"date",dateFormat:"shortDate",timezone:null,modelDateFormat:null,dayFormat:"dd",monthFormat:"MMM",yearFormat:"yyyy",monthTitleFormat:"MMMM yyyy",yearTitleFormat:"yyyy",strictFormat:!1,autoclose:!1,minDate:-1/0,maxDate:1/0,startView:0,minView:0,startWeek:0,daysOfWeekDisabled:"",hasToday:!1,hasClear:!1,iconLeft:"glyphicon glyphicon-chevron-left",iconRight:"glyphicon glyphicon-chevron-right"};this.$get=["$window","$document","$rootScope","$sce","$dateFormatter","datepickerViews","$tooltip","$timeout",function(t,e,n,r,i,g,v,y){var _=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent),b="createTouch"in t.document&&_;function a(e,n,t){var r=v(e,angular.extend({},w,t)),i=t.scope,a=r.$options,o=r.$scope;a.startView&&(a.startView-=a.minView);var s=g(r);r.$views=s.views;var l=s.viewDate;o.$mode=a.startView,o.$iconLeft=a.iconLeft,o.$iconRight=a.iconRight,o.$hasToday=a.hasToday,o.$hasClear=a.hasClear;var u=r.$views[o.$mode];function c(t){t.selected=r.$isSelected(t.date)}function d(){e[0].focus()}o.$select=function(t,e){e||r.select(t)},o.$selectPane=function(t){r.$selectPane(t)},o.$toggleMode=function(){r.setMode((o.$mode+1)%r.$views.length)},o.$setToday=function(){a.autoclose?(r.setMode(0),r.select(new Date)):r.select(new Date,!0)},o.$clear=function(){a.autoclose?(r.setMode(0),r.select(null)):r.select(null,!0)},r.update=function(t){angular.isDate(t)&&!isNaN(t.getTime())&&(r.$date=t,u.update.call(u,t)),r.$build(!0)},r.updateDisabledDates=function(t){a.disabledDateRanges=t;for(var e=0,n=o.rows.length;e<n;e++)angular.forEach(o.rows[e],r.$setDisabledEl)},r.select=function(t,e){angular.isDate(t)?angular.isDate(n.$dateValue)&&!isNaN(n.$dateValue.getTime())||(n.$dateValue=new Date(t)):n.$dateValue=null,!o.$mode||e?(n.$setViewValue(angular.copy(t)),n.$render(),a.autoclose&&!e&&y(function(){r.hide(!0)})):(angular.extend(l,{year:t.getFullYear(),month:t.getMonth(),date:t.getDate()}),r.setMode(o.$mode-1),r.$build())},r.setMode=function(t){o.$mode=t,u=r.$views[o.$mode],r.$build()},r.$build=function(t){!0===t&&u.built||(!1!==t||u.built)&&u.build.call(u)},r.$updateSelected=function(){for(var t=0,e=o.rows.length;t<e;t++)angular.forEach(o.rows[t],c)},r.$isSelected=function(t){return u.isSelected(t)},r.$setDisabledEl=function(t){t.disabled=u.isDisabled(t.date)},r.$selectPane=function(t){var e=u.steps,n=new Date(Date.UTC(l.year+(e.year||0)*t,l.month+(e.month||0)*t,1));angular.extend(l,{year:n.getUTCFullYear(),month:n.getUTCMonth(),date:n.getUTCDate()}),r.$build()},r.$onMouseDown=function(t){if(t.preventDefault(),t.stopPropagation(),b){var e=angular.element(t.target);"button"!==e[0].nodeName.toLowerCase()&&(e=e.parent()),e.triggerHandler("click")}},r.$onKeyDown=function(t){!/(38|37|39|40|13)/.test(t.keyCode)||t.shiftKey||t.altKey||(t.preventDefault(),t.stopPropagation(),13!==t.keyCode?(u.onKeyDown(t),i.$digest()):o.$mode?o.$apply(function(){r.setMode(o.$mode-1)}):r.hide(!0))};var h=r.init;r.init=function(){if(_&&a.useNative)return e.prop("type","date"),void e.css("-webkit-appearance","textfield");b&&(e.prop("type","text"),e.attr("readonly","true"),e.on("click",d)),h()};var f=r.destroy;r.destroy=function(){_&&a.useNative&&e.off("click",d),f()};var p=r.show;r.show=function(){!b&&e.attr("readonly")||e.attr("disabled")||(p(),y(function(){r.$isShown&&(r.$element.on(b?"touchstart":"mousedown",r.$onMouseDown),a.keyboard&&e.on("keydown",r.$onKeyDown))},0,!1))};var m=r.hide;return r.hide=function(t){r.$isShown&&(r.$element.off(b?"touchstart":"mousedown",r.$onMouseDown),a.keyboard&&e.off("keydown",r.$onKeyDown),m(t))},r}return w.lang||(w.lang=i.getDefaultLocale()),a.defaults=w,a}]}).directive("bsDatepicker",["$window","$parse","$q","$dateFormatter","$dateParser","$datepicker",function(t,e,n,f,p,m){var g=/(ip[ao]d|iphone|android)/gi.test(t.navigator.userAgent);return{restrict:"EAC",require:"ngModel",link:function(n,t,r,i){var a={scope:n};angular.forEach(["template","templateUrl","controller","controllerAs","placement","container","delay","trigger","html","animation","autoclose","dateType","dateFormat","timezone","modelDateFormat","dayFormat","strictFormat","startWeek","startDate","useNative","lang","startView","minView","iconLeft","iconRight","daysOfWeekDisabled","id","prefixClass","prefixEvent","hasToday","hasClear"],function(t){angular.isDefined(r[t])&&(a[t]=r[t])});var e=/^(false|0|)$/i;angular.forEach(["html","container","autoclose","useNative","hasToday","hasClear"],function(t){angular.isDefined(r[t])&&e.test(r[t])&&(a[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(r[e])&&(a[t]=n.$eval(r[e]))});var o=m(t,i,a);a=o.$options,g&&a.useNative&&(a.dateFormat="yyyy-MM-dd");var s=a.lang,l=function(t,e){return f.formatDate(t,e,s)},u=p({format:a.dateFormat,lang:s,strict:a.strictFormat});function c(t){return t&&t.length?t:null}function d(t){if(angular.isDate(t)){var e=isNaN(o.$options.minDate)||t.getTime()>=o.$options.minDate,n=isNaN(o.$options.maxDate)||t.getTime()<=o.$options.maxDate,r=e&&n;i.$setValidity("date",r),i.$setValidity("min",e),i.$setValidity("max",n),r&&(i.$dateValue=t)}}function h(){return!i.$dateValue||isNaN(i.$dateValue.getTime())?"":l(i.$dateValue,a.dateFormat)}r.bsShow&&n.$watch(r.bsShow,function(t,e){o&&angular.isDefined(t)&&(angular.isString(t)&&(t=!!t.match(/true|,?(datepicker),?/i)),!0===t?o.show():o.hide())}),angular.forEach(["minDate","maxDate"],function(e){angular.isDefined(r[e])&&r.$observe(e,function(t){o.$options[e]=u.getDateForAttribute(e,t),isNaN(o.$options[e])||o.$build(!1),d(i.$dateValue)})}),angular.isDefined(r.dateFormat)&&r.$observe("dateFormat",function(t){o.$options.dateFormat=t}),n.$watch(r.ngModel,function(t,e){o.update(i.$dateValue)},!0),angular.isDefined(r.disabledDates)&&n.$watch(r.disabledDates,function(t,e){t=c(t),e=c(e),t&&o.updateDisabledDates(t)}),i.$parsers.unshift(function(t){var e;if(!t)return i.$setValidity("date",!0),null;var n=u.parse(t,i.$dateValue);if(n&&!isNaN(n.getTime()))return d(n),"string"===a.dateType?(e=u.timezoneOffsetAdjust(n,a.timezone,!0),l(e,a.modelDateFormat||a.dateFormat)):(e=u.timezoneOffsetAdjust(i.$dateValue,a.timezone,!0),"number"===a.dateType?e.getTime():"unix"===a.dateType?e.getTime()/1e3:"iso"===a.dateType?e.toISOString():new Date(e));i.$setValidity("date",!1)}),i.$formatters.push(function(t){var e;return e=angular.isUndefined(t)||null===t?NaN:angular.isDate(t)?t:"string"===a.dateType?u.parse(t,null,a.modelDateFormat):"unix"===a.dateType?new Date(1e3*t):new Date(t),i.$dateValue=u.timezoneOffsetAdjust(e,a.timezone),h()}),i.$render=function(){t.val(h())},n.$on("$destroy",function(){o&&o.destroy(),o=a=null})}}}]).provider("datepickerViews",function(){function g(t,e){for(var n=[];0<t.length;)n.push(t.splice(0,e));return n}this.$get=["$dateFormatter","$dateParser","$sce",function(a,o,s){return function(u){var c=u.$scope,d=u.$options,n=d.lang,h=function(t,e){return a.formatDate(t,e,n)},f=o({format:d.dateFormat,lang:n,strict:d.strictFormat}),t=a.weekdaysShort(n),e=t.slice(d.startWeek).concat(t.slice(0,d.startWeek)),p=s.trustAsHtml('<th class="dow text-center">'+e.join('</th><th class="dow text-center">')+"</th>"),r=u.$date||(d.startDate?f.getDateForAttribute("startDate",d.startDate):new Date),m={year:r.getFullYear(),month:r.getMonth(),date:r.getDate()},i=[{format:d.dayFormat,split:7,steps:{month:1},update:function(t,e){!this.built||e||t.getFullYear()!==m.year||t.getMonth()!==m.month?(angular.extend(m,{year:u.$date.getFullYear(),month:u.$date.getMonth(),date:u.$date.getDate()}),u.$build()):t.getDate()===m.date&&1!==t.getDate()||(m.date=u.$date.getDate(),u.$updateSelected())},build:function(){var t,e=new Date(m.year,m.month,1),n=e.getTimezoneOffset(),r=new Date(+e-864e5*(((e.getDay()-d.startWeek)%(t=7)+t)%t)),i=r.getTimezoneOffset(),a=f.timezoneOffsetAdjust(new Date,d.timezone).toDateString();i!==n&&(r=new Date(+r+6e4*(i-n)));for(var o,s=[],l=0;l<42;l++)o=f.daylightSavingAdjust(new Date(r.getFullYear(),r.getMonth(),r.getDate()+l)),s.push({date:o,isToday:o.toDateString()===a,label:h(o,this.format),selected:u.$date&&this.isSelected(o),muted:o.getMonth()!==m.month,disabled:this.isDisabled(o)});c.title=h(e,d.monthTitleFormat),c.showLabels=!0,c.labels=p,c.rows=g(s,this.split),c.isTodayDisabled=this.isDisabled(new Date),this.built=!0},isSelected:function(t){return u.$date&&t.getFullYear()===u.$date.getFullYear()&&t.getMonth()===u.$date.getMonth()&&t.getDate()===u.$date.getDate()},isDisabled:function(t){var e=t.getTime();if(e<d.minDate||e>d.maxDate)return!0;if(-1!==d.daysOfWeekDisabled.indexOf(t.getDay()))return!0;if(d.disabledDateRanges)for(var n=0;n<d.disabledDateRanges.length;n++)if(e>=d.disabledDateRanges[n].start&&e<=d.disabledDateRanges[n].end)return!0;return!1},onKeyDown:function(t){if(u.$date){var e,n=u.$date.getTime();37===t.keyCode?e=new Date(n-864e5):38===t.keyCode?e=new Date(n-6048e5):39===t.keyCode?e=new Date(n+864e5):40===t.keyCode&&(e=new Date(n+6048e5)),this.isDisabled(e)||u.select(e,!0)}}},{name:"month",format:d.monthFormat,split:4,steps:{year:1},update:function(t,e){this.built&&t.getFullYear()===m.year?t.getMonth()!==m.month&&(angular.extend(m,{month:u.$date.getMonth(),date:u.$date.getDate()}),u.$updateSelected()):(angular.extend(m,{year:u.$date.getFullYear(),month:u.$date.getMonth(),date:u.$date.getDate()}),u.$build())},build:function(){for(var t,e=[],n=0;n<12;n++)t=new Date(m.year,n,1),e.push({date:t,label:h(t,this.format),selected:u.$isSelected(t),disabled:this.isDisabled(t)});c.title=h(t,d.yearTitleFormat),c.showLabels=!1,c.rows=g(e,this.split),this.built=!0},isSelected:function(t){return u.$date&&t.getFullYear()===u.$date.getFullYear()&&t.getMonth()===u.$date.getMonth()},isDisabled:function(t){return+new Date(t.getFullYear(),t.getMonth()+1,0)<d.minDate||t.getTime()>d.maxDate},onKeyDown:function(t){if(u.$date){var e=u.$date.getMonth(),n=new Date(u.$date);37===t.keyCode?n.setMonth(e-1):38===t.keyCode?n.setMonth(e-4):39===t.keyCode?n.setMonth(e+1):40===t.keyCode&&n.setMonth(e+4),this.isDisabled(n)||u.select(n,!0)}}},{name:"year",format:d.yearFormat,split:4,steps:{year:12},update:function(t,e){!this.built||e||parseInt(t.getFullYear()/20,10)!==parseInt(m.year/20,10)?(angular.extend(m,{year:u.$date.getFullYear(),month:u.$date.getMonth(),date:u.$date.getDate()}),u.$build()):t.getFullYear()!==m.year&&(angular.extend(m,{year:u.$date.getFullYear(),month:u.$date.getMonth(),date:u.$date.getDate()}),u.$updateSelected())},build:function(){for(var t,e=m.year-m.year%(3*this.split),n=[],r=0;r<12;r++)t=new Date(e+r,0,1),n.push({date:t,label:h(t,this.format),selected:u.$isSelected(t),disabled:this.isDisabled(t)});c.title=n[0].label+"-"+n[n.length-1].label,c.showLabels=!1,c.rows=g(n,this.split),this.built=!0},isSelected:function(t){return u.$date&&t.getFullYear()===u.$date.getFullYear()},isDisabled:function(t){return+new Date(t.getFullYear()+1,0,0)<d.minDate||t.getTime()>d.maxDate},onKeyDown:function(t){if(u.$date){var e=u.$date.getFullYear(),n=new Date(u.$date);37===t.keyCode?n.setYear(e-1):38===t.keyCode?n.setYear(e-4):39===t.keyCode?n.setYear(e+1):40===t.keyCode&&n.setYear(e+4),this.isDisabled(n)||u.select(n,!0)}}}];return{views:d.minView?Array.prototype.slice.call(i,d.minView):i,viewDate:m}}}]}),angular.module("mgcrea.ngStrap.collapse",[]).provider("$collapse",function(){var o=this.defaults={animation:"am-collapse",disallowToggle:!1,activeClass:"in",startCollapsed:!1,allowMultiple:!1},e=this.controller=function(t,e,n){var r=this;r.$options=angular.copy(o),angular.forEach(["animation","disallowToggle","activeClass","startCollapsed","allowMultiple"],function(t){angular.isDefined(n[t])&&(r.$options[t]=n[t])});var i=/^(false|0|)$/i;function a(t){var e=r.$targets.$active.indexOf(t);-1!==e&&r.$targets.$active.splice(e,1)}angular.forEach(["disallowToggle","startCollapsed","allowMultiple"],function(t){angular.isDefined(n[t])&&i.test(n[t])&&(r.$options[t]=!1)}),r.$toggles=[],r.$targets=[],r.$viewChangeListeners=[],r.$registerToggle=function(t){r.$toggles.push(t)},r.$registerTarget=function(t){r.$targets.push(t)},r.$unregisterToggle=function(t){var e=r.$toggles.indexOf(t);r.$toggles.splice(e,1)},r.$unregisterTarget=function(t){var e=r.$targets.indexOf(t);r.$targets.splice(e,1),r.$options.allowMultiple&&a(t),function(t){for(var e=r.$targets.$active,n=0;n<e.length;n++)t<e[n]&&(e[n]=e[n]-1),e[n]===r.$targets.length&&(e[n]=r.$targets.length-1)}(e),r.$viewChangeListeners.forEach(function(t){t()})},r.$targets.$active=r.$options.startCollapsed?[]:[0],r.$setActive=t.$setActive=function(t){var e;angular.isArray(t)?r.$targets.$active=t:r.$options.disallowToggle||(e=t,-1===r.$targets.$active.indexOf(e))?function(t){r.$options.allowMultiple||r.$targets.$active.splice(0,1);-1===r.$targets.$active.indexOf(t)&&r.$targets.$active.push(t)}(t):a(t),r.$viewChangeListeners.forEach(function(t){t()})},r.$activeIndexes=function(){return r.$options.allowMultiple?r.$targets.$active:1===r.$targets.$active.length?r.$targets.$active[0]:-1}};this.$get=function(){var t={};return t.defaults=o,t.controller=e,t}}).directive("bsCollapse",["$window","$animate","$collapse",function(t,e,n){return{require:["?ngModel","bsCollapse"],controller:["$scope","$element","$attrs",n.controller],link:function(t,e,n,r){var i=r[0],a=r[1];i&&(a.$viewChangeListeners.push(function(){i.$setViewValue(a.$activeIndexes())}),i.$formatters.push(function(t){if(angular.isArray(t))a.$setActive(t);else{var e=a.$activeIndexes();angular.isArray(e)?-1===e.indexOf(1*t)&&a.$setActive(1*t):e!==1*t&&a.$setActive(1*t)}return t}))}}}]).directive("bsCollapseToggle",function(){return{require:["^?ngModel","^bsCollapse"],link:function(e,n,r,t){var i=t[1];n.attr("data-toggle","collapse"),i.$registerToggle(n),e.$on("$destroy",function(){i.$unregisterToggle(n)}),n.on("click",function(){if(!r.disabled){var t=r.bsCollapseToggle&&"bs-collapse-toggle"!==r.bsCollapseToggle?r.bsCollapseToggle:i.$toggles.indexOf(n);i.$setActive(1*t),e.$apply()}})}}}).directive("bsCollapseTarget",["$animate",function(o){return{require:["^?ngModel","^bsCollapse"],link:function(t,r,e,n){var i=n[1];function a(){var t=i.$targets.indexOf(r),e=i.$activeIndexes(),n="removeClass";angular.isArray(e)?-1!==e.indexOf(t)&&(n="addClass"):t===e&&(n="addClass"),o[n](r,i.$options.activeClass)}r.addClass("collapse"),i.$options.animation&&r.addClass(i.$options.animation),i.$registerTarget(r),t.$on("$destroy",function(){i.$unregisterTarget(r)}),i.$viewChangeListeners.push(function(){a()}),a()}}}]),angular.module("mgcrea.ngStrap.aside",["mgcrea.ngStrap.modal"]).provider("$aside",function(){var r=this.defaults={animation:"am-fade-and-slide-right",prefixClass:"aside",prefixEvent:"aside",placement:"right",templateUrl:"aside/aside.tpl.html",contentTemplate:!1,container:!1,element:null,backdrop:!0,keyboard:!0,html:!1,show:!0};this.$get=["$modal",function(n){return function(t){var e=angular.extend({},r,t);return n(e)}}]}).directive("bsAside",["$window","$sce","$aside",function(t,s,l){return{restrict:"EAC",scope:!0,link:function(r,t,i,e){var n={scope:r,element:t,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","contentTemplate","placement","backdrop","keyboard","html","container","animation"],function(t){angular.isDefined(i[t])&&(n[t]=i[t])});var a=/^(false|0|)$/i;angular.forEach(["backdrop","keyboard","html","container"],function(t){angular.isDefined(i[t])&&a.test(i[t])&&(n[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(i[e])&&(n[t]=r.$eval(i[e]))}),angular.forEach(["title","content"],function(n){i[n]&&i.$observe(n,function(t,e){r[n]=s.trustAsHtml(t)})}),i.bsAside&&r.$watch(i.bsAside,function(t,e){angular.isObject(t)?angular.extend(r,t):r.content=t},!0);var o=l(n);t.on(i.trigger||"click",o.toggle),r.$on("$destroy",function(){o&&o.destroy(),o=n=null})}}}]),angular.module("mgcrea.ngStrap.alert",["mgcrea.ngStrap.modal"]).provider("$alert",function(){var o=this.defaults={animation:"am-fade",prefixClass:"alert",prefixEvent:"alert",placement:null,templateUrl:"alert/alert.tpl.html",container:!1,element:null,backdrop:!1,keyboard:!0,show:!0,duration:!1,type:!1,dismissable:!0};this.$get=["$modal","$timeout",function(i,a){return function(t){var e={},n=angular.extend({},o,t);(e=i(n)).$scope.dismissable=!!n.dismissable,n.type&&(e.$scope.type=n.type);var r=e.show;return n.duration&&(e.show=function(){r(),a(function(){e.hide()},1e3*n.duration)}),e}}]}).directive("bsAlert",["$window","$sce","$alert",function(t,s,l){return{restrict:"EAC",scope:!0,link:function(r,t,i,e){var n={scope:r,element:t,show:!1};angular.forEach(["template","templateUrl","controller","controllerAs","placement","keyboard","html","container","animation","duration","dismissable"],function(t){angular.isDefined(i[t])&&(n[t]=i[t])});var a=/^(false|0|)$/i;angular.forEach(["keyboard","html","container","dismissable"],function(t){angular.isDefined(i[t])&&a.test(i[t])&&(n[t]=!1)}),angular.forEach(["onBeforeShow","onShow","onBeforeHide","onHide"],function(t){var e="bs"+t.charAt(0).toUpperCase()+t.slice(1);angular.isDefined(i[e])&&(n[t]=r.$eval(i[e]))}),r.hasOwnProperty("title")||(r.title=""),angular.forEach(["title","content","type"],function(n){i[n]&&i.$observe(n,function(t,e){r[n]=s.trustAsHtml(t)})}),i.bsAlert&&r.$watch(i.bsAlert,function(t,e){angular.isObject(t)?angular.extend(r,t):r.content=t},!0);var o=l(n);t.on(i.trigger||"click",o.toggle),r.$on("$destroy",function(){o&&o.destroy(),o=n=null})}}}]),angular.module("mgcrea.ngStrap.affix",["mgcrea.ngStrap.helpers.dimensions","mgcrea.ngStrap.helpers.debounce"]).provider("$affix",function(){var l=this.defaults={offsetTop:"auto",inlineStyles:!0,setWidth:!0};this.$get=["$window","debounce","dimensions",function(a,o,b){var w=angular.element(a.document.body),s=angular.element(a);return function(u,t){var e={},c=angular.extend({},l,t),n=c.target,d=!1,h=0,f=0,p=0,m=0,g=null,v=null,r=u.parent();if(c.offsetParent)if(c.offsetParent.match(/^\d+$/))for(var i=0;i<1*c.offsetParent-1;i++)r=r.parent();else r=angular.element(c.offsetParent);function y(){return n[0]===a?a.pageYOffset:n[0].scrollTop}function _(){return n[0]===a?a.document.body.scrollHeight:n[0].scrollHeight}return e.init=function(){this.$parseOffsets(),f=b.offset(u[0]).top+h,d=c.setWidth&&!u[0].style.width,n.on("scroll",this.checkPosition),n.on("click",this.checkPositionWithEventLoop),s.on("resize",this.$debouncedOnResize),this.checkPosition(),this.checkPositionWithEventLoop()},e.destroy=function(){n.off("scroll",this.checkPosition),n.off("click",this.checkPositionWithEventLoop),s.off("resize",this.$debouncedOnResize)},e.checkPositionWithEventLoop=function(){setTimeout(e.checkPosition,1)},e.checkPosition=function(){var t,e,n,r,i,a=y(),o=b.offset(u[0]),s=b.height(u[0]),l=(t=v,e=o,n=s,r=y(),i=_(),r<=p?"top":null!==t?r+t<=e.top?"middle":"bottom":null!==m&&e.top+n+h>=i-m?"bottom":"middle");g!==l&&("top"===(g=l)?(v=null,d&&u.css("width",""),c.inlineStyles&&(u.css("position",c.offsetParent?"":"relative"),u.css("top",""))):"bottom"===l?(v=c.offsetUnpin?-1*c.offsetUnpin:o.top-a,d&&u.css("width",""),c.inlineStyles&&(u.css("position",c.offsetParent?"":"relative"),u.css("top",c.offsetParent?"":w[0].offsetHeight-m-s-f+"px"))):(v=null,d&&u.css("width",u[0].offsetWidth+"px"),c.inlineStyles&&(u.css("position","fixed"),u.css("top",h+"px"))),u.removeClass("affix affix-top affix-bottom").addClass("affix"+("middle"!==l?"-"+l:"")))},e.$onResize=function(){e.$parseOffsets(),e.checkPosition()},e.$debouncedOnResize=o(e.$onResize,50),e.$parseOffsets=function(){var t=u[0].style.position,e=u[0].style.top;c.inlineStyles&&(u.css("position",c.offsetParent?"":"relative"),u.css("top","")),c.offsetTop&&("auto"===c.offsetTop&&(c.offsetTop="+0"),c.offsetTop.match(/^[-+]\d+$/)?(h=1*-c.offsetTop,p=c.offsetParent?b.offset(r[0]).top+1*c.offsetTop:b.offset(u[0]).top-b.css(u[0],"marginTop",!0)+1*c.offsetTop):p=1*c.offsetTop),c.offsetBottom&&(m=c.offsetParent&&c.offsetBottom.match(/^[-+]\d+$/)?_()-(b.offset(r[0]).top+b.height(r[0]))+1*c.offsetBottom+1:1*c.offsetBottom),c.inlineStyles&&(u.css("position",t),u.css("top",e))},e.init(),e}}]}).directive("bsAffix",["$affix","$window","$timeout",function(o,s,l){return{restrict:"EAC",require:"^?bsAffixTarget",link:function(t,e,n,r){var i,a={scope:t,target:r?r.$element:angular.element(s)};angular.forEach(["offsetTop","offsetBottom","offsetParent","offsetUnpin","inlineStyles","setWidth"],function(t){if(angular.isDefined(n[t])){var e=n[t];/true/i.test(e)&&(e=!0),/false/i.test(e)&&(e=!1),a[t]=e}}),l(function(){i=o(e,a)}),t.$on("$destroy",function(){i&&i.destroy(),i=a=null})}}}]).directive("bsAffixTarget",function(){return{controller:["$element",function(t){this.$element=t}]}}),angular.module("mgcrea.ngStrap",["mgcrea.ngStrap.modal","mgcrea.ngStrap.aside","mgcrea.ngStrap.alert","mgcrea.ngStrap.button","mgcrea.ngStrap.select","mgcrea.ngStrap.datepicker","mgcrea.ngStrap.timepicker","mgcrea.ngStrap.navbar","mgcrea.ngStrap.tooltip","mgcrea.ngStrap.popover","mgcrea.ngStrap.dropdown","mgcrea.ngStrap.typeahead","mgcrea.ngStrap.scrollspy","mgcrea.ngStrap.affix","mgcrea.ngStrap.tab","mgcrea.ngStrap.collapse"])}(window,document),function(t,e,n){"use strict";angular.module("mgcrea.ngStrap.alert").run(["$templateCache",function(t){t.put("alert/alert.tpl.html",'<div class="alert" ng-class="[type ? \'alert-\' + type : null]"><button type="button" class="close" ng-if="dismissable" ng-click="$hide()">&times;</button> <span ng-if="title"><strong ng-bind="title"></strong>&nbsp;<span ng-bind-html="content"></span> </span><span ng-if="!title" ng-bind-html="content"></span></div>')}]),angular.module("mgcrea.ngStrap.aside").run(["$templateCache",function(t){t.put("aside/aside.tpl.html",'<div class="aside" tabindex="-1" role="dialog"><div class="aside-dialog"><div class="aside-content"><div class="aside-header" ng-show="title"><button type="button" class="close" ng-click="$hide()">&times;</button><h4 class="aside-title" ng-bind="title"></h4></div><div class="aside-body" ng-bind="content"></div><div class="aside-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.datepicker").run(["$templateCache",function(t){t.put("datepicker/datepicker.tpl.html",'<div class="dropdown-menu datepicker" ng-class="\'datepicker-mode-\' + $mode" style="max-width: 320px"><table style="table-layout: fixed; height: 100%; width: 100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$selectPane(-1)"><i class="{{$iconLeft}}"></i></button></th><th colspan="{{ rows[0].length - 2 }}"><button tabindex="-1" type="button" class="btn btn-default btn-block text-strong" ng-click="$toggleMode()"><strong style="text-transform: capitalize" ng-bind="title"></strong></button></th><th><button tabindex="-1" type="button" class="btn btn-default pull-right" ng-click="$selectPane(+1)"><i class="{{$iconRight}}"></i></button></th></tr><tr ng-if="showLabels" ng-bind-html="labels"></tr></thead><tbody><tr ng-repeat="(i, row) in rows" height="{{ 100 / rows.length }}%"><td class="text-center" ng-repeat="(j, el) in row"><button tabindex="-1" type="button" class="btn btn-default" style="width: 100%" ng-class="{\'btn-primary\': el.selected, \'btn-info btn-today\': el.isToday && !el.selected}" ng-click="$select(el.date, el.disabled)" ng-disabled="el.disabled"><span ng-class="{\'text-muted\': el.muted}" ng-bind="el.label"></span></button></td></tr></tbody><tfoot><tr><td colspan="{{ rows[0].length }}"><div class="btn-group btn-group-justified" role="group"><div class="btn-group" role="group" ng-if="$hasToday"><button type="button" class="btn btn-default today" ng-click="$setToday()" ng-disabled="isTodayDisabled"><strong style="text-transform: capitalize">Today</strong></button></div><div class="btn-group" role="group" ng-if="$hasClear"><button type="button" class="btn btn-default clear" ng-click="$clear()"><strong style="text-transform: capitalize">Clear</strong></button></div></div></td></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.dropdown").run(["$templateCache",function(t){t.put("dropdown/dropdown.tpl.html",'<ul tabindex="-1" class="dropdown-menu" role="menu" ng-show="content && content.length"><li role="presentation" ng-class="{divider: item.divider, active: item.active}" ng-repeat="item in content"><a role="menuitem" tabindex="-1" ng-href="{{item.href}}" ng-if="!item.divider && item.href" target="{{item.target || \'\'}}" ng-bind="item.text"></a> <a role="menuitem" tabindex="-1" href="javascript:void(0)" ng-if="!item.divider && item.click" ng-click="$eval(item.click);$hide()" ng-bind="item.text"></a></li></ul>')}]),angular.module("mgcrea.ngStrap.modal").run(["$templateCache",function(t){t.put("modal/modal.tpl.html",'<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header" ng-show="title"><button type="button" class="close" aria-label="Close" ng-click="$hide()"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" ng-bind="title"></h4></div><div class="modal-body" ng-bind="content"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="$hide()">Close</button></div></div></div></div>')}]),angular.module("mgcrea.ngStrap.popover").run(["$templateCache",function(t){t.put("popover/popover.tpl.html",'<div class="popover" tabindex="-1"><div class="arrow"></div><h3 class="popover-title" ng-bind="title" ng-show="title"></h3><div class="popover-content" ng-bind="content"></div></div>')}]),angular.module("mgcrea.ngStrap.select").run(["$templateCache",function(t){t.put("select/select.tpl.html",'<ul tabindex="-1" class="select dropdown-menu" ng-show="$isVisible()" role="select"><li ng-if="$showAllNoneButtons"><div class="btn-group" style="margin-bottom: 5px; margin-left: 5px"><button type="button" class="btn btn-default btn-xs" ng-click="$selectAll()">{{$allText}}</button> <button type="button" class="btn btn-default btn-xs" ng-click="$selectNone()">{{$noneText}}</button></div></li><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $isActive($index)}"><a style="cursor: default" role="menuitem" tabindex="-1" ng-click="$select($index, $event)"><i class="{{$iconCheckmark}} pull-right" ng-if="$isMultiple && $isActive($index)"></i> <span ng-bind="match.label"></span></a></li></ul>')}]),angular.module("mgcrea.ngStrap.tab").run(["$templateCache",function(t){t.put("tab/tab.tpl.html",'<ul class="nav" ng-class="$navClass" role="tablist"><li role="presentation" ng-repeat="$pane in $panes track by $index" ng-class="[ $isActive($pane, $index) ? $activeClass : \'\', $pane.disabled ? \'disabled\' : \'\' ]"><a role="tab" data-toggle="tab" ng-click="!$pane.disabled && $setActive($pane.name || $index)" data-index="{{ $index }}" ng-bind-html="$pane.title" aria-controls="$pane.title" href=""></a></li></ul><div ng-transclude class="tab-content"></div>')}]),angular.module("mgcrea.ngStrap.timepicker").run(["$templateCache",function(t){t.put("timepicker/timepicker.tpl.html",'<div class="dropdown-menu timepicker" style="min-width: 0px;width: auto"><table height="100%"><thead><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 0)"><i class="{{ $iconUp }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 1)"><i class="{{ $iconUp }}"></i></button></th><th ng-if="showSeconds">&nbsp;</th><th ng-if="showSeconds"><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(-1, 2)"><i class="{{ $iconUp }}"></i></button></th></tr></thead><tbody><tr ng-repeat="(i, row) in rows"><td class="text-center"><button tabindex="-1" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[0].selected}" ng-click="$select(row[0].date, 0)" ng-disabled="row[0].disabled"><span ng-class="{\'text-muted\': row[0].muted}" ng-bind="row[0].label"></span></button></td><td><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td class="text-center"><button tabindex="-1" ng-if="row[1].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[1].selected}" ng-click="$select(row[1].date, 1)" ng-disabled="row[1].disabled"><span ng-class="{\'text-muted\': row[1].muted}" ng-bind="row[1].label"></span></button></td><td ng-if="showSeconds"><span ng-bind="i == midIndex ? timeSeparator : \' \'"></span></td><td ng-if="showSeconds" class="text-center"><button tabindex="-1" ng-if="row[2].date" style="width: 100%" type="button" class="btn btn-default" ng-class="{\'btn-primary\': row[2].selected}" ng-click="$select(row[2].date, 2)" ng-disabled="row[2].disabled"><span ng-class="{\'text-muted\': row[2].muted}" ng-bind="row[2].label"></span></button></td><td ng-if="showAM">&nbsp;</td><td ng-if="showAM"><button tabindex="-1" ng-show="i == midIndex - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !!isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">AM</button> <button tabindex="-1" ng-show="i == midIndex + 1 - !isAM * 1" style="width: 100%" type="button" ng-class="{\'btn-primary\': !isAM}" class="btn btn-default" ng-click="$switchMeridian()" ng-disabled="el.disabled">PM</button></td></tr></tbody><tfoot><tr class="text-center"><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 0)"><i class="{{ $iconDown }}"></i></button></th><th>&nbsp;</th><th><button tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 1)"><i class="{{ $iconDown }}"></i></button></th><th ng-if="showSeconds">&nbsp;</th><th ng-if="showSeconds"><button ng-if="showSeconds" tabindex="-1" type="button" class="btn btn-default pull-left" ng-click="$arrowAction(1, 2)"><i class="{{ $iconDown }}"></i></button></th></tr></tfoot></table></div>')}]),angular.module("mgcrea.ngStrap.tooltip").run(["$templateCache",function(t){t.put("tooltip/tooltip.tpl.html",'<div class="tooltip in" ng-show="title"><div class="tooltip-arrow"></div><div class="tooltip-inner" ng-bind="title"></div></div>')}]),angular.module("mgcrea.ngStrap.typeahead").run(["$templateCache",function(t){t.put("typeahead/typeahead.tpl.html",'<ul tabindex="-1" class="typeahead dropdown-menu" ng-show="$isVisible()" role="select"><li role="presentation" ng-repeat="match in $matches" ng-class="{active: $index == $activeIndex}"><a role="menuitem" tabindex="-1" ng-click="$select($index, $event)" ng-bind="match.label"></a></li></ul>')}])}(window,document),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t,i;function y(){return t.apply(null,arguments)}function s(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function l(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function u(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function h(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){for(var n in e)_(e,n)&&(t[n]=e[n]);return _(e,"toString")&&(t.toString=e.toString),_(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,n,r){return xe(t,e,n,r,!0).utc()}function b(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function m(t){if(null==t._isValid){var e=b(t),n=i.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function g(t){var e=p(NaN);return null!=t?f(b(e),t):b(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var a=y.momentProperties=[];function v(t,e){var n,r,i;if(u(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),u(e._i)||(t._i=e._i),u(e._f)||(t._f=e._f),u(e._l)||(t._l=e._l),u(e._strict)||(t._strict=e._strict),u(e._tzm)||(t._tzm=e._tzm),u(e._isUTC)||(t._isUTC=e._isUTC),u(e._offset)||(t._offset=e._offset),u(e._pf)||(t._pf=b(e)),u(e._locale)||(t._locale=e._locale),0<a.length)for(n=0;n<a.length;n++)u(i=e[r=a[n]])||(t[r]=i);return t}var e=!1;function w(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===e&&(e=!0,y.updateOffset(this),e=!1)}function M(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function $(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function x(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=$(e)),n}function o(t,e,n){var r,i=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&x(t[r])!==x(e[r]))&&o++;return o+a}function k(t){!1===y.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function n(i,a){var o=!0;return f(function(){if(null!=y.deprecationHandler&&y.deprecationHandler(null,i),o){for(var t,e=[],n=0;n<arguments.length;n++){if(t="","object"==typeof arguments[n]){for(var r in t+="\n["+n+"] ",arguments[0])t+=r+": "+arguments[0][r]+", ";t=t.slice(0,-2)}else t=arguments[n];e.push(t)}k(i+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),o=!1}return a.apply(this,arguments)},a)}var r,S={};function T(t,e){null!=y.deprecationHandler&&y.deprecationHandler(t,e),S[t]||(k(e),S[t]=!0)}function L(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function C(t,e){var n,r=f({},t);for(n in e)_(e,n)&&(l(t[n])&&l(e[n])?(r[n]={},f(r[n],t[n]),f(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)_(t,n)&&!_(e,n)&&l(t[n])&&(r[n]=f({},r[n]));return r}function D(t){null!=t&&this.set(t)}y.suppressDeprecationWarnings=!1,y.deprecationHandler=null,r=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)_(t,e)&&n.push(e);return n};var E={};function Y(t,e){var n=t.toLowerCase();E[n]=E[n+"s"]=E[e]=t}function A(t){return"string"==typeof t?E[t]||E[t.toLowerCase()]:void 0}function N(t){var e,n,r={};for(n in t)_(t,n)&&(e=A(n))&&(r[e]=t[n]);return r}var O={};function R(t,e){O[t]=e}function H(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},I={};function z(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(I[t]=i),e&&(I[e[0]]=function(){return H(i.apply(this,arguments),e[1],e[2])}),n&&(I[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function B(t,e){return t.isValid()?(e=W(e,t.localeData()),F[e]=F[e]||function(r){var t,i,e,a=r.match(P);for(t=0,i=a.length;t<i;t++)I[a[t]]?a[t]=I[a[t]]:a[t]=(e=a[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(t){var e,n="";for(e=0;e<i;e++)n+=L(a[e])?a[e].call(t,r):a[e];return n}}(e),F[e](t)):t.localeData().invalidDate()}function W(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;0<=n&&j.test(t);)t=t.replace(j,r),j.lastIndex=0,n-=1;return t}var U=/\d/,q=/\d\d/,V=/\d{3}/,G=/\d{4}/,K=/[+-]?\d{6}/,J=/\d\d?/,X=/\d\d\d\d?/,Z=/\d\d\d\d\d\d?/,Q=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,nt=/\d+/,rt=/[+-]?\d+/,it=/Z|[+-]\d\d:?\d\d/gi,at=/Z|[+-]\d\d(?::?\d\d)?/gi,ot=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,st={};function lt(t,n,r){st[t]=L(n)?n:function(t,e){return t&&r?r:n}}function ut(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ct={};function dt(t,n){var e,r=n;for("string"==typeof t&&(t=[t]),c(n)&&(r=function(t,e){e[n]=x(t)}),e=0;e<t.length;e++)ct[t[e]]=r}function ht(t,i){dt(t,function(t,e,n,r){n._w=n._w||{},i(t,n._w,n,r)})}var ft=0,pt=1,mt=2,gt=3,vt=4,yt=5,_t=6,bt=7,wt=8;function Mt(t){return $t(t)?366:365}function $t(t){return t%4==0&&t%100!=0||t%400==0}z("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),R("year",1),lt("Y",rt),lt("YY",J,q),lt("YYYY",tt,G),lt("YYYYY",et,K),lt("YYYYYY",et,K),dt(["YYYYY","YYYYYY"],ft),dt("YYYY",function(t,e){e[ft]=2===t.length?y.parseTwoDigitYear(t):x(t)}),dt("YY",function(t,e){e[ft]=y.parseTwoDigitYear(t)}),dt("Y",function(t,e){e[ft]=parseInt(t,10)}),y.parseTwoDigitYear=function(t){return x(t)+(68<x(t)?1900:2e3)};var xt,kt=St("FullYear",!0);function St(e,n){return function(t){return null!=t?(Lt(this,e,t),y.updateOffset(this,n),this):Tt(this,e)}}function Tt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Lt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&$t(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Ct(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Ct(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1===n?$t(t)?29:28:31-n%7%2}xt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),z("MMMM",0,0,function(t){return this.localeData().months(this,t)}),Y("month","M"),R("month",8),lt("M",J),lt("MM",J,q),lt("MMM",function(t,e){return e.monthsShortRegex(t)}),lt("MMMM",function(t,e){return e.monthsRegex(t)}),dt(["M","MM"],function(t,e){e[pt]=x(t)-1}),dt(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[pt]=i:b(n).invalidMonth=t});var Dt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Yt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function At(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=x(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Ct(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Nt(t){return null!=t?(At(this,t),y.updateOffset(this,!0),this):Tt(this,"Month")}var Ot=ot,Rt=ot;function Ht(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],a=[];for(e=0;e<12;e++)n=p([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),a.sort(t),e=0;e<12;e++)r[e]=ut(r[e]),i[e]=ut(i[e]);for(e=0;e<24;e++)a[e]=ut(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Pt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function jt(t,e,n){var r=7+e-n;return-(7+Pt(t,0,r).getUTCDay()-e)%7+r-1}function Ft(t,e,n,r,i){var a,o,s=1+7*(e-1)+(7+n-r)%7+jt(t,r,i);return s<=0?o=Mt(a=t-1)+s:s>Mt(t)?(a=t+1,o=s-Mt(t)):(a=t,o=s),{year:a,dayOfYear:o}}function It(t,e,n){var r,i,a=jt(t.year(),e,n),o=Math.floor((t.dayOfYear()-a-1)/7)+1;return o<1?r=o+zt(i=t.year()-1,e,n):o>zt(t.year(),e,n)?(r=o-zt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=o),{week:r,year:i}}function zt(t,e,n){var r=jt(t,e,n),i=jt(t+1,e,n);return(Mt(t)-r+i)/7}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),R("week",5),R("isoWeek",5),lt("w",J),lt("ww",J,q),lt("W",J),lt("WW",J,q),ht(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=x(t)}),z("d",0,"do","day"),z("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),z("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),z("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),lt("d",J),lt("e",J),lt("E",J),lt("dd",function(t,e){return e.weekdaysMinRegex(t)}),lt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),lt("dddd",function(t,e){return e.weekdaysRegex(t)}),ht(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:b(n).invalidWeekday=t}),ht(["d","e","E"],function(t,e,n,r){e[r]=x(t)});var Bt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Wt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ut="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qt=ot,Vt=ot,Gt=ot;function Kt(){function t(t,e){return e.length-t.length}var e,n,r,i,a,o=[],s=[],l=[],u=[];for(e=0;e<7;e++)n=p([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),a=this.weekdays(n,""),o.push(r),s.push(i),l.push(a),u.push(r),u.push(i),u.push(a);for(o.sort(t),s.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)s[e]=ut(s[e]),l[e]=ut(l[e]),u[e]=ut(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Xt(t,e){z(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Zt(t,e){return e._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Jt),z("k",["kk",2],0,function(){return this.hours()||24}),z("hmm",0,0,function(){return""+Jt.apply(this)+H(this.minutes(),2)}),z("hmmss",0,0,function(){return""+Jt.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),Xt("a",!0),Xt("A",!1),Y("hour","h"),R("hour",13),lt("a",Zt),lt("A",Zt),lt("H",J),lt("h",J),lt("k",J),lt("HH",J,q),lt("hh",J,q),lt("kk",J,q),lt("hmm",X),lt("hmmss",Z),lt("Hmm",X),lt("Hmmss",Z),dt(["H","HH"],gt),dt(["k","kk"],function(t,e,n){var r=x(t);e[gt]=24===r?0:r}),dt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),dt(["h","hh"],function(t,e,n){e[gt]=x(t),b(n).bigHour=!0}),dt("hmm",function(t,e,n){var r=t.length-2;e[gt]=x(t.substr(0,r)),e[vt]=x(t.substr(r)),b(n).bigHour=!0}),dt("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[gt]=x(t.substr(0,r)),e[vt]=x(t.substr(r,2)),e[yt]=x(t.substr(i)),b(n).bigHour=!0}),dt("Hmm",function(t,e,n){var r=t.length-2;e[gt]=x(t.substr(0,r)),e[vt]=x(t.substr(r))}),dt("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[gt]=x(t.substr(0,r)),e[vt]=x(t.substr(r,2)),e[yt]=x(t.substr(i))});var Qt,te=St("Hours",!0),ee={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Et,monthsShort:Yt,week:{dow:0,doy:6},weekdays:Bt,weekdaysMin:Ut,weekdaysShort:Wt,meridiemParse:/[ap]\.?m?\.?/i},ne={},re={};function ie(t){return t?t.toLowerCase().replace("_","-"):t}function ae(t){var e=null;if(!ne[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Qt._abbr,require("./locale/"+t),oe(e)}catch(t){}return ne[t]}function oe(t,e){var n;return t&&((n=u(e)?le(t):se(t,e))?Qt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Qt._abbr}function se(t,e){if(null!==e){var n,r=ee;if(e.abbr=t,null!=ne[t])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ne[t]._config;else if(null!=e.parentLocale)if(null!=ne[e.parentLocale])r=ne[e.parentLocale]._config;else{if(null==(n=ae(e.parentLocale)))return re[e.parentLocale]||(re[e.parentLocale]=[]),re[e.parentLocale].push({name:t,config:e}),null;r=n._config}return ne[t]=new D(C(r,e)),re[t]&&re[t].forEach(function(t){se(t.name,t.config)}),oe(t),ne[t]}return delete ne[t],null}function le(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Qt;if(!s(t)){if(e=ae(t))return e;t=[t]}return function(t){for(var e,n,r,i,a=0;a<t.length;){for(e=(i=ie(t[a]).split("-")).length,n=(n=ie(t[a+1]))?n.split("-"):null;0<e;){if(r=ae(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&o(i,n,!0)>=e-1)break;e--}a++}return Qt}(t)}function ue(t){var e,n=t._a;return n&&-2===b(t).overflow&&(e=n[pt]<0||11<n[pt]?pt:n[mt]<1||n[mt]>Ct(n[ft],n[pt])?mt:n[gt]<0||24<n[gt]||24===n[gt]&&(0!==n[vt]||0!==n[yt]||0!==n[_t])?gt:n[vt]<0||59<n[vt]?vt:n[yt]<0||59<n[yt]?yt:n[_t]<0||999<n[_t]?_t:-1,b(t)._overflowDayOfYear&&(e<ft||mt<e)&&(e=mt),b(t)._overflowWeeks&&-1===e&&(e=bt),b(t)._overflowWeekday&&-1===e&&(e=wt),b(t).overflow=e),t}function ce(t,e,n){return null!=t?t:null!=e?e:n}function de(t){var e,n,r,i,a,o=[];if(!t._d){var s,l;for(s=t,l=new Date(y.now()),r=s._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()],t._w&&null==t._a[mt]&&null==t._a[pt]&&function(t){var e,n,r,i,a,o,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)a=1,o=4,n=ce(e.GG,t._a[ft],It(ke(),1,4).year),r=ce(e.W,1),((i=ce(e.E,1))<1||7<i)&&(l=!0);else{a=t._locale._week.dow,o=t._locale._week.doy;var u=It(ke(),a,o);n=ce(e.gg,t._a[ft],u.year),r=ce(e.w,u.week),null!=e.d?((i=e.d)<0||6<i)&&(l=!0):null!=e.e?(i=e.e+a,(e.e<0||6<e.e)&&(l=!0)):i=a}r<1||r>zt(n,a,o)?b(t)._overflowWeeks=!0:null!=l?b(t)._overflowWeekday=!0:(s=Ft(n,r,i,a,o),t._a[ft]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=ce(t._a[ft],r[ft]),(t._dayOfYear>Mt(a)||0===t._dayOfYear)&&(b(t)._overflowDayOfYear=!0),n=Pt(a,0,t._dayOfYear),t._a[pt]=n.getUTCMonth(),t._a[mt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=r[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[gt]&&0===t._a[vt]&&0===t._a[yt]&&0===t._a[_t]&&(t._nextDay=!0,t._a[gt]=0),t._d=(t._useUTC?Pt:function(t,e,n,r,i,a,o){var s=new Date(t,e,n,r,i,a,o);return t<100&&0<=t&&isFinite(s.getFullYear())&&s.setFullYear(t),s}).apply(null,o),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[gt]=24),t._w&&void 0!==t._w.d&&t._w.d!==i&&(b(t).weekdayMismatch=!0)}}var he=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/Z|[+-]\d\d(?::?\d\d)?/,me=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ge=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ve=/^\/?Date\((\-?\d+)/i;function ye(t){var e,n,r,i,a,o,s=t._i,l=he.exec(s)||fe.exec(s);if(l){for(b(t).iso=!0,e=0,n=me.length;e<n;e++)if(me[e][1].exec(l[1])){i=me[e][0],r=!1!==me[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=ge.length;e<n;e++)if(ge[e][1].exec(l[3])){a=(l[2]||" ")+ge[e][0];break}if(null==a)return void(t._isValid=!1)}if(!r&&null!=a)return void(t._isValid=!1);if(l[4]){if(!pe.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=i+(a||"")+(o||""),Me(t)}else t._isValid=!1}var _e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var be={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function we(t){var e,n,r,i,a,o,s,l,u,c,d,h=_e.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(h){var f=(i=h[4],a=h[3],o=h[2],s=h[5],l=h[6],u=h[7],d=[(c=parseInt(i,10),c<=49?2e3+c:c<=999?1900+c:c),Yt.indexOf(a),parseInt(o,10),parseInt(s,10),parseInt(l,10)],u&&d.push(parseInt(u,10)),d);if(n=f,r=t,(e=h[1])&&Wt.indexOf(e)!==new Date(n[0],n[1],n[2]).getDay()&&(b(r).weekdayMismatch=!0,!(r._isValid=!1)))return;t._a=f,t._tzm=function(t,e,n){if(t)return be[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(h[8],h[9],h[10]),t._d=Pt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),b(t).rfc2822=!0}else t._isValid=!1}function Me(t){if(t._f!==y.ISO_8601)if(t._f!==y.RFC_2822){t._a=[],b(t).empty=!0;var e,n,r,i,a,o,s,l,u=""+t._i,c=u.length,d=0;for(r=W(t._f,t._locale).match(P)||[],e=0;e<r.length;e++)i=r[e],(n=(u.match((g=i,v=t,_(st,g)?st[g](v._strict,v._locale):new RegExp(ut(g.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i})))))||[])[0])&&(0<(a=u.substr(0,u.indexOf(n))).length&&b(t).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),d+=n.length),I[i]?(n?b(t).empty=!1:b(t).unusedTokens.push(i),o=i,l=t,null!=(s=n)&&_(ct,o)&&ct[o](s,l._a,l,o)):t._strict&&!n&&b(t).unusedTokens.push(i);b(t).charsLeftOver=c-d,0<u.length&&b(t).unusedInput.push(u),t._a[gt]<=12&&!0===b(t).bigHour&&0<t._a[gt]&&(b(t).bigHour=void 0),b(t).parsedDateParts=t._a.slice(0),b(t).meridiem=t._meridiem,t._a[gt]=(h=t._locale,f=t._a[gt],null==(p=t._meridiem)?f:null!=h.meridiemHour?h.meridiemHour(f,p):(null!=h.isPM&&((m=h.isPM(p))&&f<12&&(f+=12),m||12!==f||(f=0)),f)),de(t),ue(t)}else we(t);else ye(t);var h,f,p,m,g,v}function $e(t){var e,n,r,i,a=t._i,o=t._f;return t._locale=t._locale||le(t._l),null===a||void 0===o&&""===a?g({nullInput:!0}):("string"==typeof a&&(t._i=a=t._locale.preparse(a)),M(a)?new w(ue(a)):(d(a)?t._d=a:s(o)?function(t){var e,n,r,i,a;if(0===t._f.length)return b(t).invalidFormat=!0,t._d=new Date(NaN);for(i=0;i<t._f.length;i++)a=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Me(e),m(e)&&(a+=b(e).charsLeftOver,a+=10*b(e).unusedTokens.length,b(e).score=a,(null==r||a<r)&&(r=a,n=e));f(t,n||e)}(t):o?Me(t):u(n=(e=t)._i)?e._d=new Date(y.now()):d(n)?e._d=new Date(n.valueOf()):"string"==typeof n?(r=e,null===(i=ve.exec(r._i))?(ye(r),!1===r._isValid&&(delete r._isValid,we(r),!1===r._isValid&&(delete r._isValid,y.createFromInputFallback(r)))):r._d=new Date(+i[1])):s(n)?(e._a=h(n.slice(0),function(t){return parseInt(t,10)}),de(e)):l(n)?function(t){if(!t._d){var e=N(t._i);t._a=h([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),de(t)}}(e):c(n)?e._d=new Date(n):y.createFromInputFallback(e),m(t)||(t._d=null),t))}function xe(t,e,n,r,i){var a,o={};return!0!==n&&!1!==n||(r=n,n=void 0),(l(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||s(t)&&0===t.length)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,(a=new w(ue($e(o))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function ke(t,e,n,r){return xe(t,e,n,r,!1)}y.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),y.ISO_8601=function(){},y.RFC_2822=function(){};var Se=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ke.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),Te=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ke.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:g()});function Le(t,e){var n,r;if(1===e.length&&s(e[0])&&(e=e[0]),!e.length)return ke();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Ce=["year","quarter","month","week","day","hour","minute","second","millisecond"];function De(t){var e=N(t),n=e.year||0,r=e.quarter||0,i=e.month||0,a=e.week||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===xt.call(Ce,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Ce.length;++r)if(t[Ce[r]]){if(n)return!1;parseFloat(t[Ce[r]])!==x(t[Ce[r]])&&(n=!0)}return!0}(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=le(),this._bubble()}function Ee(t){return t instanceof De}function Ye(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ae(t,n){z(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+H(~~(t/60),2)+n+H(~~t%60,2)})}Ae("Z",":"),Ae("ZZ",""),lt("Z",at),lt("ZZ",at),dt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Oe(at,t)});var Ne=/([\+\-]|\d\d)/gi;function Oe(t,e){var n=(e||"").match(t);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Ne)||["-",0,0],i=60*r[1]+x(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Re(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(M(t)||d(t)?t.valueOf():ke(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),y.updateOffset(n,!1),n):ke(t).local()}function He(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Pe(){return!!this.isValid()&&this._isUTC&&0===this._offset}y.updateOffset=function(){};var je=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Fe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ie(t,e){var n,r,i,a,o,s,l=t,u=null;return Ee(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:c(t)?(l={},e?l[e]=t:l.milliseconds=t):(u=je.exec(t))?(n="-"===u[1]?-1:1,l={y:0,d:x(u[mt])*n,h:x(u[gt])*n,m:x(u[vt])*n,s:x(u[yt])*n,ms:x(Ye(1e3*u[_t]))*n}):(u=Fe.exec(t))?(n="-"===u[1]?-1:(u[1],1),l={y:ze(u[2],n),M:ze(u[3],n),w:ze(u[4],n),d:ze(u[5],n),h:ze(u[6],n),m:ze(u[7],n),s:ze(u[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(a=ke(l.from),o=ke(l.to),i=a.isValid()&&o.isValid()?(o=Re(o,a),a.isBefore(o)?s=Be(a,o):((s=Be(o,a)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(l={}).ms=i.milliseconds,l.M=i.months),r=new De(l),Ee(t)&&_(t,"_locale")&&(r._locale=t._locale),r}function ze(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Be(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function We(r,i){return function(t,e){var n;return null===e||isNaN(+e)||(T(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Ue(this,Ie(t="string"==typeof t?+t:t,e),r),this}}function Ue(t,e,n,r){var i=e._milliseconds,a=Ye(e._days),o=Ye(e._months);t.isValid()&&(r=null==r||r,o&&At(t,Tt(t,"Month")+o*n),a&&Lt(t,"Date",Tt(t,"Date")+a*n),i&&t._d.setTime(t._d.valueOf()+i*n),r&&y.updateOffset(t,a||o))}Ie.fn=De.prototype,Ie.invalid=function(){return Ie(NaN)};var qe=We(1,"add"),Ve=We(-1,"subtract");function Ge(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function Ke(t){var e;return void 0===t?this._locale._abbr:(null!=(e=le(t))&&(this._locale=e),this)}y.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",y.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Je=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Xe(){return this._locale}function Ze(t,e){z(0,[t,t.length],0,e)}function Qe(t,e,n,r,i){var a;return null==t?It(this,r,i).year:((a=zt(t,r,i))<e&&(e=a),function(t,e,n,r,i){var a=Ft(t,e,n,r,i),o=Pt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,t,e,n,r,i))}z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ze("gggg","weekYear"),Ze("ggggg","weekYear"),Ze("GGGG","isoWeekYear"),Ze("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),lt("G",rt),lt("g",rt),lt("GG",J,q),lt("gg",J,q),lt("GGGG",tt,G),lt("gggg",tt,G),lt("GGGGG",et,K),lt("ggggg",et,K),ht(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=x(t)}),ht(["gg","GG"],function(t,e,n,r){e[r]=y.parseTwoDigitYear(t)}),z("Q",0,"Qo","quarter"),Y("quarter","Q"),R("quarter",7),lt("Q",U),dt("Q",function(t,e){e[pt]=3*(x(t)-1)}),z("D",["DD",2],"Do","date"),Y("date","D"),R("date",9),lt("D",J),lt("DD",J,q),lt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),dt(["D","DD"],mt),dt("Do",function(t,e){e[mt]=x(t.match(J)[0])});var tn=St("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),R("dayOfYear",4),lt("DDD",Q),lt("DDDD",V),dt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=x(t)}),z("m",["mm",2],0,"minute"),Y("minute","m"),R("minute",14),lt("m",J),lt("mm",J,q),dt(["m","mm"],vt);var en=St("Minutes",!1);z("s",["ss",2],0,"second"),Y("second","s"),R("second",15),lt("s",J),lt("ss",J,q),dt(["s","ss"],yt);var nn,rn=St("Seconds",!1);for(z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Y("millisecond","ms"),R("millisecond",16),lt("S",Q,U),lt("SS",Q,q),lt("SSS",Q,V),nn="SSSS";nn.length<=9;nn+="S")lt(nn,nt);function an(t,e){e[_t]=x(1e3*("0."+t))}for(nn="S";nn.length<=9;nn+="S")dt(nn,an);var on=St("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var sn=w.prototype;function ln(t){return t}sn.add=qe,sn.calendar=function(t,e){var n=t||ke(),r=Re(n,this).startOf("day"),i=y.calendarFormat(this,r)||"sameElse",a=e&&(L(e[i])?e[i].call(this,n):e[i]);return this.format(a||this.localeData().calendar(i,this,ke(n)))},sn.clone=function(){return new w(this)},sn.diff=function(t,e,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=Re(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=A(e)){case"year":a=Ge(this,r)/12;break;case"month":a=Ge(this,r);break;case"quarter":a=Ge(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:$(a)},sn.endOf=function(t){return void 0===(t=A(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},sn.format=function(t){t||(t=this.isUtc()?y.defaultFormatUtc:y.defaultFormat);var e=B(this,t);return this.localeData().postformat(e)},sn.from=function(t,e){return this.isValid()&&(M(t)&&t.isValid()||ke(t).isValid())?Ie({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},sn.fromNow=function(t){return this.from(ke(),t)},sn.to=function(t,e){return this.isValid()&&(M(t)&&t.isValid()||ke(t).isValid())?Ie({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},sn.toNow=function(t){return this.to(ke(),t)},sn.get=function(t){return L(this[t=A(t)])?this[t]():this},sn.invalidAt=function(){return b(this).overflow},sn.isAfter=function(t,e){var n=M(t)?t:ke(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=A(u(e)?"millisecond":e))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},sn.isBefore=function(t,e){var n=M(t)?t:ke(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=A(u(e)?"millisecond":e))?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},sn.isBetween=function(t,e,n,r){return("("===(r=r||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))},sn.isSame=function(t,e){var n,r=M(t)?t:ke(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=A(e||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},sn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},sn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},sn.isValid=function(){return m(this)},sn.lang=Je,sn.locale=Ke,sn.localeData=Xe,sn.max=Te,sn.min=Se,sn.parsingFlags=function(){return f({},b(this))},sn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:O[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=N(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(L(this[t=A(t)]))return this[t](e);return this},sn.startOf=function(t){switch(t=A(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},sn.subtract=Ve,sn.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},sn.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},sn.toDate=function(){return new Date(this.valueOf())},sn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||9999<n.year()?B(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):L(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",B(n,"Z")):B(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},sn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},sn.toJSON=function(){return this.isValid()?this.toISOString():null},sn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},sn.unix=function(){return Math.floor(this.valueOf()/1e3)},sn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},sn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},sn.year=kt,sn.isLeapYear=function(){return $t(this.year())},sn.weekYear=function(t){return Qe.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},sn.isoWeekYear=function(t){return Qe.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},sn.quarter=sn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},sn.month=Nt,sn.daysInMonth=function(){return Ct(this.year(),this.month())},sn.week=sn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},sn.isoWeek=sn.isoWeeks=function(t){var e=It(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},sn.weeksInYear=function(){var t=this.localeData()._week;return zt(this.year(),t.dow,t.doy)},sn.isoWeeksInYear=function(){return zt(this.year(),1,4)},sn.date=tn,sn.day=sn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-r,"d")):r},sn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},sn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=(n=t,r=this.localeData(),"string"==typeof n?r.weekdaysParse(n)%7||7:isNaN(n)?null:n);return this.day(this.day()%7?e:e-7)}return this.day()||7;var n,r},sn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},sn.hour=sn.hours=te,sn.minute=sn.minutes=en,sn.second=sn.seconds=rn,sn.millisecond=sn.milliseconds=on,sn.utcOffset=function(t,e,n){var r,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Oe(at,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=He(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==t&&(!e||this._changeInProgress?Ue(this,Ie(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,y.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:He(this)},sn.utc=function(t){return this.utcOffset(0,t)},sn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(He(this),"m")),this},sn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Oe(it,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},sn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?ke(t).utcOffset():0,(this.utcOffset()-t)%60==0)},sn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},sn.isLocal=function(){return!!this.isValid()&&!this._isUTC},sn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},sn.isUtc=Pe,sn.isUTC=Pe,sn.zoneAbbr=function(){return this._isUTC?"UTC":""},sn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},sn.dates=n("dates accessor is deprecated. Use date instead.",tn),sn.months=n("months accessor is deprecated. Use month instead",Nt),sn.years=n("years accessor is deprecated. Use year instead",kt),sn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),sn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!u(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=$e(t))._a){var e=t._isUTC?p(t._a):ke(t._a);this._isDSTShifted=this.isValid()&&0<o(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var un=D.prototype;function cn(t,e,n,r){var i=le(),a=p().set(r,e);return i[n](a,t)}function dn(t,e,n){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return cn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=cn(t,r,n,"month");return i}function hn(t,e,n,r){"boolean"==typeof t?c(e)&&(n=e,e=void 0):(e=t,t=!1,c(n=e)&&(n=e,e=void 0)),e=e||"";var i,a=le(),o=t?a._week.dow:0;if(null!=n)return cn(e,(n+o)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=cn(e,(i+o)%7,r,"day");return s}un.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return L(r)?r.call(e,n):r},un.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},un.invalidDate=function(){return this._invalidDate},un.ordinal=function(t){return this._ordinal.replace("%d",t)},un.preparse=ln,un.postformat=ln,un.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return L(i)?i(t,e,n,r):i.replace(/%d/i,t)},un.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return L(n)?n(e):n.replace(/%s/i,e)},un.set=function(t){var e,n;for(n in t)L(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},un.months=function(t,e){return t?s(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Dt).test(e)?"format":"standalone"][t.month()]:s(this._months)?this._months:this._months.standalone},un.monthsShort=function(t,e){return t?s(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Dt.test(e)?"format":"standalone"][t.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},un.monthsParse=function(t,e,n){var r,i,a;if(this._monthsParseExact)return function(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=xt.call(this._shortMonthsParse,o))?i:null:-1!==(i=xt.call(this._longMonthsParse,o))?i:null:"MMM"===e?-1!==(i=xt.call(this._shortMonthsParse,o))?i:-1!==(i=xt.call(this._longMonthsParse,o))?i:null:-1!==(i=xt.call(this._longMonthsParse,o))?i:-1!==(i=xt.call(this._shortMonthsParse,o))?i:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},un.monthsRegex=function(t){return this._monthsParseExact?(_(this,"_monthsRegex")||Ht.call(this),t?this._monthsStrictRegex:this._monthsRegex):(_(this,"_monthsRegex")||(this._monthsRegex=Rt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},un.monthsShortRegex=function(t){return this._monthsParseExact?(_(this,"_monthsRegex")||Ht.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(_(this,"_monthsShortRegex")||(this._monthsShortRegex=Ot),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},un.week=function(t){return It(t,this._week.dow,this._week.doy).week},un.firstDayOfYear=function(){return this._week.doy},un.firstDayOfWeek=function(){return this._week.dow},un.weekdays=function(t,e){return t?s(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:s(this._weekdays)?this._weekdays:this._weekdays.standalone},un.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},un.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},un.weekdaysParse=function(t,e,n){var r,i,a;if(this._weekdaysParseExact)return function(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=xt.call(this._weekdaysParse,o))?i:null:"ddd"===e?-1!==(i=xt.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=xt.call(this._minWeekdaysParse,o))?i:null:"dddd"===e?-1!==(i=xt.call(this._weekdaysParse,o))?i:-1!==(i=xt.call(this._shortWeekdaysParse,o))?i:-1!==(i=xt.call(this._minWeekdaysParse,o))?i:null:"ddd"===e?-1!==(i=xt.call(this._shortWeekdaysParse,o))?i:-1!==(i=xt.call(this._weekdaysParse,o))?i:-1!==(i=xt.call(this._minWeekdaysParse,o))?i:null:-1!==(i=xt.call(this._minWeekdaysParse,o))?i:-1!==(i=xt.call(this._weekdaysParse,o))?i:-1!==(i=xt.call(this._shortWeekdaysParse,o))?i:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},un.weekdaysRegex=function(t){return this._weekdaysParseExact?(_(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(_(this,"_weekdaysRegex")||(this._weekdaysRegex=qt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},un.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(_(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(_(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Vt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},un.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(_(this,"_weekdaysRegex")||Kt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(_(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Gt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},un.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},un.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},oe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===x(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),y.lang=n("moment.lang is deprecated. Use moment.locale instead.",oe),y.langData=n("moment.langData is deprecated. Use moment.localeData instead.",le);var fn=Math.abs;function pn(t,e,n,r){var i=Ie(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function mn(t){return t<0?Math.floor(t):Math.ceil(t)}function gn(t){return 4800*t/146097}function vn(t){return 146097*t/4800}function yn(t){return function(){return this.as(t)}}var _n=yn("ms"),bn=yn("s"),wn=yn("m"),Mn=yn("h"),$n=yn("d"),xn=yn("w"),kn=yn("M"),Sn=yn("y");function Tn(t){return function(){return this.isValid()?this._data[t]:NaN}}var Ln=Tn("milliseconds"),Cn=Tn("seconds"),Dn=Tn("minutes"),En=Tn("hours"),Yn=Tn("days"),An=Tn("months"),Nn=Tn("years"),On=Math.round,Rn={ss:44,s:45,m:45,h:22,d:26,M:11},Hn=Math.abs;function Pn(t){return(0<t)-(t<0)||+t}function jn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Hn(this._milliseconds)/1e3,r=Hn(this._days),i=Hn(this._months);e=$((t=$(n/60))/60),n%=60,t%=60;var a=$(i/12),o=i%=12,s=r,l=e,u=t,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",f=Pn(this._months)!==Pn(d)?"-":"",p=Pn(this._days)!==Pn(d)?"-":"",m=Pn(this._milliseconds)!==Pn(d)?"-":"";return h+"P"+(a?f+a+"Y":"")+(o?f+o+"M":"")+(s?p+s+"D":"")+(l||u||c?"T":"")+(l?m+l+"H":"")+(u?m+u+"M":"")+(c?m+c+"S":"")}var Fn=De.prototype;Fn.isValid=function(){return this._isValid},Fn.abs=function(){var t=this._data;return this._milliseconds=fn(this._milliseconds),this._days=fn(this._days),this._months=fn(this._months),t.milliseconds=fn(t.milliseconds),t.seconds=fn(t.seconds),t.minutes=fn(t.minutes),t.hours=fn(t.hours),t.months=fn(t.months),t.years=fn(t.years),this},Fn.add=function(t,e){return pn(this,t,e,1)},Fn.subtract=function(t,e){return pn(this,t,e,-1)},Fn.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=A(t))||"year"===t)return e=this._days+r/864e5,n=this._months+gn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(vn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},Fn.asMilliseconds=_n,Fn.asSeconds=bn,Fn.asMinutes=wn,Fn.asHours=Mn,Fn.asDays=$n,Fn.asWeeks=xn,Fn.asMonths=kn,Fn.asYears=Sn,Fn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},Fn._bubble=function(){var t,e,n,r,i,a=this._milliseconds,o=this._days,s=this._months,l=this._data;return 0<=a&&0<=o&&0<=s||a<=0&&o<=0&&s<=0||(a+=864e5*mn(vn(s)+o),s=o=0),l.milliseconds=a%1e3,t=$(a/1e3),l.seconds=t%60,e=$(t/60),l.minutes=e%60,n=$(e/60),l.hours=n%24,s+=i=$(gn(o+=$(n/24))),o-=mn(vn(i)),r=$(s/12),s%=12,l.days=o,l.months=s,l.years=r,this},Fn.clone=function(){return Ie(this)},Fn.get=function(t){return t=A(t),this.isValid()?this[t+"s"]():NaN},Fn.milliseconds=Ln,Fn.seconds=Cn,Fn.minutes=Dn,Fn.hours=En,Fn.days=Yn,Fn.weeks=function(){return $(this.days()/7)},Fn.months=An,Fn.years=Nn,Fn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,n,r,i,a,o,s,l,u,c,d=this.localeData(),h=(e=!t,n=d,r=Ie(this).abs(),i=On(r.as("s")),a=On(r.as("m")),o=On(r.as("h")),s=On(r.as("d")),l=On(r.as("M")),u=On(r.as("y")),(c=i<=Rn.ss&&["s",i]||i<Rn.s&&["ss",i]||a<=1&&["m"]||a<Rn.m&&["mm",a]||o<=1&&["h"]||o<Rn.h&&["hh",o]||s<=1&&["d"]||s<Rn.d&&["dd",s]||l<=1&&["M"]||l<Rn.M&&["MM",l]||u<=1&&["y"]||["yy",u])[2]=e,c[3]=0<+this,c[4]=n,function(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}.apply(null,c));return t&&(h=d.pastFuture(+this,h)),d.postformat(h)},Fn.toISOString=jn,Fn.toString=jn,Fn.toJSON=jn,Fn.locale=Ke,Fn.localeData=Xe,Fn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",jn),Fn.lang=Je,z("X",0,0,"unix"),z("x",0,0,"valueOf"),lt("x",rt),lt("X",/[+-]?\d+(\.\d{1,3})?/),dt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),dt("x",function(t,e,n){n._d=new Date(x(t))}),y.version="2.22.0",t=ke,y.fn=sn,y.min=function(){return Le("isBefore",[].slice.call(arguments,0))},y.max=function(){return Le("isAfter",[].slice.call(arguments,0))},y.now=function(){return Date.now?Date.now():+new Date},y.utc=p,y.unix=function(t){return ke(1e3*t)},y.months=function(t,e){return dn(t,e,"months")},y.isDate=d,y.locale=oe,y.invalid=g,y.duration=Ie,y.isMoment=M,y.weekdays=function(t,e,n){return hn(t,e,n,"weekdays")},y.parseZone=function(){return ke.apply(null,arguments).parseZone()},y.localeData=le,y.isDuration=Ee,y.monthsShort=function(t,e){return dn(t,e,"monthsShort")},y.weekdaysMin=function(t,e,n){return hn(t,e,n,"weekdaysMin")},y.defineLocale=se,y.updateLocale=function(t,e){if(null!=e){var n,r,i=ee;null!=(r=ae(t))&&(i=r._config),(n=new D(e=C(i,e))).parentLocale=ne[t],ne[t]=n,oe(t)}else null!=ne[t]&&(null!=ne[t].parentLocale?ne[t]=ne[t].parentLocale:null!=ne[t]&&delete ne[t]);return ne[t]},y.locales=function(){return r(ne)},y.weekdaysShort=function(t,e,n){return hn(t,e,n,"weekdaysShort")},y.normalizeUnits=A,y.relativeTimeRounding=function(t){return void 0===t?On:"function"==typeof t&&(On=t,!0)},y.relativeTimeThreshold=function(t,e){return void 0!==Rn[t]&&(void 0===e?Rn[t]:(Rn[t]=e,"s"===t&&(Rn.ss=e-1),!0))},y.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},y.prototype=sn,y.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},y.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}}),y.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}}),y.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}});var In={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},zn=function(t){return 0===t?0:1===t?1:2===t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5},Bn={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},Wn=function(o){return function(t,e,n,r){var i=zn(t),a=Bn[o][zn(t)];return 2===i&&(a=a[e?0:1]),a.replace(/%d/i,t)}},Un=["","","","","","","","","","","",""];y.defineLocale("ar-ly",{months:Un,monthsShort:Un,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:Wn("s"),ss:Wn("s"),m:Wn("m"),mm:Wn("m"),h:Wn("h"),hh:Wn("h"),d:Wn("d"),dd:Wn("d"),M:Wn("M"),MM:Wn("M"),y:Wn("y"),yy:Wn("y")},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return In[t]}).replace(/,/g,"")},week:{dow:6,doy:12}}),y.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});var qn={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Vn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};y.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(t){return Vn[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return qn[t]}).replace(/,/g,"")},week:{dow:0,doy:6}}),y.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});var Gn={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Kn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},Jn=function(t){return 0===t?0:1===t?1:2===t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5},Xn={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},Zn=function(o){return function(t,e,n,r){var i=Jn(t),a=Xn[o][Jn(t)];return 2===i&&(a=a[e?0:1]),a.replace(/%d/i,t)}},Qn=["","","","","","","","","","","",""];y.defineLocale("ar",{months:Qn,monthsShort:Qn,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635|\u0645/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:Zn("s"),ss:Zn("s"),m:Zn("m"),mm:Zn("m"),h:Zn("h"),hh:Zn("h"),d:Zn("d"),dd:Zn("d"),M:Zn("M"),MM:Zn("M"),y:Zn("y"),yy:Zn("y")},preparse:function(t){return t.replace(/[\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669\u0660]/g,function(t){return Kn[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return Gn[t]}).replace(/,/g,"")},week:{dow:6,doy:12}});var tr={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};function er(t,e,n){var r,i;return"m"===n?e?"":"":"h"===n?e?"":"":t+" "+(r=+t,i={ss:e?"__":"__",mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?i[0]:2<=r%10&&r%10<=4&&(r%100<10||20<=r%100)?i[1]:i[2])}y.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec\u0259|s\u0259h\u0259r|g\xfcnd\xfcz|ax\u015fam/,isPM:function(t){return/^(g\xfcnd\xfcz|ax\u015fam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec":t<12?"shr":t<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(\u0131nc\u0131|inci|nci|\xfcnc\xfc|nc\u0131|uncu)/,ordinal:function(t){if(0===t)return t+"-nc";var e=t%10;return t+(tr[e]||tr[t%100-e]||tr[100<=t?100:null])},week:{dow:1,doy:7}}),y.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043c\u0456\u043d\u0443\u043b\u0443\u044e|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u0443\u044e)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:er,mm:er,h:er,hh:er,d:"",dd:er,M:"",MM:er,y:"",yy:er},meridiemParse:/\u043d\u043e\u0447\u044b|\u0440\u0430\u043d\u0456\u0446\u044b|\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430/,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0430\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(\u0456|\u044b|\u0433\u0430)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-":t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}}),y.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":10<n&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}}),y.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});var nr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},rr={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};y.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef\u09e6]/g,function(t){return rr[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return nr[t]})},meridiemParse:/\u09b0\u09be\u09a4|\u09b8\u0995\u09be\u09b2|\u09a6\u09c1\u09aa\u09c1\u09b0|\u09ac\u09bf\u0995\u09be\u09b2|\u09b0\u09be\u09a4/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&4<=t||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});var ir={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},ar={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function or(t,e,n){return t+" "+(r={mm:"munutenn",MM:"miz",dd:"devezh"}[n],2===t?void 0===(a={m:"v",b:"v",d:"z"})[(i=r).charAt(0)]?i:a[i.charAt(0)]+i.substring(1):r);var r,i,a}function sr(t,e,n){var r=t+" ";switch(n){case"ss":return r+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return e?"jedan sat":"jednog sata";case"hh":return r+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return r+(1===t?"dan":"dana");case"MM":return r+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return r+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}y.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29\u0f20]/g,function(t){return ar[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return ir[t]})},meridiemParse:/\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c|\u0f5e\u0f7c\u0f42\u0f66\u0f0b\u0f40\u0f66|\u0f49\u0f72\u0f53\u0f0b\u0f42\u0f74\u0f44|\u0f51\u0f42\u0f7c\u0f44\u0f0b\u0f51\u0f42|\u0f58\u0f5a\u0f53\u0f0b\u0f58\u0f7c/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&4<=t||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}}),y.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:or,h:"un eur",hh:"%d eur",d:"un devezh",dd:or,M:"ur miz",MM:or,y:"ur bloaz",yy:function(t){switch(function t(e){return 9<e?t(e%10):e}(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a\xf1|vet)/,ordinal:function(t){return t+(1===t?"a":"vet")},week:{dow:1,doy:4}}),y.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:sr,m:sr,mm:sr,h:sr,hh:sr,d:"dan",dd:sr,M:"mjesec",MM:sr,y:"godinu",yy:sr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),y.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|\xe8|a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}});var lr="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),ur="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");function cr(t){return 1<t&&t<5&&1!=~~(t/10)}function dr(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"pr sekund":"pr sekundami";case"ss":return e||r?i+(cr(t)?"sekundy":"sekund"):i+"sekundami";case"m":return e?"minuta":r?"minutu":"minutou";case"mm":return e||r?i+(cr(t)?"minuty":"minut"):i+"minutami";case"h":return e?"hodina":r?"hodinu":"hodinou";case"hh":return e||r?i+(cr(t)?"hodiny":"hodin"):i+"hodinami";case"d":return e||r?"den":"dnem";case"dd":return e||r?i+(cr(t)?"dny":"dn"):i+"dny";case"M":return e||r?"msc":"mscem";case"MM":return e||r?i+(cr(t)?"msce":"msc"):i+"msci";case"y":return e||r?"rok":"rokem";case"yy":return e||r?i+(cr(t)?"roky":"let"):i+"lety"}}function hr(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}function fr(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}function pr(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}y.defineLocale("cs",{months:lr,monthsShort:ur,monthsParse:function(t,e){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+t[n]+"$|^"+e[n]+"$","i");return r}(lr,ur),shortMonthsParse:function(t){var e,n=[];for(e=0;e<12;e++)n[e]=new RegExp("^"+t[e]+"$","i");return n}(ur),longMonthsParse:function(t){var e,n=[];for(e=0;e<12;e++)n[e]=new RegExp("^"+t[e]+"$","i");return n}(lr),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:dr,ss:dr,m:dr,mm:dr,h:dr,hh:dr,d:dr,dd:dr,M:dr,MM:dr,y:dr,yy:dr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(t){return t+(/\u0441\u0435\u0445\u0435\u0442$/i.exec(t)?"":/\u04ab\u0443\u043b$/i.exec(t)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-\u043c\u04d7\u0448/,ordinal:"%d-",week:{dow:1,doy:7}}),y.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return 20<t?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":0<t&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}}),y.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:hr,mm:"%d Minuten",h:hr,hh:"%d Stunden",d:hr,dd:hr,M:hr,MM:hr,y:hr,yy:hr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:fr,mm:"%d Minuten",h:fr,hh:"%d Stunden",d:fr,dd:fr,M:fr,MM:fr,y:fr,yy:fr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:pr,mm:"%d Minuten",h:pr,hh:"%d Stunden",d:pr,dd:pr,M:pr,MM:pr,y:pr,yy:pr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var mr=["","","","","","","","","","","",""],gr=["","","","","","",""];y.defineLocale("dv",{months:mr,monthsShort:mr,weekdays:gr,weekdaysShort:gr,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0789\u0786|\u0789\u078a/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:7,doy:12}}),y.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(t,e,n){return 11<t?n?"":"":n?"":""},isPM:function(t){return""===(t+"").toLowerCase()[0]},meridiemParse:/[\u03a0\u039c]\.?\u039c?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,e){var n=this._calendarEl[t],r=e&&e.hours();return L(n)&&(n=n.apply(e)),n.replace("{}",r%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}\u03b7/,ordinal:"%d",week:{dow:1,doy:4}}),y.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}}),y.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),y.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}}),y.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}}),y.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),y.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}}),y.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return 11<t?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var vr="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),yr="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),_r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],br=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;y.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,e){return t?/-MMM-/.test(e)?yr[t.month()]:vr[t.month()]:vr},monthsRegex:br,monthsShortRegex:br,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:_r,longMonthsParse:_r,shortMonthsParse:_r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}});var wr="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Mr="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");y.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,e){return t?/-MMM-/.test(e)?Mr[t.month()]:wr[t.month()]:wr},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"MMMM [de] D [de] YYYY",LLL:"MMMM [de] D [de] YYYY h:mm A",LLLL:"dddd, MMMM [de] D [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:0,doy:6}});var $r="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),xr="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),kr=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Sr=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;function Tr(t,e,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["he minuti","ks minut"],mm:[t+" minuti",t+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[t+" tunni",t+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[t+" kuu",t+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[t+" aasta",t+" aastat"]};return e?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}y.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,e){return t?/-MMM-/.test(e)?xr[t.month()]:$r[t.month()]:$r},monthsRegex:Sr,monthsShortRegex:Sr,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:kr,longMonthsParse:kr,shortMonthsParse:kr,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}}),y.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:Tr,ss:Tr,m:Tr,mm:Tr,h:Tr,hh:Tr,d:Tr,dd:"%d peva",M:Tr,MM:Tr,y:Tr,yy:Tr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Lr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Cr={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};y.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u0642\u0628\u0644 \u0627\u0632 \u0638\u0647\u0631|\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/,isPM:function(t){return/\u0628\u0639\u062f \u0627\u0632 \u0638\u0647\u0631/.test(t)},meridiem:function(t,e,n){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[\u06f0-\u06f9]/g,function(t){return Cr[t]}).replace(/\u060c/g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return Lr[t]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}\u0645/,ordinal:"%d",week:{dow:6,doy:12}});var Dr="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),Er=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",Dr[7],Dr[8],Dr[9]];function Yr(t,e,n,r){var i,a="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":return r?"sekunnin":"sekuntia";case"m":return r?"minuutin":"minuutti";case"mm":a=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":a=r?"tunnin":"tuntia";break;case"d":return r?"pivn":"piv";case"dd":a=r?"pivn":"piv";break;case"M":return r?"kuukauden":"kuukausi";case"MM":a=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":a=r?"vuoden":"vuotta"}return((i=t)<10?r?Er[i]:Dr[i]:i)+" "+a}y.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:Yr,ss:Yr,m:Yr,mm:Yr,h:Yr,hh:Yr,d:Yr,dd:Yr,M:Yr,MM:Yr,y:Yr,yy:Yr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}}),y.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}}),y.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}});var Ar="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),Nr="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");function Or(t,e,n,r){var i={s:["thodde secondanim","thodde second"],ss:[t+" secondanim",t+" second"],m:["eka mintan","ek minute"],mm:[t+" mintanim",t+" mintam"],h:["eka horan","ek hor"],hh:[t+" horanim",t+" horam"],d:["eka disan","ek dis"],dd:[t+" disanim",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineanim",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsanim",t+" vorsam"]};return e?i[n][0]:i[n][1]}y.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,e){return t?/-MMM-/.test(e)?Nr[t.month()]:Ar[t.month()]:Ar},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}}),y.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}}),y.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}}),y.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:Or,ss:Or,m:Or,mm:Or,h:Or,hh:Or,d:Or,dd:Or,M:Or,MM:Or,y:Or,yy:Or},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokalli"===e?t:"donparam"===e?12<t?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"rati":t<12?"sokalli":t<16?"donparam":t<20?"sanje":"rati"}});var Rr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Hr={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};y.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef\u0ae6]/g,function(t){return Hr[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Rr[t]})},meridiemParse:/\u0ab0\u0abe\u0aa4|\u0aac\u0aaa\u0acb\u0ab0|\u0ab8\u0ab5\u0abe\u0ab0|\u0ab8\u0abe\u0a82\u0a9c/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?10<=t?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}}),y.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(t){return 2===t?"":t+" "},d:"",dd:function(t){return 2===t?"":t+" "},M:"",MM:function(t){return 2===t?"":t+" "},y:"",yy:function(t){return 2===t?"":t%10==0&&10!==t?t+" ":t+" "}},meridiemParse:/\u05d0\u05d7\u05d4"\u05e6|\u05dc\u05e4\u05e0\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05dc\u05e4\u05e0\u05d5\u05ea \u05d1\u05d5\u05e7\u05e8|\u05d1\u05d1\u05d5\u05e7\u05e8|\u05d1\u05e2\u05e8\u05d1/i,isPM:function(t){return/^(\u05d0\u05d7\u05d4"\u05e6|\u05d0\u05d7\u05e8\u05d9 \u05d4\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd|\u05d1\u05e2\u05e8\u05d1)$/.test(t)},meridiem:function(t,e,n){return t<5?" ":t<10?"":t<12?n?'"':" ":t<18?n?'"':" ":""}});var Pr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},jr={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function Fr(t,e,n){var r=t+" ";switch(n){case"ss":return r+(1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi");case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+(1===t?"minuta":2===t||3===t||4===t?"minute":"minuta");case"h":return e?"jedan sat":"jednog sata";case"hh":return r+(1===t?"sat":2===t||3===t||4===t?"sata":"sati");case"dd":return r+(1===t?"dan":"dana");case"MM":return r+(1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci");case"yy":return r+(1===t?"godina":2===t||3===t||4===t?"godine":"godina")}}y.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return jr[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Pr[t]})},meridiemParse:/\u0930\u093e\u0924|\u0938\u0941\u092c\u0939|\u0926\u094b\u092a\u0939\u0930|\u0936\u093e\u092e/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?10<=t?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}}),y.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:Fr,m:Fr,mm:Fr,h:Fr,hh:Fr,d:"dan",dd:Fr,M:"mjesec",MM:Fr,y:"godinu",yy:Fr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Ir="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function zr(t,e,n,r){var i=t;switch(n){case"s":return r||e?"nhny msodperc":"nhny msodperce";case"ss":return i+(r||e)?" msodperc":" msodperce";case"m":return"egy"+(r||e?" perc":" perce");case"mm":return i+(r||e?" perc":" perce");case"h":return"egy"+(r||e?" ra":" rja");case"hh":return i+(r||e?" ra":" rja");case"d":return"egy"+(r||e?" nap":" napja");case"dd":return i+(r||e?" nap":" napja");case"M":return"egy"+(r||e?" hnap":" hnapja");case"MM":return i+(r||e?" hnap":" hnapja");case"y":return"egy"+(r||e?" v":" ve");case"yy":return i+(r||e?" v":" ve")}return""}function Br(t){return(t?"":"[mlt] ")+"["+Ir[this.day()]+"] LT[-kor]"}function Wr(t){return t%100==11||t%10!=1}function Ur(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"nokkrar sekndur":"nokkrum sekndum";case"ss":return Wr(t)?i+(e||r?"sekndur":"sekndum"):i+"seknda";case"m":return e?"mnta":"mntu";case"mm":return Wr(t)?i+(e||r?"mntur":"mntum"):e?i+"mnta":i+"mntu";case"hh":return Wr(t)?i+(e||r?"klukkustundir":"klukkustundum"):i+"klukkustund";case"d":return e?"dagur":r?"dag":"degi";case"dd":return Wr(t)?e?i+"dagar":i+(r?"daga":"dgum"):e?i+"dagur":i+(r?"dag":"degi");case"M":return e?"mnuur":r?"mnu":"mnui";case"MM":return Wr(t)?e?i+"mnuir":i+(r?"mnui":"mnuum"):e?i+"mnuur":i+(r?"mnu":"mnui");case"y":return e||r?"r":"ri";case"yy":return Wr(t)?i+(e||r?"r":"rum"):i+(e||r?"r":"ri")}}y.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return Br.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return Br.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:zr,ss:zr,m:zr,mm:zr,h:zr,hh:zr,d:zr,dd:zr,M:zr,MM:zr,y:zr,yy:zr},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/\u0563\u056b\u0577\u0565\u0580\u057e\u0561|\u0561\u057c\u0561\u057e\u0578\u057f\u057e\u0561|\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576/,isPM:function(t){return/^(\u0581\u0565\u0580\u0565\u056f\u057e\u0561|\u0565\u0580\u0565\u056f\u0578\u0575\u0561\u0576)$/.test(t)},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(\u056b\u0576|\u0580\u0564)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-":t+"-";default:return t}},week:{dow:1,doy:7}}),y.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?11<=t?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),y.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:Ur,ss:Ur,m:Ur,mm:Ur,h:"klukkustund",hh:Ur,d:Ur,dd:Ur,M:Ur,MM:Ur,y:Ur,yy:Ur},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}}),y.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/\u5348\u524d|\u5348\u5f8c/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(t){return t.week()<this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(t){return this.week()<t.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}\u65e5/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}}),y.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?11<=t?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),y.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(\u10ec\u10d8\u10dc\u10d0|\u10e8\u10d4\u10db\u10d3\u10d4\u10d2)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(t){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10ec\u10d4\u10da\u10d8)/.test(t)?t.replace(/\u10d8$/,""):t+""},past:function(t){return/(\u10ec\u10d0\u10db\u10d8|\u10ec\u10e3\u10d7\u10d8|\u10e1\u10d0\u10d0\u10d7\u10d8|\u10d3\u10e6\u10d4|\u10d7\u10d5\u10d4)/.test(t)?t.replace(/(\u10d8|\u10d4)$/," "):/\u10ec\u10d4\u10da\u10d8/.test(t)?t.replace(/\u10ec\u10d4\u10da\u10d8$/," "):void 0},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-\u10da\u10d8|\u10db\u10d4-\d{1,2}|\d{1,2}-\u10d4/,ordinal:function(t){return 0===t?t:1===t?t+"-":t<20||t<=100&&t%20==0||t%100==0?"-"+t:t+"-"},week:{dow:1,doy:7}});var qr={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};y.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(\u0448\u0456|\u0448\u044b)/,ordinal:function(t){return t+(qr[t]||qr[t%10]||qr[100<=t?100:null])},week:{dow:1,doy:7}});var Vr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Gr={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};y.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/\u1796\u17d2\u179a\u17b9\u1780|\u179b\u17d2\u1784\u17b6\u1785/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\u1791\u17b8\d{1,2}/,ordinal:"%d",preparse:function(t){return t.replace(/[\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9\u17e0]/g,function(t){return Gr[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Vr[t]})},week:{dow:1,doy:4}});var Kr={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Jr={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};y.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef\u0ce6]/g,function(t){return Jr[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Kr[t]})},meridiemParse:/\u0cb0\u0cbe\u0ca4\u0ccd\u0cb0\u0cbf|\u0cac\u0cc6\u0cb3\u0cbf\u0c97\u0ccd\u0c97\u0cc6|\u0cae\u0ca7\u0ccd\u0caf\u0cbe\u0cb9\u0ccd\u0ca8|\u0cb8\u0c82\u0c9c\u0cc6/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?10<=t?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}(\u0ca8\u0cc6\u0cd5)/,ordinal:function(t){return t+""},week:{dow:0,doy:6}}),y.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(\uc77c|\uc6d4|\uc8fc)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},meridiemParse:/\uc624\uc804|\uc624\ud6c4/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""}});var Xr={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};function Zr(t,e,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?i[n][0]:i[n][1]}function Qr(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return Qr(0===e?t/10:e)}if(t<1e4){for(;10<=t;)t/=10;return Qr(t)}return Qr(t/=1e3)}y.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(\u0447\u0438|\u0447\u044b|\u0447\u04af|\u0447\u0443)/,ordinal:function(t){return t+(Xr[t]||Xr[t%10]||Xr[100<=t?100:null])},week:{dow:1,doy:7}}),y.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(t){return Qr(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return Qr(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",ss:"%d Sekonnen",m:Zr,mm:"%d Minutten",h:Zr,hh:"%d Stonnen",d:Zr,dd:"%d Deeg",M:Zr,MM:"%d Mint",y:Zr,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0e95\u0ead\u0e99\u0ec0\u0e8a\u0ebb\u0ec9\u0eb2|\u0e95\u0ead\u0e99\u0ec1\u0ea5\u0e87/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/(\u0e97\u0eb5\u0ec8)\d{1,2}/,ordinal:function(t){return""+t}});var ti={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function ei(t,e,n,r){return e?ri(n)[0]:r?ri(n)[1]:ri(n)[2]}function ni(t){return t%10==0||10<t&&t<20}function ri(t){return ti[t].split("_")}function ii(t,e,n,r){var i=t+" ";return 1===t?i+ei(0,e,n[0],r):e?i+(ni(t)?ri(n)[1]:ri(n)[0]):r?i+ri(n)[1]:i+(ni(t)?ri(n)[1]:ri(n)[2])}y.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(t,e,n,r){return e?"kelios sekunds":r?"keli sekundi":"kelias sekundes"},ss:ii,m:ei,mm:ii,h:ei,hh:ii,d:ei,dd:ii,M:ei,MM:ii,y:ei,yy:ii},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}});var ai={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function oi(t,e,n){return n?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function si(t,e,n){return t+" "+oi(ai[n],t,e)}function li(t,e,n){return oi(ai[n],t,e)}y.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(t,e){return e?"daas sekundes":"dam sekundm"},ss:si,m:li,mm:si,h:li,hh:si,d:li,dd:si,M:li,MM:si,y:li,yy:si},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var ui={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&t<=4?e[1]:e[2]},translate:function(t,e,n){var r=ui.words[n];return 1===n.length?e?r[0]:r[1]:t+" "+ui.correctGrammaticalCase(t,r)}};function ci(t,e,n,r){switch(n){case"s":return e?" ":" ";case"ss":return t+(e?" ":" ");case"m":case"mm":return t+(e?" ":" ");case"h":case"hh":return t+(e?" ":" ");case"d":case"dd":return t+(e?" ":" ");case"M":case"MM":return t+(e?" ":" ");case"y":case"yy":return t+(e?" ":" ");default:return t}}y.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:ui.translate,m:ui.translate,mm:ui.translate,h:ui.translate,hh:ui.translate,d:"dan",dd:ui.translate,M:"mjesec",MM:ui.translate,y:"godinu",yy:ui.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),y.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}}),y.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(\u0435\u0432|\u0435\u043d|\u0442\u0438|\u0432\u0438|\u0440\u0438|\u043c\u0438)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":10<n&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}}),y.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f|\u0d30\u0d3e\u0d35\u0d3f\u0d32\u0d46|\u0d09\u0d1a\u0d4d\u0d1a \u0d15\u0d34\u0d3f\u0d1e\u0d4d\u0d1e\u0d4d|\u0d35\u0d48\u0d15\u0d41\u0d28\u0d4d\u0d28\u0d47\u0d30\u0d02|\u0d30\u0d3e\u0d24\u0d4d\u0d30\u0d3f/i,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&4<=t||" "===e||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?" ":t<20?"":""}}),y.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/\u04ae\u04e8|\u04ae\u0425/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:ci,ss:ci,m:ci,mm:ci,h:ci,hh:ci,d:ci,dd:ci,M:ci,MM:ci,y:ci,yy:ci},dayOfMonthOrdinalParse:/\d{1,2} \u04e9\u0434\u04e9\u0440/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" ";default:return t}}});var di={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},hi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function fi(t,e,n,r){var i="";if(e)switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}else switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}return i.replace(/%d/i,t)}y.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:fi,ss:fi,m:fi,mm:fi,h:fi,hh:fi,d:fi,dd:fi,M:fi,MM:fi,y:fi,yy:fi},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return hi[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return di[t]})},meridiemParse:/\u0930\u093e\u0924\u094d\u0930\u0940|\u0938\u0915\u093e\u0933\u0940|\u0926\u0941\u092a\u093e\u0930\u0940|\u0938\u093e\u092f\u0902\u0915\u093e\u0933\u0940/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?10<=t?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}}),y.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?11<=t?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),y.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?11<=t?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),y.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}});var pi={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},mi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};y.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049\u1040]/g,function(t){return mi[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return pi[t]})},week:{dow:1,doy:4}}),y.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var gi={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},vi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};y.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(t){return t.replace(/[\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f\u0966]/g,function(t){return vi[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return gi[t]})},meridiemParse:/\u0930\u093e\u0924\u093f|\u092c\u093f\u0939\u093e\u0928|\u0926\u093f\u0909\u0901\u0938\u094b|\u0938\u093e\u0901\u091d/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?10<=t?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"":t<12?"":t<16?"":t<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});var yi="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),_i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),bi=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],wi=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;y.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,e){return t?/-MMM-/.test(e)?_i[t.month()]:yi[t.month()]:yi},monthsRegex:wi,monthsShortRegex:wi,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:bi,longMonthsParse:bi,shortMonthsParse:bi,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}});var Mi="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),$i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),xi=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],ki=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;y.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,e){return t?/-MMM-/.test(e)?$i[t.month()]:Mi[t.month()]:Mi},monthsRegex:ki,monthsShortRegex:ki,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:xi,longMonthsParse:xi,shortMonthsParse:xi,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}}),y.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Si={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Ti={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};y.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f\u0a66]/g,function(t){return Ti[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Si[t]})},meridiemParse:/\u0a30\u0a3e\u0a24|\u0a38\u0a35\u0a47\u0a30|\u0a26\u0a41\u0a2a\u0a39\u0a3f\u0a30|\u0a38\u0a3c\u0a3e\u0a2e/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?10<=t?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});var Li="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),Ci="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function Di(t){return t%10<5&&1<t%10&&~~(t/10)%10!=1}function Ei(t,e,n){var r=t+" ";switch(n){case"ss":return r+(Di(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut";case"mm":return r+(Di(t)?"minuty":"minut");case"h":return e?"godzina":"godzin";case"hh":return r+(Di(t)?"godziny":"godzin");case"MM":return r+(Di(t)?"miesice":"miesicy");case"yy":return r+(Di(t)?"lata":"lat")}}function Yi(t,e,n){var r=" ";return(20<=t%100||100<=t&&t%100==0)&&(r=" de "),t+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}function Ai(t,e,n){var r,i;return"m"===n?e?"":"":t+" "+(r=+t,i={ss:e?"__":"__",mm:e?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?i[0]:2<=r%10&&r%10<=4&&(r%100<10||20<=r%100)?i[1]:i[2])}y.defineLocale("pl",{months:function(t,e){return t?""===e?"("+Ci[t.month()]+"|"+Li[t.month()]+")":/D MMMM/.test(e)?Ci[t.month()]:Li[t.month()]:Li},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:Ei,m:Ei,mm:Ei,h:Ei,hh:Ei,d:"1 dzie",dd:"%d dni",M:"miesic",MM:Ei,y:"rok",yy:Ei},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d"}),y.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d",week:{dow:1,doy:4}}),y.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:Yi,m:"un minut",mm:Yi,h:"o or",hh:Yi,d:"o zi",dd:Yi,M:"o lun",MM:Yi,y:"un an",yy:Yi},week:{dow:1,doy:7}});var Ni=[/^\u044f\u043d\u0432/i,/^\u0444\u0435\u0432/i,/^\u043c\u0430\u0440/i,/^\u0430\u043f\u0440/i,/^\u043c\u0430[\u0439\u044f]/i,/^\u0438\u044e\u043d/i,/^\u0438\u044e\u043b/i,/^\u0430\u0432\u0433/i,/^\u0441\u0435\u043d/i,/^\u043e\u043a\u0442/i,/^\u043d\u043e\u044f/i,/^\u0434\u0435\u043a/i];y.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[\u0412\u0432] ?(?:\u043f\u0440\u043e\u0448\u043b\u0443\u044e|\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0443\u044e|\u044d\u0442\u0443)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:Ni,longMonthsParse:Ni,shortMonthsParse:Ni,monthsRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsShortRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044c\u044f]|\u044f\u043d\u0432\.?|\u0444\u0435\u0432\u0440\u0430\u043b[\u044c\u044f]|\u0444\u0435\u0432\u0440?\.?|\u043c\u0430\u0440\u0442\u0430?|\u043c\u0430\u0440\.?|\u0430\u043f\u0440\u0435\u043b[\u044c\u044f]|\u0430\u043f\u0440\.?|\u043c\u0430[\u0439\u044f]|\u0438\u044e\u043d[\u044c\u044f]|\u0438\u044e\u043d\.?|\u0438\u044e\u043b[\u044c\u044f]|\u0438\u044e\u043b\.?|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0430\u0432\u0433\.?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044c\u044f]|\u0441\u0435\u043d\u0442?\.?|\u043e\u043a\u0442\u044f\u0431\u0440[\u044c\u044f]|\u043e\u043a\u0442\.?|\u043d\u043e\u044f\u0431\u0440[\u044c\u044f]|\u043d\u043e\u044f\u0431?\.?|\u0434\u0435\u043a\u0430\u0431\u0440[\u044c\u044f]|\u0434\u0435\u043a\.?)/i,monthsStrictRegex:/^(\u044f\u043d\u0432\u0430\u0440[\u044f\u044c]|\u0444\u0435\u0432\u0440\u0430\u043b[\u044f\u044c]|\u043c\u0430\u0440\u0442\u0430?|\u0430\u043f\u0440\u0435\u043b[\u044f\u044c]|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044f\u044c]|\u0438\u044e\u043b[\u044f\u044c]|\u0430\u0432\u0433\u0443\u0441\u0442\u0430?|\u0441\u0435\u043d\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043e\u043a\u0442\u044f\u0431\u0440[\u044f\u044c]|\u043d\u043e\u044f\u0431\u0440[\u044f\u044c]|\u0434\u0435\u043a\u0430\u0431\u0440[\u044f\u044c])/i,monthsShortStrictRegex:/^(\u044f\u043d\u0432\.|\u0444\u0435\u0432\u0440?\.|\u043c\u0430\u0440[\u0442.]|\u0430\u043f\u0440\.|\u043c\u0430[\u044f\u0439]|\u0438\u044e\u043d[\u044c\u044f.]|\u0438\u044e\u043b[\u044c\u044f.]|\u0430\u0432\u0433\.|\u0441\u0435\u043d\u0442?\.|\u043e\u043a\u0442\.|\u043d\u043e\u044f\u0431?\.|\u0434\u0435\u043a\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:Ai,m:Ai,mm:Ai,h:"",hh:Ai,d:"",dd:Ai,M:"",MM:Ai,y:"",yy:Ai},meridiemParse:/\u043d\u043e\u0447\u0438|\u0443\u0442\u0440\u0430|\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430/i,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u0435\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e|\u044f)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:4}});var Oi=["","","","","","","","","","","",""],Ri=["","","","","","",""];y.defineLocale("sd",{months:Oi,monthsShort:Oi,weekdays:Ri,weekdaysShort:Ri,weekdaysMin:Ri,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}}),y.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} \u0dc0\u0dd0\u0db1\u0dd2/,ordinal:function(t){return t+" "},meridiemParse:/\u0db4\u0dd9\u0dbb \u0dc0\u0dbb\u0dd4|\u0db4\u0dc3\u0dca \u0dc0\u0dbb\u0dd4|\u0db4\u0dd9.\u0dc0|\u0db4.\u0dc0./,isPM:function(t){return".."===t||" "===t},meridiem:function(t,e,n){return 11<t?n?"..":" ":n?"..":" "}});var Hi="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),Pi="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function ji(t){return 1<t&&t<5}function Fi(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"pr seknd":"pr sekundami";case"ss":return e||r?i+(ji(t)?"sekundy":"seknd"):i+"sekundami";case"m":return e?"minta":r?"mintu":"mintou";case"mm":return e||r?i+(ji(t)?"minty":"mint"):i+"mintami";case"h":return e?"hodina":r?"hodinu":"hodinou";case"hh":return e||r?i+(ji(t)?"hodiny":"hodn"):i+"hodinami";case"d":return e||r?"de":"dom";case"dd":return e||r?i+(ji(t)?"dni":"dn"):i+"dami";case"M":return e||r?"mesiac":"mesiacom";case"MM":return e||r?i+(ji(t)?"mesiace":"mesiacov"):i+"mesiacmi";case"y":return e||r?"rok":"rokom";case"yy":return e||r?i+(ji(t)?"roky":"rokov"):i+"rokmi"}}function Ii(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+(1===t?e?"sekundo":"sekundi":2===t?e||r?"sekundi":"sekundah":t<5?e||r?"sekunde":"sekundah":"sekund");case"m":return e?"ena minuta":"eno minuto";case"mm":return i+(1===t?e?"minuta":"minuto":2===t?e||r?"minuti":"minutama":t<5?e||r?"minute":"minutami":e||r?"minut":"minutami");case"h":return e?"ena ura":"eno uro";case"hh":return i+(1===t?e?"ura":"uro":2===t?e||r?"uri":"urama":t<5?e||r?"ure":"urami":e||r?"ur":"urami");case"d":return e||r?"en dan":"enim dnem";case"dd":return i+(1===t?e||r?"dan":"dnem":2===t?e||r?"dni":"dnevoma":e||r?"dni":"dnevi");case"M":return e||r?"en mesec":"enim mesecem";case"MM":return i+(1===t?e||r?"mesec":"mesecem":2===t?e||r?"meseca":"mesecema":t<5?e||r?"mesece":"meseci":e||r?"mesecev":"meseci");case"y":return e||r?"eno leto":"enim letom";case"yy":return i+(1===t?e||r?"leto":"letom":2===t?e||r?"leti":"letoma":t<5?e||r?"leta":"leti":e||r?"let":"leti")}}y.defineLocale("sk",{months:Hi,monthsShort:Pi,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:Fi,ss:Fi,m:Fi,mm:Fi,h:Fi,hh:Fi,d:Fi,dd:Fi,M:Fi,MM:Fi,y:Fi,yy:Fi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:Ii,ss:Ii,m:Ii,mm:Ii,h:Ii,hh:Ii,d:Ii,dd:Ii,M:Ii,MM:Ii,y:Ii,yy:Ii},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),y.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var zi={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&t<=4?e[1]:e[2]},translate:function(t,e,n){var r=zi.words[n];return 1===n.length?e?r[0]:r[1]:t+" "+zi.correctGrammaticalCase(t,r)}};y.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:zi.translate,m:zi.translate,mm:zi.translate,h:zi.translate,hh:zi.translate,d:"",dd:zi.translate,M:"",MM:zi.translate,y:"",yy:zi.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Bi={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&t<=4?e[1]:e[2]},translate:function(t,e,n){var r=Bi.words[n];return 1===n.length?e?r[0]:r[1]:t+" "+Bi.correctGrammaticalCase(t,r)}};y.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:Bi.translate,m:Bi.translate,mm:Bi.translate,h:Bi.translate,hh:Bi.translate,d:"dan",dd:Bi.translate,M:"mesec",MM:Bi.translate,y:"godinu",yy:Bi.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),y.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,n){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?11<=t?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),y.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"e":1===e?"a":2===e?"a":"e")},week:{dow:1,doy:4}}),y.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var Wi={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Ui={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};y.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}\u0bb5\u0ba4\u0bc1/,ordinal:function(t){return t+""},preparse:function(t){return t.replace(/[\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef\u0be6]/g,function(t){return Ui[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Wi[t]})},meridiemParse:/\u0baf\u0bbe\u0bae\u0bae\u0bcd|\u0bb5\u0bc8\u0b95\u0bb1\u0bc8|\u0b95\u0bbe\u0bb2\u0bc8|\u0ba8\u0ba3\u0bcd\u0baa\u0b95\u0bb2\u0bcd|\u0b8e\u0bb1\u0bcd\u0baa\u0bbe\u0b9f\u0bc1|\u0bae\u0bbe\u0bb2\u0bc8/,meridiem:function(t,e,n){return t<2?" ":t<6?" ":t<10?" ":t<14?" ":t<18?" ":t<22?" ":" "},meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<2?t:t+12:""===e||""===e?t:""===e&&10<=t?t:t+12},week:{dow:0,doy:6}}),y.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}\u0c35/,ordinal:"%d",meridiemParse:/\u0c30\u0c3e\u0c24\u0c4d\u0c30\u0c3f|\u0c09\u0c26\u0c2f\u0c02|\u0c2e\u0c27\u0c4d\u0c2f\u0c3e\u0c39\u0c4d\u0c28\u0c02|\u0c38\u0c3e\u0c2f\u0c02\u0c24\u0c4d\u0c30\u0c02/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?10<=t?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}}),y.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}});var qi={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};y.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/\u0448\u0430\u0431|\u0441\u0443\u0431\u04b3|\u0440\u04ef\u0437|\u0431\u0435\u0433\u043e\u04b3/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?11<=t?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<11?"":t<16?"":t<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(\u0443\u043c|\u044e\u043c)/,ordinal:function(t){return t+(qi[t]||qi[t%10]||qi[100<=t?100:null])},week:{dow:1,doy:7}}),y.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/\u0e01\u0e48\u0e2d\u0e19\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07|\u0e2b\u0e25\u0e31\u0e07\u0e40\u0e17\u0e35\u0e48\u0e22\u0e07/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),y.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}});var Vi="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function Gi(t,e,n,r){var i,a,o,s,l,u=(i=t,a=Math.floor(i%1e3/100),o=Math.floor(i%100/10),s=i%10,l="",0<a&&(l+=Vi[a]+"vatlh"),0<o&&(l+=(""!==l?" ":"")+Vi[o]+"maH"),0<s&&(l+=(""!==l?" ":"")+Vi[s]),""===l?"pagh":l);switch(n){case"ss":return u+" lup";case"mm":return u+" tup";case"hh":return u+" rep";case"dd":return u+" jaj";case"MM":return u+" jar";case"yy":return u+" DIS"}}y.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"},past:function(t){var e=t;return-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"},s:"puS lup",ss:Gi,m:"wa tup",mm:Gi,h:"wa rep",hh:Gi,d:"wa jaj",dd:Gi,M:"wa jar",MM:Gi,y:"wa DIS",yy:Gi},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Ki={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};function Ji(t,e,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n mut","'iens mut"],mm:[t+" muts",t+" muts"],h:["'n ora","'iensa ora"],hh:[t+" oras",t+" oras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return r?i[n][0]:e?i[n][0]:i[n][1]}function Xi(t,e,n){var r,i;return"m"===n?e?"":"":"h"===n?e?"":"":t+" "+(r=+t,i={ss:e?"__":"__",mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[n].split("_"),r%10==1&&r%100!=11?i[0]:2<=r%10&&r%10<=4&&(r%100<10||20<=r%100)?i[1]:i[2])}function Zi(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}y.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(t,e){switch(e){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'nc";var n=t%10;return t+(Ki[n]||Ki[t%100-n]||Ki[100<=t?100:null])}},week:{dow:1,doy:7}}),y.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,n){return 11<t?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Ji,ss:Ji,m:Ji,mm:Ji,h:Ji,hh:Ji,d:Ji,dd:Ji,M:Ji,MM:Ji,y:Ji,yy:Ji},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),y.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),y.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}}),y.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/\u064a\u06d0\u0631\u0649\u0645 \u0643\u06d0\u0686\u06d5|\u0633\u06d5\u06be\u06d5\u0631|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0628\u06c7\u0631\u06c7\u0646|\u0686\u06c8\u0634|\u0686\u06c8\u0634\u062a\u0649\u0646 \u0643\u06d0\u064a\u0649\u0646|\u0643\u06d5\u0686/,meridiemHour:function(t,e){return 12===t&&(t=0)," "===e||""===e||" "===e?t:" "===e||""===e?t+12:11<=t?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?" ":r<900?"":r<1130?" ":r<1230?"":r<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-\u0643\u06c8\u0646\u0649|-\u0626\u0627\u064a|-\u06be\u06d5\u067e\u062a\u06d5)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-";case"w":case"W":return t+"-";default:return t}},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:7}}),y.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(t,e){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return t?n[/(\[[\u0412\u0432\u0423\u0443]\]) ?dddd/.test(e)?"accusative":/\[?(?:\u043c\u0438\u043d\u0443\u043b\u043e\u0457|\u043d\u0430\u0441\u0442\u0443\u043f\u043d\u043e\u0457)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:n.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:Zi("[ "),nextDay:Zi("[ "),lastDay:Zi("[ "),nextWeek:Zi("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Zi("[] dddd [").call(this);case 1:case 2:case 4:return Zi("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:Xi,m:Xi,mm:Xi,h:"",hh:Xi,d:"",dd:Xi,M:"",MM:Xi,y:"",yy:Xi},meridiemParse:/\u043d\u043e\u0447\u0456|\u0440\u0430\u043d\u043a\u0443|\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430/,isPM:function(t){return/^(\u0434\u043d\u044f|\u0432\u0435\u0447\u043e\u0440\u0430)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(\u0439|\u0433\u043e)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}});var Qi=["","","","","","","","","","","",""],ta=["","","","","","",""];return y.defineLocale("ur",{months:Qi,monthsShort:Qi,weekdays:ta,weekdaysShort:ta,weekdaysMin:ta,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/\u0635\u0628\u062d|\u0634\u0627\u0645/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/\u060c/g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}}),y.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),y.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}}),y.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}}),y.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}}),y.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/\u1ecdj\u1ecd\u0301\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}}),y.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e||""===e?t+12:11<=t?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u5468)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}}),y.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?11<=t?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),y.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/\u51cc\u6668|\u65e9\u4e0a|\u4e0a\u5348|\u4e2d\u5348|\u4e0b\u5348|\u665a\u4e0a/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?11<=t?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(\u65e5|\u6708|\u9031)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),y.locale("en"),y}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(w){"use strict";function n(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function r(t){var e=t.parent(),n=e.find(".minicolors-panel"),r=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(i(),e.addClass("minicolors-focus"),n.stop(!0,!0).fadeIn(r.showSpeed,function(){r.show&&r.show.call(t.get(0))}))}function i(){w(".minicolors-focus").each(function(){var t=w(this),e=t.find(".minicolors-input"),n=t.find(".minicolors-panel"),r=e.data("minicolors-settings");n.fadeOut(r.hideSpeed,function(){r.hide&&r.hide.call(e.get(0)),t.removeClass("minicolors-focus")})})}function a(t,e,n){var r,i,a,o,s=t.parents(".minicolors").find(".minicolors-input"),l=s.data("minicolors-settings"),u=t.find("[class$=-picker]"),c=t.offset().left,d=t.offset().top,h=Math.round(e.pageX-c),f=Math.round(e.pageY-d),p=n?l.animationSpeed:0;e.originalEvent.changedTouches&&(h=e.originalEvent.changedTouches[0].pageX-c,f=e.originalEvent.changedTouches[0].pageY-d),h<0&&(h=0),f<0&&(f=0),h>t.width()&&(h=t.width()),f>t.height()&&(f=t.height()),t.parent().is(".minicolors-slider-wheel")&&u.parent().is(".minicolors-grid")&&(r=75-h,i=75-f,a=Math.sqrt(r*r+i*i),(o=Math.atan2(i,r))<0&&(o+=2*Math.PI),75<a&&(h=(a=75)-75*Math.cos(o),f=75-75*Math.sin(o)),h=Math.round(h),f=Math.round(f)),t.is(".minicolors-grid")?u.stop(!0).animate({top:f+"px",left:h+"px"},p,l.animationEasing,function(){m(s,t)}):u.stop(!0).animate({top:f+"px"},p,l.animationEasing,function(){m(s,t)})}function m(t,e){function n(t,e){var n,r;return t.length&&e?(n=t.offset().left,r=t.offset().top,{x:n-e.offset().left+t.outerWidth()/2,y:r-e.offset().top+t.outerHeight()/2}):null}var r,i,a,o,s,l,u,c=t.val(),d=t.attr("data-opacity"),h=t.parent(),f=t.data("minicolors-settings"),p=h.find(".minicolors-input-swatch"),m=h.find(".minicolors-grid"),g=h.find(".minicolors-slider"),v=h.find(".minicolors-opacity-slider"),y=m.find("[class$=-picker]"),_=g.find("[class$=-picker]"),b=v.find("[class$=-picker]"),w=n(y,m),M=n(_,g),$=n(b,v);if(e.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(f.control){case"wheel":o=m.width()/2-w.x,s=m.height()/2-w.y,l=Math.sqrt(o*o+s*s),(u=Math.atan2(s,o))<0&&(u+=2*Math.PI),75<l&&(l=75,w.x=69-75*Math.cos(u),w.y=69-75*Math.sin(u)),i=L(l/.75,0,100),c=Y({h:r=L(180*u/Math.PI,0,360),s:i,b:a=L(100-Math.floor(M.y*(100/g.height())),0,100)}),g.css("backgroundColor",Y({h:r,s:i,b:100}));break;case"saturation":c=Y({h:r=L(parseInt(w.x*(360/m.width()),10),0,360),s:i=L(100-Math.floor(M.y*(100/g.height())),0,100),b:a=L(100-Math.floor(w.y*(100/m.height())),0,100)}),g.css("backgroundColor",Y({h:r,s:100,b:a})),h.find(".minicolors-grid-inner").css("opacity",i/100);break;case"brightness":c=Y({h:r=L(parseInt(w.x*(360/m.width()),10),0,360),s:i=L(100-Math.floor(w.y*(100/m.height())),0,100),b:a=L(100-Math.floor(M.y*(100/g.height())),0,100)}),g.css("backgroundColor",Y({h:r,s:i,b:100})),h.find(".minicolors-grid-inner").css("opacity",1-a/100);break;default:c=Y({h:r=L(360-parseInt(M.y*(360/g.height()),10),0,360),s:i=L(Math.floor(w.x*(100/m.width())),0,100),b:a=L(100-Math.floor(w.y*(100/m.height())),0,100)}),m.css("backgroundColor",Y({h:r,s:100,b:100}))}x(t,c,d=f.opacity?parseFloat(1-$.y/v.height()).toFixed(2):1)}else p.find("span").css({backgroundColor:c,opacity:d}),k(t,c,d)}function x(t,e,n){var r,i=t.parent(),a=t.data("minicolors-settings"),o=i.find(".minicolors-input-swatch");a.opacity&&t.attr("data-opacity",n),"rgb"===a.format?(r=C(e)?S(e,!0):A($(e,!0)),n=""===t.attr("data-opacity")?1:L(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),!isNaN(n)&&a.opacity||(n=1),e=t.minicolors("rgbObject").a<=1&&r&&a.opacity?"rgba("+r.r+", "+r.g+", "+r.b+", "+parseFloat(n)+")":"rgb("+r.r+", "+r.g+", "+r.b+")"):(C(e)&&(e=E(e)),e=M(e,a.letterCase)),t.val(e),o.find("span").css({backgroundColor:e,opacity:n}),k(t,e,n)}function u(t,e){var n,r,i,a,o,s,l,u,c,d,h=t.parent(),f=t.data("minicolors-settings"),p=h.find(".minicolors-input-swatch"),m=h.find(".minicolors-grid"),g=h.find(".minicolors-slider"),v=h.find(".minicolors-opacity-slider"),y=m.find("[class$=-picker]"),_=g.find("[class$=-picker]"),b=v.find("[class$=-picker]");switch(C(t.val())?(n=E(t.val()),(o=L(parseFloat(D(t.val())).toFixed(2),0,1))&&t.attr("data-opacity",o)):n=M($(t.val(),!0),f.letterCase),n||(n=M(T(f.defaultValue,!0),f.letterCase)),r=function(t){var e=function(t){var e={h:0,s:0,b:0},n=Math.min(t.r,t.g,t.b),r=Math.max(t.r,t.g,t.b),i=r-n;e.b=r,e.s=0!==r?255*i/r:0,0!==e.s?t.r===r?e.h=(t.g-t.b)/i:t.g===r?e.h=2+(t.b-t.r)/i:e.h=4+(t.r-t.g)/i:e.h=-1;e.h*=60,e.h<0&&(e.h+=360);return e.s*=100/255,e.b*=100/255,e}(A(t));0===e.s&&(e.h=360);return e}(n),a=f.keywords?w.map(f.keywords.split(","),function(t){return w.trim(t.toLowerCase())}):[],s=""!==t.val()&&-1<w.inArray(t.val().toLowerCase(),a)?M(t.val()):C(t.val())?S(t.val()):n,e||t.val(s),f.opacity&&(i=""===t.attr("data-opacity")?1:L(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(i)&&(i=1),t.attr("data-opacity",i),p.find("span").css("opacity",i),u=L(v.height()-v.height()*i,0,v.height()),b.css("top",u+"px")),"transparent"===t.val().toLowerCase()&&p.find("span").css("opacity",0),p.find("span").css("backgroundColor",n),f.control){case"wheel":c=L(Math.ceil(.75*r.s),0,m.height()/2),d=r.h*Math.PI/180,l=L(75-Math.cos(d)*c,0,m.width()),u=L(75-Math.sin(d)*c,0,m.height()),y.css({top:u+"px",left:l+"px"}),u=150-r.b/(100/m.height()),""===n&&(u=0),_.css("top",u+"px"),g.css("backgroundColor",Y({h:r.h,s:r.s,b:100}));break;case"saturation":l=L(5*r.h/12,0,150),u=L(m.height()-Math.ceil(r.b/(100/m.height())),0,m.height()),y.css({top:u+"px",left:l+"px"}),u=L(g.height()-r.s*(g.height()/100),0,g.height()),_.css("top",u+"px"),g.css("backgroundColor",Y({h:r.h,s:100,b:r.b})),h.find(".minicolors-grid-inner").css("opacity",r.s/100);break;case"brightness":l=L(5*r.h/12,0,150),u=L(m.height()-Math.ceil(r.s/(100/m.height())),0,m.height()),y.css({top:u+"px",left:l+"px"}),u=L(g.height()-r.b*(g.height()/100),0,g.height()),_.css("top",u+"px"),g.css("backgroundColor",Y({h:r.h,s:r.s,b:100})),h.find(".minicolors-grid-inner").css("opacity",1-r.b/100);break;default:l=L(Math.ceil(r.s/(100/m.width())),0,m.width()),u=L(m.height()-Math.ceil(r.b/(100/m.height())),0,m.height()),y.css({top:u+"px",left:l+"px"}),u=L(g.height()-r.h/(360/g.height()),0,g.height()),_.css("top",u+"px"),m.css("backgroundColor",Y({h:r.h,s:100,b:100}))}t.data("minicolors-initialized")&&k(t,s,i)}function k(t,e,n){var r,i,a=t.data("minicolors-settings"),o=t.data("minicolors-lastChange");if(!o||o.value!==e||o.opacity!==n){if(t.data("minicolors-lastChange",{value:e,opacity:n}),a.swatches&&0!==a.swatches.length){for(r=C(e)?S(e,!0):A(e),-1,i=0;i<a.swatches.length;++i)if(r.r===a.swatches[i].r&&r.g===a.swatches[i].g&&r.b===a.swatches[i].b&&r.a===a.swatches[i].a){i;break}t.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==i&&t.parent().find(".minicolors-swatches .minicolors-swatch").eq(i).addClass("selected")}a.change&&(a.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout(function(){a.change.call(t.get(0),e,n)},a.changeDelay))):a.change.call(t.get(0),e,n)),t.trigger("change").trigger("input")}}function M(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function $(t,e){return(t=t.replace(/^#/g,"")).match(/^[A-F0-9]{3,6}/gi)?3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t):""}function S(t,e){var n=t.replace(/[^\d,.]/g,"").split(",");return n[0]=L(parseInt(n[0],10),0,255),n[1]=L(parseInt(n[1],10),0,255),n[2]=L(parseInt(n[2],10),0,255),n[3]&&(n[3]=L(parseFloat(n[3],10),0,1)),e?{r:n[0],g:n[1],b:n[2],a:n[3]?n[3]:null}:void 0!==n[3]&&n[3]<=1?"rgba("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")":"rgb("+n[0]+", "+n[1]+", "+n[2]+")"}function T(t,e){return C(t)?S(t):$(t,e)}function L(t,e,n){return t<e&&(t=e),n<t&&(t=n),t}function C(t){var e=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return!(!e||4!==e.length)}function D(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i))&&6===t.length?t[4]:"1"}function E(t){return(t=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i))&&4===t.length?"#"+("0"+parseInt(t[1],10).toString(16)).slice(-2)+("0"+parseInt(t[2],10).toString(16)).slice(-2)+("0"+parseInt(t[3],10).toString(16)).slice(-2):""}function c(t){var n=[t.r.toString(16),t.g.toString(16),t.b.toString(16)];return w.each(n,function(t,e){1===e.length&&(n[t]="0"+e)}),"#"+n.join("")}function Y(t){return c(function(t){var e={},n=Math.round(t.h),r=Math.round(255*t.s/100),i=Math.round(255*t.b/100);if(0===r)e.r=e.g=e.b=i;else{var a=i,o=(255-r)*i/255,s=n%60*(a-o)/60;360===n&&(n=0),n<60?(e.r=a,e.b=o,e.g=o+s):n<120?(e.g=a,e.b=o,e.r=a-s):n<180?(e.g=a,e.r=o,e.b=o+s):n<240?(e.b=a,e.r=o,e.g=a-s):n<300?(e.b=a,e.g=o,e.r=o+s):n<360?(e.r=a,e.g=o,e.b=a-s):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}(t))}function A(t){return{r:(t=parseInt(-1<t.indexOf("#")?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}}w.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},w.extend(w.fn,{minicolors:function(t,e){switch(t){case"destroy":return w(this).each(function(){n(w(this))}),w(this);case"hide":return i(),w(this);case"opacity":return void 0===e?w(this).attr("data-opacity"):(w(this).each(function(){u(w(this).attr("data-opacity",e))}),w(this));case"rgbObject":return function(t){var e=A($(w(t).val(),!0)),n=w(t).attr("data-opacity");if(!e)return null;void 0!==n&&w.extend(e,{a:parseFloat(n)});return e}(w(this));case"rgbString":case"rgbaString":return function(t,e){var n=A($(w(t).val(),!0)),r=w(t).attr("data-opacity");if(!n)return null;void 0===r&&(r=1);return e?"rgba("+n.r+", "+n.g+", "+n.b+", "+parseFloat(r)+")":"rgb("+n.r+", "+n.g+", "+n.b+")"}(w(this),"rgbaString"===t);case"settings":return void 0===e?w(this).data("minicolors-settings"):(w(this).each(function(){var t=w(this).data("minicolors-settings")||{};n(w(this)),w(this).minicolors(w.extend(!0,t,e))}),w(this));case"show":return r(w(this).eq(0)),w(this);case"value":return void 0===e?w(this).val():(w(this).each(function(){"object"==typeof e?(e.opacity&&w(this).attr("data-opacity",L(e.opacity,0,1)),e.color&&w(this).val(e.color)):w(this).val(e),u(w(this))}),w(this));default:return"create"!==t&&(e=t),w(this).each(function(){!function(e,t){var n,r,i,a,o,s=w('<div class="minicolors" />'),l=w.minicolors.defaults;if(e.data("minicolors-initialized"))return;t=w.extend(!0,{},l,t),s.addClass("minicolors-theme-"+t.theme).toggleClass("minicolors-with-opacity",t.opacity).toggleClass("minicolors-no-data-uris",!0!==t.dataUris),void 0!==t.position&&w.each(t.position.split(" "),function(){s.addClass("minicolors-position-"+this)});n="rgb"===t.format?t.opacity?"25":"20":t.keywords?"11":"7";e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",t).prop("size",n).wrap(s).after('<div class="minicolors-panel minicolors-slider-'+t.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),t.inline||(e.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-input-swatch").on("click",function(t){t.preventDefault(),e.focus()}));if((a=e.parent().find(".minicolors-panel")).on("selectstart",function(){return!1}).end(),t.swatches&&0!==t.swatches.length)for(7<t.swatches.length&&(t.swatches.length=7),a.addClass("minicolors-with-swatches"),r=w('<ul class="minicolors-swatches"></ul>').appendTo(a),o=0;o<t.swatches.length;++o)i=C(i=t.swatches[o])?S(i,!0):A($(i,!0)),w('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(r).data("swatch-color",t.swatches[o]).find(".minicolors-swatch-color").css({backgroundColor:c(i),opacity:i.a}),t.swatches[o]=i;t.inline&&e.parent().addClass("minicolors-inline");u(e,!1),e.data("minicolors-initialized",!0)}(w(this),e)}),w(this)}}}),w(document).on("mousedown.minicolors touchstart.minicolors",function(t){w(t.target).parents().add(t.target).hasClass("minicolors")||i()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(t){var e=w(this);t.preventDefault(),w(document).data("minicolors-target",e),a(e,t,!0)}).on("mousemove.minicolors touchmove.minicolors",function(t){var e=w(document).data("minicolors-target");e&&a(e,t)}).on("mouseup.minicolors touchend.minicolors",function(){w(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(t){t.preventDefault();var e=w(this),n=e.parents(".minicolors").find(".minicolors-input"),r=e.data("swatch-color");x(n,r,D(r)),u(n)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(t){var e=w(this).parent().find(".minicolors-input");t.preventDefault(),r(e)}).on("focus.minicolors",".minicolors-input",function(){var t=w(this);t.data("minicolors-initialized")&&r(t)}).on("blur.minicolors",".minicolors-input",function(){var t,e,n,r,i,a=w(this),o=a.data("minicolors-settings");a.data("minicolors-initialized")&&(t=o.keywords?w.map(o.keywords.split(","),function(t){return w.trim(t.toLowerCase())}):[],i=""!==a.val()&&-1<w.inArray(a.val().toLowerCase(),t)?a.val():null===(n=C(a.val())?S(a.val(),!0):(e=$(a.val(),!0))?A(e):null)?o.defaultValue:"rgb"===o.format?o.opacity?S("rgba("+n.r+","+n.g+","+n.b+","+a.attr("data-opacity")+")"):S("rgb("+n.r+","+n.g+","+n.b+")"):c(n),r=o.opacity?a.attr("data-opacity"):1,"transparent"===i.toLowerCase()&&(r=0),a.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",r),a.val(i),""===a.val()&&a.val(T(o.defaultValue,!0)),a.val(M(a.val(),o.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(t){var e=w(this);if(e.data("minicolors-initialized"))switch(t.keyCode){case 9:i();break;case 13:case 27:i(),e.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var t=w(this);t.data("minicolors-initialized")&&u(t,!0)}).on("paste.minicolors",".minicolors-input",function(){var t=w(this);t.data("minicolors-initialized")&&setTimeout(function(){u(t,!0)},1)})}),angular.module("minicolors",[]),angular.module("minicolors").provider("minicolors",function(){this.defaults={theme:"bootstrap",position:"top left",defaultValue:"",animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,show:null,showSpeed:100},this.$get=function(){return this}}),angular.module("minicolors").directive("minicolors",["minicolors","$timeout",function(s,l){return{require:"?ngModel",restrict:"A",priority:1,link:function(e,n,t,r){var i=!1,a=function(){return angular.extend({},s.defaults,e.$eval(t.minicolors))};r.$render=function(){l(function(){var t=r.$viewValue;n.minicolors("value",t)},0,!1)};var o=function(){if(r){var t=a();return t.change=function(t){e.$apply(function(){r.$setViewValue(t)})},n.hasClass("minicolors-input")&&n.minicolors("destroy"),n.minicolors(t),i?void 0:(l(function(){var t=r.$viewValue;n.minicolors("value",t)},0),void(i=!0))}};o(),e.$watch(a,o,!0)}}}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,N,O){"use strict";var R,H=N.isDefined,g=N.isFunction,P=N.isString,j=N.isObject,F=N.isArray,I=N.forEach,z=N.extend,B=N.copy,p=N.toJson;function W(t,e){return z(new(z(function(){},{prototype:t})),e)}function w(n){return I(arguments,function(t){t!==n&&I(t,function(t,e){n.hasOwnProperty(e)||(n[e]=t)})}),n}function U(t){if(Object.keys)return Object.keys(t);var n=[];return I(t,function(t,e){n.push(e)}),n}function q(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,r=Number(arguments[2])||0;for((r=r<0?Math.ceil(r):Math.floor(r))<0&&(r+=n);r<n;r++)if(r in t&&t[r]===e)return r;return-1}function V(t,e,n,r){var i,a=function(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}(n,r),o={},s=[];for(var l in a)if(a[l]&&a[l].params&&(i=U(a[l].params)).length)for(var u in i)0<=q(s,i[u])||(s.push(i[u]),o[i[u]]=t[i[u]]);return z({},o,e)}function h(t,e,n){if(!n)for(var r in n=[],t)n.push(r);for(var i=0;i<n.length;i++){var a=n[i];if(t[a]!=e[a])return!1}return!0}function G(t,e){var n={};return I(t,function(t){n[t]=e[t]}),n}function K(e){var n={},t=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return I(t,function(t){t in e&&(n[t]=e[t])}),n}function M(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in t)-1==q(n,r)&&(e[r]=t[r]);return e}function x(t,n){var r=F(t),i=r?[]:{};return I(t,function(t,e){n(t,e)&&(i[r?i.length:e]=t)}),i}function J(t,n){var r=F(t)?[]:{};return I(t,function(t,e){r[e]=n(t,e)}),r}function n(t){return t.then(O,function(){})&&t}function e(v,y){var s=1,l=2,t={},u=[],_=t,b=z(v.when(t),{$$promises:t,$$values:t});this.study=function(i){if(!j(i))throw new Error("'invocables' must be an object");var p=U(i||{}),m=[],a=[],o={};function g(t){return j(t)&&t.then&&t.$$promises}return I(i,function e(t,n){if(o[n]!==l){if(a.push(n),o[n]===s)throw a.splice(0,q(a,n)),new Error("Cyclic dependency: "+a.join(" -> "));if(o[n]=s,P(t))m.push(n,[function(){return y.get(t)}],u);else{var r=y.annotate(t);I(r,function(t){t!==n&&i.hasOwnProperty(t)&&e(i[t],t)}),m.push(n,t,r)}a.pop(),o[n]=l}}),i=a=o=null,function(s,t,l){if(g(s)&&l===O&&(l=t,t=s,s=null),s){if(!j(s))throw new Error("'locals' must be an object")}else s=_;if(t){if(!g(t))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else t=b;var e=v.defer(),u=e.promise,c=u.$$promises={},d=z({},s),n=1+m.length/3,r=!1;function h(){--n||(r||w(d,t.$$values),u.$$values=d,u.$$promises=u.$$promises||!0,delete u.$$inheritedValues,e.resolve(d))}function f(t){u.$$failure=t,e.reject(t)}if(H(t.$$failure))return f(t.$$failure),u;t.$$inheritedValues&&w(d,M(t.$$inheritedValues,p)),z(c,t.$$promises),t.$$values?(r=w(d,M(t.$$values,p)),u.$$inheritedValues=M(t.$$values,p),h()):(t.$$inheritedValues&&(u.$$inheritedValues=M(t.$$inheritedValues,p)),t.then(h,f));for(var i=0,a=m.length;i<a;i+=3)s.hasOwnProperty(m[i])?h():o(m[i],m[i+1],m[i+2]);function o(e,t,n){var r=v.defer(),i=0;function a(t){r.reject(t),f(t)}function o(){if(!H(u.$$failure))try{r.resolve(y.invoke(t,l,d)),r.promise.then(function(t){d[e]=t,h()},a)}catch(t){a(t)}}I(n,function(e){c.hasOwnProperty(e)&&!s.hasOwnProperty(e)&&(i++,c[e].then(function(t){d[e]=t,--i||o()},a))}),i||o(),c[e]=r.promise}return u}},this.resolve=function(t,e,n,r){return this.study(t)(e,n,r)}}function r(n,r,i){this.fromConfig=function(t,e,n){return H(t.template)?this.fromString(t.template,e):H(t.templateUrl)?this.fromUrl(t.templateUrl,e):H(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return g(t)?t(e):t},this.fromUrl=function(t,e){return g(t)&&(t=t(e)),null==t?null:n.get(t,{cache:r,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,n){return i.invoke(t,null,n||{params:e})}}function l(s,l,t){l=z({params:{}},j(l)?l:{});var e,n,r,i,a=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,o=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,u="^",c=0,d=this.segments=[],h=t?t.params:{},f=this.params=t?t.params.$$new():new R.ParamSet,p=[];function m(t,e,n,r){if(p.push(t),h[t])return h[t];if(!/^\w+([-.]+\w+)*(?:\[\])?$/.test(t))throw new Error("Invalid parameter name '"+t+"' in pattern '"+s+"'");if(f[t])throw new Error("Duplicate parameter name '"+t+"' in pattern '"+s+"'");return f[t]=new R.Param(t,e,n,r),f[t]}function g(t,e,n,r){var i=["",""],a=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return a;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:a=a.replace(/\/$/,""),i=["(?:/(",")|/)?"];break;default:i=["("+n+"|",")?"]}return a+i[0]+e+i[1]}function v(t,e){var n,r,i,a,o;return n=t[2]||t[3],o=l.params[n],i=s.substring(c,t.index),(r=e?t[4]:t[4]||("*"==t[1]?".*":null))&&(a=R.type(r)||W(R.type("string"),{pattern:new RegExp(r,l.caseInsensitive?"i":O)})),{id:n,regexp:r,segment:i,type:a,cfg:o}}for(this.source=s;(e=a.exec(s))&&!(0<=(n=v(e,!1)).segment.indexOf("?"));)r=m(n.id,n.type,n.cfg,"path"),u+=g(n.segment,r.type.pattern.source,r.squash,r.isOptional),d.push(n.segment),c=a.lastIndex;var y=(i=s.substring(c)).indexOf("?");if(0<=y){var _=this.sourceSearch=i.substring(y);if(i=i.substring(0,y),this.sourcePath=s.substring(0,c+y),0<_.length)for(c=0;e=o.exec(_);)r=m((n=v(e,!0)).id,n.type,n.cfg,"search"),c=a.lastIndex}else this.sourcePath=s,this.sourceSearch="";u+=g(i)+(!1===l.strict?"/?":"")+"$",d.push(i),this.regexp=new RegExp(u,l.caseInsensitive?"i":O),this.prefix=d[0],this.$$paramNames=p}function k(t){z(this,t)}function i(f,s){var l,u=[],p=null,m=!1;function c(t,e,n){if(!n)return!1;var r=t.invoke(e,e,{$match:n});return!H(r)||r}function t(c,t,i,e,d){var a,h=e.baseHref(),n=c.url();function r(t){if(!t||!t.defaultPrevented){a&&c.url();a=O;var e,n=u.length;for(e=0;e<n;e++)if(r(u[e]))return;p&&r(p)}function r(t){var e=t(i,c);return!!e&&(P(e)&&c.replace().url(e),!0)}}function o(){return l=l||t.$on("$locationChangeSuccess",r)}return m||o(),{sync:function(){r()},listen:function(){return o()},update:function(t){t?n=c.url():c.url()!==n&&(c.url(n),c.replace())},push:function(t,e,n){var r=t.format(e||{});null!==r&&e&&e["#"]&&(r+="#"+e["#"]),c.url(r),a=n&&n.$$avoidResync?c.url():O,n&&n.replace&&c.replace()},href:function(t,e,n){if(!t.validates(e))return null;var r=f.html5Mode();N.isObject(r)&&(r=r.enabled),r=r&&d.history;var i,a,o,s=t.format(e);if(n=n||{},r||null===s||(s="#"+f.hashPrefix()+s),null!==s&&e&&e["#"]&&(s+="#"+e["#"]),i=s,a=r,o=n.absolute,s="/"===h?i:a?h.slice(0,-1)+i:o?h.slice(1)+i:i,!n.absolute||!s)return s;var l=!r&&s?"/":"",u=c.port();return u=80===u||443===u?"":":"+u,[c.protocol(),"://",c.host(),u,l,s].join("")}}}this.rule=function(t){if(!g(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if(P(t)){var e=t;t=function(){return e}}else if(!g(t))throw new Error("'rule' must be a function");return p=t,this},this.when=function(t,e){var i,a=P(e);if(P(t)&&(t=s.compile(t)),!a&&!g(e)&&!F(e))throw new Error("invalid 'handler' in when()");var n={matcher:function(n,r){return a&&(i=s.compile(r),r=["$match",function(t){return i.format(t)}]),z(function(t,e){return c(t,r,n.exec(e.path(),e.search()))},{prefix:P(n.prefix)?n.prefix:""})},regex:function(n,r){if(n.global||n.sticky)throw new Error("when() RegExp must not be global or sticky");return a&&(i=r,r=["$match",function(t){return n=t,i.replace(/\$(\$|\d{1,2})/,function(t,e){return n["$"===e?0:Number(e)]});var n}]),z(function(t,e){return c(t,r,n.exec(e.path()))},{prefix:(t=n,e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source),null!=e?e[1].replace(/\\(.)/g,"$1"):"")});var t,e}},r={matcher:s.isMatcher(t),regex:t instanceof RegExp};for(var o in r)if(r[o])return this.rule(n[o](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===O&&(t=!0),m=t},(this.$get=t).$inject=["$location","$rootScope","$injector","$browser","$sniffer"]}function a(o,r){var D,E,d={},s={},Y="abstract",l={parent:function(t){if(H(t.parent)&&t.parent)return A(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?A(e[1]):D},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=W(t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(P(e))return"^"==e.charAt(0)?r.compile(e.substring(1),n):(t.parent.navigable||D).url.concat(e,n);if(!e||r.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var n=t.url&&t.url.params||new R.ParamSet;return I(t.params||{},function(t,e){n[e]||(n[e]=new R.Param(e,null,t,"config"))}),n},params:function(t){var e=K(t.ownParams,t.ownParams.$$keys());return t.parent&&t.parent.params?z(t.parent.params.$$new(),e):new R.ParamSet},views:function(n){var r={};return I(H(n.views)?n.views:{"":n},function(t,e){e.indexOf("@")<0&&(e+="@"+n.parent.name),t.resolveAs=t.resolveAs||n.resolveAs||"$resolve",r[e]=t}),r},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?z({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};function A(t,e){if(!t)return O;var n,r=P(t),i=r?t:t.name;if(0===(n=i).indexOf(".")||0===n.indexOf("^")){if(!e)throw new Error("No reference point given for path '"+i+"'");e=A(e);for(var a=i.split("."),o=0,s=a.length,l=e;o<s;o++)if(""!==a[o]||0!==o){if("^"!==a[o])break;if(!l.parent)throw new Error("Path '"+i+"' not valid for state '"+e.name+"'");l=l.parent}else l=e;a=a.slice(o).join("."),i=l.name+(l.name&&a?".":"")+a}var u=d[i];return!u||!r&&(r||u!==t&&u.self!==t)?O:u}function u(n){var t=(n=W(n,{self:n,resolve:n.resolve||{},toString:function(){return this.name}})).name;if(!P(t)||0<=t.indexOf("@"))throw new Error("State must have a valid name");if(d.hasOwnProperty(t))throw new Error("State '"+t+"' is already defined");var e,r,i=-1!==t.indexOf(".")?t.substring(0,t.lastIndexOf(".")):P(n.parent)?n.parent:j(n.parent)&&P(n.parent.name)?n.parent.name:"";if(i&&!d[i])return e=i,r=n.self,s[e]||(s[e]=[]),void s[e].push(r);for(var a in l)g(l[a])&&(n[a]=l[a](n,l.$delegates[a]));return!(d[t]=n)[Y]&&n.url&&o.when(n.url,["$match","$stateParams",function(t,e){E.$current.navigable==n&&h(t,e)||E.transitionTo(n,t,{inherit:!0,location:!1})}]),function(t){for(var e=s[t]||[];e.length;)u(e.shift())}(t),n}function t(_,b,u,w,c,M,$,t,e){var x=new Error("transition superseded"),k=n(b.reject(x)),S=n(b.reject(new Error("transition prevented"))),T=n(b.reject(new Error("transition aborted"))),L=n(b.reject(new Error("transition failed")));function C(a,t,e,n,o,s){var l=e?t:G(a.params.$$keys(),t),r={$stateParams:l};o.resolve=c.resolve(a.resolve,r,o.resolve,a);var i=[o.resolve.then(function(t){o.globals=t})];return n&&i.push(n),b.all(i).then(function(){var t=[];return I(a.views,function(n,r){var i=n.resolve&&n.resolve!==a.resolve?n.resolve:{};i.$template=[function(){return u.load(r,{view:n,locals:o.globals,params:l,notify:s.notify})||""}],t.push(c.resolve(i,o.globals,o.resolve,a).then(function(t){if(g(n.controllerProvider)||F(n.controllerProvider)){var e=N.extend({},i,o.globals);t.$$controller=w.invoke(n.controllerProvider,null,e)}else t.$$controller=n.controller;t.$$state=a,t.$$controllerAs=n.controllerAs,t.$$resolveAs=n.resolveAs,o[r]=t}))}),b.all(t).then(function(){return o.globals})}).then(function(t){return o})}return D.locals={resolve:null,globals:{$stateParams:{}}},(E={params:{},current:D.self,$current:D,transition:null}).reload=function(t){return E.transitionTo(E.current,M,{reload:t||!0,inherit:!1,notify:!0})},E.go=function(t,e,n){return E.transitionTo(t,e,z({inherit:!0,relative:E.$current},n))},E.transitionTo=function(r,i,a){i=i||{},a=z({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},a||{});var o=E.$current,s=E.params,l=o.path,t=A(r,a.relative),e=i["#"];if(!H(t)){var n={to:r,toParams:i,options:a},u=function(t,e,n,r){var i=_.$broadcast("$stateNotFound",t,e,n);if(i.defaultPrevented)return $.update(),T;if(!i.retry)return null;if(r.$retry)return $.update(),L;var a=E.transition=b.when(i.retry);return a.then(function(){return a!==E.transition?(_.$broadcast("$stateChangeCancel",t.to,t.toParams,e,n),k):(t.options.$retry=!0,E.transitionTo(t.to,t.toParams,t.options))},function(){return T}),$.update(),a}(n,o.self,s,a);if(u)return u;if(i=n.toParams,t=A(r=n.to,(a=n.options).relative),!H(t)){if(!a.relative)throw new Error("No such state '"+r+"'");throw new Error("Could not resolve '"+r+"' from state '"+a.relative+"'")}}if(t[Y])throw new Error("Cannot transition to abstract state '"+r+"'");if(a.inherit&&(i=V(M,i||{},E.$current,t)),!t.params.$$validates(i))return L;i=t.params.$$values(i);var c=(r=t).path,d=0,h=c[d],f=D.locals,p=[];if(a.reload){if(P(a.reload)||j(a.reload)){if(j(a.reload)&&!a.reload.name)throw new Error("Invalid reload state object");var m=!0===a.reload?l[0]:A(a.reload);if(a.reload&&!m)throw new Error("No such reload state '"+(P(a.reload)?a.reload:a.reload.name)+"'");for(;h&&h===l[d]&&h!==m;)f=p[d]=h.locals,h=c[++d]}}else for(;h&&h===l[d]&&h.ownParams.$$equals(i,s);)f=p[d]=h.locals,h=c[++d];if(function(t,e,n,r,i,a){if(!a.reload&&t===n&&(i===n.locals||!1===t.self.reloadOnSearch&&(o=n,s=r,l=e,u=o.params.$$keys().filter(function(t){return"search"!=o.params[t].location}),c=K.apply({},[o.params].concat(u)),new R.ParamSet(c).$$equals(s,l))))return!0;var o,s,l,u,c}(r,i,o,s,f,a))return e&&(i["#"]=e),E.params=i,B(E.params,M),B(G(r.params.$$keys(),M),r.locals.globals.$stateParams),a.location&&r.navigable&&r.navigable.url&&($.push(r.navigable.url,i,{$$avoidResync:!0,replace:"replace"===a.location}),$.update(!0)),E.transition=null,b.when(E.current);if(i=G(r.params.$$keys(),i||{}),e&&(i["#"]=e),a.notify&&_.$broadcast("$stateChangeStart",r.self,i,o.self,s,a).defaultPrevented)return _.$broadcast("$stateChangeCancel",r.self,i,o.self,s),null==E.transition&&$.update(),S;for(var g=b.when(f),v=d;v<c.length;h=c[++v])f=p[v]=W(f),g=C(h,i,h===r,g,f,a);var y=E.transition=g.then(function(){var t,e,n;if(E.transition!==y)return _.$broadcast("$stateChangeCancel",r.self,i,o.self,s),k;for(t=l.length-1;d<=t;t--)(n=l[t]).self.onExit&&w.invoke(n.self.onExit,n.self,n.locals.globals),n.locals=null;for(t=d;t<c.length;t++)(e=c[t]).locals=p[t],e.self.onEnter&&w.invoke(e.self.onEnter,e.self,e.locals.globals);return E.transition!==y?(_.$broadcast("$stateChangeCancel",r.self,i,o.self,s),k):(E.$current=r,E.current=r.self,E.params=i,B(E.params,M),E.transition=null,a.location&&r.navigable&&$.push(r.navigable.url,r.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===a.location}),a.notify&&_.$broadcast("$stateChangeSuccess",r.self,i,o.self,s),$.update(!0),E.current)}).then(null,function(t){return t===x?k:E.transition!==y?(_.$broadcast("$stateChangeCancel",r.self,i,o.self,s),k):(E.transition=null,_.$broadcast("$stateChangeError",r.self,i,o.self,s,t).defaultPrevented||$.update(),b.reject(t))});return y},E.is=function(t,e,n){var r=A(t,(n=z({relative:E.$current},n||{})).relative);return H(r)?E.$current===r&&(!e||h(r.params.$$values(e),M)):O},E.includes=function(t,e,n){if(n=z({relative:E.$current},n||{}),P(t)&&-1<t.indexOf("*")){if(!function(t){for(var e=t.split("."),n=E.$current.name.split("."),r=0,i=e.length;r<i;r++)"*"===e[r]&&(n[r]="*");return"**"===e[0]&&(n=n.slice(q(n,e[1]))).unshift("**"),"**"===e[e.length-1]&&(n.splice(q(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length==n.length&&n.join("")===e.join("")}(t))return!1;t=E.$current.name}var r=A(t,n.relative);if(!H(r))return O;if(!H(E.$current.includes[r.name]))return!1;if(!e)return!0;for(var i=U(e),a=0;a<i.length;a++){var o=i[a],s=r.params[o];if(s&&!s.type.equals(M[o],e[o]))return!1}return!0},E.href=function(t,e,n){var r=A(t,(n=z({lossy:!0,inherit:!0,absolute:!1,relative:E.$current},n||{})).relative);if(!H(r))return null;n.inherit&&(e=V(M,e||{},E.$current,r));var i=r&&n.lossy?r.navigable:r;return i&&i.url!==O&&null!==i.url?$.href(i.url,G(r.params.$$keys().concat("#"),e||{}),{absolute:n.absolute}):null},E.get=function(t,e){if(0===arguments.length)return J(U(d),function(t){return d[t].self});var n=A(t,e||E.$current);return n&&n.self?n.self:null},E}(D=u({name:"",url:"^",views:null,abstract:!0})).navigable=null,this.decorator=function(t,e){if(P(t)&&!H(e))return l[t];if(!g(e)||!P(t))return this;l[t]&&!l.$delegates[t]&&(l.$delegates[t]=l[t]);return l[t]=e,this},this.state=function(t,e){j(t)?e=t:e.name=t;return u(e),this},(this.$get=t).$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function o(){function t(t,r){return{load:function(t,e){var n;return(e=z({template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}},e)).view&&(n=r.fromConfig(e.view,e.params,e.locals)),n}}}(this.$get=t).$inject=["$rootScope","$templateFactory"]}function s(g,e,v,y,_){var t=e.has?function(t){return e.has(t)?e.get(t):null}:function(t){try{return e.get(t)}catch(t){return null}},n=t("$animator"),i=t("$animate");return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(t,e,m){return function(a,o,s){var l,u,c,d,h=s.onload||"",f=s.autoscroll,p=function(t,e){if(i)return{enter:function(t,e,n){2<N.version.minor?i.enter(t,null,e).then(n):i.enter(t,null,e,n)},leave:function(t,e){2<N.version.minor?i.leave(t).then(e):i.leave(t,e)}};if(n){var r=n&&n(e,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}}(s,a);o.inheritedData("$uiView");function t(t){var e,n=b(a,s,o,y),r=n&&g.$current&&g.$current.locals[n];if(t||r!==d){e=a.$new(),d=g.$current.locals[n],e.$emit("$viewContentLoading",n);var i=m(e,function(t){var e=_.defer(),n=_.defer(),r={$animEnter:e.promise,$animLeave:n.promise,$$animLeave:n};t.data("$uiViewAnim",r),p.enter(t,o,function(){e.resolve(),c&&c.$emit("$viewContentAnimationEnded"),(N.isDefined(f)&&!f||a.$eval(f))&&v(t)}),function(){if(l&&(l.remove(),l=null),c&&(c.$destroy(),c=null),u){var t=u.data("$uiViewAnim");p.leave(u,function(){t.$$animLeave.resolve(),l=null}),l=u,u=null}}()});u=i,(c=e).$emit("$viewContentLoaded",n),c.$eval(h)}}a.$on("$stateChangeSuccess",function(){t(!1)}),t(!0)}}}}function u(c,d,h,f){return{restrict:"ECA",priority:-400,compile:function(t){var u=t.html();return function(t,e,n){var r=h.$current,i=b(t,n,e,f),a=r&&r.locals[i];if(a){e.data("$uiView",{name:i,state:a.$$state}),e.html(a.$template?a.$template:u);var o=N.extend({},a);t[a.$$resolveAs]=o;var s=c(e.contents());if(a.$$controller){a.$scope=t,a.$element=e;var l=d(a.$$controller,a);a.$$controllerAs&&(t[a.$$controllerAs]=l,t[a.$$controllerAs][a.$$resolveAs]=o),g(l.$onInit)&&l.$onInit(),e.data("$ngControllerController",l),e.children().data("$ngControllerController",l)}s(t)}}}}}function b(t,e,n,r){var i=r(e.uiView||e.name||"")(t),a=n.inheritedData("$uiView");return 0<=i.indexOf("@")?i:i+"@"+(a?a.state.name:"")}function m(t,e){var n,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t=e+"("+r[1]+")"),!(n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/))||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function v(t){var e=t.parent().inheritedData("$uiView");if(e&&e.state&&e.state.name)return e.state}function y(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),n="FORM"===t[0].nodeName;return{attr:n?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!n}}function _(a,o,s,l,u){return function(t){var e=t.which||t.button,n=u();if(!(1<e||t.ctrlKey||t.metaKey||t.shiftKey||a.attr("target"))){var r=s(function(){o.go(n.state,n.params,n.options)});t.preventDefault();var i=l.isAnchor&&!n.href?1:0;t.preventDefault=function(){i--<=0&&s.cancel(r)}}}}function c(h,f){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,e,n,r){var i,a,o=m(n.uiSref,h.current.name),s={state:o.state,href:null,params:null},l=y(e),u=r[1]||r[0],c=null;s.options=z((a=h,{relative:v(e)||a.$current,inherit:!0}),n.uiSrefOpts?t.$eval(n.uiSrefOpts):{});var d=function(t){t&&(s.params=N.copy(t)),s.href=h.href(o.state,s.params,s.options),c&&c(),u&&(c=u.$$addStateInfo(o.state,s.params)),null!==s.href&&n.$set(l.attr,s.href)};o.paramExpr&&(t.$watch(o.paramExpr,function(t){t!==s.params&&d(t)},!0),s.params=N.copy(t.$eval(o.paramExpr))),d(),l.clickable&&(i=_(e,h,f,l,function(){return s}),e[e.on?"on":"bind"]("click",i),t.$on("$destroy",function(){e[e.off?"off":"unbind"]("click",i)}))}}}function d(d,h){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(t,e,n,r){var i,a=y(e),o=r[1]||r[0],s="["+[n.uiState,n.uiStateParams||null,n.uiStateOpts||null].map(function(t){return t||"null"}).join(", ")+"]",l={state:null,params:null,options:null,href:null},u=null;function c(t){l.state=t[0],l.params=t[1],l.options=t[2],l.href=d.href(l.state,l.params,l.options),u&&u(),o&&(u=o.$$addStateInfo(l.state,l.params)),l.href&&n.$set(a.attr,l.href)}t.$watch(s,c,!0),c(t.$eval(s)),a.clickable&&(i=_(e,d,h,a,function(){return l}),e[e.on?"on":"bind"]("click",i),t.$on("$destroy",function(){e[e.off?"off":"unbind"]("click",i)}))}}}function f(f,t,e){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(o,s,t,n){var a,r,l=[],u={};a=e(t.uiSrefActiveEq||"",!1)(o);try{r=o.$eval(t.uiSrefActive)}catch(t){}function i(t,e,n){var r=f.get(t,v(s)),i=function(t,e){if(!P(t))throw new Error("state should be a string");if(j(e))return t+p(e);if(e=o.$eval(e),j(e))return t+p(e);return t}(t,e),a={state:r||{name:t},params:e,hash:i};return l.push(a),u[i]=n,function(){var t=l.indexOf(a);-1!==t&&l.splice(t,1)}}function c(){for(var t=0;t<l.length;t++)r=l[t].state,i=l[t].params,f.includes(r.name,i)?d(s,u[l[t].hash]):h(s,u[l[t].hash]),e=l[t].state,n=l[t].params,f.is(e.name,n)?d(s,a):h(s,a);var e,n,r,i}function d(t,e){n(function(){t.addClass(e)})}function h(t,e){t.removeClass(e)}r=r||e(t.uiSrefActive||"",!1)(o),j(r)&&I(r,function(t,e){if(P(t)){var n=m(t,f.current.name);i(n.state,o.$eval(n.paramExpr),e)}}),this.$$addStateInfo=function(t,e){if(!(j(r)&&0<l.length)){var n=i(t,e,r);return c(),n}},o.$on("$stateChangeSuccess",c),c()}]}}function $(n){var t=function(t,e){return n.is(t,e)};return t.$stateful=!0,t}function S(r){var t=function(t,e,n){return r.includes(t,e,n)};return t.$stateful=!0,t}N.module("ui.router.util",["ng"]),N.module("ui.router.router",["ui.router.util"]),N.module("ui.router.state",["ui.router.router","ui.router.util"]),N.module("ui.router",["ui.router.state"]),N.module("ui.router.compat",["ui.router"]),e.$inject=["$q","$injector"],N.module("ui.router.util").service("$resolve",e),r.$inject=["$http","$templateCache","$injector"],N.module("ui.router.util").service("$templateFactory",r),l.prototype.concat=function(t,e){var n={caseInsensitive:R.caseInsensitive(),strict:R.strictMode(),squash:R.defaultSquashPolicy()};return new l(this.sourcePath+t+this.sourceSearch,z(n,e),this)},l.prototype.toString=function(){return this.source},l.prototype.exec=function(t,e){var n=this.regexp.exec(t);if(!n)return null;e=e||{};var r,i,a,o,s,l=this.parameters(),u=l.length,c=this.segments.length-1,d={};if(c!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");function h(t){function e(t){return t.split("").reverse().join("")}return J(J(e(t).split(/-(?!\\)/),e),function(t){return t.replace(/\\-/g,"-")}).reverse()}for(r=0;r<c;r++){for(a=l[r],o=this.params[a],s=n[r+1],i=0;i<o.replace.length;i++)o.replace[i].from===s&&(s=o.replace[i].to);s&&!0===o.array&&(s=h(s)),H(s)&&(s=o.type.decode(s)),d[a]=o.value(s)}for(;r<u;r++){for(d[a=l[r]]=this.params[a].value(e[a]),o=this.params[a],s=e[a],i=0;i<o.replace.length;i++)o.replace[i].from===s&&(s=o.replace[i].to);H(s)&&(s=o.type.decode(s)),d[a]=o.value(s)}return d},l.prototype.parameters=function(t){return H(t)?this.params[t]||null:this.$$paramNames},l.prototype.validates=function(t){return this.params.$$validates(t)},l.prototype.format=function(t){t=t||{};var e=this.segments,n=this.parameters(),r=this.params;if(!this.validates(t))return null;var i,a=!1,o=e.length-1,s=n.length,l=e[0];function u(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}for(i=0;i<s;i++){var c=i<o,d=n[i],h=r[d],f=h.value(t[d]),p=h.isOptional&&h.type.equals(h.value(),f),m=!!p&&h.squash,g=h.type.encode(f);if(c){var v=e[i+1],y=i+1===o;if(!1===m)null!=g&&(F(g)?l+=J(g,u).join("-"):l+=encodeURIComponent(g)),l+=v;else if(!0===m){var _=l.match(/\/$/)?/\/?(.*)/:/(.*)/;l+=v.match(_)[1]}else P(m)&&(l+=m+v);y&&!0===h.squash&&"/"===l.slice(-1)&&(l=l.slice(0,-1))}else{if(null==g||p&&!1!==m)continue;if(F(g)||(g=[g]),0===g.length)continue;l+=(a?"&":"?")+d+"="+(g=J(g,encodeURIComponent).join("&"+d+"=")),a=!0}}return l},k.prototype.is=function(t,e){return!0},k.prototype.encode=function(t,e){return t},k.prototype.decode=function(t,e){return t},k.prototype.equals=function(t,e){return t==e},k.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},k.prototype.pattern=/.*/,k.prototype.toString=function(){return"{Type:"+this.name+"}"},k.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},k.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new function(t,i){function e(t,e){return function(){return t[e].apply(t,arguments)}}function a(t){return F(t)?t:H(t)?[t]:[]}function o(t){return!t}function n(n,r){return function(t){if(F(t)&&0===t.length)return t;var e=J(t=a(t),n);return!0===r?0===x(e,o).length:function(t){switch(t.length){case 0:return O;case 1:return"auto"===i?t[0]:t;default:return t}}(e)}}var s;this.encode=n(e(t,"encode")),this.decode=n(e(t,"decode")),this.is=n(e(t,"is"),!0),this.equals=(s=e(t,"equals"),function(t,e){var n=a(t),r=a(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!s(n[i],r[i]))return!1;return!0}),this.pattern=t.pattern,this.$normalize=n(e(t,"$normalize")),this.name=t.name,this.$arrayMode=i}(this,t)},N.module("ui.router.util").provider("$urlMatcherFactory",function(){R=this;var n=!1,r=!0,b=!1;function t(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t}var w,M={},i=!0,a=[],e={string:{encode:t,decode:function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t},is:function(t){return null==t||!H(t)||"string"==typeof t},pattern:/[^/]*/},int:{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return H(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return!0===t||!1===t},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):O},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):O},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:N.toJson,decode:N.fromJson,is:N.isObject,equals:N.equals,pattern:/[^/]*/},any:{encode:N.identity,decode:N.identity,equals:N.equals,pattern:/.*/}};function $(t){return g(t)||F(t)&&g(t[t.length-1])}function o(){for(;a.length;){var t=a.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");N.extend(M[t.name],w.invoke(t.def))}}function s(t){z(this,t||{})}(function(t){if(!$(t.value))return t.value;if(!w)throw new Error("Injectable functions cannot be called at configuration time");return w.invoke(t.value)}),this.caseInsensitive=function(t){return H(t)&&(n=t),n},this.strictMode=function(t){return H(t)&&(r=t),r},this.defaultSquashPolicy=function(t){if(!H(t))return b;if(!0!==t&&!1!==t&&!P(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return b=t},this.compile=function(t,e){return new l(t,z({strict:r,caseInsensitive:n},e))},this.isMatcher=function(n){if(!j(n))return!1;var r=!0;return I(l.prototype,function(t,e){g(t)&&(r=r&&H(n[e])&&g(n[e]))}),r},this.type=function(t,e,n){if(!H(e))return M[t];if(M.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return M[t]=new k(z({name:t},e)),n&&(a.push({name:t,def:n}),i||o()),this},I(e,function(t,e){M[e]=new k(z({name:e},t))}),M=W(M,{}),this.$get=["$injector",function(t){return w=t,i=!1,o(),I(e,function(t,e){M[e]||(M[e]=new k(t))}),this}],this.Param=function(r,t,i,e){var n,a,o=this;-1===q(a=j(n=i)?U(n):[],"value")&&-1===q(a,"type")&&-1===q(a,"squash")&&-1===q(a,"array")&&(n={value:n}),n.$$fn=$(n.value)?n.value:function(){return n.value},t=function(t,e,n){if(t.type&&e)throw new Error("Param '"+r+"' has two type configurations.");return e||(t.type?N.isString(t.type)?M[t.type]:t.type instanceof k?t.type:new k(t.type):"config"===n?M.any:M.string)}(i=n,t,e);var s,l,u=(s={array:"search"===e&&"auto"},l=r.match(/\[\]$/)?{array:!0}:{},z(s,l,i).array);"string"!==(t=u?t.$asArray(u,"search"===e):t).name||u||"path"!==e||i.value!==O||(i.value="");var c,d,h,f,p,m,g,v=i.value!==O,y=function(t,e){var n=t.squash;if(!e||!1===n)return!1;if(!H(n)||null==n)return b;if(!0===n||P(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}(i,v),_=(d=u,f=y,g=[{from:"",to:(h=v)||d?O:""},{from:null,to:h||d?O:""}],p=F((c=i).replace)?c.replace:[],P(f)&&p.push({from:f,to:O}),m=J(p,function(t){return t.from}),x(g,function(t){return-1===q(m,t.from)}).concat(p));z(this,{id:r,type:t,location:e,array:u,squash:y,replace:_,isOptional:v,value:function(t){var e,n,r;return e=t,t=(r=J(x(o.replace,(n=e,function(t){return t.from===n})),function(t){return t.to})).length?r[0]:e,H(t)?o.type.$normalize(t):function(){if(!w)throw new Error("Injectable functions cannot be called at configuration time");var t=w.invoke(i.$$fn);if(null!==t&&t!==O&&!o.type.is(t))throw new Error("Default value ("+t+") for parameter '"+o.id+"' is not an instance of Type ("+o.type.name+")");return t}()},dynamic:O,config:i,toString:function(){return"{Param:"+r+" "+t+" squash: '"+y+"' optional: "+v+"}"}})},s.prototype={$$new:function(){return W(this,z(new s,{$$parent:this}))},$$keys:function(){for(var e=[],t=[],n=this,r=U(s.prototype);n;)t.push(n),n=n.$$parent;return t.reverse(),I(t,function(t){I(U(t),function(t){-1===q(e,t)&&-1===q(r,t)&&e.push(t)})}),e},$$values:function(e){var n={},r=this;return I(r.$$keys(),function(t){n[t]=r[t].value(e&&e[t])}),n},$$equals:function(r,i){var a=!0,o=this;return I(o.$$keys(),function(t){var e=r&&r[t],n=i&&i[t];o[t].type.equals(e,n)||(a=!1)}),a},$$validates:function(t){var e,n,r,i,a,o=this.$$keys();for(e=0;e<o.length&&(n=this[o[e]],(r=t[o[e]])!==O&&null!==r||!n.isOptional);e++){if(i=n.type.$normalize(r),!n.type.is(i))return!1;if(a=n.type.encode(i),N.isString(a)&&!n.type.pattern.exec(a))return!1}return!0},$$parent:O},this.ParamSet=s}),N.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),i.$inject=["$locationProvider","$urlMatcherFactoryProvider"],N.module("ui.router.router").provider("$urlRouter",i),a.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],N.module("ui.router.state").factory("$stateParams",function(){return{}}).constant("$state.runtime",{autoinject:!0}).provider("$state",a).run(["$injector",function(t){t.get("$state.runtime").autoinject&&t.get("$state")}]),o.$inject=[],N.module("ui.router.state").provider("$view",o),N.module("ui.router.state").provider("$uiViewScroll",function(){var n=!1;this.useAnchorScroll=function(){n=!0},this.$get=["$anchorScroll","$timeout",function(t,e){return n?t:function(t){return e(function(){t[0].scrollIntoView()},0,!1)}}]}),s.$inject=["$state","$injector","$uiViewScroll","$interpolate","$q"],u.$inject=["$compile","$controller","$state","$interpolate"],N.module("ui.router.state").directive("uiView",s),N.module("ui.router.state").directive("uiView",u),c.$inject=["$state","$timeout"],d.$inject=["$state","$timeout"],f.$inject=["$state","$stateParams","$interpolate"],N.module("ui.router.state").directive("uiSref",c).directive("uiSrefActive",f).directive("uiSrefActiveEq",f).directive("uiState",d),$.$inject=["$state"],S.$inject=["$state"],N.module("ui.router.state").filter("isState",$).filter("includedByState",S)}(window,window.angular),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["angular"],function(t){e(t)}):"object"==typeof exports?e(require("angular")):e(t.angular)}(this,function(j,u){var t=j.module("ct.ui.router.extras.core",["ui.router"]),n={},r=[];t.config(["$stateProvider","$injector",function(t,e){t.decorator("parent",function(e,t){return(n[e.self.name]=e).self.$$state=function(){return n[e.self.name]},j.forEach(r,function(t){t(e)}),t(e)})}]);var _,e=j.forEach,c=j.extend,d=j.isArray,i=function(t,n){"use strict";var r=[];return e(t,function(t,e){r.push(n(t,e))}),r},a=function(t){"use strict";return i(t,function(t,e){return e})},o=function(t,n){"use strict";var r=[];return e(t,function(t,e){n(t,e)&&r.push(t)}),r},s=function(t,n){"use strict";var r={};return e(t,function(t,e){n(t,e)&&(r[e]=t)}),r};function h(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function f(t){if(Object.keys)return Object.keys(t);var n=[];return j.forEach(t,function(t,e){n.push(e)}),n}function l(t,e){var n=[];for(var r in t)e&&-1!==e.indexOf(r)||n.push(r);return n}function p(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,r=Number(arguments[2])||0;for((r=r<0?Math.ceil(r):Math.floor(r))<0&&(r+=n);r<n;r++)if(r in t&&t[r]===e)return r;return-1}function m(t,e,n,r){var i,a=h(n,r),o={},s=[];for(var l in a)if(a[l].params&&(i=d(a[l].params)?a[l].params:f(a[l].params)).length)for(var u in i)0<=p(s,i[u])||(s.push(i[u]),o[i[u]]=t[i[u]]);return c({},o,e)}function g(t,e){return c(new(c(function(){},{prototype:t})),e)}function v(t){r.push(t)}function y(){_=u}t.provider("uirextras_core",function(){var t={internalStates:n,onStateRegistered:v,forEach:e,extend:c,isArray:d,map:i,keys:a,filter:o,filterObj:s,ancestors:h,objectKeys:f,protoKeys:l,arraySearch:p,inheritParams:m,inherit:g};j.extend(this,t),this.$get=function(){return t}}),j.module("ct.ui.router.extras.dsr",["ct.ui.router.extras.core"]).config(["$provide",function(t){var a;t.decorator("$state",["$delegate","$q",function(r,i){return a=r.transitionTo,r.transitionTo=function(t,e,n){return n&&n.ignoreDsr&&(_=n.ignoreDsr),a.apply(r,arguments).then(function(t){return y(),t},function(t){return y(),i.reject(t)})},r}])}]),j.module("ct.ui.router.extras.dsr").service("$deepStateRedirect",["$rootScope","$state","$injector",function(t,d,h){var f={},o={},p="Redirect",s="AncestorRedirect";function m(t){var e=t.name;if(o.hasOwnProperty(e))return o[e];!function t(e){var n=d.get(e);if(!n)return!1;var r=g(n);r.dsr&&(o[n.name]=p,f[e]===u&&(f[e]={}));var i=n.$$state&&n.$$state().parent;if(i){var a=t(i.self.name);a&&o[n.name]===u&&(o[n.name]=s)}return o[n.name]||!1}(e)}function g(t){var e=t.deepStateRedirect||t.dsr;if(!e)return{dsr:!1};var n={dsr:!0};return j.isFunction(e)?n.fn=e:j.isObject(e)&&(n=j.extend(n,e)),j.isString(n.default)&&(n.default={state:n.default}),n.fn||(n.fn=["$dsr$",function(t){return t.redirect.state!=t.to.state}]),n}function v(e,t){!0===t&&(t=Object.keys(e)),null!==t&&t!==u||(t=[]);var n={};return j.forEach(t.sort(),function(t){n[t]=e[t]}),n}function y(t,e){var n=v(t,e);var r={};return j.forEach(n,function(t,e){var n;r[e]=(n=t)?n.toString():n}),j.toJson(r)}return t.$on("$stateChangeStart",function(t,e,n,r,i){var a=g(e);if(!_&&(m(e)===p||a.default)){var o=y(n,a.params),s=f[e.name][o]||a.default;if(s){var l={redirect:{state:s.state,params:s.params},to:{state:e.name,params:n}},u=h.invoke(a.fn,e,{$dsr$:l});if(u){u.state&&(s=u),t.preventDefault();var c=v(n,a.params);d.go(s.state,j.extend(c,s.params))}}}}),t.$on("$stateChangeSuccess",function(t,i,a,e,n){if(m(i)){var o=i.name;j.forEach(f,function(t,e){var n=g(d.get(e)),r=y(a,n.params);i.$$state().includes[e]&&(f[e][r]={state:o,params:j.copy(a)})})}}),{getRedirect:function(t,e){var n=d.get(t);m(n);var r=g(n),i=y(e,r.params),a=f[n.name];return a=a&&a[i]?a[i]:r.default},reset:function(t,e){if(t){var n=d.get(t);if(!n)throw new Error("Unknown state: "+t);if(f[n.name])if(e){var r=y(e,g(n).params);delete f[n.name][r]}else f[n.name]={}}else j.forEach(f,function(t,e){f[e]={}})}}}]),j.module("ct.ui.router.extras.dsr").run(["$deepStateRedirect",function(t){}]),j.module("ct.ui.router.extras.sticky",["ct.ui.router.extras.core"]);var F,b=j.module("ct.ui.router.extras.sticky");function w(t,e){var n=e,k=n.inheritParams,l=(n.objectKeys,n.protoKeys),S=n.forEach,r=n.map,T={},i={},u=!1;this.registerStickyState=function(t){i[t.name]=t},this.enableDebug=this.debugMode=function(t){return j.isDefined(t)&&(u=t),u},this.$get=["$rootScope","$state","$stateParams","$injector","$log",function(i,b,w,o,a){function s(t,e){var n=T[t.name];return n?e?M(t.ownParams,e,n.locals.globals.$stateParams)?n:null:n:null}function M(t,e,n){return"function"==typeof t.$$equals?t.$$equals(e,n):function(t,e,n){!j.isArray(n)&&j.isObject(n)&&(n=l(n,["$$keys","$$values","$$equals","$$validates","$$new","$$parent"]));if(!n)for(var r in n=[],t)n.push(r);for(var i=0;i<n.length;i++){var a=n[i];if(t[a]!=e[a])return!1}return!0}(e,n,t)}function $(t,e){return t.name.split(".").length-e.name.split(".").length}var x={getInactiveStates:function(){return r(T,j.identity).sort($)},getInactiveStatesByParent:function(){return a={},j.forEach(T,function(t,e){for(var n=function(t){var e=[];if(!t)return e;for(;t.sticky&&e.push(t),t=t.parent;);return e.reverse(),e}(t),r=0;r<n.length;r++){var i=n[r].parent;a[i.name]=a[i.name]||[],a[i.name].push(t)}a[""]&&(a.__inactives=a[""])}),a;var a},processTransition:function(n){var t,e,r,i=function(t){var e=t.fromState.path,n=t.toState.path,r=t.toParams,i=0,a=n[i];for(t.options&&t.options.inherit&&(r=t.toParams=k(w,r||{},b.$current,t.toState));a&&a===e[i]&&M(a.ownParams,r,t.fromParams);)a=n[++i];return{keep:i,retained:e.slice(0,i),exiting:e.slice(i),entering:n.slice(i)}}(n),a=x.getInactiveStates(),o=i.keep;function s(e){return function(t){return-1===e.indexOf(t)}}function l(t,e){return t.concat(e)}function u(e){return function(t){return t[e]}}function c(e){return function(t){return t.type===e}}function d(e){return function(t){return t.parent===e}}var h=s(i.entering);var f=i.exiting[0]&&i.exiting[0].sticky&&0<i.entering.length;e=i.exiting.map(function(t){var e=-1!==i.entering.indexOf(t);return{type:f&&!e?"inactivate":"exit",state:t}});var p=n.options&&!!n.options.reload;r=i.entering.map(function(t){var e=function(t,e,n,r){if(r)return"reload";var i=T[t.self.name];return i?t.self===n?"reload":M(t.ownParams,e,i.locals.globals.$stateParams)?"reactivate":"reload":"enter"}(t,n.toParams,n.reloadStateTree,p);return p=p||"reload"===e,{type:e,state:t}});var m,g=i.entering.map(function(t){return a.filter(d(t.parent))}).reduce(l,[]).filter(h).filter(function(t){return!t.sticky}).concat(a.filter(d(n.toState))),v=(m={},S(T,function(e){S(e.path,function(t){t!==e&&(m[t.name]=m[t.name]||[],m[t.name].push(e))})}),m),y=g.map(function(t){return v[t.name]}).filter(j.isDefined).reduce(l,[]).concat(g).sort($),_=e.filter(c("exit")).map(u("state")).concat(y);return t=a.filter(s(_)).filter(s(i.entering)).concat(e.filter(c("inactivate")).map(u("state"))).sort($),{keep:o,enter:new Array(o).concat(r.map(u("type"))),exit:new Array(o).concat(e.map(u("type"))),inactives:t,reactivatingStates:r.filter(c("reactivate")).map(u("state")),orphans:y}},stateInactivated:function(t){(T[t.self.name]=t).self.status="inactive",t.self.onInactivate&&o.invoke(t.self.onInactivate,t.self,t.locals.globals)},stateReactivated:function(t){T[t.self.name]&&delete T[t.self.name],t.self.status="entered",t.self.onReactivate&&o.invoke(t.self.onReactivate,t.self,t.locals.globals)},stateExiting:function(n,t,e){var r={};j.forEach(t,function(t){r[t.self.name]=!0}),j.forEach(T,function(t,e){!r[e]&&t.includes[n.name]&&(u&&a.debug("Exiting "+e+" because it's a substate of "+n.name+" and wasn't found in ",r),t.self.onExit&&o.invoke(t.self.onExit,t.self,t.locals.globals),j.forEach(t.locals,function(t,e){delete B.locals[e]}),t.locals=null,t.self.status="exited",delete T[e])}),e&&o.invoke(e,n.self,n.locals.globals),n.locals=null,n.self.status="exited",delete T[n.self.name]},stateEntering:function(t,e,n,r){var i=s(t);if(i&&(r||!s(t,e))){var a=t.locals;this.stateExiting(i),t.locals=a}t.self.status="entered",n&&o.invoke(n,t.self,t.locals.globals)},reset:function(t,e){if("*"===t)return j.forEach(x.getInactiveStates(),function(t){x.reset(t)}),!0;var n=b.get(t);if(!n)return!1;var r=s(n,e);return!!r&&(x.stateExiting(r),i.$broadcast("$viewContentLoading"),!0)}};return x}]}w.$inject=["$stateProvider","uirextras_coreProvider"],b.provider("$stickyState",w);n={};var I,z,B,W=[],U={},q={hasParamSet:!1};function V(t){return{resolve:{},locals:{globals:I&&I.locals&&I.locals.globals},views:{},self:{},params:{},ownParams:q.hasParamSet?{$$equals:function(){return!0}}:[],surrogateType:t}}j.module("ct.ui.router.extras.sticky").run(["$stickyState",function(t){F=t}]),j.module("ct.ui.router.extras.sticky").config(["$provide","$stateProvider","$stickyStateProvider","$urlMatcherFactoryProvider","uirextras_coreProvider",function(t,e,Y,A,n){var N,r=n,O=r.internalStates,i=r.inherit,R=(r.inheritParams,r.forEach),H=r.map,P=r.filterObj;q.hasParamSet=!!A.ParamSet,B=j.extend(new V("__inactives"),{self:{name:"__inactives"}}),I=z=u,W=[],n.onStateRegistered(function(t){!0===t.self.sticky&&Y.registerStickyState(t.self)}),t.decorator("$state",["$delegate","$log","$q",function(C,D,E){return I=C.$current,((O[""]=I).parent=B).parent=u,B.locals=i(U,B.locals),I.locals=i(B.locals,I.locals),delete B.locals.globals,N=C.transitionTo,C.transitionTo=function(t,e,n){var r=Y.debugMode();B.locals||(B.locals=I.locals);var i=W.length;z&&(z(),r&&D.debug("Restored paths from pending transition"));var a,o,s,l=C.$current,u=C.params,c=n&&n.relative||C.$current,d=C.get(t,c),m=[],h=[];e=e||{},arguments[1]=e;var f=function(){},g=function(){a&&(v.path=a,a=null),o&&(l.path=o,o=null),j.forEach(g.restoreFunctions,function(t){t()}),g=f,z=null,W.splice(i,1)};function p(t){var e=t.self.onExit;return t.self.onExit=function(){F.stateExiting(t,h,e)},g.addRestoreFunction(function(){t.self.onExit=e}),t}if(g.restoreFunctions=[],g.addRestoreFunction=function(t){this.restoreFunctions.push(t)},d){var v=O[d.name];if(v){a=v.path,o=l.path;var y=n&&n.reload||!1,_=y&&(!0===y?a[0].self:C.get(y,c));n&&y&&!0!==y&&delete n.reload;var b={toState:v,toParams:e||{},fromState:l,fromParams:u||{},options:n,reloadStateTree:_};if(W.push(b),z=g,_){b.toParams.$$uirouterextrasreload=Math.random();var w=_.$$state().params,M=_.$$state().ownParams;if(q.hasParamSet){var $=new A.Param("$$uirouterextrasreload");w.$$uirouterextrasreload=M.$$uirouterextrasreload=$,g.restoreFunctions.push(function(){delete w.$$uirouterextrasreload,delete M.$$uirouterextrasreload})}else w.push("$$uirouterextrasreload"),M.push("$$uirouterextrasreload"),g.restoreFunctions.push(function(){w.length=w.length-1,M.length=M.length-1})}s=F.processTransition(b),r&&function(t,e,n){function r(t,e,n){return t[e]?t[e].toUpperCase()+": "+n.self.name:"("+n.self.name+")"}var i=H(n.inactives,function(t){return t.self.name}),a=H(e.toState.path,function(t,e){return r(n.enter,e,t)}),o=H(e.fromState.path,function(t,e){return r(n.exit,e,t)}),s=e.fromState.self.name+": "+j.toJson(e.fromParams)+":  -> "+e.toState.self.name+": "+j.toJson(e.toParams);t.debug("------------------------------------------------------"),t.debug("   Current transition: ",s),t.debug("Before transition, inactives are:   : ",H(F.getInactiveStates(),function(t){return t.self.name})),t.debug("After transition,  inactives will be: ",i),t.debug("Transition will exit:  ",o),t.debug("Transition will enter: ",a)}(D,b,s);var x=v.path.slice(0,s.keep),k=l.path.slice(0,s.keep);j.forEach(B.locals,function(t,e){-1!=e.indexOf("@")&&delete B.locals[e]});var S=function(n){return function(t,e){-1!==e.indexOf("@")&&(n[e]=t)}};R(s.inactives,function(t){R(t.locals,S(B.locals))}),R(s.reactivatingStates,function(t){R(t.locals,S(U))}),g.addRestoreFunction(function(){R(U,function(t,e){delete U[e]})}),j.forEach(s.enter,function(t,e){var n,r,i,a,o,s,l,u,c,d,h,f,p=v.path[e];"reactivate"===t?(h=p,(f=j.extend(new V("reactivate_phase1"),{locals:h.locals})).self=j.extend({},h.self),n=f,x.push(n),k.push(n),m.push((u=p,c=j.extend(new V("reactivate_phase2"),u),d=c.self.onEnter,c.resolve={},c.views={},c.self.onEnter=function(){c.locals=u.locals,F.stateReactivated(u)},g.addRestoreFunction(function(){u.self.onEnter=d}),c)),p):"reload"===t?(x.push((l=(o=p).self.onEnter,o.self.onEnter=function(){F.stateEntering(o,s,l,!0)},g.addRestoreFunction(function(){o.self.onEnter=l}),o)),p):"enter"===t&&x.push((a=(r=p).self.onEnter,r.self.onEnter=function(){F.stateEntering(r,i,a)},g.addRestoreFunction(function(){r.self.onEnter=a}),r))}),j.forEach(s.exit,function(t,e){var n=l.path[e];"inactivate"===t?(k.push(function(t){var e=new V("inactivate");e.self=t.self;var n=t.self.onExit;return e.self.onExit=function(){F.stateInactivated(t)},g.addRestoreFunction(function(){t.self.onExit=n}),e}(n)),h.push(n)):"exit"===t&&(k.push(p(n)),h.push(n))}),m.length&&j.forEach(m,function(t){x.push(t)});var T=s.orphans;k=k.concat(H(T,function(t){return p(t)})),h=h.concat(T),l.path=k,v.path=x;var L=function(t){return(t.surrogateType?t.surrogateType+":":"")+t.self.name};r&&D.debug("SurrogateFromPath: ",H(k,L)),r&&D.debug("SurrogateToPath:   ",H(x,L))}}return N.apply(C,arguments).then(function(t){return g(),r&&function(t,e,n){t.debug("Current state: "+e.self.name+", inactive states: ",H(F.getInactiveStates(),function(t){return t.self.name}));var r=function(t,e){return"globals"!=e&&"resolve"!=e},i=function(n){var t=P(n.locals,r);return Object.keys(t).length||(t[""]={$$state:{name:null}}),H(t,function(t,e){return{localsFor:n.self.name?n.self.name:"(root)",uiViewName:e||null,filledByState:t.$$state.name}})},a=i(e),o=e.parent;for(;o&&o!==e;)a=a.concat(i(o)),o=(e=o).parent;t.debug("Views active on each state:"),console.table(a.reverse())}(D,O[t.name]),t.status="active",t},function(t){return g(),r&&"transition prevented"!==t.message&&"transition aborted"!==t.message&&"transition superseded"!==t.message&&(D.debug("transition failed",t),D.debug(t.stack)),E.reject(t)})},C}])}]),function(b,t){var e=b.module("ct.ui.router.extras.future",["ct.ui.router.extras.core"]);function n(l,n,o,t){var u,r=t.internalStates,c={},d={},h=!1,s=[],f=!1,p=this;function m(t,e){var n=b.isObject(t)?t.name:t;return e?d[n]:r[n]}function g(t,e){if(e.name){var n=e.name.split(/\./);for("."===e.name.charAt(0)&&(n[0]=t.current.name);n.length;){var r=n.join(".");if(t.get(r,{relative:t.current}))return null;if(d[r])return d[r];n.pop()}}if(e.url){var i=[];for(var a in d){var o=d[a].urlMatcher;o&&o.exec(e.url)&&i.push(d[a])}for(var s=i.slice(0),l=i.length-1;0<=l;l--)for(var u=0;u<s.length;u++)i[l]===s[u].parentFutureState&&i.splice(l,1);return i[0]}}function v(t,n){h=!0;var e=t.get("$q");if(!n){var r=e.defer();return r.reject("No lazyState passed in "+n),r.promise}var i=e.when([]),a=n.parentFutureState;a&&d[a.name]&&(i=v(t,d[a.name]));var o=n.type,s=c[o];if(!s)throw Error("No state factory for futureState.type: "+(n&&n.type));var l=s.$options&&s.$options.failedLazyLoadPolicy||"remove";function u(){delete d[n.name]}return i.then(function(e){return t.invoke(s,s,{futureState:n}).then(function(t){return u(),t&&e.push(t),e})}).catch(function(t){return"remove"===l&&u(),e.reject(t)})}this.addResolve=function(t){s.push(t)},this.stateFactory=function(t,e){c[t]=e},this.futureState=function(t){t.stateName&&(t.name=t.stateName),t.urlPrefix&&(t.url="^"+t.urlPrefix);var e,n=(d[t.name]=t).name.split(/\./).slice(0,-1).join("."),r=m(t.parent||n);if(r)e=r.url||r.navigable&&r.navigable.url;else if(""===n)e=o.compile("");else{var i,a=m(t.parent||n,!0);if(!a)throw new Error("Couldn't determine parent state of future state. FutureState:"+b.toJson(t));i=a.urlMatcher?a.urlMatcher.source.replace(/\*rest$/,""):"",e=o.compile(i),t.parentFutureState=a}t.url&&(t.urlMatcher="^"===t.url.charAt(0)?o.compile(t.url.substring(1)+"*rest"):e.concat(t.url+"*rest"))},this.get=function(){return b.extend({},d)};var y=["$log","$location",function(t,e){}];n.otherwise(function(a,o){var s=!1,t=["$rootScope","$urlRouter","$state",function(t,e,n){function r(){s=!0,e.sync(),s=!1}if(!f)return u().then(r),void(f=!0);var i=g(n,{url:o.path()});if(!i)return a.invoke(y);v(a,i).then(function(t){t.forEach(function(t){t&&(!n.get(t)||t.name&&!n.get(t.name))&&l.state(t)}),h=!1,r()},function(){h=!1,r()})}];if(!h){var e=s?y:t;return a.invoke(e)}}),n.otherwise=function(t){if(b.isString(t)){var e=t;t=function(){return e}}else if(!b.isFunction(t))throw new Error("'rule' must be a function");return y=["$injector","$location",t],n};var _={getResolvePromise:function(){return u()}};this.$get=["$injector","$state","$q","$rootScope","$urlRouter","$timeout","$log",function(a,o,t,n,r,i,e){return function(){if(n.$on("$stateNotFound",function(t,e,n,r){if(!h){var i=g(o,{name:e.to});i&&(t.preventDefault(),v(a,i).then(function(t){t.forEach(function(t){t&&(!o.get(t)||t.name&&!o.get(t.name))&&l.state(t)}),o.go(e.to,e.toParams,e.options),h=!1},function(t){console.log("failed to lazy load state ",t),n.name&&o.go(n,r),h=!1}))}}),!u){var e=[];b.forEach(s,function(t){e.push(a.invoke(t))}),u=function(){return t.all(e)}}u().then(function t(){i(function(){o.transition?o.transition.then(t,t):r.sync()})})}(),_.state=l.state,_.futureState=p.futureState,_.get=p.get,_}]}n.$inject=["$stateProvider","$urlRouterProvider","$urlMatcherFactoryProvider","uirextras_coreProvider"],e.provider("$futureState",n);var i={state:function(t){i.$rootScope&&i.$rootScope.$broadcast("$stateAdded",t)},itsNowRuntimeOhWhatAHappyDay:function(t){i.$rootScope=t},$rootScope:void 0};e.config(["$stateProvider",function(n){var r=n.state;n.state=function(){var t=r.apply(n,arguments),e=b.isObject(arguments[0])?arguments[0]:arguments[1];return i.state(e),t}}]),e.run(["$futureState",function(t,e){i.itsNowRuntimeOhWhatAHappyDay(e)}])}(j),j.module("ct.ui.router.extras.previous",["ct.ui.router.extras.core","ct.ui.router.extras.transition"]).service("$previousState",["$rootScope","$state","$q",function(t,r,i){var a=null,o=null,s={};t.$on("$transitionStart",function(t,e){var n=e.from;n.state&&n.state.$$state&&n.state.$$state()&&(o=a,a=e.from,e.promise.then(function(){o=null}).catch(function(){a=o}))});var l={get:function(t){return t?s[t]:a},set:function(t,e,n){s[t]={state:r.get(e),params:n}},go:function(t,e){var n=l.get(t);return n?r.go(n.state,n.params,e):i.reject(new Error("no previous state "+(t?"for memo: "+t:"")))},memo:function(t,e,n){s[t]=a||{state:r.get(e),params:n}},forget:function(t){t?delete s[t]:a=u}};return l}]),j.module("ct.ui.router.extras.previous").run(["$previousState",function(t){}]),j.module("ct.ui.router.extras.transition",["ct.ui.router.extras.core"]).config(["$provide",function(t){t.decorator("$state",["$delegate","$rootScope","$q","$injector",function(u,d,c,h){var f=u.transitionTo,p=-1,m=[],g=[];function v(){g.pop()(),m.pop(),p--}return u.transitionTo=function(t,e,n){var r,i,a,o,s=c.defer(),l=m[++p]={promise:s.promise};return g[p]=function(){},f.apply(u,arguments).then((a=s,o=l,function(t){return v(),d.$broadcast("$transitionSuccess",o),a.resolve(t),t}),(r=s,i=l,function(t){return v(),d.$broadcast("$transitionError",i,t),r.reject(t),c.reject(t)}))},d.$on("$stateChangeStart",function(t,e,n,r,i){if(!(p>=m.length)){var a,o,s,l=p,u=j.extend(m[l],{to:{state:e,params:n},from:{state:r,params:i}}),c=(a=u,o=h.invoke,s=h.instantiate,h.invoke=function(t,e,n){return o(t,e,j.extend({$transition$:a},n))},h.instantiate=function(t,e){return s(t,j.extend({$transition$:a},e))},function(){h.invoke=o,h.instantiate=s});g[l]=c,d.$broadcast("$transitionStart",u)}}),u}])}]),function(){"use strict";j.module("ct.ui.router.extras.statevis",["ct.ui.router.extras.core","ct.ui.router.extras.sticky"]).directive("stateVis",["$state","$timeout","$interval",function(v,t,y){return{scope:{width:"@",height:"@"},restrict:"AE",template:"<svg></svg>",link:function(t,e,n){var i={},r=t.width||400,a=t.height||400,o=d3.layout.tree().size([r-20,a-20]).separation(function(t,e){return t.parent==e.parent?10:25}),s=v.get().filter(function(t){return""===t.name})[0],l=o(s);(s.parent=s).px=s.x=r/2,s.py=s.y=a/2;var u={};u.px=u.x=s.px,u.py=u.y=s.py;var c=d3.svg.diagonal(),d=d3.select(e.find("svg")[0]).attr("width",r).attr("height",a).append("g").attr("transform","translate(10, 10)"),h=d.selectAll(".node"),f=d.selectAll(".link"),p=d.selectAll(".active"),m=200;setInterval(g,200);function g(){h=h.data(o.nodes(s),function(t){return t.name}),f=f.data(o.links(l),function(t){return t.target.name}),p=p.data(u),l.forEach(function(t){t.y=70*t.depth});var t=h.enter();p.enter().append("circle").attr("class","active").attr("r",13).attr("cx",function(t){return t.parent.px||100}).attr("cy",function(t){return t.parent.py||100}),t.append("circle").attr("class","node").attr("r",9).attr("cx",function(t){return t.parent.px}).attr("cy",function(t){return t.parent.py}),t.append("text").attr("class","label").attr("x",function(t){return t.parent.px}).attr("y",function(t){return t.parent.py}).attr("text-anchor",function(t){return"middle"}).text(function(t){var e=t.name.split(".").pop();t.sticky&&(e+=" (STICKY)");t.deepStateRedirect&&(e+=" (DSR)");return e}).style("fill-opacity",1),f.enter().insert("path",".node").attr("class","link").attr("d",function(t){var e={x:t.source.px,y:t.source.py};return c({source:e,target:e})});var e=d.transition().duration(m);e.selectAll(".link").attr("d",c);var n={entered:"#AF0",exited:"#777",active:"#0f0",inactive:"#55F",future:"#009"};e.selectAll(".node").attr("cx",function(t){return t.px=t.x}).attr("cy",function(t){return t.py=t.y}).attr("r",function(t){return"active"===t.status?15:10}).style("fill",function(t){return n[t.status]||"#FFF"}),e.selectAll(".label").attr("x",function(t){return t.px=t.x}).attr("y",function(t){return t.py=t.y-15}).attr("transform",function(t){return"rotate(-25 "+t.x+" "+t.y+")"}),e.selectAll(".active").attr("x",function(t){return t.px=t.x}).attr("y",function(t){return t.py=t.y-15})}y(function(){t.states=v.get(),j.forEach(l,function(t){var e=v.get(t.name);e&&(t.status=e.status||"exited")})},250),t.$watchCollection("states",function(t,e){var n,r=(e||[]).map(function(t){return t.name});n=(n=(t||[]).filter(function(t){return-1==r.indexOf(t.name)})).map(function(t){return""===t.name?s:j.copy(t)}),j.extend(i,n.reduce(function(t,e){return t[e.name]=e,t},{})),n.forEach(function(t){var e=t.name.split(/\./).slice(0,-1).join("."),n=t.name!=e&&i[e];n&&((n.children||(n.children=[])).push(t),t.px=n.px,t.py=n.py,l.push(t))})}),g()}}}])}(),j.module("ct.ui.router.extras",["ct.ui.router.extras.core","ct.ui.router.extras.dsr","ct.ui.router.extras.future","ct.ui.router.extras.previous","ct.ui.router.extras.statevis","ct.ui.router.extras.sticky","ct.ui.router.extras.transition"])}),function(d,t){"use strict";var ot,st,lt,ut,X=1,ct="-add",dt="-remove",ht="ng-",$="ng-animate",Z="$$ngAnimateChildren";void 0===d.ontransitionend&&void 0!==d.onwebkittransitionend?("-webkit-",ot="WebkitTransition",st="webkitTransitionEnd transitionend"):(ot="transition",st="transitionend"),void 0===d.onanimationend&&void 0!==d.onwebkitanimationend?("-webkit-",lt="WebkitAnimation",ut="webkitAnimationEnd animationend"):(lt="animation",ut="animationend");var i="Duration",ft="TimingFunction",a="PlayState",n=lt+"Delay",pt=lt+i,r=ot+"Delay",e=ot+i,o=t.$$minErr("ng");function h(t,e,n){if(!t)throw o("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function x(t,e){return t||e?t?e?(Rt(t)&&(t=t.join(" ")),Rt(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function mt(t,n,r){var i="";return t=Rt(t)?t:t&&it(t)&&t.length?t.split(/\s+/):[],Ot(t,function(t,e){t&&0<t.length&&(i+=0<e?" ":"",i+=r?n+t:t+n)}),i}function Q(t){if(t instanceof Ht)switch(t.length){case 0:return t;case 1:if(t[0].nodeType===X)return t;break;default:return Ht(f(t))}if(t.nodeType===X)return Ht(t)}function f(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===X)return n}}function k(l){return function(t,e){var n,r,i,a,o,s;e.addClass&&(n=l,r=t,i=e.addClass,Ot(r,function(t){n.addClass(t,i)}),e.addClass=null),e.removeClass&&(a=l,o=t,s=e.removeClass,Ot(o,function(t){a.removeClass(t,s)}),e.removeClass=null)}}function gt(t){if(!(t=t||{}).$$prepared){var e=t.domOperation||Pt;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=Pt},t.$$prepared=!0}return t}function vt(t,e){yt(t,e),_t(t,e)}function yt(t,e){e.from&&(t.css(e.from),e.from=null)}function _t(t,e){e.to&&(t.css(e.to),e.to=null)}function tt(t,e,n){var r=e.options||{},i=n.options||{},a=(r.addClass||"")+" "+(i.addClass||""),o=(r.removeClass||"")+" "+(i.removeClass||""),s=function(i,t,e){var n={};i=r(i),t=r(t),Ot(t,function(t,e){n[e]=1}),e=r(e),Ot(e,function(t,e){n[e]=1===n[e]?null:-1});var a={addClass:"",removeClass:""};function r(t){it(t)&&(t=t.split(" "));var e={};return Ot(t,function(t){t.length&&(e[t]=!0)}),e}return Ot(n,function(t,e){var n,r;1===t?(n="addClass",r=!i[e]||i[e+dt]):-1===t&&(n="removeClass",r=i[e]||i[e+ct]),r&&(a[n].length&&(a[n]+=" "),a[n]+=e)}),a}(t.attr("class"),a,o);i.preparationClasses&&(r.preparationClasses=et(i.preparationClasses,r.preparationClasses),delete i.preparationClasses);var l=r.domOperation!==Pt?r.domOperation:null;return p(r,i),l&&(r.domOperation=l),s.addClass?r.addClass=s.addClass:r.addClass=null,s.removeClass?r.removeClass=s.removeClass:r.removeClass=null,e.addClass=r.addClass,e.removeClass=r.removeClass,r}function bt(t){return t instanceof Ht?t[0]:t}function wt(t,e){var n=e?"-"+e+"s":"";return $t(t,[r,n]),[r,n]}function Mt(t,e){var n=e?"paused":"",r=lt+a;return $t(t,[r,n]),[r,n]}function $t(t,e){var n=e[0],r=e[1];t.style[n]=r}function et(t,e){return t?e?t+" "+e:t:e}var s=["$interpolate",function(a){return{link:function(t,e,n){var r=n.ngAnimateChildren;function i(t){t="on"===t||"true"===t,e.data(Z,t)}it(r)&&0===r.length?e.data(Z,!0):(i(a(r)(t)),n.$observe("ngAnimateChildren",i))}}}],xt="$$animateCss",kt=1e3,St=3,Tt=1.5,c={transitionDuration:e,transitionDelay:r,transitionProperty:ot+"Property",animationDuration:pt,animationDelay:n,animationIterationCount:lt+"IterationCount"},Lt={transitionDuration:e,transitionDelay:r,animationDuration:pt,animationDelay:n};function Ct(t,e){return[e?n:r,t+"s"]}function Dt(t,e,n){var o=Object.create(null),s=t.getComputedStyle(e)||{};return Ot(n,function(t,e){var n,r,i=s[t];if(i){var a=i.charAt(0);("-"===a||"+"===a||0<=a)&&(n=0,r=i.split(/\s*,\s*/),Ot(r,function(t){"s"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,n=n?Math.max(t,n):t}),i=n),0===i&&(i=null),o[e]=i}}),o}function Et(t){return 0===t||null!=t}function Yt(t,e){var n=ot,r=t+"s";return e?n+=i:r+=" linear all",[n,r]}function l(){var n=Object.create(null);return{flush:function(){n=Object.create(null)},count:function(t){var e=n[t];return e?e.total:0},get:function(t){var e=n[t];return e&&e.value},put:function(t,e){n[t]?n[t].total++:n[t]={total:1,value:e}}}}function At(e,n,t){Ot(t,function(t){e[t]=nt(e[t])?e[t]:n.style.getPropertyValue(t)})}var Nt,p,Ot,Rt,nt,m,w,rt,it,at,Ht,Pt,u=["$animateProvider",function(t){var it=l(),at=l();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(G,K,J,X,n,Z,e,Q){var tt=k(K),i=0;function et(t,e){var n="$$ngAnimateParentKey",r=t.parentNode;return(r[n]||(r[n]=++i))+"-"+t.getAttribute("class")+"-"+e}var r=[];function nt(t){r.push(t),e.waitUntilQuiet(function(){it.flush(),at.flush();for(var t=n(),e=0;e<r.length;e++)r[e](t);r.length=0})}function rt(t,e,n){var r,i,a,o,s=(r=t,i=n,a=c,(o=it.get(i))||"infinite"===(o=Dt(G,r,a)).animationIterationCount&&(o.animationIterationCount=1),it.put(i,o),o),l=s.animationDelay,u=s.transitionDelay;return s.maxDelay=l&&u?Math.max(l,u):l||u,s.maxDuration=Math.max(s.animationDuration*s.animationIterationCount,s.transitionDuration),s}return function(u,t){var c=t||{};c.$$prepared||(c=gt(Nt(c)));var d={},h=bt(u);if(!h||!h.parentNode||!Q.enabled())return U();var e,n,f,a,o,r,i,p,m,g,v,y,_=[],s=u.attr("class"),l=(n={},(e=c)&&(e.to||e.from)&&(n.to=e.to,n.from=e.from),n),b=[];if(0===c.duration||!Z.animations&&!Z.transitions)return U();var w=c.event&&Rt(c.event)?c.event.join(" "):c.event,M="",$="";w&&c.structural?M=mt(w,ht,!0):w&&(M=w),c.addClass&&($+=mt(c.addClass,ct)),c.removeClass&&($.length&&($+=" "),$+=mt(c.removeClass,dt)),c.applyClassesEarly&&$.length&&tt(u,c);var x,k,S,T=[M,$].join(" ").trim(),L=s+" "+T,C=mt(T,"-active"),D=l.to&&0<Object.keys(l.to).length;if(!(0<(c.keyframeStyle||"").length)&&!D&&!T)return U();if(0<c.stagger){var E=parseFloat(c.stagger);k={transitionDelay:E,animationDelay:E,transitionDuration:0,animationDuration:0}}else x=et(h,L),k=function(t,e,n,r){var i;if(0<it.count(n)&&!(i=at.get(n))){var a=mt(e,"-stagger");K.addClass(t,a),(i=Dt(G,t,r)).animationDuration=Math.max(i.animationDuration,0),i.transitionDuration=Math.max(i.transitionDuration,0),K.removeClass(t,a),at.put(n,i)}return i||{}}(h,T,x,Lt);if(c.$$skipPreparationClasses||K.addClass(u,T),c.transitionStyle){var Y=[ot,c.transitionStyle];$t(h,Y),_.push(Y)}if(0<=c.duration){S=0<h.style[ot].length;var A=Yt(c.duration,S);$t(h,A),_.push(A)}if(c.keyframeStyle){var N=[lt,c.keyframeStyle];$t(h,N),_.push(N)}var O=k?0<=c.staggerIndex?c.staggerIndex:it.count(x):0,R=0===O;R&&!c.skipBlocking&&wt(h,9999);var H=rt(h,0,x),P=H.maxDelay;p=Math.max(P,0),g=H.maxDuration;var j,F={};if(F.hasTransitions=0<H.transitionDuration,F.hasAnimations=0<H.animationDuration,F.hasTransitionAll=F.hasTransitions&&"all"===H.transitionProperty,F.applyTransitionDuration=D&&(F.hasTransitions&&!F.hasTransitionAll||F.hasAnimations&&!F.hasTransitions),F.applyAnimationDuration=c.duration&&F.hasAnimations,F.applyTransitionDelay=Et(c.delay)&&(F.applyTransitionDuration||F.hasTransitions),F.applyAnimationDelay=Et(c.delay)&&F.hasAnimations,F.recalculateTimingStyles=0<$.length,(F.applyTransitionDuration||F.applyAnimationDuration)&&(g=c.duration?parseFloat(c.duration):g,F.applyTransitionDuration&&(F.hasTransitions=!0,H.transitionDuration=g,S=0<h.style[ot+"Property"].length,_.push(Yt(g,S))),F.applyAnimationDuration&&(F.hasAnimations=!0,H.animationDuration=g,_.push([pt,g+"s"]))),0===g&&!F.recalculateTimingStyles)return U();null!=c.delay&&("boolean"!=typeof c.delay&&(j=parseFloat(c.delay),p=Math.max(j,0)),F.applyTransitionDelay&&_.push(Ct(j)),F.applyAnimationDelay&&_.push(Ct(j,!0)));return null==c.duration&&0<H.transitionDuration&&(F.recalculateTimingStyles=F.recalculateTimingStyles||R),m=p*kt,v=g*kt,c.skipBlocking||(F.blockTransition=0<H.transitionDuration,F.blockKeyframeAnimation=0<H.animationDuration&&0<k.animationDelay&&0===k.animationDuration),c.from&&(c.cleanupStyles&&At(d,h,Object.keys(c.from)),yt(u,c)),F.blockTransition||F.blockKeyframeAnimation?W(g):c.skipBlocking||wt(h,!1),{$$willAnimate:!0,end:I,start:function(){if(!f)return r=new J(i={end:I,cancel:z,resume:null,pause:null}),nt(V),r}};function I(){B()}function z(){B(!0)}function B(t){if(!(f||o&&a)){a=!(f=!0),c.$$skipPreparationClasses||K.removeClass(u,T),K.removeClass(u,C),Mt(h,!1),wt(h,!1),Ot(_,function(t){h.style[t[0]]=""}),tt(u,c),vt(u,c),Object.keys(d).length&&Ot(d,function(t,e){t?h.style.setProperty(e,t):h.style.removeProperty(e)}),c.onDone&&c.onDone(),b&&b.length&&u.off(b.join(" "),q);var e=u.data(xt);e&&(X.cancel(e[0].timer),u.removeData(xt)),r&&r.complete(!t)}}function W(t){F.blockTransition&&wt(h,t),F.blockKeyframeAnimation&&Mt(h,!!t)}function U(){return r=new J({end:I,cancel:z}),nt(Pt),B(),{$$willAnimate:!1,start:function(){return r},end:I}}function q(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(St));Math.max(n-y,0)>=m&&g<=r&&(o=!0,B())}function V(){if(!f)if(h.parentNode){var t=function(t){if(o)a&&t&&(a=!1,B());else if(a=!t,H.animationDuration){var e=Mt(h,a);a?_.push(e):(r=e,i=(n=_).indexOf(r),0<=r&&n.splice(i,1))}var n,r,i},e=0<O&&(H.transitionDuration&&0===k.transitionDuration||H.animationDuration&&0===k.animationDuration)&&Math.max(k.animationDelay,k.transitionDelay);e?X(n,Math.floor(e*O*kt),!1):n(),i.resume=function(){t(!0)},i.pause=function(){t(!1)}}else B();function n(){if(!f){if(W(!1),Ot(_,function(t){var e=t[0],n=t[1];h.style[e]=n}),tt(u,c),K.addClass(u,C),F.recalculateTimingStyles){if(L=h.getAttribute("class")+" "+T,x=et(h,L),H=rt(h,0,x),P=H.maxDelay,p=Math.max(P,0),0===(g=H.maxDuration))return void B();F.hasTransitions=0<H.transitionDuration,F.hasAnimations=0<H.animationDuration}if(F.applyAnimationDelay&&(P="boolean"!=typeof c.delay&&Et(c.delay)?parseFloat(c.delay):P,p=Math.max(P,0),H.animationDelay=P,j=Ct(P,!0),_.push(j),h.style[j[0]]=j[1]),m=p*kt,v=g*kt,c.easing){var t,e=c.easing;F.hasTransitions&&(t=ot+ft,_.push([t,e]),h.style[t]=e),F.hasAnimations&&(t=lt+ft,_.push([t,e]),h.style[t]=e)}H.transitionDuration&&b.push(st),H.animationDuration&&b.push(ut),y=Date.now();var n=m+Tt*v,r=y+n,i=u.data(xt)||[],a=!0;if(i.length){var o=i[0];(a=r>o.expectedEndTime)?X.cancel(o.timer):i.push(B)}if(a){var s=X(l,n,!1);i[0]={timer:s,expectedEndTime:r},i.push(B),u.data(xt,i)}b.length&&u.on(b.join(" "),q),c.to&&(c.cleanupStyles&&At(d,h,Object.keys(c.to)),_t(u,c))}}function l(){var t=u.data(xt);if(t){for(var e=1;e<t.length;e++)t[e]();u.removeData(xt)}}}}}]}],g=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var _="ng-animate-shim",b="ng-anchor",w="ng-anchor-out",M="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(f,t,p,e,n,r,i){if(!n.animations&&!n.transitions)return Pt;var a,m=i[0].body,o=bt(e),g=Ht((a=o).parentNode&&11===a.parentNode.nodeType||m.contains(o)?o:m);return function(t){return t.from&&t.to?function(t,e,n,r){var i=s(t),a=s(e),o=[];if(Ot(r,function(t){var e=function(t,e,i){var a=Ht(bt(e).cloneNode(!0)),o=v(c(a));e.addClass(_),i.addClass(_),a.addClass(b),g.append(a);var r,n,s=(n=f(a,{addClass:w,delay:!0,from:u(e)})).$$willAnimate?n:null;if(!s&&!(r=d()))return h();var l=s||r;return{start:function(){var t,e=l.start();return e.done(function(){if(e=null,!r&&(r=d()))return(e=r.start()).done(function(){e=null,h(),t.complete()}),e;h(),t.complete()}),t=new p({end:n,cancel:n});function n(){e&&e.end()}}};function u(t){var n={},r=bt(t).getBoundingClientRect();return Ot(["width","height","top","left"],function(t){var e=r[t];switch(t){case"top":e+=m.scrollTop;break;case"left":e+=m.scrollLeft}n[t]=Math.floor(e)+"px"}),n}function c(t){return t.attr("class")||""}function d(){var t=v(c(i)),e=y(t,o),n=y(o,t),r=f(a,{to:u(i),addClass:M+" "+e,removeClass:w+" "+n,delay:!0});return r.$$willAnimate?r:null}function h(){a.remove(),e.removeClass(_),i.removeClass(_)}}(0,t.out,t.in);e&&o.push(e)}),!i&&!a&&0===o.length)return;return{start:function(){var e=[];i&&e.push(i.start()),a&&e.push(a.start()),Ot(o,function(t){e.push(t.start())});var n=new p({end:t,cancel:t});return p.all(e,function(t){n.complete(t)}),n;function t(){Ot(e,function(t){t.end()})}}}}(t.from,t.to,t.classes,t.anchors):s(t)};function v(t){return t.replace(/\bng-\S+\b/g,"")}function y(t,e){return it(t)&&(t=t.split(" ")),it(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function s(t){var e=t.element,n=t.options||{};t.structural&&(n.event=t.event,n.structural=!0,n.applyClassesEarly=!0,"leave"===t.event&&(n.onDone=n.domOperation)),n.preparationClasses&&(n.event=et(n.event,n.preparationClasses));var r=f(e,n);return r.$$willAnimate?r:null}}]}],v=["$animateProvider",function(b){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(v,y,t){var _=k(t);return function(t,e,n,r){var i=!1;3===arguments.length&&rt(n)&&(r=n,n=null),r=gt(r),n||(n=t.attr("class")||"",r.addClass&&(n+=" "+r.addClass),r.removeClass&&(n+=" "+r.removeClass));var a,o,s,l,u,c=r.addClass,d=r.removeClass,h=function(t){t=Rt(t)?t:t.split(" ");for(var e=[],n={},r=0;r<t.length;r++){var i=t[r],a=b.$$registeredAnimations[i];a&&!n[i]&&(e.push(v.get(a)),n[i]=!0)}return e}(n);h.length&&("leave"===e?(l="leave",s="afterLeave"):(l="before"+e.charAt(0).toUpperCase()+e.substr(1),s=e),"enter"!==e&&"move"!==e&&(a=g(t,e,r,h,l)),o=g(t,e,r,h,s));if(a||o)return{$$willAnimate:!0,end:function(){return u?u.end():(p(),(u=new y).complete(!0)),u},start:function(){if(u)return u;var e;u=new y;var t=[];return a&&t.push(function(t){e=a(t)}),t.length?t.push(function(t){f(),t(!0)}):f(),o&&t.push(function(t){e=o(t)}),u.setHost({end:function(){r()},cancel:function(){r(!0)}}),y.chain(t,n),u;function n(t){p(),u.complete(t)}function r(t){i||((e||Pt)(t),n(t))}}};function f(){r.domOperation(),_(t,r)}function p(){i=!0,f(),vt(t,r)}function m(o,s,l,t,e){var n=[];return Ot(t,function(t){var a=t[e];a&&n.push(function(){var e,n,r=!1,i=function(t){r||(r=!0,(n||Pt)(t),e.complete(!t))};return e=new y({end:function(){i()},cancel:function(){i(!0)}}),n=function(t,e,n,r,i){var a;switch(n){case"animate":a=[e,r.from,r.to,i];break;case"setClass":a=[e,c,d,i];break;case"addClass":a=[e,c,i];break;case"removeClass":a=[e,d,i];break;default:a=[e,i]}a.push(r);var o=t.apply(t,a);if(o)if(w(o.start)&&(o=o.start()),o instanceof y)o.done(i);else if(w(o))return o;return Pt}(a,o,s,l,function(t){i(!1===t)}),e})}),n}function g(t,e,n,r,i){var a,o,s=m(t,e,n,r,i);0===s.length&&("beforeSetClass"===i?(a=m(t,"removeClass",n,r,"beforeRemoveClass"),o=m(t,"addClass",n,r,"beforeAddClass")):"setClass"===i&&(a=m(t,"removeClass",n,r,"removeClass"),o=m(t,"addClass",n,r,"addClass")),a&&(s=s.concat(a)),o&&(s=s.concat(o)));if(0!==s.length)return function(t){var n=[];return s.length&&Ot(s,function(t){n.push(t())}),n.length?y.all(n,t):t(),function(e){Ot(n,function(t){e?t.cancel():t.end()})}}}}}]}],y=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,o){return function(t){if(t.from&&t.to){var r=e(t.from),i=e(t.to);if(!r&&!i)return;return{start:function(){var t=[];r&&t.push(r.start()),i&&t.push(i.start()),o.all(t,function(t){e.complete(t)});var e=new o({end:n(),cancel:n()});return e;function n(){return function(){Ot(t,function(t){t.end()})}}}}}return e(t)};function e(t){var e=t.element,n=t.event,r=t.options,i=t.classes;return a(e,n,i,r)}}]}],jt="data-ng-animate",Ft="$ngAnimatePin",_=["$animateProvider",function(c){var V=1,G=2,r=" ",i=this.rules={skip:[],cancel:[],join:[]};function o(t,e){if(t&&e){var n=function(t){if(!t)return null;var e=t.split(r),n=Object.create(null);return Ot(e,function(t){n[t]=!0}),n}(e);return t.split(r).some(function(t){return n[t]})}}function K(t,e,n){return i[t].some(function(t){return t(e,n)})}function J(t,e){var n=0<(t.addClass||"").length,r=0<(t.removeClass||"").length;return e?n&&r:n||r}i.join.push(function(t,e){return!t.structural&&J(t)}),i.skip.push(function(t,e){return!t.structural&&!J(t)}),i.skip.push(function(t,e){return"leave"===e.event&&t.structural}),i.skip.push(function(t,e){return e.structural&&e.state===G&&!t.structural}),i.cancel.push(function(t,e){return e.structural&&t.structural}),i.cancel.push(function(t,e){return e.state===G&&t.structural}),i.cancel.push(function(t,e){if(e.structural)return!1;var n=t.addClass,r=t.removeClass,i=e.addClass,a=e.removeClass;return!(at(n)&&at(r)||at(i)&&at(a))&&(o(n,a)||o(r,i))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(L,C,D,E,t,Y,A,e,n,r,N){var O=new t,R=new t,H=null;var i=C.$watch(function(){return 0===e.totalPendingRequests},function(t){t&&(i(),C.$$postDigest(function(){C.$$postDigest(function(){null===H&&(H=!0)})}))}),P=Object.create(null),a=c.customFilter(),o=c.classNameFilter(),s=function(){return!0},j=a||s,F=o?function(t,e){var n=[t.getAttribute("class"),e.addClass,e.removeClass].join(" ");return o.test(n)}:s,I=k(n);function z(t,e){return tt(t,e,{})}var B=d.Node.prototype.contains||function(t){return this===t||!!(16&this.compareDocumentPosition(t))};function l(t,e,n){var r=f(e);return t.filter(function(t){return!(t.node===r&&(!n||t.callback===n))})}function W(t,e){"close"!==t||e.parentNode||u.off(e)}var u={on:function(t,e,n){var r=f(e);P[t]=P[t]||[],P[t].push({node:r,callback:n}),Ht(e).on("$destroy",function(){O.get(r)||u.off(t,e,n)})},off:function(t,e,n){if(1!==arguments.length||it(t)){var r=P[t];r&&(P[t]=1===arguments.length?null:l(r,e,n))}else for(var i in e=t,P)P[i]=l(P[i],e)},pin:function(t,e){h(m(t),"element","not an element"),h(m(e),"parentElement","not an element"),t.data(Ft,e)},push:function(t,e,n,r){return(n=n||{}).domOperation=r,function(i,a,t){var o=Nt(t),u=Q(i),c=bt(u),d=c&&c.parentNode;o=gt(o);var s=new A,e=(n=!1,function(t){n?t():C.$$postDigest(function(){n=!0,t()})});var n;Rt(o.addClass)&&(o.addClass=o.addClass.join(" "));o.addClass&&!it(o.addClass)&&(o.addClass=null);Rt(o.removeClass)&&(o.removeClass=o.removeClass.join(" "));o.removeClass&&!it(o.removeClass)&&(o.removeClass=null);o.from&&!rt(o.from)&&(o.from=null);o.to&&!rt(o.to)&&(o.to=null);if(!(H&&c&&j(c,a,t)&&F(c,o)))return T(),s;var l=0<=["enter","move","leave"].indexOf(a),r=N(),h=r||R.get(c),f=!h&&O.get(c)||{},p=!!f.state;h||p&&f.state===V||(h=!function(t,e,n){var r,i=E[0].body,a=bt(D),o=t===i||"HTML"===t.nodeName,s=t===a,l=!1,u=R.get(t),c=Ht.data(t,Ft);c&&(e=bt(c));for(;e&&(s||(s=e===a),e.nodeType===X);){var d=O.get(e)||{};if(!l){var h=R.get(e);if(!0===h&&!1!==u){u=!0;break}!1===h&&(u=!1),l=d.structural}if(at(r)||!0===r){var f=Ht.data(e,Z);nt(f)&&(r=f)}if(l&&!1===r)break;if(o||(o=e===i),o&&s)break;e=s||!(c=Ht.data(e,Ft))?e.parentNode:bt(c)}return(!l||r)&&!0!==u&&s&&o}(c,d));if(h)return r&&S(s,a,"start"),T(),r&&S(s,a,"close"),s;l&&(m=c.querySelectorAll("["+jt+"]"),Ot(m,function(t){var e=parseInt(t.getAttribute(jt),10),n=O.get(t);if(n)switch(e){case G:n.runner.end();case V:O.delete(t)}}));var m;var g={structural:l,element:u,event:a,addClass:o.addClass,removeClass:o.removeClass,close:T,options:o,runner:s};if(p){var v=K("skip",g,f);if(v)return f.state===G?(T(),s):(tt(u,f,g),f.runner);var y=K("cancel",g,f);if(y)if(f.state===G)f.runner.end();else{if(!f.structural)return tt(u,f,g),f.runner;f.close()}else{var _=K("join",g,f);if(_){if(f.state!==G)return b=u,M=o,$="",(w=l?a:null)&&($=mt(w,ht,!0)),M.addClass&&($=et($,mt(M.addClass,ct))),M.removeClass&&($=et($,mt(M.removeClass,dt))),$.length&&(M.preparationClasses=$,b.addClass($)),a=g.event=f.event,o=tt(u,f,g),f.runner;z(u,g)}}}else z(u,g);var b,w,M,$;var x=g.structural;x||(x="animate"===g.event&&0<Object.keys(g.options.to||{}).length||J(g));if(!x)return T(),U(c),s;var k=(f.counter||0)+1;return g.counter=k,q(c,V,g),C.$$postDigest(function(){u=Q(i);var t=O.get(c),e=!t;t=t||{};var n=0<(u.parent()||[]).length&&("animate"===t.event||t.structural||J(t));if(e||t.counter!==k||!n)return e&&(I(u,o),vt(u,o)),(e||l&&t.event!==a)&&(o.domOperation(),s.end()),void(n||U(c));a=!t.structural&&J(t,!0)?"setClass":t.event,q(c,G);var r=Y(u,a,t.options);s.setHost(r),S(s,a,"start",{}),r.done(function(t){T(!t);var e=O.get(c);e&&e.counter===k&&U(c),S(s,a,"close",{})})}),s;function S(t,o,s,l){e(function(){var e,n,r,i,t,a=(e=d,n=c,i=[],(t=P[r=o])&&Ot(t,function(t){B.call(t.node,n)?i.push(t.callback):"leave"===r&&B.call(t.node,e)&&i.push(t.callback)}),i);a.length?L(function(){Ot(a,function(t){t(u,s,l)}),W(s,c)}):W(s,c)}),t.progress(o,s,l)}function T(t){var e,n;e=u,(n=o).preparationClasses&&(e.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(e.removeClass(n.activeClasses),n.activeClasses=null),I(u,o),vt(u,o),o.domOperation(),s.complete(!t)}}(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!H;else if(m(t)){var r=bt(t);1===n?e=!R.get(r):R.set(r,!e)}else e=H=!!t;return e}};return u;function U(t){t.removeAttribute(jt),O.delete(t)}function q(t,e,n){(n=n||{}).state=e,t.setAttribute(jt,e);var r=O.get(t),i=r?p(r,n):n;O.set(t,i)}}]}],b=["$animateProvider",function(t){var _="ng-animate-ref",b=this.drivers=[],w="$$animationRunner";function M(t){return t.data(w)}this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(d,h,f,p,m,g){var v=[],y=k(d);return function(e,n,r){r=gt(r);var t,i=0<=["enter","move","leave"].indexOf(n),a=new p({end:function(){c()},cancel:function(){c(!0)}});if(!b.length)return c(),a;t=a,e.data(w,t);var o,s=x(e.attr("class"),x(r.addClass,r.removeClass)),l=r.tempClasses;return l&&(s+=" "+l,r.tempClasses=null),i&&(o="ng-"+n+"-prepare",d.addClass(e,o)),v.push({element:e,classes:s,event:n,structural:i,options:r,beforeStart:function(){e.addClass($),l&&d.addClass(e,l);o&&(d.removeClass(e,o),o=null)},close:c}),e.on("$destroy",u),1<v.length||h.$$postDigest(function(){var e=[];Ot(v,function(t){M(t.element)?e.push(t):t.close()}),v.length=0;var t=function(c){var h=[],f={};Ot(c,function(t,n){var e,r,i,a,o=t.element,s=bt(o),l=t.event,u=0<=["enter","move"].indexOf(l),c=t.structural?(r="["+_+"]",i=(e=s).hasAttribute(_)?[e]:e.querySelectorAll(r),a=[],Ot(i,function(t){var e=t.getAttribute(_);e&&e.length&&a.push(t)}),a):[];if(c.length){var d=u?"to":"from";Ot(c,function(t){var e=t.getAttribute(_);f[e]=f[e]||{},f[e][d]={animationID:n,element:Ht(t)}})}else h.push(t)});var d={},p={};return Ot(f,function(t,e){var n=t.from,r=t.to;if(n&&r){var i=c[n.animationID],a=c[r.animationID],o=n.animationID.toString();if(!p[o]){var s=p[o]={structural:!0,beforeStart:function(){i.beforeStart(),a.beforeStart()},close:function(){i.close(),a.close()},classes:function(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],r=0;r<t.length;r++){var i=t[r];if("ng-"!==i.substring(0,3))for(var a=0;a<e.length;a++)if(i===e[a]){n.push(i);break}}return n.join(" ")}(i.classes,a.classes),from:i,to:a,anchors:[]};s.classes.length?h.push(s):(h.push(i),h.push(a))}p[o].anchors.push({out:n.element,in:r.element})}else{var l=n?n.animationID:r.animationID,u=l.toString();d[u]||(d[u]=!0,h.push(c[l]))}}),h}(e),n=[];Ot(t,function(i){n.push({domNode:bt(i.from?i.from.element:i.element),fn:function(){i.beforeStart();var t,e=i.close;if(M(i.anchors?i.from.element||i.to.element:i.element)){var n=function(t){for(var e=b.length-1;0<=e;e--){var n=b[e],r=f.get(n),i=r(t);if(i)return i}}(i);n&&(t=n.start)}if(t){var r=t();r.done(function(t){e(!t)}),function(t,n){t.from&&t.to?(e(t.from.element),e(t.to.element)):e(t.element);function e(t){var e=M(t);e&&e.setHost(n)}}(i,r)}else e()}})}),g(function(t){var e,i={children:[]},a=new m;for(e=0;e<t.length;e++){var n=t[e];a.set(n.domNode,t[e]={domNode:n.domNode,fn:n.fn,children:[]})}for(e=0;e<t.length;e++)o(t[e]);return function(t){var e,n=[],r=[];for(e=0;e<t.children.length;e++)r.push(t.children[e]);var i=r.length,a=0,o=[];for(e=0;e<r.length;e++){var s=r[e];i<=0&&(i=a,a=0,n.push(o),o=[]),o.push(s.fn),s.children.forEach(function(t){a++,r.push(t)}),i--}return o.length&&n.push(o),n}(i);function o(t){if(t.processed)return t;t.processed=!0;var e,n=t.domNode,r=n.parentNode;for(a.set(n,t);r;){if(e=a.get(r)){e.processed||(e=o(e));break}r=r.parentNode}return(e||i).children.push(t),t}}(n))}),a;function u(){var t=M(e);!t||"leave"===n&&r.$$domOperationFired||t.end()}function c(t){e.off("$destroy",u),e.removeData(w),y(e,r),vt(e,r),r.domOperation(),l&&d.removeClass(e,l),e.removeClass($),a.complete(!t)}}}]}];t.module("ngAnimate",[],function(){Pt=t.noop,Nt=t.copy,p=t.extend,Ht=t.element,Ot=t.forEach,Rt=t.isArray,it=t.isString,rt=t.isObject,at=t.isUndefined,nt=t.isDefined,w=t.isFunction,m=t.isElement}).info({angularVersion:"1.6.6"}).directive("ngAnimateSwap",["$animate","$rootScope",function(s,t){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(e,n,t,r,i){var a,o;e.$watchCollection(t.ngAnimateSwap||t.for,function(t){a&&s.leave(a),o&&(o.$destroy(),o=null),(t||0===t)&&(o=e.$new(),i(o,function(t){a=t,s.enter(t,null,n)}))})}}}]).directive("ngAnimateChildren",s).factory("$$rAFScheduler",["$$rAF",function(n){var r,i;function t(t){r=r.concat(t),a()}return r=t.queue=[],t.waitUntilQuiet=function(t){i&&i(),i=n(function(){i=null,t(),a()})},t;function a(){if(r.length){for(var t=r.shift(),e=0;e<t.length;e++)t[e]();i||n(function(){i||a()})}}}]).provider("$$animateQueue",_).provider("$$animation",b).provider("$animateCss",u).provider("$$animateCssDriver",g).provider("$$animateJs",v).provider("$$animateJsDriver",y)}(window,window.angular),function(w){angular.module("pw.canvas-painter",[]),function(e){try{e=angular.module("pw.canvas-painter")}catch(t){e=angular.module("pw.canvas-painter",[])}e.run(["$templateCache",function(t){t.put("../templates/canvas.html",'<div class="pwCanvasPaint" style="position:relative"></div>')}])}(),function(e){try{e=angular.module("pw.canvas-painter")}catch(t){e=angular.module("pw.canvas-painter",[])}e.run(["$templateCache",function(t){t.put("../templates/color-selector.html",'<ul class="pwColorSelector"><li ng-repeat="color in colorList track by $index" class="pwColor" ng-class="{\'active\': (selectedColor === color)}" ng-style="{\'background-color\':color}" ng-click="setColor(color)"></li></ul>')}])}(),angular.module("pw.canvas-painter").directive("pwCanvas",function(){return{restrict:"AE",scope:{options:"=",version:"="},templateUrl:"../templates/canvas.html",link:function(r,t){var i=!!("ontouchstart"in w),a=i?"touchstart":"mousedown",e=i?"touchmove":"mousemove",o=i?"touchend":"mouseup",n=r.options;if(n.canvasId=n.customCanvasId||"pwCanvasMain",n.tmpCanvasId=n.customCanvasId?n.canvasId+"Tmp":"pwCanvasTmp",n.width=n.width||400,n.height=n.height||300,n.backgroundColor=n.backgroundColor||"#fff",n.color=n.color||"#000",n.undoEnabled=n.undoEnabled||!1,n.opacity=n.opacity||.9,n.lineWidth=n.lineWidth||1,n.undo=n.undo||!1,n.imageSrc=n.imageSrc||!1,n.imageSrc){var s=new Image;s.onload=function(){d.drawImage(this,0,0)},s.src=n.imageSrc}if(n.undo){var l=[];r.$watch(function(){return l.length},function(t){r.version=t}),r.$watch("version",function(t){t<0?r.version=0:t>=l.length?r.version=l.length:b(t)})}var u=document.createElement("canvas");u.id=n.canvasId;var c=document.createElement("canvas");c.id=n.tmpCanvasId,angular.element(c).css({position:"absolute",top:0,left:0}),t.find("div").append(u),t.find("div").append(c);var d=u.getContext("2d"),h=c.getContext("2d"),f={x:0,y:0},p=[];u.width=c.width=n.width,u.height=c.height=n.height,d.fillStyle=n.backgroundColor,d.fillRect(0,0,u.width,u.height),h.globalAlpha=n.opacity,h.lineJoin=h.lineCap="round",h.lineWidth=10,h.strokeStyle=n.color,r.$watch("options.lineWidth",function(t){"string"==typeof t&&(t=parseInt(t,10)),t&&"number"==typeof t&&(h.lineWidth=n.lineWidth=t)}),r.$watch("options.color",function(t){t&&(h.strokeStyle=h.fillStyle=t)}),r.$watch("options.opacity",function(t){t&&(h.globalAlpha=t)});var m=function(t){for(var e=0,n=0;isNaN(t.offsetLeft)||(e+=t.offsetTop,n+=t.offsetLeft),t=t.offsetParent;);return{left:n,top:e}},g=function(t,e){i?(t.x=e.changedTouches[0].pageX-m(e.target).left,t.y=e.changedTouches[0].pageY-m(e.target).top):(t.x=void 0!==e.offsetX?e.offsetX:e.layerX,t.y=void 0!==e.offsetY?e.offsetY:e.layerY)},v=function(t){if(t&&(t.preventDefault(),g(f,t)),p.push({x:f.x,y:f.y}),3===p.length){var e=p[0];return h.beginPath(),h.arc(e.x,e.y,h.lineWidth/2,0,2*Math.PI,!0),h.fill(),void h.closePath()}h.clearRect(0,0,c.width,c.height),h.beginPath(),h.moveTo(p[0].x,p[0].y);for(var n=1;n<p.length-2;n++){var r=(p[n].x+p[n+1].x)/2,i=(p[n].y+p[n+1].y)/2;h.quadraticCurveTo(p[n].x,p[n].y,r,i)}h.quadraticCurveTo(p[n].x,p[n].y,p[n+1].x,p[n+1].y),h.stroke()},y=function(){n.undo&&r.$apply(function(){l.push(d.getImageData(0,0,c.width,c.height)),angular.isNumber(n.undo)&&0<n.undo&&(l=l.slice(-1*n.undo))}),c.removeEventListener(e,v,!1),d.drawImage(c,0,0),h.clearRect(0,0,c.width,c.height),p=[]},_=function(t){t.preventDefault(),c.addEventListener(e,v,!1),g(f,t),p.push({x:f.x,y:f.y}),p.push({x:f.x,y:f.y}),v()},b=function(t){0<l.length&&(d.putImageData(l[t],0,0),l=l.slice(0,t))};!function(){var e;c.addEventListener(a,_,!1),c.addEventListener(o,y,!1),i||(document.body.addEventListener("mousedown",t),document.body.addEventListener("mouseup",n),r.$on("$destroy",function(){document.body.removeEventListener("mousedown",t),document.body.removeEventListener("mouseup",n)}),c.addEventListener("mouseenter",function(t){e&&_(t)}),c.addEventListener("mouseleave",function(t){e&&y(t)}));function t(){e=!0}function n(){e=!1}}()}}}),angular.module("pw.canvas-painter").directive("pwColorSelector",function(){return{restrict:"AE",scope:{colorList:"=pwColorSelector",selectedColor:"=color"},templateUrl:"../templates/color-selector.html",link:function(e){e.setColor=function(t){e.selectedColor=t}}}})}(this),function(){"use strict";function x(t){return angular.isUndefined(t)||null===t}function t($,t){if(void 0===t){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");t=function(){try{return require("moment")}catch(t){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}()}return $.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",t).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(_,b,w,M){return function(t,o,e){var n,r,s=null,l=M.withoutSuffix,u=M.titleFormat,c=M.fullDateThreshold,d=M.fullDateFormat,h=M.fullDateThresholdUnit,i=(new Date).getTime(),a=e.amTimeAgo,f="TIME"===o[0].nodeName.toUpperCase(),p=!o.attr("title");function m(){var t;if(r)t=r;else if(M.serverTime){var e=(new Date).getTime()-i+M.serverTime;t=b(e)}else t=b();return t}function g(){s&&(_.clearTimeout(s),s=null)}function v(t){f&&o.attr("datetime",t)}function y(){if(g(),n){var t=w.preprocessDate(n);!function t(e){var n=m().diff(e,h),r=c&&c<=n;if(r?o.text(e.format(d)):o.text(e.from(m(),l)),u&&p&&o.attr("title",e.format(u)),!r){var i=Math.abs(m().diff(e,"minute")),a=3600;i<1?a=1:i<60?a=30:i<180&&(a=300),s=_.setTimeout(function(){t(e)},1e3*a)}}(t),v(t.toISOString())}}t.$watch(a,function(t){if(x(t)||""===t)return g(),void(n&&(o.text(""),v(""),n=null));n=t,y()}),$.isDefined(e.amFrom)&&t.$watch(e.amFrom,function(t){r=x(t)||""===t?null:b(t),y()}),$.isDefined(e.amWithoutSuffix)&&t.$watch(e.amWithoutSuffix,function(t){"boolean"==typeof t?(l=t,y()):l=M.withoutSuffix}),e.$observe("amFullDateThreshold",function(t){c=t,y()}),e.$observe("amFullDateFormat",function(t){d=t,y()}),e.$observe("amFullDateThresholdUnit",function(t){h=t,y()}),t.$on("$destroy",function(){g()}),t.$on("amMoment:localeChanged",function(){y()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(r,i,e,n){var a=null;this.changeLocale=function(t,e){var n=r.locale(t,e);return $.isDefined(t)&&i.$broadcast("amMoment:localeChanged"),n},this.changeTimezone=function(t){r.tz&&r.tz.setDefault?(r.tz.setDefault(t),i.$broadcast("amMoment:timezoneChanged")):e.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),n.timezone=t,a=t},this.preprocessDate=function(t){return a!==n.timezone&&this.changeTimezone(n.timezone),n.preprocess?n.preprocess(t):!isNaN(parseFloat(t))&&isFinite(t)?r(parseInt(t,10)):r(t)}}]).filter("amParse",["moment",function(n){return function(t,e){return n(t,e)}}]).filter("amFromUnix",["moment",function(e){return function(t){return e.unix(t)}}]).filter("amUtc",["moment",function(e){return function(t){return e.utc(t)}}]).filter("amUtcOffset",["amMoment",function(n){return function(t,e){return n.preprocessDate(t).utcOffset(e)}}]).filter("amLocal",["moment",function(e){return function(t){return e.isMoment(t)?t.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(r,t,i){return function(t,e){var n=r.preprocessDate(t);return e?n.tz?n.tz(e):(i.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),n):n}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(t,i,e){function n(t,e,n){if(x(t))return"";var r=i.preprocessDate(t);return r.isValid()?r.calendar(e,n):""}return n.$stateful=e.statefulFilters,n}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(o,s,t){function e(t,e,n,r){if(x(t))return"";var i=s.preprocessDate(t),a=x(e)?o():s.preprocessDate(e);return i.isValid()&&a.isValid()?i.diff(a,n,r):""}return e.$stateful=t.statefulFilters,e}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(t,r,e){function n(t,e){if(x(t))return"";var n=r.preprocessDate(t);return n.isValid()?n.format(e):""}return n.$stateful=e.statefulFilters,n}]).filter("amDurationFormat",["moment","angularMomentConfig",function(r,t){function e(t,e,n){return x(t)?"":r.duration(t,e).humanize(n)}return e.$stateful=t.statefulFilters,e}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(a,o,t){function e(t,e,n){var r,i;return x(t)?"":(t=o.preprocessDate(t),(r=a(t)).isValid()?(i=a(n),!x(n)&&i.isValid()?r.from(i,e):r.fromNow(e)):"")}return e.$stateful=t.statefulFilters,e}]).filter("amSubtract",["moment","angularMomentConfig",function(r,t){function e(t,e,n){return x(t)?"":r(t).subtract(parseInt(e,10),n)}return e.$stateful=t.statefulFilters,e}]).filter("amAdd",["moment","angularMomentConfig",function(r,t){function e(t,e,n){return x(t)?"":r(t).add(parseInt(e,10),n)}return e.$stateful=t.statefulFilters,e}]).filter("amStartOf",["moment","angularMomentConfig",function(n,t){function e(t,e){return x(t)?"":n(t).startOf(e)}return e.$stateful=t.statefulFilters,e}]).filter("amEndOf",["moment","angularMomentConfig",function(n,t){function e(t,e){return x(t)?"":n(t).endOf(e)}return e.$stateful=t.statefulFilters,e}]),"angularMoment"}var e=window&&window.process&&window.process.type;"function"==typeof define&&define.amd?define(["angular","moment"],t):"undefined"!=typeof module&&module&&module.exports&&"function"==typeof require&&!e?module.exports=t(require("angular"),require("moment")):t(angular,("undefined"!=typeof global&&void 0!==global.moment?global:window).moment)}(),function(){"use strict";var g=8,d=9,v=13,h=27,y=32,f=38,p=40,_=37,b=39,w=46,M=188,o=9007199254740991,e=["text","email","url"],t=angular.module("ngTagsInput",[]);t.directive("tagsInput",["$timeout","$document","$window","$q","tagsInputConfig","tiUtil",function(h,f,p,c,r,m){function i(r,n,i,e){var a,o,s,l,u={};return a=function(t){return m.safeToString(t[r.displayProperty])},o=function(t,e){t[r.displayProperty]=e},s=function(t){var e=a(t),n=e&&e.length>=r.minLength&&e.length<=r.maxLength&&r.allowedTagsPattern.test(e)&&!m.findInObjectArray(u.items,t,r.keyProperty||r.displayProperty);return c.when(n&&i({$tag:t})).then(m.promisifyValue)},l=function(t){return c.when(e({$tag:t})).then(m.promisifyValue)},u.items=[],u.addText=function(t){var e={};return o(e,t),u.add(e)},u.add=function(t){var e=a(t);return r.replaceSpacesWithDashes&&(e=m.replaceSpacesWithDashes(e)),o(t,e),s(t).then(function(){u.items.push(t),n.trigger("tag-added",{$tag:t})}).catch(function(){e&&n.trigger("invalid-tag",{$tag:t})})},u.remove=function(t){var e=u.items[t];return l(e).then(function(){return u.items.splice(t,1),u.clearSelection(),n.trigger("tag-removed",{$tag:e}),e})},u.select=function(t){t<0?t=u.items.length-1:t>=u.items.length&&(t=0),u.index=t,u.selected=u.items[t]},u.selectPrior=function(){u.select(--u.index)},u.selectNext=function(){u.select(++u.index)},u.removeSelected=function(){return u.remove(u.index)},u.clearSelection=function(){u.selected=null,u.index=-1},u.getItems=function(){return r.useStrings?u.items.map(a):u.items},u.clearSelection(),u}function a(t){return-1!==e.indexOf(t)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",templateScope:"=?",tagClass:"&",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(n,t,e){n.events=m.simplePubSub(),r.load("tagsInput",n,t,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",a],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,o],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,o],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0],useStrings:[Boolean,!1]}),n.tagList=new i(n.options,n.events,m.handleUndefinedResult(n.onTagAdding,!0),m.handleUndefinedResult(n.onTagRemoving,!0)),this.registerAutocomplete=function(){e.find("input");return{addTag:function(t){return n.tagList.add(t)},getTags:function(){return n.tagList.items},getCurrentTagText:function(){return n.newTag.text()},getOptions:function(){return n.options},getTemplateScope:function(){return n.templateScope},on:function(t,e){return n.events.on(t,e,!0),this}}},this.registerTagItem=function(){return{getOptions:function(){return n.options},removeTag:function(t){n.disabled||n.tagList.remove(t)}}}}],link:function(s,r,t,e){var n,i,l=[v,M,y,g,w,_,b],u=s.tagList,a=s.events,c=s.options,o=r.find("input"),d=["minTags","maxTags","allowLeftoverText"];n=function(){e.$setValidity("maxTags",u.items.length<=c.maxTags),e.$setValidity("minTags",u.items.length>=c.minTags),e.$setValidity("leftoverText",!(!s.hasFocus&&!c.allowLeftoverText)||!s.newTag.text())},i=function(){h(function(){o[0].focus()})},e.$isEmpty=function(t){return!t||!t.length},s.newTag={text:function(t){if(!angular.isDefined(t))return s.text||"";s.text=t,a.trigger("input-change",t)},invalid:null},s.track=function(t){return t[c.keyProperty||c.displayProperty]},s.getTagClass=function(t,e){var n=t===u.selected;return[s.tagClass({$tag:t,$index:e,$selected:n}),{selected:n}]},s.$watch("tags",function(t){if(t){if(u.items=m.makeObjectArray(t,c.displayProperty),c.useStrings)return;s.tags=u.items}else u.items=[]}),s.$watch("tags.length",function(){n(),e.$validate()}),t.$observe("disabled",function(t){s.disabled=t}),s.eventHandlers={input:{keydown:function(t){a.trigger("input-keydown",t)},focus:function(){s.hasFocus||(s.hasFocus=!0,a.trigger("input-focus"))},blur:function(){h(function(){var t=f.prop("activeElement"),e=t===o[0],n=r[0].contains(t);!e&&n||(s.hasFocus=!1,a.trigger("input-blur"))})},paste:function(e){e.getTextData=function(){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData;return t?t.getData("text/plain"):p.clipboardData.getData("Text")},a.trigger("input-paste",e)}},host:{click:function(){s.disabled||i()}},tag:{click:function(t){a.trigger("tag-clicked",{$tag:t})}}},a.on("tag-added",s.onTagAdded).on("invalid-tag",s.onInvalidTag).on("tag-removed",s.onTagRemoved).on("tag-clicked",s.onTagClicked).on("tag-added",function(){s.newTag.text("")}).on("tag-added tag-removed",function(){s.tags=u.getItems(),e.$setDirty(),i()}).on("invalid-tag",function(){s.newTag.invalid=!0}).on("option-change",function(t){-1!==d.indexOf(t.name)&&n()}).on("input-change",function(){u.clearSelection(),s.newTag.invalid=null}).on("input-focus",function(){r.triggerHandler("focus"),e.$setValidity("leftoverText",!0)}).on("input-blur",function(){c.addOnBlur&&!c.addFromAutocompleteOnly&&u.addText(s.newTag.text()),r.triggerHandler("blur"),n()}).on("input-keydown",function(t){var e,n,r,i,a=t.keyCode,o={};m.isModifierOn(t)||-1===l.indexOf(a)||(o[v]=c.addOnEnter,o[M]=c.addOnComma,o[y]=c.addOnSpace,e=!c.addFromAutocompleteOnly&&o[a],n=(a===g||a===w)&&u.selected,i=a===g&&0===s.newTag.text().length&&c.enableEditingLastTag,r=(a===g||a===_||a===b)&&0===s.newTag.text().length&&!c.enableEditingLastTag,e?u.addText(s.newTag.text()):i?(u.selectPrior(),u.removeSelected().then(function(t){t&&s.newTag.text(t[c.displayProperty])})):n?u.removeSelected():r&&(a===_||a===g?u.selectPrior():a===b&&u.selectNext()),(e||r||n||i)&&t.preventDefault())}).on("input-paste",function(t){if(c.addOnPaste){var e=t.getTextData().split(c.pasteSplitPattern);1<e.length&&(e.forEach(function(t){u.addText(t)}),t.preventDefault())}})}}}]),t.directive("tiTagItem",["tiUtil",function(o){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(e,t,n,r){var i=r.registerTagItem(),a=i.getOptions();e.$$template=a.template,e.$$removeTagSymbol=a.removeTagSymbol,e.$getDisplayText=function(){return o.safeToString(e.data[a.displayProperty])},e.$removeTag=function(){i.removeTag(e.$index)},e.$watch("$parent.$index",function(t){e.$index=t})}}}]),t.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(t,e,n,u,r,c){function i(r,i,e){var a,o,s,l={};return s=function(){return i.tagsInput.keyProperty||i.tagsInput.displayProperty},a=function(t,e){return t.filter(function(t){return!c.findInObjectArray(e,t,s(),function(t,e){return i.tagsInput.replaceSpacesWithDashes&&(t=c.replaceSpacesWithDashes(t),e=c.replaceSpacesWithDashes(e)),c.defaultComparer(t,e)})})},l.reset=function(){o=null,l.items=[],l.visible=!1,l.index=-1,l.selected=null,l.query=null},l.show=function(){i.selectFirstMatch?l.select(0):l.selected=null,l.visible=!0},l.load=c.debounce(function(t,e){l.query=t;var n=u.when(r({$query:t}));(o=n).then(function(t){n===o&&(t=c.makeObjectArray(t.data||t,s()),t=a(t,e),l.items=t.slice(0,i.maxResultsToShow),0<l.items.length?l.show():l.reset())})},i.debounceDelay),l.selectNext=function(){l.select(++l.index)},l.selectPrior=function(){l.select(--l.index)},l.select=function(t){t<0?t=l.items.length-1:t>=l.items.length&&(t=0),l.index=t,l.selected=l.items[t],e.trigger("suggestion-selected",t)},l.reset(),l}return{restrict:"E",require:"^tagsInput",scope:{source:"&",matchClass:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(t,e,n){t.events=c.simplePubSub(),r.load("autoComplete",t,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),t.suggestionList=new i(t.source,t.options,t.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return t.options},getQuery:function(){return t.suggestionList.query}}}}],link:function(r,l,t,e){var n,i=[v,d,h,f,p],a=r.suggestionList,o=e.registerAutocomplete(),s=r.options,u=r.events;s.tagsInput=o.getOptions(),n=function(t){return t&&t.length>=s.minLength||!t&&s.loadOnEmpty},r.templateScope=o.getTemplateScope(),r.addSuggestionByIndex=function(t){a.select(t),r.addSuggestion()},r.addSuggestion=function(){var t=!1;return a.selected&&(o.addTag(angular.copy(a.selected)),a.reset(),t=!0),t},r.track=function(t){return t[s.tagsInput.keyProperty||s.tagsInput.displayProperty]},r.getSuggestionClass=function(t,e){var n=t===a.selected;return[r.matchClass({$match:t,$index:e,$selected:n}),{selected:n}]},o.on("tag-added tag-removed invalid-tag input-blur",function(){a.reset()}).on("input-change",function(t){n(t)?a.load(t,o.getTags()):a.reset()}).on("input-focus",function(){var t=o.getCurrentTagText();s.loadOnFocus&&n(t)&&a.load(t,o.getTags())}).on("input-keydown",function(t){var e=t.keyCode,n=!1;if(!c.isModifierOn(t)&&-1!==i.indexOf(e))return a.visible?e===p?(a.selectNext(),n=!0):e===f?(a.selectPrior(),n=!0):e===h?(a.reset(),n=!0):e!==v&&e!==d||(n=r.addSuggestion()):e===p&&r.options.loadOnDownArrow&&(a.load(o.getCurrentTagText(),o.getTags()),n=!0),n?(t.preventDefault(),t.stopImmediatePropagation(),!1):void 0}),u.on("suggestion-selected",function(t){var e,n,r,i,a,o,s;e=t,n=l.find("li").eq(e),r=n.parent(),i=n.prop("offsetTop"),a=n.prop("offsetHeight"),o=r.prop("clientHeight"),s=r.prop("scrollTop"),i<s?r.prop("scrollTop",i):o+s<i+a&&r.prop("scrollTop",i+a-o)})}}}]),t.directive("tiAutocompleteMatch",["$sce","tiUtil",function(o,s){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{$scope:"=scope",data:"="},link:function(t,e,n,r){var i=r.registerAutocompleteMatch(),a=i.getOptions();t.$$template=a.template,t.$index=t.$parent.$index,t.$highlight=function(t){return a.highlightMatchedText&&(t=s.safeHighlight(t,i.getQuery())),o.trustAsHtml(t)},t.$getDisplayText=function(){return s.safeToString(t.data[a.displayProperty||a.tagsInput.displayProperty])}}}}]),t.directive("tiTranscludeAppend",function(){return function(t,e,n,r,i){i(function(t){e.append(t)})}}),t.directive("tiAutosize",["tagsInputConfig",function(s){return{restrict:"A",require:"ngModel",link:function(t,r,i,e){var a,n,o=s.getTextAutosizeThreshold();(a=angular.element('<span class="input"></span>')).css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),r.parent().append(a),n=function(t){var e,n=t;return angular.isString(n)&&0===n.length&&(n=i.placeholder),n&&(a.text(n),a.css("display",""),e=a.prop("offsetWidth"),a.css("display","none")),r.css("width",e?e+o+"px":""),t},e.$parsers.unshift(n),e.$formatters.unshift(n),i.$observe("placeholder",function(t){e.$modelValue||n(t)})}}}]),t.directive("tiBindAttrs",function(){return function(t,e,n){t.$watch(n.tiBindAttrs,function(t){angular.forEach(t,function(t,e){n.$set(e,t)})},!0)}}),t.provider("tagsInputConfig",function(){var p={},m={},e=3;this.setDefaults=function(t,e){return p[t]=e,this},this.setActiveInterpolation=function(t,e){return m[t]=e,this},this.setTextAutosizeThreshold=function(t){return e=t,this},this.$get=["$interpolate",function(h){var f={};return f[String]=function(t){return t},f[Number]=function(t){return parseInt(t,10)},f[Boolean]=function(t){return"true"===t.toLowerCase()},f[RegExp]=function(t){return new RegExp(t)},{load:function(l,u,c,t){var d=function(){return!0};u.options={},angular.forEach(t,function(t,e){var n,r,i,a,o,s;n=t[0],r=t[1],i=t[2]||d,a=f[n],o=function(){var t=p[l]&&p[l][e];return angular.isDefined(t)?t:r},s=function(t){u.options[e]=t&&i(t)?a(t):o()},m[l]&&m[l][e]?c.$observe(e,function(t){s(t),u.events.trigger("option-change",{name:e,newValue:t})}):s(c[e]&&h(c[e])(u.$parent))})},getTextAutosizeThreshold:function(){return e}}}]}),t.factory("tiUtil",["$timeout","$q",function(i,e){var a={debounce:function(e,n){var r;return function(){var t=arguments;i.cancel(r),r=i(function(){e.apply(null,t)},n)}},makeObjectArray:function(t,n){if(!angular.isArray(t)||0===t.length||angular.isObject(t[0]))return t;var r=[];return t.forEach(function(t){var e={};e[n]=t,r.push(e)}),r},findInObjectArray:function(t,e,n,r){var i=null;return r=r||a.defaultComparer,t.some(function(t){if(r(t[n],e[n]))return i=t,!0}),i},defaultComparer:function(t,e){return a.safeToString(t).toLowerCase()===a.safeToString(e).toLowerCase()},safeHighlight:function(t,e){if(t=a.encodeHTML(t),!(e=a.encodeHTML(e)))return t;var n=new RegExp("&[^;]+;|"+e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi");return t.replace(n,function(t){return t.toLowerCase()===e.toLowerCase()?"<em>"+t+"</em>":t})},safeToString:function(t){return angular.isUndefined(t)||null==t?"":t.toString().trim()},encodeHTML:function(t){return a.safeToString(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},handleUndefinedResult:function(e,n){return function(){var t=e.apply(null,arguments);return angular.isUndefined(t)?n:t}},replaceSpacesWithDashes:function(t){return a.safeToString(t).replace(/\s/g,"-")},isModifierOn:function(t){return t.shiftKey||t.ctrlKey||t.altKey||t.metaKey},promisifyValue:function(t){return t=!!angular.isUndefined(t)||t,e[t?"when":"reject"]()},simplePubSub:function(){var r={};return{on:function(t,e,n){return t.split(" ").forEach(function(t){r[t]||(r[t]=[]),(n?[].unshift:[].push).call(r[t],e)}),this},trigger:function(t,e){return(r[t]||[]).every(function(t){return a.handleUndefinedResult(t,!0)(e)}),this}}}};return a}]),t.run(["$templateCache",function(t){t.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="getTagClass(tag, $index)" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item scope="templateScope" data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),t.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),t.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="getSuggestionClass(item, $index)" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match scope="templateScope" data="::item"></ti-autocomplete-match></li></ul></div>'),t.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}(),angular.module("xeditable",[]).value("editableOptions",{theme:"default",icon_set:"default",buttons:"right",blurElem:"cancel",blurForm:"ignore",activate:"focus",isDisabled:!1,activationEvent:"click"}),angular.module("xeditable").directive("editableBsdate",["editableDirectiveFactory",function(t){return t({directiveName:"editableBsdate",inputTpl:"<div></div>",render:function(){this.parent.render.call(this);var t=angular.element('<input type="text" class="form-control" ng-model="$data"/>'),e=angular.element('<button type="button" class="btn btn-default"><i class="glyphicon glyphicon-calendar"></i></button>'),n=angular.element('<span class="input-group-btn"></span>');t.attr("uib-datepicker-popup",this.attrs.eDatepickerPopupXEditable||"yyyy/MM/dd"),t.attr("is-open",this.attrs.eIsOpen),t.attr("date-disabled",this.attrs.eDateDisabled),t.attr("uib-datepicker-popup",this.attrs.eDatepickerPopup),t.attr("min-date",this.attrs.eMinDate),t.attr("max-date",this.attrs.eMaxDate),t.attr("year-range",this.attrs.eYearRange||20),t.attr("show-button-bar",this.attrs.eShowButtonBar||!0),t.attr("current-text",this.attrs.eCurrentText||"Today"),t.attr("clear-text",this.attrs.eClearText||"Clear"),t.attr("close-text",this.attrs.eCloseText||"Done"),t.attr("close-on-date-selection",this.attrs.eCloseOnDateSelection||!0),t.attr("datepicker-append-to-body",this.attrs.eDatePickerAppendToBody||!1),t.attr("date-disabled",this.attrs.eDateDisabled),t.attr("name",this.attrs.eName),this.scope.dateOptions={formatDay:this.attrs.eFormatDay||"dd",formatMonth:this.attrs.eFormatMonth||"MMMM",formatYear:this.attrs.eFormatYear||"yyyy",formatDayHeader:this.attrs.eFormatDayHeader||"EEE",formatDayTitle:this.attrs.eFormatDayTitle||"MMMM yyyy",formatMonthTitle:this.attrs.eFormatMonthTitle||"yyyy",showWeeks:!this.attrs.eShowWeeks||"true"===this.attrs.eShowWeeks.toLowerCase(),startingDay:this.attrs.eStartingDay||0,minMode:this.attrs.eMinMode||"day",maxMode:this.attrs.eMaxMode||"year",initDate:this.attrs.eInitDate||new Date,datepickerMode:this.attrs.eDatepickerMode||"day"},t.attr("datepicker-options","dateOptions"),e.attr("ng-click",this.attrs.eNgClick),n.append(e),this.inputEl.prepend(t),this.inputEl.append(n),this.inputEl.removeAttr("class"),this.inputEl.removeAttr("ng-click"),this.inputEl.removeAttr("is-open"),this.inputEl.removeAttr("init-date"),this.inputEl.removeAttr("datepicker-popup"),this.inputEl.removeAttr("required"),this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("date-picker-append-to-body"),this.inputEl.removeAttr("name"),this.inputEl.attr("class","input-group")}})}]),angular.module("xeditable").directive("editableBstime",["editableDirectiveFactory",function(t){return t({directiveName:"editableBstime",inputTpl:"<uib-timepicker></uib-timepicker>",render:function(){this.parent.render.call(this);var t=angular.element('<div class="well well-small" style="display:inline-block;"></div>');t.attr("ng-model",this.inputEl.attr("ng-model")),this.inputEl.removeAttr("ng-model"),this.attrs.eNgChange&&(t.attr("ng-change",this.inputEl.attr("ng-change")),this.inputEl.removeAttr("ng-change")),this.inputEl.wrap(t)}})}]),angular.module("xeditable").directive("editableCheckbox",["editableDirectiveFactory",function(t){return t({directiveName:"editableCheckbox",inputTpl:'<input type="checkbox">',render:function(){this.parent.render.call(this),this.attrs.eTitle&&(this.inputEl.wrap("<label></label>"),this.inputEl.parent().append(this.attrs.eTitle))},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableChecklist",["editableDirectiveFactory","editableNgOptionsParser",function(t,n){return t({directiveName:"editableChecklist",inputTpl:"<span></span>",useCopy:!0,render:function(){this.parent.render.call(this);var t=n(this.attrs.eNgOptions),e='<label ng-repeat="'+t.ngRepeat+'"><input type="checkbox" checklist-model="$parent.$data" checklist-value="'+t.locals.valueFn+'"><span ng-bind="'+t.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(e)}})}]),angular.module("xeditable").directive("editableCombodate",["editableDirectiveFactory","editableCombodate",function(t,i){return t({directiveName:"editableCombodate",inputTpl:'<input type="text">',render:function(){this.parent.render.call(this);var n={value:new Date(this.scope.$data)},r=this;angular.forEach(["format","template","minYear","maxYear","yearDescending","minuteStep","secondStep","firstItem","errorClass","customClass","roundTime","smartDays"],function(t){var e="e"+t.charAt(0).toUpperCase()+t.slice(1);e in r.attrs&&(n[t]=r.attrs[e])});var e=i.getInstance(this.inputEl,n);e.$widget.find("select").bind("change",function(t){r.scope.$data=new Date(e.getValue()).toISOString()})}})}]),function(){var t="text|password|email|tel|number|url|search|color|date|datetime|time|month|week|file".split("|");angular.forEach(t,function(e){var n="editable"+e.charAt(0).toUpperCase()+e.slice(1);angular.module("xeditable").directive(n,["editableDirectiveFactory",function(t){return t({directiveName:n,inputTpl:'<input type="'+e+'">'})}])}),angular.module("xeditable").directive("editableRange",["editableDirectiveFactory",function(t){return t({directiveName:"editableRange",inputTpl:'<input type="range" id="range" name="range">',render:function(){this.parent.render.call(this),this.inputEl.after("<output>{{$data}}</output>")}})}])}(),angular.module("xeditable").directive("editableRadiolist",["editableDirectiveFactory","editableNgOptionsParser",function(t,n){return t({directiveName:"editableRadiolist",inputTpl:"<span></span>",render:function(){this.parent.render.call(this);var t=n(this.attrs.eNgOptions),e='<label ng-repeat="'+t.ngRepeat+'"><input type="radio" ng-disabled="'+this.attrs.eNgDisabled+'" ng-model="$parent.$data" value="{{'+t.locals.valueFn+'}}"><span ng-bind="'+t.locals.displayFn+'"></span></label>';this.inputEl.removeAttr("ng-model"),this.inputEl.removeAttr("ng-options"),this.inputEl.html(e)},autosubmit:function(){var t=this;t.inputEl.bind("change",function(){setTimeout(function(){t.scope.$apply(function(){t.scope.$form.$submit()})},500)})}})}]),angular.module("xeditable").directive("editableSelect",["editableDirectiveFactory",function(t){return t({directiveName:"editableSelect",inputTpl:"<select></select>",autosubmit:function(){var t=this;t.inputEl.bind("change",function(){t.scope.$apply(function(){t.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableTextarea",["editableDirectiveFactory",function(t){return t({directiveName:"editableTextarea",inputTpl:"<textarea></textarea>",addListeners:function(){this.parent.addListeners.call(this),this.single&&"no"!==this.buttons&&this.autosubmit()},autosubmit:function(){var e=this;e.inputEl.bind("keydown",function(t){(t.ctrlKey||t.metaKey)&&13===t.keyCode&&e.scope.$apply(function(){e.scope.$form.$submit()})})}})}]),angular.module("xeditable").directive("editableUiSelect",["editableDirectiveFactory",function(t){var e=function(t,e){var n=angular.element("<"+t+"/>");n.html(e.html());for(var r=e[0].attributes,i=0;i<r.length;++i)n.attr(r.item(i).nodeName,r.item(i).value);return n},o=null,s=null,n=t({directiveName:"editableUiSelect",inputTpl:"<ui-select></ui-select>",render:function(){this.parent.render.call(this),this.inputEl.append(e("ui-select-match",o)),this.inputEl.append(e("ui-select-choices",s)),this.inputEl.removeAttr("ng-model"),this.inputEl.attr("ng-model","$parent.$data")}}),l=n.link;return n.link=function(t,e,n,r){var i=e.find("editable-ui-select-match"),a=e.find("editable-ui-select-choices");return o=i.clone(),s=a.clone(),i.remove(),a.remove(),l(t,e,n,r)},n}]),angular.module("xeditable").factory("editableController",["$q","editableUtils",function(t,f){function e(n,a,r,e,t,i,o,s,l,u){var c,d,h=this;h.scope=n,h.elem=r,h.attrs=a,h.inputEl=null,h.editorEl=null,h.single=!0,h.error="",h.theme=t[o.theme]||t.default,h.parent={},h.icon_set="default"===o.icon_set?i.default[o.theme]:i.external[o.icon_set],h.inputTpl="",h.directiveName="",h.useCopy=!1,h.single=null,h.buttons="right",h.init=function(t){if(h.single=t,h.name=a.eName||a[h.directiveName],!a[h.directiveName])throw"You should provide value for `"+h.directiveName+"` in editable element!";c=e(a[h.directiveName]),h.single?h.buttons=h.attrs.buttons||o.buttons:h.buttons="no",a.eName&&h.scope.$watch("$data",function(t){h.scope.$form.$data[a.eName]=t}),a.onshow&&(h.onshow=function(){return h.catchError(e(a.onshow)(n))}),a.onhide&&(h.onhide=function(){return e(a.onhide)(n)}),a.oncancel&&(h.oncancel=function(){return e(a.oncancel)(n)}),a.onbeforesave&&(h.onbeforesave=function(){return h.catchError(e(a.onbeforesave)(n))}),a.onaftersave&&(h.onaftersave=function(){return h.catchError(e(a.onaftersave)(n))}),n.$parent.$watch(a[h.directiveName],function(t,e){h.setLocalValue(),h.handleEmpty()})},h.render=function(){var t=h.theme;for(var e in h.inputEl=angular.element(h.inputTpl),h.controlsEl=angular.element(t.controlsTpl),h.controlsEl.append(h.inputEl),"no"!==h.buttons&&(h.buttonsEl=angular.element(t.buttonsTpl),h.submitEl=angular.element(t.submitTpl),h.cancelEl=angular.element(t.cancelTpl),h.icon_set&&(h.submitEl.find("span").addClass(h.icon_set.ok),h.cancelEl.find("span").addClass(h.icon_set.cancel)),h.buttonsEl.append(h.submitEl).append(h.cancelEl),h.controlsEl.append(h.buttonsEl),h.inputEl.addClass("editable-has-buttons")),h.errorEl=angular.element(t.errorTpl),h.controlsEl.append(h.errorEl),h.editorEl=angular.element(h.single?t.formTpl:t.noformTpl),h.editorEl.append(h.controlsEl),a.$attr)if(!(e.length<=1)){var n=!1,r=e.substring(1,2);if("e"===e.substring(0,1)&&r===r.toUpperCase()&&"Form"!==(n=e.substring(1))&&"NgSubmit"!==n){var i="value"!==(n=n.substring(0,1).toLowerCase()+f.camelToDash(n.substring(1)))&&""===a[e]?n:a[e];h.inputEl.attr(n,i)}}h.inputEl.addClass("editable-input"),h.inputEl.attr("ng-model","$data"),h.editorEl.addClass(f.camelToDash(h.directiveName)),h.single&&(h.editorEl.attr("editable-form","$form"),h.editorEl.attr("blur",h.attrs.blur||("no"===h.buttons?"cancel":o.blurElem))),angular.isFunction(t.postrender)&&t.postrender.call(h)},h.setLocalValue=function(){h.scope.$data=h.useCopy?angular.copy(c(n.$parent)):c(n.$parent)},h.show=function(){return h.setLocalValue(),h.render(),r.after(h.editorEl),l(h.editorEl)(n),h.addListeners(),r.addClass("editable-hide"),h.onshow()},h.hide=function(){return h.editorEl.remove(),r.removeClass("editable-hide"),h.onhide()},h.cancel=function(){h.oncancel()},h.addListeners=function(){h.inputEl.bind("keyup",function(t){if(h.single)switch(t.keyCode){case 27:h.scope.$apply(function(){h.scope.$form.$cancel()})}}),h.single&&"no"===h.buttons&&h.autosubmit(),h.editorEl.bind("click",function(t){t.which&&1!==t.which||h.scope.$form.$visible&&(h.scope.$form._clicked=!0)})},h.setWaiting=function(t){t?(d=!h.inputEl.attr("disabled")&&!h.inputEl.attr("ng-disabled")&&!h.inputEl.attr("ng-enabled"))&&(h.inputEl.attr("disabled","disabled"),h.buttonsEl&&h.buttonsEl.find("button").attr("disabled","disabled")):d&&(h.inputEl.removeAttr("disabled"),h.buttonsEl&&h.buttonsEl.find("button").removeAttr("disabled"))},h.activate=function(e,n){setTimeout(function(){var t=h.inputEl[0];"focus"===o.activate&&t.focus&&(e&&(n=n||e,t.onfocus=function(){var t=this;setTimeout(function(){t.setSelectionRange(e,n)})}),t.focus()),"select"===o.activate&&t.select&&t.select()},0)},h.setError=function(t){angular.isObject(t)||(n.$error=t,h.error=t)},h.catchError=function(t,e){return angular.isObject(t)&&!0!==e?u.when(t).then(angular.bind(this,function(t){this.catchError(t,!0)}),angular.bind(this,function(t){this.catchError(t,!0)})):e&&angular.isObject(t)&&t.status&&200!==t.status&&t.data&&angular.isString(t.data)?(this.setError(t.data),t=t.data):angular.isString(t)&&this.setError(t),t},h.save=function(){c.assign(n.$parent,h.useCopy?angular.copy(h.scope.$data):h.scope.$data)},h.handleEmpty=function(){var t=c(n.$parent),e=null==t||""===t||angular.isArray(t)&&0===t.length;r.toggleClass("editable-empty",e)},h.autosubmit=angular.noop,h.onshow=angular.noop,h.onhide=angular.noop,h.oncancel=angular.noop,h.onbeforesave=angular.noop,h.onaftersave=angular.noop}return e.$inject=["$scope","$attrs","$element","$parse","editableThemes","editableIcons","editableOptions","$rootScope","$compile","$q"],e}]),angular.module("xeditable").factory("editableDirectiveFactory",["$parse","$compile","editableThemes","$rootScope","$document","editableController","editableFormController","editableOptions",function(c,t,e,d,h,n,f,p){return function(u){return{restrict:"A",scope:!0,require:[u.directiveName,"?^form"],controller:n,link:function(e,t,n,r){var i,a=r[0],o=!1;if(r[1])i=r[1],o=void 0===n.eSingle;else if(n.eForm){var s=c(n.eForm)(e);if(s)i=s,o=!0;else for(var l=0;l<h[0].forms.length;l++)if(h[0].forms[l].name===n.eForm){o=!(i=null);break}}if(angular.forEach(u,function(t,e){void 0!==a[e]&&(a.parent[e]=a[e])}),angular.extend(a,u),!(angular.isDefined(n.editDisabled)?e.$eval(n.editDisabled):p.isDisabled))if(a.init(!o),e.$editable=a,t.addClass("editable"),o)if(i){if(e.$form=i,!e.$form.$addEditable)throw"Form with editable elements should have `editable-form` attribute.";e.$form.$addEditable(a)}else d.$$editableBuffer=d.$$editableBuffer||{},d.$$editableBuffer[n.eForm]=d.$$editableBuffer[n.eForm]||[],d.$$editableBuffer[n.eForm].push(a),e.$form=null;else e.$form=f(),e.$form.$addEditable(a),n.eForm&&(e.$parent[n.eForm]=e.$form),n.eForm&&!n.eClickable||(t.addClass("editable-click"),t.bind(p.activationEvent,function(t){t.preventDefault(),t.editable=a,e.$apply(function(){e.$form.$show()})}))}}}}]),angular.module("xeditable").factory("editableFormController",["$parse","$document","$rootScope","editablePromiseCollection","editableUtils",function(t,e,i,n,r){var a=[],o=function(t,e){var n=!0,r=t.$editables;return angular.forEach(r,function(t){(function(t,e){if(e==t)return!0;for(var n=e.parentNode;null!==n;){if(n==t)return!0;n=n.parentNode}return!1})(t.editorEl[0],e.target)&&(n=!1)}),n};e.bind("click",function(t){if(!t.which||1===t.which){for(var e=[],n=[],r=0;r<a.length;r++)a[r]._clicked?a[r]._clicked=!1:a[r].$waiting||("cancel"===a[r]._blur&&o(a[r],t)&&e.push(a[r]),"submit"===a[r]._blur&&o(a[r],t)&&n.push(a[r]));(e.length||n.length)&&i.$apply(function(){angular.forEach(e,function(t){t.$cancel()}),angular.forEach(n,function(t){t.$submit()})})}}),i.$on("closeEdit",function(){for(var t=0;t<a.length;t++)a[t].$hide()});var s={$addEditable:function(t){this.$editables.push(t),t.elem.bind("$destroy",angular.bind(this,this.$removeEditable,t)),t.scope.$form||(t.scope.$form=this),this.$visible&&t.catchError(t.show()),t.catchError(t.setWaiting(this.$waiting))},$removeEditable:function(t){for(var e=0;e<this.$editables.length;e++)if(this.$editables[e]===t)return void this.$editables.splice(e,1)},$show:function(){if(!this.$visible){this.$visible=!0;var e=n();e.when(this.$onshow()),this.$setError(null,""),angular.forEach(this.$editables,function(t){e.when(t.show())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$activate),onFalse:angular.bind(this,this.$activate),onString:angular.bind(this,this.$activate)}),setTimeout(angular.bind(this,function(){this._clicked=!1,-1===r.indexOf(a,this)&&a.push(this)}),0)}},$activate:function(t){var e;if(this.$editables.length){if(angular.isString(t))for(e=0;e<this.$editables.length;e++)if(this.$editables[e].name===t)return void this.$editables[e].activate();for(e=0;e<this.$editables.length;e++)if(this.$editables[e].error)return void this.$editables[e].activate();this.$editables[0].activate(this.$editables[0].elem[0].selectionStart,this.$editables[0].elem[0].selectionEnd)}},$hide:function(){this.$visible&&(this.$visible=!1,this.$onhide(),angular.forEach(this.$editables,function(t){t.hide()}),r.arrayRemove(a,this))},$cancel:function(){this.$visible&&(this.$oncancel(),angular.forEach(this.$editables,function(t){t.cancel()}),this.$hide())},$setWaiting:function(e){this.$waiting=!!e,angular.forEach(this.$editables,function(t){t.setWaiting(!!e)})},$setError:function(e,n){angular.forEach(this.$editables,function(t){e&&t.name!==e||t.setError(n)})},$submit:function(){if(!this.$waiting){this.$setError(null,"");var e=n();angular.forEach(this.$editables,function(t){e.when(t.onbeforesave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,t,!0),onFalse:angular.bind(this,t,!1),onString:angular.bind(this,this.$activate)})}function t(t){var e=n();e.when(this.$onbeforesave()),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:t?angular.bind(this,this.$save):angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})}},$save:function(){angular.forEach(this.$editables,function(t){t.save()});var e=n();e.when(this.$onaftersave()),angular.forEach(this.$editables,function(t){e.when(t.onaftersave())}),e.then({onWait:angular.bind(this,this.$setWaiting),onTrue:angular.bind(this,this.$hide),onFalse:angular.bind(this,this.$hide),onString:angular.bind(this,this.$activate)})},$onshow:angular.noop,$oncancel:angular.noop,$onhide:angular.noop,$onbeforesave:angular.noop,$onaftersave:angular.noop};return function(){return angular.extend({$editables:[],$visible:!1,$waiting:!1,$data:{},_clicked:!1,_blur:null},s)}}]),angular.module("xeditable").directive("editableForm",["$rootScope","$parse","editableFormController","editableOptions",function(l,a,u,o){return{restrict:"A",require:["form"],compile:function(){return{pre:function(t,e,n,r){var i,a=r[0];n.editableForm?t[n.editableForm]&&t[n.editableForm].$show?(i=t[n.editableForm],angular.extend(a,i)):(i=u(),t[n.editableForm]=i,angular.extend(i,a)):(i=u(),angular.extend(a,i));var o=l.$$editableBuffer,s=a.$name;s&&o&&o[s]&&(angular.forEach(o[s],function(t){i.$addEditable(t)}),delete o[s])},post:function(e,t,n,r){var i;i=n.editableForm&&e[n.editableForm]&&e[n.editableForm].$show?e[n.editableForm]:r[0],n.onshow&&(i.$onshow=angular.bind(i,a(n.onshow),e)),n.onhide&&(i.$onhide=angular.bind(i,a(n.onhide),e)),n.oncancel&&(i.$oncancel=angular.bind(i,a(n.oncancel),e)),n.shown&&a(n.shown)(e)&&i.$show(),i._blur=n.blur||o.blurForm,n.ngSubmit||n.submit||(n.onbeforesave&&(i.$onbeforesave=function(){return a(n.onbeforesave)(e,{$data:i.$data})}),n.onaftersave&&(i.$onaftersave=function(){return a(n.onaftersave)(e,{$data:i.$data})}),t.bind("submit",function(t){t.preventDefault(),e.$apply(function(){i.$submit()})})),t.bind("click",function(t){t.which&&1!==t.which||i.$visible&&(i._clicked=!0)})}}}}}]),angular.module("xeditable").factory("editablePromiseCollection",["$q",function(s){return function(){return{promises:[],hasFalse:!1,hasString:!1,when:function(t,e){if(!1===t)this.hasFalse=!0;else if(!e&&angular.isObject(t))this.promises.push(s.when(t));else{if(!angular.isString(t))return;this.hasString=!0}},then:function(t){var e=(t=t||{}).onTrue||angular.noop,n=t.onFalse||angular.noop,r=t.onString||angular.noop,i=t.onWait||angular.noop,a=this;function o(){a.hasString||a.hasFalse?!a.hasString&&a.hasFalse?n():r():e()}this.promises.length?(i(!0),s.all(this.promises).then(function(t){i(!1),angular.forEach(t,function(t){a.when(t,!0)}),o()},function(t){i(!1),r()})):o()}}}}]),angular.module("xeditable").factory("editableUtils",[function(){return{indexOf:function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1},arrayRemove:function(t,e){var n=this.indexOf(t,e);return 0<=n&&t.splice(n,1),e},camelToDash:function(t){return t.replace(/[A-Z]/g,function(t,e){return(e?"-":"")+t.toLowerCase()})},dashToCamel:function(t){return t.replace(/([\:\-\_]+(.))/g,function(t,e,n,r){return r?n.toUpperCase():n}).replace(/^moz([A-Z])/,"Moz$1")}}}]),angular.module("xeditable").factory("editableNgOptionsParser",[function(){var c=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+(.*?)(?:\s+track\s+by\s+(.*?))?$/;return function(t){var e;if(!(e=t.match(c)))throw"ng-options parse error";var n,r=e[2]||e[1],i=e[4]||e[6],a=e[5],o=(e[3],e[2]?e[1]:i),s=e[7],l=e[8],u=l?e[8]:null;return void 0===a?(n=i+" in "+s,void 0!==l&&(n+=" track by "+u)):n="("+a+", "+i+") in "+s,{ngRepeat:n,locals:{valueName:i,keyName:a,valueFn:o,displayFn:r}}}}]),angular.module("xeditable").factory("editableCombodate",[function(){function n(t,e){if(this.$element=angular.element(t),"INPUT"!=this.$element[0].nodeName)throw"Combodate should be applied to INPUT element";var n=(new Date).getFullYear();this.defaults={format:"YYYY-MM-DD HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:n,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,customClass:"",roundTime:!0,smartDays:!0},this.options=angular.extend({},this.defaults,e),this.init()}return n.prototype={constructor:n,init:function(){if(this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=angular.element('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.options.smartDays){var e=this;this.$widget.find("select").bind("change",function(t){(angular.element(t.target).hasClass("month")||angular.element(t.target).hasClass("year"))&&e.fillCombo("day")})}this.$widget.find("select").css("width","auto"),this.$element.css("display","none").after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var i=this.options.template,r=this.options.customClass;return angular.forEach(this.map,function(t,e){t=t[0];var n=new RegExp(t+"+"),r=1<t.length?t.substring(1,2):t;i=i.replace(n,"{"+r+"}")}),i=i.replace(/ /g,"&nbsp;"),angular.forEach(this.map,function(t,e){var n=1<(t=t[0]).length?t.substring(1,2):t;i=i.replace("{"+n+"}",'<select class="'+e+" "+r+'"></select>')}),i},initCombos:function(){for(var t in this.map){var e=this.$widget[0].querySelectorAll("."+t);this["$"+t]=e.length?angular.element(e):null,this.fillCombo(t)}},fillCombo:function(t){var e=this["$"+t];if(e){var n=this["fill"+t.charAt(0).toUpperCase()+t.slice(1)](),r=e.val();e.html("");for(var i=0;i<n.length;i++)e.append('<option value="'+n[i][0]+'">'+n[i][1]+"</option>");e.val(r)}},fillCommon:function(t){var e,n=[];if("name"===this.options.firstItem){var r="function"==typeof(e=moment.relativeTime||moment.langData()._relativeTime)[t]?e[t](1,!0,t,!1):e[t];r=r.split(" ").reverse()[0],n.push(["",r])}else"empty"===this.options.firstItem&&n.push(["",""]);return n},fillDay:function(){var t,e,n=this.fillCommon("d"),r=-1!==this.options.template.indexOf("DD"),i=31;if(this.options.smartDays&&this.$month&&this.$year){var a=parseInt(this.$month.val(),10),o=parseInt(this.$year.val(),10);isNaN(a)||isNaN(o)||(i=moment([o,a]).daysInMonth())}for(e=1;e<=i;e++)t=r?this.leadZero(e):e,n.push([e,t]);return n},fillMonth:function(){var t,e,n=this.fillCommon("M"),r=-1!==this.options.template.indexOf("MMMM"),i=-1!==this.options.template.indexOf("MMM"),a=-1!==this.options.template.indexOf("MM");for(e=0;e<=11;e++)t=r?moment().date(1).month(e).format("MMMM"):i?moment().date(1).month(e).format("MMM"):a?this.leadZero(e+1):e+1,n.push([e,t]);return n},fillYear:function(){var t,e,n=[],r=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--)t=r?e:(e+"").substring(2),n[this.options.yearDescending?"push":"unshift"]([e,t]);return n=this.fillCommon("y").concat(n)},fillHour:function(){var t,e,n=this.fillCommon("h"),r=-1!==this.options.template.indexOf("h"),i=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),a=r?12:23;for(e=r?1:0;e<=a;e++)t=i?this.leadZero(e):e,n.push([e,t]);return n},fillMinute:function(){var t,e,n=this.fillCommon("m"),r=-1!==this.options.template.indexOf("mm");for(e=0;e<=59;e+=this.options.minuteStep)t=r?this.leadZero(e):e,n.push([e,t]);return n},fillSecond:function(){var t,e,n=this.fillCommon("s"),r=-1!==this.options.template.indexOf("ss");for(e=0;e<=59;e+=this.options.secondStep)t=r?this.leadZero(e):e,n.push([e,t]);return n},fillAmpm:function(){var t=-1!==this.options.template.indexOf("a");this.options.template.indexOf("A");return[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]},getValue:function(t){var e,r={},i=this,a=!1;return angular.forEach(this.map,function(t,e){if("ampm"!==e){var n="day"===e?1:0;return r[e]=i["$"+e]?parseInt(i["$"+e].val(),10):n,isNaN(r[e])?!(a=!0):void 0}}),a?"":(this.$ampm&&(12===r.hour?r.hour="am"===this.$ampm.val()?0:12:r.hour="am"===this.$ampm.val()?r.hour:r.hour+12),e=moment([r.year,r.month,r.day,r.hour,r.minute,r.second]),this.highlight(e),null===(t=void 0===t?this.options.format:t)?e.isValid()?e:null:e.isValid()?e.format(t):"")},setValue:function(t){if(t){var n="string"==typeof t?moment(t,this.options.format,!0):moment(t),r=this,i={};n.isValid()&&(angular.forEach(this.map,function(t,e){"ampm"!==e&&(i[e]=n[t[1]]())}),this.$ampm&&(12<=i.hour?(i.ampm="pm",12<i.hour&&(i.hour-=12)):(i.ampm="am",0===i.hour&&(i.hour=12))),angular.forEach(i,function(t,e){r["$"+e]&&("minute"===e&&1<r.options.minuteStep&&r.options.roundTime&&(t=a(r["$"+e],t)),"second"===e&&1<r.options.secondStep&&r.options.roundTime&&(t=a(r["$"+e],t)),r["$"+e].val(t))}),this.options.smartDays&&this.fillCombo("day"),this.$element.val(n.format(this.options.format)).triggerHandler("change"))}function a(t,i){var a={};return angular.forEach(t.children("option"),function(t,e){var n=angular.element(t).attr("value");if(""!==n){var r=Math.abs(n-i);(void 0===a.distance||r<a.distance)&&(a={value:n,distance:r})}}),a.value}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return t<=9?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},{getInstance:function(t,e){return new n(t,e)}}}]),angular.module("xeditable").factory("editableIcons",function(){return{default:{bs2:{ok:"icon-ok icon-white",cancel:"icon-remove"},bs3:{ok:"glyphicon glyphicon-ok",cancel:"glyphicon glyphicon-remove"}},external:{"font-awesome":{ok:"fa fa-check",cancel:"fa fa-times"}}}}),angular.module("xeditable").factory("editableThemes",function(){return{default:{formTpl:'<form class="editable-wrap"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<span class="editable-controls"></span>',inputTpl:"",errorTpl:'<div class="editable-error" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit">save</button>',cancelTpl:'<button type="button" ng-click="$form.$cancel()">cancel</button>'},bs2:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls controls control-group" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn" ng-click="$form.$cancel()"><span></span></button>'},bs3:{formTpl:'<form class="form-inline editable-wrap" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls form-group" ng-class="{\'has-error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error help-block" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="editable-buttons"></span>',submitTpl:'<button type="submit" class="btn btn-primary"><span></span></button>',cancelTpl:'<button type="button" class="btn btn-default" ng-click="$form.$cancel()"><span></span></button>',buttonsClass:"",inputClass:"",postrender:function(){switch(this.directiveName){case"editableText":case"editableSelect":case"editableTextarea":case"editableEmail":case"editableTel":case"editableNumber":case"editableUrl":case"editableSearch":case"editableDate":case"editableDatetime":case"editableBsdate":case"editableTime":case"editableMonth":case"editableWeek":case"editablePassword":if(this.inputEl.addClass("form-control"),this.theme.inputClass){if(this.inputEl.attr("multiple")&&("input-sm"===this.theme.inputClass||"input-lg"===this.theme.inputClass))break;this.inputEl.addClass(this.theme.inputClass)}break;case"editableCheckbox":this.editorEl.addClass("checkbox")}this.buttonsEl&&this.theme.buttonsClass&&this.buttonsEl.find("button").addClass(this.theme.buttonsClass)}},semantic:{formTpl:'<form class="editable-wrap ui form" ng-class="{\'error\': $error}" role="form"></form>',noformTpl:'<span class="editable-wrap"></span>',controlsTpl:'<div class="editable-controls ui fluid input" ng-class="{\'error\': $error}"></div>',inputTpl:"",errorTpl:'<div class="editable-error ui error message" ng-show="$error" ng-bind="$error"></div>',buttonsTpl:'<span class="mini ui buttons"></span>',submitTpl:'<button type="submit" class="ui primary button"><i class="ui check icon"></i></button>',cancelTpl:'<button type="button" class="ui button" ng-click="$form.$cancel()"><i class="ui cancel icon"></i></button>'}}}),angular.module("truncate",[]).filter("characters",function(){return function(t,e,n){if(isNaN(e))return t;if(e<=0)return"";if(t&&t.length>e){if(t=t.substring(0,e),n)for(;" "===t.charAt(t.length-1);)t=t.substr(0,t.length-1);else{var r=t.lastIndexOf(" ");-1!==r&&(t=t.substr(0,r))}return t+""}return t}}).filter("splitcharacters",function(){return function(t,e){return isNaN(e)?t:e<=0?"":t&&t.length>e?t.substring(0,e/2)+"..."+t.substring(t.length-e/2,t.length):t}}).filter("words",function(){return function(t,e){if(isNaN(e))return t;if(e<=0)return"";if(t){var n=t.split(/\s+/);n.length>e&&(t=n.slice(0,e).join(" ")+"")}return t}}),function(t,e){"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&"object"==typeof exports?module.exports=t():e.rangy=t()}(function(){var r="object",i="function",n="undefined",l=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],u=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],e=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],a=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function c(t,e){var n=typeof t[e];return n==i||!(n!=r||!t[e])||"unknown"==n}function o(t,e){return!(typeof t[e]!=r||!t[e])}function t(t,e){return typeof t[e]!=n}function s(r){return function(t,e){for(var n=e.length;n--;)if(!r(t,e[n]))return!1;return!0}}var d=s(c),h=s(o),f=s(t);function p(t){return t&&d(t,a)&&f(t,e)}function m(t){return o(t,"body")?t.body:t.getElementsByTagName("body")[0]}var g,v,y={},_=typeof window!=n&&typeof document!=n,b={isHostMethod:c,isHostObject:o,isHostProperty:t,areHostMethods:d,areHostObjects:h,areHostProperties:f,isTextRange:p,getBody:m,forEach:[].forEach?function(t,e){t.forEach(e)}:function(t,e){for(var n=0,r=t.length;n<r;++n)e(t[n],n)}},w={version:"1.3.0",initialized:!1,isBrowser:_,supported:!0,util:b,features:{},modules:y,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==n||rangyAutoInitialize}};function M(t){typeof console!=n&&c(console,"log")&&console.log(t)}function $(t,e){_&&e?alert(t):M(t)}function x(t){w.initialized=!0,w.supported=!1,$("Rangy is not supported in this environment. Reason: "+t,w.config.alertOnFail)}w.fail=x,w.warn=function(t){$("Rangy warning: "+t,w.config.alertOnWarn)},!{}.hasOwnProperty?x("hasOwnProperty not supported"):(b.extend=g=function(t,e,n){var r,i;for(var a in e)e.hasOwnProperty(a)&&(r=t[a],i=e[a],n&&null!==r&&"object"==typeof r&&null!==i&&"object"==typeof i&&g(r,i,!0),t[a]=i);return e.hasOwnProperty("toString")&&(t.toString=e.toString),t},b.createOptions=function(t,e){var n={};return g(n,e),t&&g(n,t),n}),_||x("Rangy can only run in a browser"),function(){var t;if(_){var e=document.createElement("div");e.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(e.childNodes,0)[0].nodeType&&(t=function(t){return n.call(t,0)})}catch(t){}}t||(t=function(t){for(var e=[],n=0,r=t.length;n<r;++n)e[n]=t[n];return e}),b.toArray=t}(),_&&(c(document,"addEventListener")?v=function(t,e,n){t.addEventListener(e,n,!1)}:c(document,"attachEvent")?v=function(t,e,n){t.attachEvent("on"+e,n)}:x("Document does not have required addEventListener or attachEvent method"),b.addListener=v);var k=[];function S(t){return t.message||t.description||String(t)}function T(){if(_&&!w.initialized){var t,e=!1,n=!1;c(document,"createRange")&&(t=document.createRange(),d(t,u)&&f(t,l)&&(e=!0));var r=m(document);if(r&&"body"==r.nodeName.toLowerCase())if(r&&c(r,"createTextRange")&&p(t=r.createTextRange())&&(n=!0),e||n){var i;for(var a in w.initialized=!0,w.features={implementsDomRange:e,implementsTextRange:n},y)(i=y[a])instanceof E&&i.init(i,w);for(var o=0,s=k.length;o<s;++o)try{k[o](w)}catch(t){M("Rangy init listener threw an exception. Continuing. Detail: "+S(t))}}else x("Neither Range nor TextRange are available");else x("No body element found")}}function L(t,e,n){n&&(t+=" in module "+n.name),w.warn("DEPRECATED: "+t+" is deprecated. Please use "+e+" instead.")}function C(t,e,n,r){t[e]=function(){return L(e,n,r),t[n].apply(t,b.toArray(arguments))}}b.deprecationNotice=L,b.createAliasForDeprecatedMethod=C,w.init=T,w.addInitListener=function(t){w.initialized?t(w):k.push(t)};var D=[];function E(t,e,n){this.name=t,this.dependencies=e,this.initialized=!1,this.supported=!1,this.initializer=n}function Y(e,t,n){var r=new E(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(w,t),t.supported=!0}catch(t){M("Module '"+e+"' failed to load: "+S(t)),t.stack&&M(t.stack)}}});return y[e]=r}function A(){}w.addShimListener=function(t){D.push(t)},_&&(w.shim=w.createMissingNativeApi=function(t){t=t||window,T();for(var e=0,n=D.length;e<n;++e)D[e](t)},C(w,"createMissingNativeApi","shim")),E.prototype={init:function(){for(var t,e,n=this.dependencies||[],r=0,i=n.length;r<i;++r){if(e=n[r],!((t=y[e])&&t instanceof E))throw new Error("required module '"+e+"' not found");if(t.init(),!t.supported)throw new Error("required module '"+e+"' not supported")}this.initializer(this)},fail:function(t){throw this.initialized=!0,this.supported=!1,new Error(t)},warn:function(t){w.warn("Module "+this.name+": "+t)},deprecationNotice:function(t,e){w.warn("DEPRECATED: "+t+" in module "+this.name+" is deprecated. Please use "+e+" instead")},createError:function(t){return new Error("Error in Rangy "+this.name+" module: "+t)}},w.createModule=function(t){var e,n;2==arguments.length?(e=arguments[1],n=[]):(e=arguments[2],n=arguments[1]);var r=Y(t,n,e);w.initialized&&w.supported&&r.init()},w.createCoreModule=function(t,e,n){Y(t,e,n)},w.RangePrototype=A,w.rangePrototype=new A,w.selectionPrototype=new function(){},w.createCoreModule("DomUtil",[],function(n,u){var r="undefined",i=n.util,o=i.getBody;i.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||u.fail("document missing a Node creation method"),i.isHostMethod(document,"getElementsByTagName")||u.fail("document missing getElementsByTagName method");var t=document.createElement("div");i.areHostMethods(t,["insertBefore","appendChild","cloneNode"])||u.fail("Incomplete Element implementation"),i.isHostProperty(t,"innerHTML")||u.fail("Element is missing innerHTML property");var e=document.createTextNode("test");i.areHostMethods(e,["splitText","deleteData","insertData","appendData","cloneNode"])||u.fail("Incomplete Text Node implementation");var a=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1};function c(t){for(var e=0;t=t.previousSibling;)++e;return e}function d(t,e){var n,r=[];for(n=t;n;n=n.parentNode)r.push(n);for(n=e;n;n=n.parentNode)if(a(r,n))return n;return null}function s(t,e,n){for(var r=n?e:e.parentNode;r;){if(r===t)return!0;r=r.parentNode}return!1}function h(t,e,n){for(var r,i=n?t:t.parentNode;i;){if((r=i.parentNode)===e)return i;i=r}return null}function l(t){var e=t.nodeType;return 3==e||4==e||8==e}function f(t,e){var n=e.nextSibling,r=e.parentNode;return n?r.insertBefore(t,n):r.appendChild(t),t}function p(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=r)return t.ownerDocument;if(typeof t.document!=r)return t.document;if(t.parentNode)return p(t.parentNode);throw u.createError("getDocument: no document found for node")}function m(t){var e=p(t);if(typeof e.defaultView!=r)return e.defaultView;if(typeof e.parentWindow!=r)return e.parentWindow;throw u.createError("Cannot get a window object for node")}function g(t){if(typeof t.contentDocument!=r)return t.contentDocument;if(typeof t.contentWindow!=r)return t.contentWindow.document;throw u.createError("getIframeDocument: No Document object found for iframe element")}function v(t){return t&&i.isHostMethod(t,"setTimeout")&&i.isHostObject(t,"document")}var y,_=!1;function b(t){try{return t.parentNode,!1}catch(t){return!0}}function w(t){if(!t)return"[No node]";if(_&&b(t))return"[Broken node]";if(l(t))return'"'+t.data+'"';if(1==t.nodeType){var e=t.id?' id="'+t.id+'"':"";return"<"+t.nodeName+e+">[index:"+c(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return t.nodeName}function M(t){this.root=t,this._next=t}function $(t,e){this.node=t,this.offset=e}function x(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}!function(){var t=document.createElement("b");t.innerHTML="1";var e=t.firstChild;t.innerHTML="<br />",_=b(e),n.features.crashyTextNodes=_}(),typeof window.getComputedStyle!=r?y=function(t,e){return m(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=r?y=function(t,e){return t.currentStyle?t.currentStyle[e]:""}:u.fail("No means of obtaining computed style properties found"),M.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,n=this._current=this._next;if(this._current)if(t=n.firstChild)this._next=t;else{for(e=null;n!==this.root&&!(e=n.nextSibling);)n=n.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},$.prototype={equals:function(t){return!!t&&this.node===t.node&&this.offset==t.offset},inspect:function(){return"[DomPosition("+w(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},(x.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24}).toString=function(){return this.message},n.dom={arrayContains:a,isHtmlNamespace:function(t){var e;return typeof t.namespaceURI==r||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e},parentElement:function(t){var e=t.parentNode;return 1==e.nodeType?e:null},getNodeIndex:c,getNodeLength:function(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}},getCommonAncestor:d,isAncestorOf:s,isOrIsAncestorOf:function(t,e){return s(t,e,!0)},getClosestAncestorIn:h,isCharacterDataNode:l,isTextOrCommentNode:function(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e},insertAfter:f,splitDataNode:function(t,e,n){var r=t.cloneNode(!1);if(r.deleteData(0,e),t.deleteData(e,t.length-e),f(r,t),n)for(var i,a=0;i=n[a++];)i.node==t&&i.offset>e?(i.node=r,i.offset-=e):i.node==t.parentNode&&i.offset>c(t)&&++i.offset;return r},getDocument:p,getWindow:m,getIframeWindow:function(t){if(typeof t.contentWindow!=r)return t.contentWindow;if(typeof t.contentDocument!=r)return t.contentDocument.defaultView;throw u.createError("getIframeWindow: No Window object found for iframe element")},getIframeDocument:g,getBody:o,isWindow:v,getContentDocument:function(t,e,n){var r;if(t?i.isHostProperty(t,"nodeType")?r=1==t.nodeType&&"iframe"==t.tagName.toLowerCase()?g(t):p(t):v(t)&&(r=t.document):r=document,!r)throw e.createError(n+"(): Parameter must be a Window object or DOM node");return r},getRootContainer:function(t){for(var e;e=t.parentNode;)t=e;return t},comparePoints:function(t,e,n,r){var i,a,o,s,l;if(t==n)return e===r?0:e<r?-1:1;if(i=h(n,t,!0))return e<=c(i)?-1:1;if(i=h(t,n,!0))return c(i)<r?-1:1;if(!(a=d(t,n)))throw new Error("comparePoints error: nodes have no common ancestor");if((o=t===a?a:h(t,a,!0))===(s=n===a?a:h(n,a,!0)))throw u.createError("comparePoints got to case 4 and childA and childB are the same!");for(l=a.firstChild;l;){if(l===o)return-1;if(l===s)return 1;l=l.nextSibling}},isBrokenNode:b,inspectNode:w,getComputedStyleProperty:y,createTestElement:function(t,e,n){var r=o(t),i=t.createElement("div");i.contentEditable=""+!!n,e&&(i.innerHTML=e);var a=r.firstChild;return a?r.insertBefore(i,a):r.appendChild(i),i},removeNode:function(t){return t.parentNode.removeChild(t)},fragmentFromNodeChildren:function(t){for(var e,n=p(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n},createIterator:function(t){return new M(t)},DomPosition:$},n.DOMException=x}),w.createCoreModule("DomRange",["DomUtil"],function(o,t){var s=o.dom,r=o.util,e=s.DomPosition,l=o.DOMException,d=s.isCharacterDataNode,h=s.getNodeIndex,u=s.isOrIsAncestorOf,i=s.getDocument,f=s.comparePoints,c=s.splitDataNode,p=s.getClosestAncestorIn,m=s.getNodeLength,a=s.arrayContains,g=s.getRootContainer,n=o.features.crashyTextNodes,v=s.removeNode;function y(t,e){return 3!=t.nodeType&&(u(t,e.startContainer)||u(t,e.endContainer))}function _(t){return t.document||i(t.startContainer)}function b(t){return new e(t.parentNode,h(t))}function w(t){return new e(t.parentNode,h(t)+1)}function M(t,e,n){var r=11==t.nodeType?t.firstChild:t;return d(e)?n==e.length?s.insertAfter(t,e):e.parentNode.insertBefore(t,0==n?e:c(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),r}function $(t,e,n){if(U(t),U(e),_(e)!=_(t))throw new l("WRONG_DOCUMENT_ERR");var r=f(t.startContainer,t.startOffset,e.endContainer,e.endOffset),i=f(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return n?r<=0&&0<=i:r<0&&0<i}function x(t,e,n){var r,i,a,o;for(n=n||{stop:!1};a=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(a))return void(n.stop=!0);if(x(o=t.getSubtreeIterator(),e,n),o.detach(),n.stop)return}else for(r=s.createIterator(a);i=r.next();)if(!1===e(i))return void(n.stop=!0)}function k(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(k(e=t.getSubtreeIterator()),e.detach()):t.remove()}function S(t){for(var e,n,r=_(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),n=t.getSubtreeIterator(),e.appendChild(S(n)),n.detach()):t.remove(),10==e.nodeType)throw new l("HIERARCHY_REQUEST_ERR");r.appendChild(e)}return r}function T(t){return"["+(void 0===t.getName?"Range":t.getName())+"("+s.inspectNode(t.startContainer)+":"+t.startOffset+", "+s.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function L(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&d(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||d(this.sc)?p(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||d(this.ec)?p(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}L.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,d(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!d(n)||n!==this.sc&&n!==this.ec?n.parentNode&&v(n):(t=n===this.sc?this.so:0)!=(e=n===this.ec?this.eo:n.length)&&n.deleteData(t,e-t)},isPartiallySelectedSubtree:function(){return y(this._current,this.range)},getSubtreeIterator:function(){var t;if(this.isSingleCharacterDataNode)(t=this.range.cloneRange()).collapse(!1);else{t=new ht(_(this.range));var e=this._current,n=e,r=0,i=e,a=m(e);u(e,this.sc)&&(n=this.sc,r=this.so),u(e,this.ec)&&(i=this.ec,a=this.eo),dt(t,n,r,i,a)}return new L(t,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var C=[1,3,4,5,7,8,10],D=[2,9,11],E=[1,3,4,5,7,8,10,11],Y=[1,3,4,5,7,8];function A(i){return function(t,e){for(var n,r=e?t:t.parentNode;r;){if(n=r.nodeType,a(i,n))return r;r=r.parentNode}return null}}var N=A([9,11]),O=A([5,6,10,12]),R=A([6,10,12]);function H(t,e){if(R(t,e))throw new l("INVALID_NODE_TYPE_ERR")}function P(t,e){if(!a(e,t.nodeType))throw new l("INVALID_NODE_TYPE_ERR")}function j(t,e){if(e<0||e>(d(t)?t.length:t.childNodes.length))throw new l("INDEX_SIZE_ERR")}function F(t,e){if(N(t,!0)!==N(e,!0))throw new l("WRONG_DOCUMENT_ERR")}function I(t){if(O(t,!0))throw new l("NO_MODIFICATION_ALLOWED_ERR")}function z(t,e){if(!t)throw new l(e)}function B(t,e){return e<=(d(t)?t.length:t.childNodes.length)}function W(t){return!!t.startContainer&&!!t.endContainer&&!(n&&(s.isBrokenNode(t.startContainer)||s.isBrokenNode(t.endContainer)))&&g(t.startContainer)==g(t.endContainer)&&B(t.startContainer,t.startOffset)&&B(t.endContainer,t.endOffset)}function U(t){if(!W(t))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+t.inspect()+")")}var q=document.createElement("style"),V=!1;try{q.innerHTML="<b>x</b>",V=3==q.firstChild.nodeType}catch(t){}var G=(o.features.htmlParsingConforms=V)?function(t){var e=this.startContainer,n=i(e);if(!e)throw new l("INVALID_STATE_ERR");var r=null;return 1==e.nodeType?r=e:d(e)&&(r=s.parentElement(e)),(r=null===r||"HTML"==r.nodeName&&s.isHtmlNamespace(i(r).documentElement)&&s.isHtmlNamespace(r)?n.createElement("body"):r.cloneNode(!1)).innerHTML=t,s.fragmentFromNodeChildren(r)}:function(t){var e=_(this).createElement("body");return e.innerHTML=t,s.fragmentFromNodeChildren(e)};function K(t,e){U(t);var n=t.startContainer,r=t.startOffset,i=t.endContainer,a=t.endOffset,o=n===i;d(i)&&0<a&&a<i.length&&c(i,a,e),d(n)&&0<r&&r<n.length&&(n=c(n,r,e),o?(a-=r,i=n):i==n.parentNode&&a>=h(n)&&a++,r=0),t.setStartAndEnd(n,r,i,a)}function J(t){U(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}var X=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Z=0,Q=1,tt=2,et=3,nt=0,rt=1,it=2,at=3;function ot(t){t.START_TO_START=Z,t.START_TO_END=Q,t.END_TO_END=tt,t.END_TO_START=et,t.NODE_BEFORE=nt,t.NODE_AFTER=rt,t.NODE_BEFORE_AND_AFTER=it,t.NODE_INSIDE=at}function st(t){ot(t),ot(t.prototype)}function lt(o,s){return function(){U(this);var t,e=this.startContainer,n=this.startOffset,r=this.commonAncestorContainer,i=new L(this,!0);e!==r&&(e=(t=w(p(e,r,!0))).node,n=t.offset),x(i,I),i.reset();var a=o(i);return i.detach(),s(this,e,n,e,n),a}}function ut(t,c){function e(n,r){return function(t){P(t,C),P(g(t),D);var e=(n?b:w)(t);(r?i:a)(this,e.node,e.offset)}}function i(t,e,n){var r=t.endContainer,i=t.endOffset;e===t.startContainer&&n===t.startOffset||(g(e)==g(r)&&1!=f(e,n,r,i)||(r=e,i=n),c(t,e,n,r,i))}function a(t,e,n){var r=t.startContainer,i=t.startOffset;e===t.endContainer&&n===t.endOffset||(g(e)==g(r)&&-1!=f(e,n,r,i)||(r=e,i=n),c(t,r,i,e,n))}var n=function(){};n.prototype=o.rangePrototype,t.prototype=new n,r.extend(t.prototype,{setStart:function(t,e){H(t,!0),j(t,e),i(this,t,e)},setEnd:function(t,e){H(t,!0),j(t,e),a(this,t,e)},setStartAndEnd:function(){var t=arguments,e=t[0],n=t[1],r=e,i=n;switch(t.length){case 3:i=t[2];break;case 4:r=t[2],i=t[3]}c(this,e,n,r,i)},setBoundary:function(t,e,n){this["set"+(n?"Start":"End")](t,e)},setStartBefore:e(!0,!0),setStartAfter:e(!1,!0),setEndBefore:e(!0,!1),setEndAfter:e(!1,!1),collapse:function(t){U(this),t?c(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):c(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){H(t,!0),c(this,t,0,t,m(t))},selectNode:function(t){H(t,!1),P(t,C);var e=b(t),n=w(t);c(this,e.node,e.offset,n.node,n.offset)},extractContents:lt(S,c),deleteContents:lt(k,c),canSurroundContents:function(){U(this),I(this.startContainer),I(this.endContainer);var t=new L(this,!0),e=t._first&&y(t._first,this)||t._last&&y(t._last,this);return t.detach(),!e},splitBoundaries:function(){K(this)},splitBoundariesPreservingPositions:function(t){K(this,t)},normalizeBoundaries:function(){U(this);var t,i=this.startContainer,a=this.startOffset,o=this.endContainer,s=this.endOffset,e=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(s=(o=t).length,t.appendData(e.data),v(e))},n=function(t){var e=t.previousSibling;if(e&&e.nodeType==t.nodeType){var n=(i=t).length;if(a=e.length,t.insertData(0,e.data),v(e),i==o)s+=a,o=i;else if(o==t.parentNode){var r=h(t);s==r?(o=t,s=n):r<s&&s--}}},r=!0;if(d(o))s==o.length?e(o):0==s&&(t=o.previousSibling)&&t.nodeType==o.nodeType&&(s=t.length,i==o&&(r=!1),t.appendData(o.data),v(o),o=t);else{if(0<s){var l=o.childNodes[s-1];l&&d(l)&&e(l)}r=!this.collapsed}if(r){if(d(i))0==a?n(i):a==i.length&&(t=i.nextSibling)&&t.nodeType==i.nodeType&&(o==t&&(s+=(o=i).length),i.appendData(t.data),v(t));else if(a<i.childNodes.length){var u=i.childNodes[a];u&&d(u)&&n(u)}}else i=o,a=s;c(this,i,a,o,s)},collapseToPoint:function(t,e){H(t,!0),j(t,e),this.setStartAndEnd(t,e)}}),st(t)}function ct(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:s.getCommonAncestor(t.startContainer,t.endContainer)}function dt(t,e,n,r,i){t.startContainer=e,t.startOffset=n,t.endContainer=r,t.endOffset=i,t.document=s.getDocument(e),ct(t)}function ht(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this.document=t,ct(this)}r.extend(o.rangePrototype,{compareBoundaryPoints:function(t,e){var n,r,i,a;U(this),F(this.startContainer,e.startContainer);var o=t==et||t==Z?"start":"end",s=t==Q||t==Z?"start":"end";return n=this[o+"Container"],r=this[o+"Offset"],i=e[s+"Container"],a=e[s+"Offset"],f(n,r,i,a)},insertNode:function(t){if(U(this),P(t,E),I(this.startContainer),u(t,this.startContainer))throw new l("HIERARCHY_REQUEST_ERR");var e=M(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){var t,e;if(U(this),this.collapsed)return _(this).createDocumentFragment();if(this.startContainer===this.endContainer&&d(this.startContainer))return(t=this.startContainer.cloneNode(!0)).data=t.data.slice(this.startOffset,this.endOffset),(e=_(this).createDocumentFragment()).appendChild(t),e;var n=new L(this,!0);return t=function t(e){for(var n,r,i,a=_(e.range).createDocumentFragment();r=e.next();){if(n=e.isPartiallySelectedSubtree(),r=r.cloneNode(!n),n&&(i=e.getSubtreeIterator(),r.appendChild(t(i)),i.detach()),10==r.nodeType)throw new l("HIERARCHY_REQUEST_ERR");a.appendChild(r)}return a}(n),n.detach(),t},canSurroundContents:function(){U(this),I(this.startContainer),I(this.endContainer);var t=new L(this,!0),e=t._first&&y(t._first,this)||t._last&&y(t._last,this);return t.detach(),!e},surroundContents:function(t){if(P(t,Y),!this.canSurroundContents())throw new l("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);M(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){U(this);for(var t,e=new ht(_(this)),n=X.length;n--;)e[t=X[n]]=this[t];return e},toString:function(){U(this);var t=this.startContainer;if(t===this.endContainer&&d(t))return 3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"";var e=[],n=new L(this,!0);return x(n,function(t){3!=t.nodeType&&4!=t.nodeType||e.push(t.data)}),n.detach(),e.join("")},compareNode:function(t){U(this);var e=t.parentNode,n=h(t);if(!e)throw new l("NOT_FOUND_ERR");var r=this.comparePoint(e,n),i=this.comparePoint(e,n+1);return r<0?0<i?it:nt:0<i?rt:at},comparePoint:function(t,e){return U(this),z(t,"HIERARCHY_REQUEST_ERR"),F(t,this.startContainer),f(t,e,this.startContainer,this.startOffset)<0?-1:0<f(t,e,this.endContainer,this.endOffset)?1:0},createContextualFragment:G,toHtml:function(){return J(this)},intersectsNode:function(t,e){if(U(this),g(t)!=g(this.startContainer))return!1;var n=t.parentNode,r=h(t);if(!n)return!0;var i=f(n,r,this.endContainer,this.endOffset),a=f(n,r+1,this.startContainer,this.startOffset);return e?i<=0&&0<=a:i<0&&0<a},isPointInRange:function(t,e){return U(this),z(t,"HIERARCHY_REQUEST_ERR"),F(t,this.startContainer),0<=f(t,e,this.startContainer,this.startOffset)&&f(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t){return $(this,t,!1)},intersectsOrTouchesRange:function(t){return $(this,t,!0)},intersection:function(t){if(this.intersectsRange(t)){var e=f(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=f(this.endContainer,this.endOffset,t.endContainer,t.endOffset),r=this.cloneRange();return-1==e&&r.setStart(t.startContainer,t.startOffset),1==n&&r.setEnd(t.endContainer,t.endOffset),r}return null},union:function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==f(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==f(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new l("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==at},containsNodeContents:function(t){return 0<=this.comparePoint(t,0)&&this.comparePoint(t,m(t))<=0},containsRange:function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},containsNodeText:function(t){var e=this.cloneRange();e.selectNode(t);var n=e.getNodes([3]);if(0<n.length){e.setStart(n[0],0);var r=n.pop();return e.setEnd(r,r.length),this.containsRange(e)}return this.containsNodeContents(t)},getNodes:function(t,e){return U(this),function(r,t,i){var a,o=!(!t||!t.length),s=!!i;o&&(a=new RegExp("^("+t.join("|")+")$"));var l=[];return x(new L(r,!1),function(t){if((!o||a.test(t.nodeType))&&(!s||i(t))){var e=r.startContainer;if(t!=e||!d(e)||r.startOffset!=e.length){var n=r.endContainer;t==n&&d(n)&&0==r.endOffset||l.push(t)}}}),l}(this,t,e)},getDocument:function(){return _(this)},collapseBefore:function(t){this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){this.setStartAfter(t),this.collapse(!0)},getBookmark:function(t){var e=_(this),n=o.createRange(e);t=t||s.getBody(e),n.selectNodeContents(t);var r=this.intersection(n),i=0,a=0;return r&&(n.setEnd(r.startContainer,r.startOffset),a=(i=n.toString().length)+r.toString().length),{start:i,end:a,containerNode:t}},moveToBookmark:function(t){var e=t.containerNode,n=0;this.setStart(e,0),this.collapse(!0);for(var r,i,a,o,s=[e],l=!1,u=!1;!u&&(r=s.pop());)if(3==r.nodeType)i=n+r.length,!l&&t.start>=n&&t.start<=i&&(this.setStart(r,t.start-n),l=!0),l&&t.end>=n&&t.end<=i&&(this.setEnd(r,t.end-n),u=!0),n=i;else for(a=(o=r.childNodes).length;a--;)s.push(o[a])},getName:function(){return"DomRange"},equals:function(t){return ht.rangesEqual(this,t)},isValid:function(){return W(this)},inspect:function(){return T(this)},detach:function(){}}),ut(ht,dt),r.extend(ht,{rangeProperties:X,RangeIterator:L,copyComparisonConstants:st,createPrototypeRange:ut,inspect:T,toHtml:J,getRangeDocument:_,rangesEqual:function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}}),o.DomRange=ht}),w.createCoreModule("WrappedRange",["DomRange"],function(c,d){var h,t,M=c.dom,f=c.util,$=M.DomPosition,p=c.DomRange,m=M.getBody,g=M.getContentDocument,x=M.isCharacterDataNode;if(c.features.implementsDomRange&&function(){var e,n,r=p.rangeProperties;function i(t){for(var e,n=r.length;n--;)t[e=r[n]]=t.nativeRange[e];t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}h=function(t){if(!t)throw d.createError("WrappedRange: Range must be specified");this.nativeRange=t,i(this)},p.createPrototypeRange(h,function(t,e,n,r,i){var a=t.startContainer!==e||t.startOffset!=n,o=t.endContainer!==r||t.endOffset!=i,s=!t.equals(t.nativeRange);(a||o||s)&&(t.setEnd(r,i),t.setStart(e,n))}),(e=h.prototype).selectNode=function(t){this.nativeRange.selectNode(t),i(this)},e.cloneContents=function(){return this.nativeRange.cloneContents()},e.surroundContents=function(t){this.nativeRange.surroundContents(t),i(this)},e.collapse=function(t){this.nativeRange.collapse(t),i(this)},e.cloneRange=function(){return new h(this.nativeRange.cloneRange())},e.refresh=function(){i(this)},e.toString=function(){return this.nativeRange.toString()};var t=document.createTextNode("test");m(document).appendChild(t);var a=document.createRange();a.setStart(t,0),a.setEnd(t,0);try{a.setStart(t,1),e.setStart=function(t,e){this.nativeRange.setStart(t,e),i(this)},e.setEnd=function(t,e){this.nativeRange.setEnd(t,e),i(this)},n=function(e){return function(t){this.nativeRange[e](t),i(this)}}}catch(t){e.setStart=function(e,n){try{this.nativeRange.setStart(e,n)}catch(t){this.nativeRange.setEnd(e,n),this.nativeRange.setStart(e,n)}i(this)},e.setEnd=function(e,n){try{this.nativeRange.setEnd(e,n)}catch(t){this.nativeRange.setStart(e,n),this.nativeRange.setEnd(e,n)}i(this)},n=function(n,r){return function(e){try{this.nativeRange[n](e)}catch(t){this.nativeRange[r](e),this.nativeRange[n](e)}i(this)}}}e.setStartBefore=n("setStartBefore","setEndBefore"),e.setStartAfter=n("setStartAfter","setEndAfter"),e.setEndBefore=n("setEndBefore","setStartBefore"),e.setEndAfter=n("setEndAfter","setStartAfter"),e.selectNodeContents=function(t){this.setStartAndEnd(t,0,M.getNodeLength(t))},a.selectNodeContents(t),a.setEnd(t,3);var o=document.createRange();o.selectNodeContents(t),o.setEnd(t,4),o.setStart(t,2),-1==a.compareBoundaryPoints(a.START_TO_END,o)&&1==a.compareBoundaryPoints(a.END_TO_START,o)?e.compareBoundaryPoints=function(t,e){return t==(e=e.nativeRange||e).START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:e.compareBoundaryPoints=function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)};var s=document.createElement("div");s.innerHTML="123";var l=s.firstChild,u=m(document);u.appendChild(s),a.setStart(l,1),a.setEnd(l,2),a.deleteContents(),"13"==l.data&&(e.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},e.extractContents=function(){var t=this.nativeRange.extractContents();return i(this),t}),u.removeChild(s),u=null,f.isHostMethod(a,"createContextualFragment")&&(e.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),m(document).removeChild(t),e.getName=function(){return"WrappedRange"},c.WrappedRange=h,c.createNativeRange=function(t){return(t=g(t,d,"createNativeRange")).createRange()}}(),c.features.implementsTextRange){var a=function(t,e,n,r,i){var a=t.duplicate();a.collapse(n);var o=a.parentElement();if(M.isOrIsAncestorOf(e,o)||(o=e),!o.canHaveHTML){var s=new $(o.parentNode,M.getNodeIndex(o));return{boundaryPosition:s,nodeInfo:{nodeIndex:s.offset,containerElement:s.node}}}var l=M.getDocument(o).createElement("span");l.parentNode&&M.removeNode(l);for(var u,c,d,h,f,p=n?"StartToStart":"StartToEnd",m=i&&i.containerElement==o?i.nodeIndex:0,g=o.childNodes.length,v=g,y=v;y==g?o.appendChild(l):o.insertBefore(l,o.childNodes[y]),a.moveToElementText(l),0!=(u=a.compareEndPoints(p,t))&&m!=v;){if(-1==u){if(v==m+1)break;m=y}else v=v==m+1?m:y;y=Math.floor((m+v)/2),o.removeChild(l)}if(f=l.nextSibling,-1==u&&f&&x(f)){var _;if(a.setEndPoint(n?"EndToStart":"EndToEnd",t),/[\r\n]/.test(f.data)){var b=a.duplicate(),w=b.text.replace(/\r\n/g,"\r").length;for(_=b.moveStart("character",w);-1==(u=b.compareEndPoints("StartToEnd",b));)_++,b.moveStart("character",1)}else _=a.text.length;h=new $(f,_)}else c=(r||!n)&&l.previousSibling,h=(d=(r||n)&&l.nextSibling)&&x(d)?new $(d,0):c&&x(c)?new $(c,c.data.length):new $(o,M.getNodeIndex(l));return M.removeNode(l),{boundaryPosition:h,nodeInfo:{nodeIndex:y,containerElement:o}}},i=function(t,e){var n,r,i,a,o=t.offset,s=M.getDocument(t.node),l=m(s).createTextRange(),u=x(t.node);return u?r=(n=t.node).parentNode:(n=o<(a=t.node.childNodes).length?a[o]:null,r=t.node),(i=s.createElement("span")).innerHTML="&#feff;",n?r.insertBefore(i,n):r.appendChild(i),l.moveToElementText(i),l.collapse(!e),r.removeChild(i),u&&l[e?"moveStart":"moveEnd"]("character",o),l};((t=function(t){this.textRange=t,this.refresh()}).prototype=new p(document)).refresh=function(){var t,e,n,r,i=function(t){var e=t.parentElement(),n=t.duplicate();n.collapse(!0);var r=n.parentElement();(n=t.duplicate()).collapse(!1);var i=n.parentElement(),a=r==i?r:M.getCommonAncestor(r,i);return a==e?a:M.getCommonAncestor(e,a)}(this.textRange);0==(r=this.textRange).compareEndPoints("StartToEnd",r)?e=t=a(this.textRange,i,!0,!0).boundaryPosition:(t=(n=a(this.textRange,i,!0,!1)).boundaryPosition,e=a(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(t.node,t.offset),this.setEnd(e.node,e.offset)},t.prototype.getName=function(){return"WrappedTextRange"},p.copyComparisonConstants(t);var e=function(t){if(t.collapsed)return i(new $(t.startContainer,t.startOffset),!0);var e=i(new $(t.startContainer,t.startOffset),!0),n=i(new $(t.endContainer,t.endOffset),!1),r=m(p.getRangeDocument(t)).createTextRange();return r.setEndPoint("StartToStart",e),r.setEndPoint("EndToEnd",n),r};if(t.rangeToTextRange=e,t.prototype.toTextRange=function(){return e(this)},c.WrappedTextRange=t,!c.features.implementsDomRange||c.config.preferTextRange){var n=Function("return this;")();void 0===n.Range&&(n.Range=t),c.createNativeRange=function(t){return t=g(t,d,"createNativeRange"),m(t).createTextRange()},c.WrappedRange=t}}c.createRange=function(t){return t=g(t,d,"createRange"),new c.WrappedRange(c.createNativeRange(t))},c.createRangyRange=function(t){return t=g(t,d,"createRangyRange"),new p(t)},f.createAliasForDeprecatedMethod(c,"createIframeRange","createRange"),f.createAliasForDeprecatedMethod(c,"createIframeRangyRange","createRangyRange"),c.addShimListener(function(t){var e=t.document;void 0===e.createRange&&(e.createRange=function(){return c.createRange(e)}),e=t=null})}),w.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(d,l){d.config.checkSelectionRanges=!0;var i,a,t="number",h=d.dom,e=d.util,n=e.isHostMethod,s=d.DomRange,o=d.WrappedRange,r=d.DOMException,u=h.DomPosition,c=d.features,f="Control",p=h.getDocument,m=h.getBody,g=s.rangesEqual;function v(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function y(t,e){if(t){if(h.isWindow(t))return t;if(t instanceof W)return t.win;var n=h.getContentDocument(t,l,e);return h.getWindow(n)}return window}function _(t){return y(t,"getDocSelection").document.selection}function b(t){var e=!1;return t.anchorNode&&(e=1==h.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e}var w=n(window,"getSelection"),M=e.isHostObject(document,"selection");c.implementsWinGetSelection=w;var $=(c.implementsDocSelection=M)&&(!w||d.config.preferTextRange);if($)i=_,d.isSelectionValid=function(t){var e=y(t,"isSelectionValid").document,n=e.selection;return"None"!=n.type||p(n.createRange().parentElement())==e};else{if(!w)return l.fail("Neither document.selection or window.getSelection() detected."),!1;i=function(t){return y(t,"getWinSelection").getSelection()},d.isSelectionValid=function(){return!0}}var x=(d.getNativeSelection=i)();if(!x)return l.fail("Native selection was null (possibly issue 138?)"),!1;var k=d.createNativeRange(document),S=m(document),T=e.areHostProperties(x,["anchorNode","focusNode","anchorOffset","focusOffset"]);c.selectionHasAnchorAndFocus=T;var L=n(x,"extend");c.selectionHasExtend=L;var C=typeof x.rangeCount==t;c.selectionHasRangeCount=C;var D=!1,E=!0,Y=L?function(t,e){var n=s.getRangeDocument(e),r=d.createRange(n);r.collapseToPoint(e.endContainer,e.endOffset),t.addRange(P(r)),t.extend(e.startContainer,e.startOffset)}:null;e.areHostMethods(x,["addRange","getRangeAt","removeAllRanges"])&&typeof x.rangeCount==t&&c.implementsDomRange&&function(){var t=window.getSelection();if(t){for(var e=t.rangeCount,n=1<e,r=[],i=b(t),a=0;a<e;++a)r[a]=t.getRangeAt(a);var o=h.createTestElement(document,"",!1),s=o.appendChild(document.createTextNode("")),l=document.createRange();if(l.setStart(s,1),l.collapse(!0),t.removeAllRanges(),t.addRange(l),E=1==t.rangeCount,t.removeAllRanges(),!n){var u=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(u&&36<=parseInt(u[1]))D=!1;else{var c=l.cloneRange();l.setStart(s,0),c.setEnd(s,3),c.setStart(s,2),t.addRange(l),t.addRange(c),D=2==t.rangeCount}}for(h.removeNode(o),t.removeAllRanges(),a=0;a<e;++a)0==a&&i?Y?Y(t,r[a]):(d.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(r[a])):t.addRange(r[a])}}(),c.selectionSupportsMultipleRanges=D,c.collapsedNonEditableSelectionsSupported=E;var A,N,O=!1;function R(t,e,n){var r=n?"end":"start",i=n?"start":"end";t.anchorNode=e[r+"Container"],t.anchorOffset=e[r+"Offset"],t.focusNode=e[i+"Container"],t.focusOffset=e[i+"Offset"]}function H(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function P(t){var e;return t instanceof s?((e=d.createNativeRange(t.getDocument())).setEnd(t.endContainer,t.endOffset),e.setStart(t.startContainer,t.startOffset)):t instanceof o?e=t.nativeRange:c.implementsDomRange&&t instanceof h.getWindow(t.startContainer).Range&&(e=t),e}function j(t){var e=t.getNodes();if(!function(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,n=t.length;e<n;++e)if(!h.isAncestorOf(t[0],t[e]))return!1;return!0}(e))throw l.createError("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return e[0]}function F(t){return!!t&&void 0!==t.text}function I(t,e){var n=new o(e);t._ranges=[n],R(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function z(t){if(t._ranges.length=0,"None"==t.docSelection.type)H(t);else{var e=t.docSelection.createRange();if(F(e))I(t,e);else{t.rangeCount=e.length;for(var n,r=p(e.item(0)),i=0;i<t.rangeCount;++i)(n=d.createRange(r)).selectNode(e.item(i)),t._ranges.push(n);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,R(t,t._ranges[t.rangeCount-1],!1)}}}function B(t,e){for(var n=t.docSelection.createRange(),r=j(e),i=p(n.item(0)),a=m(i).createControlRange(),o=0,s=n.length;o<s;++o)a.add(n.item(o));try{a.add(r)}catch(t){throw l.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),z(t)}function W(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function U(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}S&&n(S,"createControlRange")&&(A=S.createControlRange(),e.areHostProperties(A,["item","add"])&&(O=!0)),c.implementsControlRange=O,a=T?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed},n(x,"getRangeAt")?N=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:T&&(N=function(t){var e=p(t.anchorNode),n=d.createRange(e);return n.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),n.collapsed!==this.isCollapsed&&n.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),n}),W.prototype=d.selectionPrototype;var q=[];function V(t,e){for(var n,r,i=q.length;i--;)if(r=(n=q[i]).selection,"deleteAll"==e)U(r);else if(n.win==t)return"delete"==e?(q.splice(i,1),!0):r;return"deleteAll"==e&&(q.length=0),null}var G=function(t){if(t&&t instanceof W)return t.refresh(),t;var e=V(t=y(t,"getNativeSelection")),n=i(t),r=M?_(t):null;return e?(e.nativeSelection=n,e.docSelection=r,e.refresh()):(e=new W(n,r,t),q.push({win:t,selection:e})),e};d.getSelection=G,e.createAliasForDeprecatedMethod(d,"getIframeSelection","getSelection");var K,J=W.prototype;function X(t,e){for(var n,r=p(e[0].startContainer),i=m(r).createControlRange(),a=0,o=e.length;a<o;++a){n=j(e[a]);try{i.add(n)}catch(t){throw l.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select(),z(t)}if(!$&&T&&e.areHostMethods(x,["removeAllRanges","addRange"])){J.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),H(this)};var Z=function(t,e){Y(t.nativeSelection,e),t.refresh()};J.addRange=C?function(t,e){if(O&&M&&this.docSelection.type==f)B(this,t);else if(v(e)&&L)Z(this,t);else{var n;D?n=this.rangeCount:(this.removeAllRanges(),n=0);var r=P(t).cloneRange();try{this.nativeSelection.addRange(r)}catch(t){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==n+1){if(d.config.checkSelectionRanges){var i=N(this.nativeSelection,this.rangeCount-1);i&&!g(i,t)&&(t=new o(i))}this._ranges[this.rangeCount-1]=t,R(this,t,Q(this.nativeSelection)),this.isCollapsed=a(this)}else this.refresh()}}:function(t,e){v(e)&&L?Z(this,t):(this.nativeSelection.addRange(P(t)),this.refresh())},J.setRanges=function(t){if(O&&M&&1<t.length)X(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;e<n;++e)this.addRange(t[e])}}}else{if(!(n(x,"empty")&&n(k,"select")&&O&&$))return l.fail("No means of selecting a Range or TextRange was found"),!1;J.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var t;if(this.anchorNode)t=p(this.anchorNode);else if(this.docSelection.type==f){var e=this.docSelection.createRange();e.length&&(t=p(e.item(0)))}if(t)m(t).createTextRange().select(),this.docSelection.empty()}}catch(t){}H(this)},J.addRange=function(t){this.docSelection.type==f?B(this,t):(d.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,R(this,t,!1))},J.setRanges=function(t){this.removeAllRanges();var e=t.length;1<e?X(this,t):e&&this.addRange(t[0])}}if(J.getRangeAt=function(t){if(t<0||t>=this.rangeCount)throw new r("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()},$)K=function(t){var e;d.isSelectionValid(t.win)?e=t.docSelection.createRange():(e=m(t.win.document).createTextRange()).collapse(!0),t.docSelection.type==f?z(t):F(e)?I(t,e):H(t)};else if(n(x,"getRangeAt")&&typeof x.rangeCount==t)K=function(t){if(O&&M&&t.docSelection.type==f)z(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var e=0,n=t.rangeCount;e<n;++e)t._ranges[e]=new d.WrappedRange(t.nativeSelection.getRangeAt(e));R(t,t._ranges[t.rangeCount-1],Q(t.nativeSelection)),t.isCollapsed=a(t)}else H(t)};else{if(!T||"boolean"!=typeof x.isCollapsed||"boolean"!=typeof k.collapsed||!c.implementsDomRange)return l.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;K=function(t){var e,n,r,i=t.nativeSelection;i.anchorNode?(e=N(i,0),t._ranges=[e],t.rangeCount=1,r=(n=t).nativeSelection,n.anchorNode=r.anchorNode,n.anchorOffset=r.anchorOffset,n.focusNode=r.focusNode,n.focusOffset=r.focusOffset,t.isCollapsed=a(t)):H(t)}}J.refresh=function(t){var e=t?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(K(this),t){var i=e.length;if(i!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;i--;)if(!g(e[i],this._ranges[i]))return!0;return!1}};var Q,tt=function(t,e){var n=t.getAllRanges();t.removeAllRanges();for(var r=0,i=n.length;r<i;++r)g(e,n[r])||t.addRange(n[r]);t.rangeCount||H(t)};function et(t,e){if(t.win.document!=p(e))throw new r("WRONG_DOCUMENT_ERR")}function nt(r){return function(t,e){var n;this.rangeCount?(n=this.getRangeAt(0))["set"+(r?"Start":"End")](t,e):(n=d.createRange(this.win.document)).setStartAndEnd(t,e),this.setSingleRange(n,this.isBackward())}}function rt(t){var e=[],n=new u(t.anchorNode,t.anchorOffset),r=new u(t.focusNode,t.focusOffset),i="function"==typeof t.getName?t.getName():"Selection";if(void 0!==t.rangeCount)for(var a=0,o=t.rangeCount;a<o;++a)e[a]=s.inspect(t.getRangeAt(a));return"["+i+"(Ranges: "+e.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}J.removeRange=O&&M?function(t){if(this.docSelection.type==f){for(var e=this.docSelection.createRange(),n=j(t),r=p(e.item(0)),i=m(r).createControlRange(),a=!1,o=0,s=e.length;o<s;++o)e.item(o)!==n||a?i.add(e.item(o)):a=!0;i.select(),z(this)}else tt(this,t)}:function(t){tt(this,t)},!$&&T&&c.implementsDomRange?(Q=b,J.isBackward=function(){return Q(this)}):Q=J.isBackward=function(){return!1},J.isBackwards=J.isBackward,J.toString=function(){for(var t=[],e=0,n=this.rangeCount;e<n;++e)t[e]=""+this._ranges[e];return t.join("")},J.collapse=function(t,e){et(this,t);var n=d.createRange(t);n.collapseToPoint(t,e),this.setSingleRange(n),this.isCollapsed=!0},J.collapseToStart=function(){if(!this.rangeCount)throw new r("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},J.collapseToEnd=function(){if(!this.rangeCount)throw new r("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},J.selectAllChildren=function(t){et(this,t);var e=d.createRange(t);e.selectNodeContents(t),this.setSingleRange(e)},J.deleteFromDocument=function(){if(O&&M&&this.docSelection.type==f){for(var t,e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),h.removeNode(t);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,i=n.length;r<i;++r)n[r].deleteContents();this.addRange(n[i-1])}}},J.eachRange=function(t,e){for(var n=0,r=this._ranges.length;n<r;++n)if(t(this.getRangeAt(n)))return e},J.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},J.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},J.callMethodOnEachRange=function(e,n){var r=[];return this.eachRange(function(t){r.push(t[e].apply(t,n||[]))}),r},J.setStart=nt(!0),J.setEnd=nt(!1),d.rangePrototype.select=function(t){G(this.getDocument()).setSingleRange(this,t)},J.changeEachRange=function(e){var n=[],t=this.isBackward();this.eachRange(function(t){e(t),n.push(t)}),this.removeAllRanges(),t&&1==n.length?this.addRange(n[0],"backward"):this.setRanges(n)},J.containsNode=function(e,n){return this.eachRange(function(t){return t.containsNode(e,n)},!0)||!1},J.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},J.moveToBookmark=function(t){for(var e,n,r=[],i=0;e=t.rangeBookmarks[i++];)(n=d.createRange(this.win)).moveToBookmark(e),r.push(n);t.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},J.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},J.restoreRanges=function(t){this.removeAllRanges();for(var e,n=0;e=t.ranges[n];++n)this.addRange(e,t.backward&&0==n)},J.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(s.toHtml(t))}),e.join("")},c.implementsTextRange&&(J.getNativeTextRange=function(){var t;if(t=this.docSelection){var e=t.createRange();if(F(e))return e;throw l.createError("getNativeTextRange: selection is a control selection")}if(0<this.rangeCount)return d.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw l.createError("getNativeTextRange: selection contains no range")}),J.getName=function(){return"WrappedSelection"},J.inspect=function(){return rt(this)},J.detach=function(){V(this.win,"delete"),U(this)},W.detachAll=function(){V(null,"deleteAll")},W.inspect=rt,W.isDirectionBackward=v,d.Selection=W,d.selectionPrototype=J,d.addShimListener(function(t){void 0===t.getSelection&&(t.getSelection=function(){return G(t)}),t=null})});var N=!1,O=function(t){N||(N=!0,!w.initialized&&w.config.autoInitialize&&T())};return _&&("complete"==document.readyState?O():(c(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",O,!1),v(window,"load",O))),w},this),function(t,e){"function"==typeof define&&define.amd?define(["./rangy-core"],t):"undefined"!=typeof module&&"object"==typeof exports?module.exports=t(require("rangy")):t(e.rangy)}(function(t){return t.createModule("ClassApplier",["WrappedSelection"],function(r,f){var p=r.dom,a=p.DomPosition,o=p.arrayContains,t=r.util,m=t.forEach,s=t.isHostMethod(document,"createElementNS");function h(t,e){for(var n in t)if(t.hasOwnProperty(n)&&!1===e(n,t[n]))return!1;return!0}function g(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function l(t,e){return!!t&&new RegExp("(?:^|\\s)"+e+"(?:\\s|$)").test(t)}function u(t,e){return"object"==typeof t.classList?t.classList.contains(e):l("string"==typeof t.className?t.className:t.getAttribute("class"),e)}function d(t,e){if("object"==typeof t.classList)t.classList.add(e);else{var n="string"==typeof t.className,r=n?t.className:t.getAttribute("class");r?l(r,e)||(r+=" "+e):r=e,n?t.className=r:t.setAttribute("class",r)}}var v=function(){function i(t,e,n){return e&&n?" ":""}return function(t,e){if("object"==typeof t.classList)t.classList.remove(e);else{var n="string"==typeof t.className,r=n?t.className:t.getAttribute("class");r=r.replace(new RegExp("(^|\\s)"+e+"(\\s|$)"),i),n?t.className=r:t.setAttribute("class",r)}}}();function e(t){return"string"==typeof t.className?t.className:t.getAttribute("class")}function y(t){return t&&t.split(/\s+/).sort().join(" ")}function n(t){return y(e(t))}function c(t,e){return n(t)==n(e)}function _(t,e){for(var n=e.split(/\s+/),r=0,i=n.length;r<i;++r)if(!u(t,g(n[r])))return!1;return!0}function b(t,c,d,e){-1==d&&(d=c.childNodes.length);var h=t.parentNode,f=p.getNodeIndex(t);m(e,function(t){var e,n,r,i,a,o,s,l,u;n=h,r=f,i=c,a=d,o=(e=t).node,s=e.offset,u=s,(l=o)==i&&a<s&&++u,o!=n||s!=r&&s!=r+1||(l=i,u+=a-r),o==n&&r+1<s&&--u,e.node=l,e.offset=u}),c.childNodes.length==d?c.appendChild(t):c.insertBefore(t,c.childNodes[d])}function w(t,e){var i=t.parentNode,a=p.getNodeIndex(t);m(e,function(t){var e,n,r;n=i,r=a,(e=t).node==n&&e.offset>r&&--e.offset}),p.removeNode(t)}function M(t,e){return function(t,e,n,r,i){for(var a,o=[];a=t.firstChild;)b(a,e,n++,i),o.push(a);return r&&w(t,i),o}(t,t.parentNode,p.getNodeIndex(t),!0,e)}function $(t,e){var n=t.cloneRange();n.selectNodeContents(e);var r=n.intersection(t);return""!=(r?r.toString():"")}function x(t){for(var e,n=t.getNodes([3]),r=0;(e=n[r])&&!$(t,e);)++r;for(var i=n.length-1;(e=n[i])&&!$(t,e);)--i;return n.slice(r,i+1)}function k(t,e){if(t.attributes.length!=e.attributes.length)return!1;for(var n,r,i,a=0,o=t.attributes.length;a<o;++a)if("class"!=(i=(n=t.attributes[a]).name)){if(null===n!=(null===(r=e.attributes.getNamedItem(i))))return!1;if(n.specified!=r.specified)return!1;if(n.specified&&n.nodeValue!==r.nodeValue)return!1}return!0}function S(t,e){for(var n,r=0,i=t.attributes.length;r<i;++r)if(n=t.attributes[r].name,(!e||!o(e,n))&&t.attributes[r].specified&&"class"!=n)return!0;return!1}var T=p.getComputedStyleProperty,L="boolean"==typeof document.createElement("div").isContentEditable?function(t){return t&&1==t.nodeType&&t.isContentEditable}:function(t){return!(!t||1!=t.nodeType||"false"==t.contentEditable)&&("true"==t.contentEditable||L(t.parentNode))};function C(t){var e;return t&&1==t.nodeType&&((e=t.parentNode)&&9==e.nodeType&&"on"==e.designMode||L(t)&&!L(t.parentNode))}function D(t){return(L(t)||1!=t.nodeType&&L(t.parentNode))&&!C(t)}var E=/^inline(-block|-table)?$/i;function Y(t){return t&&1==t.nodeType&&!E.test(T(t,"display"))}var A=/[^\r\n\t\f \u200B]/;function N(t){var e,n,r=[];for(e=0;n=t[e++];)r.push(new a(n.startContainer,n.startOffset),new a(n.endContainer,n.endOffset));return r}function O(t,e){for(var n,r,i,a=0,o=t.length;a<o;++a)n=t[a],r=e[2*a],i=e[2*a+1],n.setStartAndEnd(r.node,r.offset,i.node,i.offset)}function R(t,e,n,r){var i,a,o,s,l=0==n;if(p.isAncestorOf(e,t))return t;if(p.isCharacterDataNode(e)){var u=p.getNodeIndex(e);if(0==n)n=u;else{if(n!=e.length)throw f.createError("splitNodeAt() should not be called with offset in the middle of a data node ("+n+" in "+e.data);n=u+1}e=e.parentNode}if(o=e,s=n,p.isCharacterDataNode(o)?0==s?o.previousSibling:s!=o.length||o.nextSibling:0<s&&s<o.childNodes.length){i=e.cloneNode(!1),a=e.parentNode,i.id&&i.removeAttribute("id");for(var c,d=0;c=e.childNodes[n];)b(c,i,d++,r);return b(i,a,p.getNodeIndex(e)+1,r),e==t?i:R(t,a,p.getNodeIndex(i),r)}if(t!=e){i=e.parentNode;var h=p.getNodeIndex(e);return l||h++,R(t,i,h,r)}return t}function H(s){var l=s?"nextSibling":"previousSibling";return function(t,e){var n,r,i=t.parentNode,a=t[l];if(a){if(a&&3==a.nodeType)return a}else if(e&&(a=i[l])&&1==a.nodeType&&(r=a,(n=i).namespaceURI==r.namespaceURI&&n.tagName.toLowerCase()==r.tagName.toLowerCase()&&c(n,r)&&k(n,r)&&"inline"==T(n,"display")&&"inline"==T(r,"display"))){var o=a[s?"firstChild":"lastChild"];if(o&&3==o.nodeType)return o}return null}}var P=H(!1),j=H(!0);function F(t){this.isElementMerge=1==t.nodeType,this.textNodes=[];var e=this.isElementMerge?t.lastChild:t;e&&(this.textNodes[0]=e)}var I=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements","onElementCreate"],z={};function B(t,e,n){var r,i,a,o,s=this;s.cssClass=s.className=t;var l=null,u={};if("object"==typeof e&&null!==e){for(void 0!==e.elementTagName&&(e.elementTagName=e.elementTagName.toLowerCase()),n=e.tagNames,l=e.elementProperties,u=e.elementAttributes,i=0;o=I[i++];)e.hasOwnProperty(o)&&(s[o]=e[o]);r=e.normalize}else r=e;s.normalize=void 0===r||r,s.attrExceptions=[];var c=document.createElement(s.elementTagName);s.elementProperties=s.copyPropertiesToElement(l,c,!0),h(u,function(t,e){s.attrExceptions.push(t),u[t]=""+e}),s.elementAttributes=u,s.elementSortedClassName=s.elementProperties.hasOwnProperty("className")?y(s.elementProperties.className+" "+t):t,s.applyToAnyTagName=!1;var d=typeof n;if("string"==d)"*"==n?s.applyToAnyTagName=!0:s.tagNames=g(n.toLowerCase()).split(/\s*,\s*/);else if("object"==d&&"number"==typeof n.length)for(s.tagNames=[],i=0,a=n.length;i<a;++i)"*"==n[i]?s.applyToAnyTagName=!0:s.tagNames.push(n[i].toLowerCase());else s.tagNames=[s.elementTagName]}B.prototype={elementTagName:"span",elementProperties:{},elementAttributes:{},ignoreWhiteSpace:!0,applyToEditableOnly:!(F.prototype={doMerge:function(t){var e=this.textNodes,r=e[0];if(1<e.length){var i,a=p.getNodeIndex(r),o=[],s=0;m(e,function(e,n){i=e.parentNode,0<n&&(i.removeChild(e),i.hasChildNodes()||p.removeNode(i),t&&m(t,function(t){t.node==e&&(t.node=r,t.offset+=s),t.node==i&&t.offset>a&&(--t.offset,t.offset==a+1&&n<len-1&&(t.node=r,t.offset=s))})),o[n]=e.data,s+=e.data.length}),r.data=o.join("")}return r.data},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){var n=[];return m(this.textNodes,function(t,e){n[e]="'"+t.data+"'"}),"[Merge("+n.join(",")+")]"}}),useExistingElements:!0,removeEmptyElements:!0,onElementCreate:null,copyPropertiesToElement:function(t,e,n){var r,i,a,o,s,l,u={};for(var c in t)if(t.hasOwnProperty(c))if(o=t[c],s=e[c],"className"==c)d(e,o),d(e,this.className),e[c]=y(e[c]),n&&(u[c]=o);else if("style"==c){for(r in i=s,n&&(u[c]=a={}),t[c])t[c].hasOwnProperty(r)&&(i[r]=o[r],n&&(a[r]=i[r]));this.attrExceptions.push(c)}else e[c]=o,n&&(u[c]=e[c],l=z.hasOwnProperty(c)?z[c]:c,this.attrExceptions.push(l));return n?u:""},copyAttributesToElement:function(t,e){for(var n in t)t.hasOwnProperty(n)&&!/^class(?:Name)?$/i.test(n)&&e.setAttribute(n,t[n])},appliesToElement:function(t){return o(this.tagNames,t.tagName.toLowerCase())},getEmptyElements:function(t){var e=this;return t.getNodes([1],function(t){return e.appliesToElement(t)&&!t.hasChildNodes()})},hasClass:function(t){return 1==t.nodeType&&(this.applyToAnyTagName||this.appliesToElement(t))&&u(t,this.className)},getSelfOrAncestorWithClass:function(t){for(;t;){if(this.hasClass(t))return t;t=t.parentNode}return null},isModifiable:function(t){return!this.applyToEditableOnly||D(t)},isIgnorableWhiteSpaceNode:function(t){return this.ignoreWhiteSpace&&t&&3==t.nodeType&&function(t){if(0==t.data.length)return!0;if(A.test(t.data))return!1;switch(T(t.parentNode,"whiteSpace")){case"pre":case"pre-wrap":case"-moz-pre-wrap":return!1;case"pre-line":if(/[\r\n]/.test(t.data))return!1}return Y(t.previousSibling)||Y(t.nextSibling)}(t)},postApply:function(t,e,n,r){var a,o,s=t[0],l=t[t.length-1],u=[],c=s,d=l,h=0,f=l.length;m(t,function(t){(o=P(t,!r))?(a||(a=new F(o),u.push(a)),a.textNodes.push(t),t===s&&(c=a.textNodes[0],h=c.length),t===l&&(d=a.textNodes[0],f=a.getLength())):a=null});var p=j(l,!r);if(p&&(a||(a=new F(l),u.push(a)),a.textNodes.push(p)),u.length){for(i=0,len=u.length;i<len;++i)u[i].doMerge(n);e.setStartAndEnd(c,h,d,f)}},createContainer:function(t){var e=p.getDocument(t),n=s&&!p.isHtmlNamespace(t)&&t.namespaceURI?e.createElementNS(t.namespaceURI,this.elementTagName):e.createElement(this.elementTagName);return this.copyPropertiesToElement(this.elementProperties,n,!1),this.copyAttributesToElement(this.elementAttributes,n),d(n,this.className),this.onElementCreate&&this.onElementCreate(n,this),n},elementHasProperties:function(n,t){var r=this;return h(t,function(t,e){if("className"==t)return _(n,e);if("object"==typeof e){if(!r.elementHasProperties(n[t],e))return!1}else if(n[t]!==e)return!1})},elementHasAttributes:function(n,t){return h(t,function(t,e){if(n.getAttribute(t)!==e)return!1})},applyToTextNode:function(t,e){if((a=t.parentNode)&&1==a.nodeType&&!/^(textarea|style|script|select|iframe)$/i.test(a.nodeName)){var n=t.parentNode;if(1==n.childNodes.length&&this.useExistingElements&&this.appliesToElement(n)&&this.elementHasProperties(n,this.elementProperties)&&this.elementHasAttributes(n,this.elementAttributes))d(n,this.className);else{var r=t.parentNode,i=this.createContainer(r);r.insertBefore(i,t),i.appendChild(t)}}var a},isRemovable:function(t){return t.tagName.toLowerCase()==this.elementTagName&&n(t)==this.elementSortedClassName&&this.elementHasProperties(t,this.elementProperties)&&!S(t,this.attrExceptions)&&this.elementHasAttributes(t,this.elementAttributes)&&this.isModifiable(t)},isEmptyContainer:function(t){var e=t.childNodes.length;return 1==t.nodeType&&this.isRemovable(t)&&(0==e||1==e&&this.isEmptyContainer(t.firstChild))},removeEmptyContainers:function(t){var e=this,n=t.getNodes([1],function(t){return e.isEmptyContainer(t)}),r=[t],i=N(r);m(n,function(t){w(t,i)}),O(r,i)},undoToTextNode:function(t,e,n,r){if(!e.containsNode(n)){var i=e.cloneRange();i.selectNode(n),i.isPointInRange(e.endContainer,e.endOffset)&&(R(n,e.endContainer,e.endOffset,r),e.setEndAfter(n)),i.isPointInRange(e.startContainer,e.startOffset)&&(n=R(n,e.startContainer,e.startOffset,r))}this.isRemovable(n)?M(n,r):v(n,this.className)},splitAncestorWithClass:function(t,e,n){var r=this.getSelfOrAncestorWithClass(t);r&&R(r,t,e,n)},undoToAncestor:function(t,e){this.isRemovable(t)?M(t,e):v(t,this.className)},applyToRange:function(t,e){var n=this,r=N((e=e||[])||[]);t.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(t);var i=x(t);if(i.length){m(i,function(t){n.isIgnorableWhiteSpaceNode(t)||n.getSelfOrAncestorWithClass(t)||!n.isModifiable(t)||n.applyToTextNode(t,r)});var a=i[i.length-1];t.setStartAndEnd(i[0],0,a,a.length),n.normalize&&n.postApply(i,t,r,!1),O(e,r)}var o=n.getEmptyElements(t);m(o,function(t){d(t,n.className)})},applyToRanges:function(t){for(var e=t.length;e--;)this.applyToRange(t[e],t);return t},applyToSelection:function(t){var e=r.getSelection(t);e.setRanges(this.applyToRanges(e.getAllRanges()))},undoToRange:function(t,e){var n=this,r=N(e=e||[]);t.splitBoundariesPreservingPositions(r),n.removeEmptyElements&&n.removeEmptyContainers(t,r);var i,a,o=x(t),s=o[o.length-1];if(o.length){n.splitAncestorWithClass(t.endContainer,t.endOffset,r),n.splitAncestorWithClass(t.startContainer,t.startOffset,r);for(var l=0,u=o.length;l<u;++l)i=o[l],(a=n.getSelfOrAncestorWithClass(i))&&n.isModifiable(i)&&n.undoToAncestor(a,r);t.setStartAndEnd(o[0],0,s,s.length),n.normalize&&n.postApply(o,t,r,!0),O(e,r)}var c=n.getEmptyElements(t);m(c,function(t){v(t,n.className)})},undoToRanges:function(t){for(var e=t.length;e--;)this.undoToRange(t[e],t);return t},undoToSelection:function(t){var e=r.getSelection(t),n=r.getSelection(t).getAllRanges();this.undoToRanges(n),e.setRanges(n)},isAppliedToRange:function(t){if(t.collapsed||""==t.toString())return!!this.getSelfOrAncestorWithClass(t.commonAncestorContainer);var e=t.getNodes([3]);if(e.length)for(var n,r=0;n=e[r++];)if(!this.isIgnorableWhiteSpaceNode(n)&&$(t,n)&&this.isModifiable(n)&&!this.getSelfOrAncestorWithClass(n))return!1;return!0},isAppliedToRanges:function(t){var e=t.length;if(0==e)return!1;for(;e--;)if(!this.isAppliedToRange(t[e]))return!1;return!0},isAppliedToSelection:function(t){var e=r.getSelection(t);return this.isAppliedToRanges(e.getAllRanges())},toggleRange:function(t){this.isAppliedToRange(t)?this.undoToRange(t):this.applyToRange(t)},toggleSelection:function(t){this.isAppliedToSelection(t)?this.undoToSelection(t):this.applyToSelection(t)},getElementsWithClassIntersectingRange:function(t){var n=[],r=this;return t.getNodes([3],function(t){var e=r.getSelfOrAncestorWithClass(t);e&&!o(n,e)&&n.push(e)}),n},detach:function(){}},B.util={hasClass:u,addClass:d,removeClass:v,getClass:e,hasSameClasses:c,hasAllClasses:_,replaceWithOwnChildren:M,elementsHaveSameNonClassAttributes:k,elementHasNonClassAttributes:S,splitNodeAt:R,isEditableElement:L,isEditingHost:C,isEditable:D},r.CssClassApplier=r.ClassApplier=B,r.createClassApplier=function(t,e,n){return new B(t,e,n)},t.createAliasForDeprecatedMethod(r,"createCssClassApplier","createClassApplier",f)}),t},this),function(t,e){"function"==typeof define&&define.amd?define(["./rangy-core"],t):"undefined"!=typeof module&&"object"==typeof exports?module.exports=t(require("rangy")):t(e.rangy)}(function(t){return t.createModule("Highlighter",["ClassApplier"],function($,t){var e=$.dom,i=e.arrayContains,l=e.getBody,x=$.util.createOptions,k=$.util.forEach,o=1;function n(t,e){return t.characterRange.start-e.characterRange.start}function m(t,e){return e?t.getElementById(e):l(t)}var r={};function a(t,e){this.type=t,this.converterCreator=e}function s(t,e){r[t]=new a(t,e)}function g(t){var e=r[t];if(e instanceof a)return e.create();throw new Error("Highlighter type '"+t+"' is not valid")}function S(t,e){this.start=t,this.end=e}a.prototype.create=function(){var t=this.converterCreator();return t.type=this.type,t},$.registerHighlighterType=s,S.prototype={intersects:function(t){return this.start<t.end&&this.end>t.start},isContiguousWith:function(t){return this.start==t.end||this.end==t.start},union:function(t){return new S(Math.min(this.start,t.start),Math.max(this.end,t.end))},intersection:function(t){return new S(Math.max(this.start,t.start),Math.min(this.end,t.end))},getComplements:function(t){var e=[];if(this.start>=t.start){if(this.end<=t.end)return[];e.push(new S(t.end,this.end))}else e.push(new S(this.start,Math.min(this.end,t.start))),this.end>t.end&&e.push(new S(t.end,this.end));return e},toString:function(){return"[CharacterRange("+this.start+", "+this.end+")]"}},S.fromCharacterRange=function(t){return new S(t.start,t.end)};var u,c={rangeToCharacterRange:function(t,e){var n=t.getBookmark(e);return new S(n.start,n.end)},characterRangeToRange:function(t,e,n){var r=$.createRange(t);return r.moveToBookmark({start:e.start,end:e.end,containerNode:n}),r},serializeSelection:function(t,e){for(var n=t.getAllRanges(),r=[],i=1==n.length&&t.isBackward(),a=0,o=n.length;a<o;++a)r[a]={characterRange:this.rangeToCharacterRange(n[a],e),backward:i};return r},restoreSelection:function(t,e,n){t.removeAllRanges();for(var r,i,a=t.win.document,o=0,s=e.length;o<s;++o)(i=e[o]).characterRange,r=this.characterRangeToRange(a,i.characterRange,n),t.addRange(r,i.backward)}};function T(t,e,n,r,i,a){i?(this.id=i,o=Math.max(o,i+1)):this.id=o++,this.characterRange=e,this.doc=t,this.classApplier=n,this.converter=r,this.containerElementId=a||null,this.applied=!1}function d(t,e){e=e||"textContent",this.doc=t||document,this.classAppliers={},this.highlights=[],this.converter=g(e)}s("textContent",function(){return c}),s("TextRange",function(){if(!u){var t=$.modules.TextRange;if(!t)throw new Error("TextRange module is missing.");if(!t.supported)throw new Error("TextRange module is present but not supported.");u={rangeToCharacterRange:function(t,e){return S.fromCharacterRange(t.toCharacterRange(e))},characterRangeToRange:function(t,e,n){var r=$.createRange(t);return r.selectCharacters(n,e.start,e.end),r},serializeSelection:function(t,e){return t.saveCharacterRanges(e)},restoreSelection:function(t,e,n){t.restoreCharacterRanges(n,e)}}}return u}),T.prototype={getContainerElement:function(){return m(this.doc,this.containerElementId)},getRange:function(){return this.converter.characterRangeToRange(this.doc,this.characterRange,this.getContainerElement())},fromRange:function(t){this.characterRange=this.converter.rangeToCharacterRange(t,this.getContainerElement())},getText:function(){return this.getRange().toString()},containsElement:function(t){return this.getRange().containsNodeContents(t.firstChild)},unapply:function(){this.classApplier.undoToRange(this.getRange()),this.applied=!1},apply:function(){this.classApplier.applyToRange(this.getRange()),this.applied=!0},getHighlightElements:function(){return this.classApplier.getElementsWithClassIntersectingRange(this.getRange())},toString:function(){return"[Highlight(ID: "+this.id+", class: "+this.classApplier.className+", character range: "+this.characterRange.start+" - "+this.characterRange.end+")]"}},d.prototype={addClassApplier:function(t){this.classAppliers[t.className]=t},getHighlightForElement:function(t){for(var e=this.highlights,n=0,r=e.length;n<r;++n)if(e[n].containsElement(t))return e[n];return null},removeHighlights:function(t){for(var e,n=0,r=this.highlights.length;n<r;++n)e=this.highlights[n],i(t,e)&&(e.unapply(),this.highlights.splice(n--,1))},removeAllHighlights:function(){this.removeHighlights(this.highlights)},getIntersectingHighlights:function(t){var n=[],r=this.highlights;return k(t,function(e){k(r,function(t){e.intersectsRange(t.getRange())&&!i(n,t)&&n.push(t)})}),n},highlightCharacterRanges:function(t,e,n){var r,i,a,o,s,l,u,c,d,h,f,p,m=this.highlights,g=this.converter,v=this.doc,y=[],_=t?this.classAppliers[t]:null,b=(n=x(n,{containerElementId:null,exclusive:!0})).containerElementId,w=n.exclusive;for(b&&(o=this.doc.getElementById(b))&&((s=$.createRange(this.doc)).selectNodeContents(o),l=new S(0,s.toString().length)),r=0,i=e.length;r<i;++r)if(u=e[r],f=[],l&&(u=u.intersection(l)),u.start!=u.end){for(a=0;a<m.length;++a)d=!1,b==m[a].containerElementId&&(c=m[a].characterRange,p=!(h=_==m[a].classApplier)&&w,(c.intersects(u)||c.isContiguousWith(u))&&(h||p)&&(p&&k(c.getComplements(u),function(t){f.push(new T(v,t,m[a].classApplier,g,null,b))}),d=!0,h&&(u=c.union(u)))),d?(y.push(m[a]),m[a]=new T(v,c.union(u),_,g,null,b)):f.push(m[a]);_&&f.push(new T(v,u,_,g,null,b)),this.highlights=m=f}k(y,function(t){t.unapply()});var M=[];return k(m,function(t){t.applied||(t.apply(),M.push(t))}),M},highlightRanges:function(t,e,n){var r,i=[],a=this.converter,o=(n=x(n,{containerElement:null,exclusive:!0})).containerElement,s=o?o.id:null;return o&&(r=$.createRange(o)).selectNodeContents(o),k(e,function(t){var e=o?r.intersection(t):t;i.push(a.rangeToCharacterRange(e,o||l(t.getDocument())))}),this.highlightCharacterRanges(t,i,{containerElementId:s,exclusive:n.exclusive})},highlightSelection:function(t,e){var n=this.converter,r=!!t&&this.classAppliers[t],i=(e=x(e,{containerElementId:null,selection:$.getSelection(this.doc),exclusive:!0})).containerElementId,a=e.exclusive,o=e.selection,s=m(o.win.document,i);if(!r&&!1!==t)throw new Error("No class applier found for class '"+t+"'");var l=n.serializeSelection(o,s),u=[];k(l,function(t){u.push(S.fromCharacterRange(t.characterRange))});var c=this.highlightCharacterRanges(t,u,{containerElementId:i,exclusive:a});return n.restoreSelection(o,l,s),c},unhighlightSelection:function(t){t=t||$.getSelection(this.doc);var e=this.getIntersectingHighlights(t.getAllRanges());return this.removeHighlights(e),t.removeAllRanges(),e},getHighlightsInSelection:function(t){return t=t||$.getSelection(this.doc),this.getIntersectingHighlights(t.getAllRanges())},selectionOverlapsHighlight:function(t){return 0<this.getHighlightsInSelection(t).length},serialize:function(i){var t,a,o,s,l=this,e=l.highlights;return e.sort(n),t=(i=x(i,{serializeHighlightText:!1,type:l.converter.type})).type,(o=t!=l.converter.type)&&(s=g(t)),a=["type:"+t],k(e,function(t){var e,n=t.characterRange;o&&(e=t.getContainerElement(),n=s.rangeToCharacterRange(l.converter.characterRangeToRange(l.doc,n,e),e));var r=[n.start,n.end,t.id,t.classApplier.className,t.containerElementId];i.serializeHighlightText&&r.push(t.getText()),a.push(r.join("$"))}),a.join("|")},deserialize:function(t){var e,n,r,i,a,o,s,l,u=t.split("|"),c=[],d=u[0],h=!1;if(!d||!(e=/^type:(\w+)$/.exec(d)))throw new Error("Serialized highlights are invalid.");(n=e[1])!=this.converter.type&&(r=g(n),h=!0),u.shift();for(var f,p=u.length;0<p--;){if(o=new S(+(f=u[p].split("$"))[0],+f[1]),s=f[4]||null,h&&(l=m(this.doc,s),o=this.converter.rangeToCharacterRange(r.characterRangeToRange(this.doc,o,l),l)),!(i=this.classAppliers[f[3]]))throw new Error("No class applier found for class '"+f[3]+"'");(a=new T(this.doc,o,i,this.converter,parseInt(f[2]),s)).apply(),c.push(a)}this.highlights=c}},$.Highlighter=d,$.createHighlighter=function(t,e){return new d(t,e)}}),t},this),function(t,e){"function"==typeof define&&define.amd?define(["./rangy-core"],t):"undefined"!=typeof module&&"object"==typeof exports?module.exports=t(require("rangy")):t(e.rangy)}(function(t){return t.createModule("SaveRestore",["WrappedRange"],function(l,o){var s=l.dom,u=s.removeNode,c=l.Selection.isDirectionBackward,d="\ufeff";function h(t,e){return(e||document).getElementById(t)}function f(t,e){var n,r="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),i=s.getDocument(t.startContainer),a=t.cloneRange();return a.collapse(e),(n=i.createElement("span")).id=r,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(i.createTextNode(d)),a.insertNode(n),n}function p(t,e,n,r){var i=h(n,t);i?(e[r?"setStartBefore":"setEndBefore"](i),u(i)):o.warn("Marker element has been removed. Cannot restore selection.")}function m(t,e){return e.compareBoundaryPoints(t.START_TO_START,t)}function g(t,e){var n,r=l.DomRange.getRangeDocument(t),i=t.toString(),a=c(e);return t.collapsed?{document:r,markerId:(n=f(t,!1)).id,collapsed:!0}:(n=f(t,!1),{document:r,startMarkerId:f(t,!0).id,endMarkerId:n.id,collapsed:!1,backward:a,toString:function(){return"original text: '"+i+"', new text: '"+t.toString()+"'"}})}function r(t,e){var n=t.document;void 0===e&&(e=!0);var r=l.createRange(n);if(t.collapsed){var i=h(t.markerId,n);if(i){i.style.display="inline";var a=i.previousSibling;a&&3==a.nodeType?(u(i),r.collapseToPoint(a,a.length)):(r.collapseBefore(i),u(i))}else o.warn("Marker element has been removed. Cannot restore selection.")}else p(n,r,t.startMarkerId,!0),p(n,r,t.endMarkerId,!1);return e&&r.normalizeBoundaries(),r}function a(t,e){var n,r,i=[],a=c(e);(t=t.slice(0)).sort(m);for(var o=0,s=t.length;o<s;++o)i[o]=g(t[o],a);for(o=s-1;0<=o;--o)n=t[o],r=l.DomRange.getRangeDocument(n),n.collapsed?n.collapseAfter(h(i[o].markerId,r)):(n.setEndBefore(h(i[o].endMarkerId,r)),n.setStartAfter(h(i[o].startMarkerId,r)));return i}function v(t){for(var e=[],n=t.length-1;0<=n;n--)e[n]=r(t[n],!0);return e}function y(t,e){var n=h(e,t);n&&u(n)}l.util.extend(l,{saveRange:g,restoreRange:r,saveRanges:a,restoreRanges:v,saveSelection:function(t){if(!l.isSelectionValid(t))return o.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var e=l.getSelection(t),n=e.getAllRanges(),r=1==n.length&&e.isBackward(),i=a(n,r);return r?e.setSingleRange(n[0],r):e.setRanges(n),{win:t,rangeInfos:i,restored:!1}},restoreSelection:function(t,e){if(!t.restored){var n=t.rangeInfos,r=l.getSelection(t.win),i=v(n);1==n.length&&e&&l.features.selectionHasExtend&&n[0].backward?(r.removeAllRanges(),r.addRange(i[0],!0)):r.setRanges(i),t.restored=!0}},removeMarkerElement:y,removeMarkers:function(t){for(var e,n=t.rangeInfos,r=0,i=n.length;r<i;++r)(e=n[r]).collapsed?y(t.doc,e.markerId):(y(t.doc,e.startMarkerId),y(t.doc,e.endMarkerId))}})}),t},this),function(t,e){"function"==typeof define&&define.amd?define(["./rangy-core"],t):"undefined"!=typeof module&&"object"==typeof exports?module.exports=t(require("rangy")):t(e.rangy)}(function(t){return t.createModule("Serializer",["WrappedSelection"],function(u,c){var t=u.util;"undefined"!=typeof encodeURIComponent&&"undefined"!=typeof decodeURIComponent||c.fail("encodeURIComponent and/or decodeURIComponent method is missing");var o,n=(o=null,function(t){for(var e=function(t){for(var e,n=[],r=0,i=t.length;r<i;++r)(e=t.charCodeAt(r))<128?n.push(e):e<2048?n.push(e>>6|192,63&e|128):n.push(e>>12|224,e>>6&63|128,63&e|128);return n}(t),n=-1,r=(o||(o=function(){for(var t,e,n=[],r=0;r<256;++r){for(e=r,t=8;t--;)1==(1&e)?e=e>>>1^3988292384:e>>>=1;n[r]=e>>>0}return n}()),o),i=0,a=e.length;i<a;++i)n=n>>>8^r[255&(n^e[i])];return(-1^n)>>>0}),d=u.dom;function h(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(t,e){e=e||[];var n=t.nodeType,r=t.childNodes,i=r.length,a=[n,t.nodeName,i].join(":"),o="",s="";switch(n){case 3:o=h(t.nodeValue);break;case 8:o="\x3c!--"+h(t.nodeValue)+"--\x3e";break;default:o="<"+a+">",s="</>"}o&&e.push(o);for(var l=0;l<i;++l)f(r[l],e);return s&&e.push(s),e}function p(t){var e=f(t).join("");return n(e).toString(16)}function i(t,e,n){var r=[],i=t;for(n=n||d.getDocument(t).documentElement;i&&i!=n;)r.push(d.getNodeIndex(i,!0)),i=i.parentNode;return r.join("/")+":"+e}function m(t,e,n){e||(e=(n||document).documentElement);for(var r,i=t.split(":"),a=e,o=i[0]?i[0].split("/"):[],s=o.length;s--;){if(!((r=parseInt(o[s],10))<a.childNodes.length))throw c.createError("deserializePosition() failed: node "+d.inspectNode(a)+" has no child with index "+r+", "+s);a=a.childNodes[r]}return new d.DomPosition(a,parseInt(i[1],10))}function s(t,e,n){if(n=n||u.DomRange.getRangeDocument(t).documentElement,!d.isOrIsAncestorOf(n,t.commonAncestorContainer))throw c.createError("serializeRange(): range "+t.inspect()+" is not wholly contained within specified root node "+d.inspectNode(n));var r=i(t.startContainer,t.startOffset,n)+","+i(t.endContainer,t.endOffset,n);return e||(r+="{"+p(n)+"}"),r}var g=/^([^,]+),([^,\{]+)(\{([^}]+)\})?$/;function l(t,e,n){e?n=n||d.getDocument(e):e=(n=n||document).documentElement;var r=g.exec(t),i=r[4];if(i){var a=p(e);if(i!==a)throw c.createError("deserializeRange(): checksums of serialized range root node ("+i+") and target root node ("+a+") do not match")}var o=m(r[1],e,n),s=m(r[2],e,n),l=u.createRange(n);return l.setStartAndEnd(o.node,o.offset,s.node,s.offset),l}function v(t,e,n){e||(e=(n||document).documentElement);var r=g.exec(t)[3];return!r||r===p(e)}function y(t,e,n){for(var r=(t=u.getSelection(t)).getAllRanges(),i=[],a=0,o=r.length;a<o;++a)i[a]=s(r[a],e,n);return i.join("|")}function r(t,e,n){e?n=n||d.getWindow(e):e=(n=n||window).document.documentElement;for(var r=t.split("|"),i=u.getSelection(n),a=[],o=0,s=r.length;o<s;++o)a[o]=l(r[o],e,n.document);return i.setRanges(a),i}var _="rangySerializedSelection";t.extend(u,{serializePosition:i,deserializePosition:m,serializeRange:s,deserializeRange:l,canDeserializeRange:v,serializeSelection:y,deserializeSelection:r,canDeserializeSelection:function(t,e,n){var r;e?r=n?n.document:d.getDocument(e):e=(n=n||window).document.documentElement;for(var i=t.split("|"),a=0,o=i.length;a<o;++a)if(!v(i[a],e,r))return!1;return!0},restoreSelectionFromCookie:function(t){var e=function(t){for(var e,n,r=t.split(/[;,]/),i=0,a=r.length;i<a;++i)if((e=r[i].split("="))[0].replace(/^\s+/,"")==_&&(n=e[1]))return decodeURIComponent(n.replace(/\s+$/,""));return null}((t=t||window).document.cookie);e&&r(e,t.doc)},saveSelectionCookie:function(t,e){t=t||window;var n=(e="object"==typeof e?e:{}).expires?";expires="+e.expires.toUTCString():"",r=e.path?";path="+e.path:"",i=e.domain?";domain="+e.domain:"",a=e.secure?";secure":"",o=y(u.getSelection(t));t.document.cookie=encodeURIComponent(_)+"="+encodeURIComponent(o)+n+r+i+a},getElementChecksum:p,nodeToInfoString:f}),t.crc32=n}),t},this),function(t,e){"function"==typeof define&&define.amd?define(["./rangy-core"],t):"undefined"!=typeof module&&"object"==typeof exports?module.exports=t(require("rangy")):t(e.rangy)}(function(t){return t.createModule("TextRange",["WrappedSelection"],function(v,e){var t,n,r,u="undefined",m="character",g="word",l=v.dom,i=v.util,o=i.extend,s=i.createOptions,c=l.getBody,a=/^[ \t\f\r\n]+$/,d=/^[ \t\f\r]+$/,h=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,f=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,p="en",y=v.Selection.isDirectionBackward,_=!1,b=!1;function w(t,e){for(var n=t.slice(e.start,e.end),r={isWord:e.isWord,chars:n,toString:function(){return n.join("")}},i=0,a=n.length;i<a;++i)n[i].token=r;return r}function M(t,e,n){for(var r,i=n(t,e),a=[],o=0;r=i[o++];)a.push(w(t,r));return a}t=l.createTestElement(document,"<p>1 </p><p></p>",!0),n=t.firstChild,(r=v.getSelection()).collapse(n.lastChild,2),r.setStart(n.firstChild,0),t.innerHTML="1 <br />",r.collapse(t,2),r.setStart(t.firstChild,0),_=1==(""+r).length,t.innerHTML="1 <p>1</p>",r.collapse(t,2),r.setStart(t.firstChild,0),b=1==(""+r).length,l.removeNode(t),r.removeAllRanges();var $={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""};var x={includeBlockContentTrailingSpace:!1,includeSpaceBeforeBr:!_,includeSpaceBeforeBlock:!b,includePreLineTrailingSpace:!0},k={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:function(t,e){var n,r=t.join(""),i=[];function a(t,e,n){i.push({start:t,end:e,isWord:n})}for(var o,s,l=0;n=e.wordRegex.exec(r);){if(s=(o=n.index)+n[0].length,l<o&&a(l,o,!1),e.includeTrailingSpace)for(;f.test(t[s]);)++s;a(o,s,!0),l=s}return l<t.length&&a(l,t.length,!1),i}}},S={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,characterOptions:null},T={wordOptions:null,characterOptions:null},L={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},C={wordOptions:null,characterOptions:null,direction:"forward"};function D(t,e){var n,r,i,a=s(t,e);return e.hasOwnProperty("wordOptions")&&(a.wordOptions=(n=a.wordOptions)?(r=n.language||p,o(i={},k[r]||k[p]),o(i,n),i):k[p]),e.hasOwnProperty("characterOptions")&&(a.characterOptions=s(a.characterOptions,$)),a}var E,Y,A,N=l.getComputedStyleProperty;Y=document.createElement("table"),(A=c(document)).appendChild(Y),E="block"==N(Y,"display"),A.removeChild(Y);var O={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};function R(t,e){var n=N(t,"display",e),r=t.tagName.toLowerCase();return"block"==n&&E&&O.hasOwnProperty(r)?O[r]:n}function H(t){for(var e,n=function(t){for(var e=[];t.parentNode;)e.unshift(t.parentNode),t=t.parentNode;return e}(e=t).concat([e]),r=0,i=n.length;r<i;++r)if(1==n[r].nodeType&&"none"==R(n[r]))return!0;return!1}function P(t,e){return!e&&t.hasChildNodes()?t.firstChild:function(t){for(;t&&!t.nextSibling;)t=t.parentNode;return t?t.nextSibling:null}(t)}function j(t){var e=t.previousSibling;if(e){for(t=e;t.hasChildNodes();)t=t.lastChild;return t}var n=t.parentNode;return n&&1==n.nodeType?n:null}function F(t){if(!t||3!=t.nodeType)return!1;var e=t.data;if(""===e)return!0;var n=t.parentNode;if(!n||1!=n.nodeType)return!1;var r=N(t.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(e)&&/^(normal|nowrap)$/.test(r)||/^[\t\r ]+$/.test(e)&&"pre-line"==r}function I(t){return""===t.data||!!F(t)&&(!t.parentNode||!!H(t))}function z(t){var e,n,r=t.nodeType;return 7==r||8==r||H(t)||/^(script|style)$/i.test(t.nodeName)||3==(e=t).nodeType&&(n=e.parentNode)&&"hidden"==N(n,"visibility")||I(t)}function B(t,e){var n=t.nodeType;return 7==n||8==n||1==n&&"none"==R(t,e)}function W(){this.store={}}W.prototype={get:function(t){return this.store.hasOwnProperty(t)?this.store[t]:null},set:function(t,e){return this.store[t]=e}};function U(r,i,a){return function(t){var e=this.cache;if(e.hasOwnProperty(r))return 0,e[r];0;var n=i.call(this,a?this[a]:this,t);return e[r]=n}}function q(t,e){this.node=t,this.session=e,this.cache=new W,this.positions=new W}var V={getPosition:function(t){var e=this.positions;return e.get(t)||e.set(t,new nt(this,t))},toString:function(){return"[NodeWrapper("+l.inspectNode(this.node)+")]"}},G="NON_SPACE",K="UNCOLLAPSIBLE_SPACE",J="COLLAPSIBLE_SPACE",X="TRAILING_SPACE_BEFORE_BLOCK",Z="TRAILING_SPACE_IN_BLOCK",Q="TRAILING_SPACE_BEFORE_BR",tt="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK",et="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR";function nt(t,e){this.offset=e,this.nodeWrapper=t,this.node=t.node,this.session=t.session,this.cache=new W}o(q.prototype=V,{isCharacterDataNode:U("isCharacterDataNode",l.isCharacterDataNode,"node"),getNodeIndex:U("nodeIndex",l.getNodeIndex,"node"),getLength:U("nodeLength",l.getNodeLength,"node"),containsPositions:U("containsPositions",function(t){return l.isCharacterDataNode(t)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(t.nodeName)},"node"),isWhitespace:U("isWhitespace",F,"node"),isCollapsedWhitespace:U("isCollapsedWhitespace",I,"node"),getComputedDisplay:U("computedDisplay",R,"node"),isCollapsed:U("collapsed",z,"node"),isIgnored:U("ignored",B,"node"),next:U("nextPos",P,"node"),previous:U("previous",j,"node"),getTextNodeInfo:U("textNodeInfo",function(t){var e=null,n=!1,r=N(t.parentNode,"whiteSpace"),i="pre-line"==r;return i?(e=d,n=!0):"normal"!=r&&"nowrap"!=r||(e=a,n=!0),{node:t,text:t.data,spaceRegex:e,collapseSpaces:n,preLine:i}},"node"),hasInnerText:U("hasInnerText",function(t,e){for(var n=this.session,r=n.getPosition(t.parentNode,this.getNodeIndex()+1),i=n.getPosition(t,0),a=e?r:i,o=e?i:r;a!==o;){if(a.prepopulateChar(),a.isDefinitelyNonEmpty())return!0;a=e?a.previousVisible():a.nextVisible()}return!1},"node"),isRenderedBlock:U("isRenderedBlock",function(t){for(var e=t.getElementsByTagName("br"),n=0,r=e.length;n<r;++n)if(!z(e[n]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:U("trailingSpace",function(t){if("br"==t.tagName.toLowerCase())return"";switch(this.getComputedDisplay()){case"inline":for(var e=t.lastChild;e;){if(!B(e))return 1==e.nodeType?this.session.getNodeWrapper(e).getTrailingSpace():"";e=e.previousSibling}break;case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":break;case"table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:U("leadingSpace",function(t){switch(this.getComputedDisplay()){case"inline":case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":case"table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});var rt={character:"",characterType:"EMPTY",isBr:!1,prepopulateChar:function(){var t=this;if(!t.prepopulatedChar){var e=t.node,n=t.offset,r="",i="EMPTY",a=!1;if(0<n)if(3==e.nodeType){var o=e.data,s=o.charAt(n-1),l=t.nodeWrapper.getTextNodeInfo(),u=l.spaceRegex;l.collapseSpaces?u.test(s)?1<n&&u.test(o.charAt(n-2))||(l.preLine&&"\n"===o.charAt(n)?(r=" ",i=tt):(r=" ",i=J)):(r=s,i=G,a=!0):(r=s,i=K,a=!0)}else{var c=e.childNodes[n-1];if(c&&1==c.nodeType&&!z(c)&&("br"==c.tagName.toLowerCase()?(r="\n",t.isBr=!0,a=!(i=J)):t.checkForTrailingSpace=!0),!r){var d=e.childNodes[n];d&&1==d.nodeType&&!z(d)&&(t.checkForLeadingSpace=!0)}}t.prepopulatedChar=!0,t.character=r,t.characterType=i,t.isCharInvariant=a}},isDefinitelyNonEmpty:function(){var t=this.characterType;return t==G||t==K},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var t=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();t&&(this.isTrailingSpace=!0,this.character=t,this.characterType=J),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var e=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();e&&(this.isLeadingSpace=!0,this.character=e,this.characterType=J),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(t){for(var e=this;e=e.previousVisible();)if(""!==e.getCharacter(t))return e;return null},getCharacter:function(t){this.resolveLeadingAndTrailingSpaces();var e,n,r,i=this.character,a=(e=t.ignoreCharacters,(r="string"==typeof(n=e||"")?n.split(""):n).sort(function(t,e){return t.charCodeAt(0)-e.charCodeAt(0)}),r.join("").replace(/(.)\1+/g,"$1")),o=""!==i&&-1<a.indexOf(i);if(this.isCharInvariant)return o?"":i;var s=["character",t.includeSpaceBeforeBr,t.includeBlockContentTrailingSpace,t.includePreLineTrailingSpace,a].join("_"),l=this.cache.get(s);if(null!==l)return l;var u,c,d="",h=this.characterType==J,f=!1,p=this;function m(){return f||(c=p.getPrecedingUncollapsedPosition(t),f=!0),c}return h&&(this.type==et?d="\n":" "==i&&(!m()||c.isTrailingSpace||"\n"==c.character||" "==c.character&&c.characterType==J)||("\n"==i&&this.isLeadingSpace?m()&&"\n"!=c.character&&(d="\n"):(u=this.nextUncollapsed())&&(u.isBr?this.type=Q:u.isTrailingSpace&&"\n"==u.character?this.type=Z:u.isLeadingSpace&&"\n"==u.character&&(this.type=X),"\n"==u.character?(this.type!=Q||t.includeSpaceBeforeBr)&&(this.type!=X||t.includeSpaceBeforeBlock)&&(this.type==Z&&u.isTrailingSpace&&!t.includeBlockContentTrailingSpace||(this.type!=tt||u.type!=G||t.includePreLineTrailingSpace)&&("\n"==i?u.isTrailingSpace?this.isTrailingSpace||this.isBr&&(u.type="TRAILING_LINE_BREAK_AFTER_BR",m()&&c.isLeadingSpace&&!c.isTrailingSpace&&"\n"==c.character?u.character="":u.type=et):d="\n":" "==i&&(d=" "))):d=i))),-1<a.indexOf(d)&&(d=""),this.cache.set(s,d),d},equals:function(t){return!!t&&this.node===t.node&&this.offset===t.offset},inspect:function(){return"[Position("+l.inspectNode(this.node)+":"+this.offset+")]"},toString:function(){return this.character}};o(nt.prototype=rt,{next:U("nextPos",function(t){var e,n,r,i=t.nodeWrapper,a=t.node,o=t.offset,s=i.session;return a?(o==i.getLength()?n=(e=a.parentNode)?i.getNodeIndex()+1:0:i.isCharacterDataNode()?(e=a,n=o+1):(r=a.childNodes[o],s.getNodeWrapper(r).containsPositions()?(e=r,n=0):(e=a,n=o+1)),e?s.getPosition(e,n):null):null}),previous:U("previous",function(t){var e,n,r,i=t.nodeWrapper,a=t.node,o=t.offset,s=i.session;return 0==o?n=(e=a.parentNode)?i.getNodeIndex():0:i.isCharacterDataNode()?(e=a,n=o-1):(r=a.childNodes[o-1],s.getNodeWrapper(r).containsPositions()?(e=r,n=l.getNodeLength(r)):(e=a,n=o-1)),e?s.getPosition(e,n):null}),nextVisible:U("nextVisible",function(t){var e=t.next();if(!e)return null;var n=e.nodeWrapper,r=e.node,i=e;return n.isCollapsed()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex()+1)),i}),nextUncollapsed:U("nextUncollapsed",function(t){for(var e=t;e=e.nextVisible();)if(e.resolveLeadingAndTrailingSpaces(),""!==e.character)return e;return null}),previousVisible:U("previousVisible",function(t){var e=t.previous();if(!e)return null;var n=e.nodeWrapper,r=e.node,i=e;return n.isCollapsed()&&(i=n.session.getPosition(r.parentNode,n.getNodeIndex())),i})});var it=null,at=function(){function t(i){var a=new W;return{get:function(t){var e=a.get(t[i]);if(e)for(var n,r=0;n=e[r++];)if(n.node===t)return n;return null},set:function(t){var e=t.node[i];(a.get(e)||a.set(e,[])).push(t)}}}var n=i.isHostProperty(document.documentElement,"uniqueID");function e(){this.initCaches()}return e.prototype={initCaches:function(){var e;this.elementCache=n?(e=new W,{get:function(t){return e.get(t.uniqueID)},set:function(t){e.set(t.node.uniqueID,t)}}):t("tagName"),this.textNodeCache=t("data"),this.otherNodeCache=t("nodeName")},getNodeWrapper:function(t){var e;switch(t.nodeType){case 1:e=this.elementCache;break;case 3:e=this.textNodeCache;break;default:e=this.otherNodeCache}var n=e.get(t);return n||(n=new q(t,this),e.set(n)),n},getPosition:function(t,e){return this.getNodeWrapper(t).getPosition(e)},getRangeBoundaryPosition:function(t,e){var n=e?"start":"end";return this.getPosition(t[n+"Container"],t[n+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},e}();function ot(){return it||(st(),it=new at)}function st(){it&&it.detach(),it=null}function lt(t,n,r,i){r&&(n?z(r.node)&&(r=t.previousVisible()):z(r.node)&&(r=r.nextVisible()));var a=t,o=!1;var s,l=!1;return{next:function(){if(l)return l=!1,s;for(var t;e=void 0,e=null,n?(e=a,o||(a=a.previousVisible(),o=!a||r&&a.equals(r))):o||(e=a=a.nextVisible(),o=!a||r&&a.equals(r)),o&&(a=null),t=e;)if(t.getCharacter(i))return s=t;return null;var e},rewind:function(){if(!s)throw e.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");l=!0},dispose:function(){t=r=null}}}o(l,{nextNode:P,previousNode:j});var ut=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0,r=t.length;n<r;++n)if(t[n]===e)return n;return-1};function ct(t,e,n){var s=lt(t,!1,null,e),l=lt(t,!0,null,e),r=n.tokenizer;function i(t){for(var e,n,r=[],i=t?s:l,a=!1,o=!1;e=i.next();){if(n=e.character,h.test(n))o&&(a=!(o=!1));else{if(a){i.rewind();break}o=!0}r.push(e)}return r}var a=i(!0),o=i(!1).reverse(),u=M(o.concat(a),n,r),c=a.length?u.slice(ut(u,a[0].token)):[],d=o.length?u.slice(0,ut(u,o.pop().token)+1):[];return{nextEndToken:function(){for(var t,e;1==c.length&&!(t=c[0]).isWord&&0<(e=i(!0)).length;)c=M(t.chars.concat(e),n,r);return c.shift()},previousStartToken:function(){for(var t,e;1==d.length&&!(t=d[0]).isWord&&0<(e=i(!1)).length;)d=M(e.reverse().concat(t.chars),n,r);return d.pop()},dispose:function(){s.dispose(),l.dispose(),c=d=null}}}function dt(t,e,n,r){var i=t.getRangeBoundaryPosition(e,!0),a=t.getRangeBoundaryPosition(e,!1);return lt(r?a:i,!!r,r?i:a,n)}function ht(t,e,n,r,l){var i,a,o,s,u,c,d=y(l.direction),h=lt(t,d,t.session.getRangeBoundaryPosition(r,d),l.characterOptions),f="",p=[],m=null;function g(t,e){var n,r,i,a,o=p[t].previousVisible(),s=p[e-1];return{startPos:o,endPos:s,valid:!l.wholeWordsOnly||(n=o,r=s,i=l.wordOptions,(a=v.createRange(n.node)).setStartAndEnd(n.node,n.offset,r.node,r.offset),!a.expand("word",{wordOptions:i}))}}for(;i=h.next();)if(a=i.character,n||l.caseSensitive||(a=a.toLowerCase()),d?(p.unshift(i),f=a+f):(p.push(i),f+=a),n){if(u=e.exec(f))if(s=(o=u.index)+u[0].length,c){if(!d&&s<f.length||d&&0<o){m=g(o,s);break}}else c=!0}else if(-1!=(o=f.indexOf(e))){m=g(o,o+e.length);break}return c&&(m=g(o,s)),h.dispose(),m}function ft(r){return function(){var t=!!it,e=[ot()].concat(i.toArray(arguments)),n=r.apply(this,e);return t||st(),n}}function pt(s,l){return ft(function(t,e,n,r){typeof n==u&&(n=e,e=m),r=D(r,T);var i=s;l&&(i=0<=n,this.collapse(!i));var a=function(t,e,n,r,i){var a,o,s,l,u=0,c=t,d=Math.abs(n);if(0!==n){var h=n<0;switch(e){case m:for(o=lt(t,h,null,r);(a=o.next())&&u<d;)++u,c=a;s=a,o.dispose();break;case g:for(var f=ct(t,r,i),p=h?f.previousStartToken:f.nextEndToken;(l=p())&&u<d;)l.isWord&&(++u,c=h?l.chars[0]:l.chars[l.chars.length-1]);break;default:throw new Error("movePositionBy: unit '"+e+"' not implemented")}h?(c=c.previousVisible(),u=-u):c&&c.isLeadingSpace&&!c.isTrailingSpace&&(e==g&&(s=(o=lt(t,!1,null,r)).next(),o.dispose()),s&&(c=s.previousVisible()))}return{position:c,unitsMoved:u}}(t.getRangeBoundaryPosition(this,i),e,n,r.characterOptions,r.wordOptions),o=a.position;return this[i?"setStart":"setEnd"](o.node,o.offset),a.unitsMoved})}function mt(o){return ft(function(t,e){for(var n,r=dt(t,this,e=s(e,$),!o),i=0;(n=r.next())&&h.test(n.character);)++i;r.dispose();var a=0<i;return a&&this[o?"moveStart":"moveEnd"]("character",o?i:-i,{characterOptions:e}),a})}function gt(r){return ft(function(t,e){var n=!1;return this.changeEachRange(function(t){n=t[r](e)||n}),n})}o(v.rangePrototype,{moveStart:pt(!0,!1),moveEnd:pt(!1,!1),move:pt(!0,!0),trimStart:mt(!0),trimEnd:mt(!1),trim:ft(function(t,e){var n=this.trimStart(e),r=this.trimEnd(e);return n||r}),expand:ft(function(t,e,n){var r=!1,i=(n=D(n,L)).characterOptions;if(e||(e=m),e==g){var a,o,s=n.wordOptions,l=t.getRangeBoundaryPosition(this,!0),u=t.getRangeBoundaryPosition(this,!1),c=ct(l,i,s).nextEndToken(),d=c.chars[0].previousVisible();if(this.collapsed)a=c;else a=ct(u,i,s).previousStartToken();return o=a.chars[a.chars.length-1],d.equals(l)||(this.setStart(d.node,d.offset),r=!0),o&&!o.equals(u)&&(this.setEnd(o.node,o.offset),r=!0),n.trim&&(n.trimStart&&(r=this.trimStart(i)||r),n.trimEnd&&(r=this.trimEnd(i)||r)),r}return this.moveEnd(m,1,n)}),text:ft(function(t,e){return this.collapsed?"":function(t,e,n){for(var r,i=[],a=dt(t,e,n);r=a.next();)i.push(r);return a.dispose(),i}(t,this,s(e,$)).join("")}),selectCharacters:ft(function(t,e,n,r,i){var a={characterOptions:i};e||(e=c(this.getDocument())),this.selectNodeContents(e),this.collapse(!0),this.moveStart("character",n,a),this.collapse(!0),this.moveEnd("character",r-n,a)}),toCharacterRange:ft(function(t,e,n){e||(e=c(this.getDocument()));var r,i=e.parentNode,a=l.getNodeIndex(e),o=-1==l.comparePoints(this.startContainer,this.endContainer,i,a),s=this.cloneRange();return o?(s.setStartAndEnd(this.startContainer,this.startOffset,i,a),r=-s.text(n).length):(s.setStartAndEnd(i,a,this.startContainer,this.startOffset),r=s.text(n).length),{start:r,end:r+this.text(n).length}}),findText:ft(function(t,e,n){(n=D(n,S)).wholeWordsOnly&&(n.wordOptions.includeTrailingSpace=!1);var r=y(n.direction),i=n.withinRange;i||(i=v.createRange()).selectNodeContents(this.getDocument());var a=e,o=!1;"string"==typeof a?n.caseSensitive||(a=a.toLowerCase()):o=!0;var s=t.getRangeBoundaryPosition(this,!r),l=i.comparePoint(s.node,s.offset);-1===l?s=t.getRangeBoundaryPosition(i,!0):1===l&&(s=t.getRangeBoundaryPosition(i,!1));for(var u,c=s,d=!1;;)if(u=ht(c,a,o,i,n)){if(u.valid)return this.setStartAndEnd(u.startPos.node,u.startPos.offset,u.endPos.node,u.endPos.offset),!0;c=r?u.startPos:u.endPos}else{if(!n.wrap||d)return!1;i=i.cloneRange(),c=t.getRangeBoundaryPosition(i,!r),i.setBoundary(s.node,s.offset,r),d=!0}}),pasteHtml:function(t){if(this.deleteContents(),t){var e=this.createContextualFragment(t),n=e.lastChild;this.insertNode(e),this.collapseAfter(n)}}}),o(v.selectionPrototype,{expand:ft(function(t,e,n){this.changeEachRange(function(t){t.expand(e,n)})}),move:ft(function(t,e,n,r){var i=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var a=this.getRangeAt(0);r||(r={}),r.characterOptions=s(r.characterOptions,x),i=a.move(e,n,r),this.setSingleRange(a)}return i}),trimStart:gt("trimStart"),trimEnd:gt("trimEnd"),trim:gt("trim"),selectCharacters:ft(function(t,e,n,r,i,a){var o=v.createRange(e);o.selectCharacters(e,n,r,a),this.setSingleRange(o,i)}),saveCharacterRanges:ft(function(t,e,n){for(var r=this.getAllRanges(),i=[],a=1==r.length&&this.isBackward(),o=0,s=r.length;o<s;++o)i[o]={characterRange:r[o].toCharacterRange(e,n),backward:a,characterOptions:n};return i}),restoreCharacterRanges:ft(function(t,e,n){this.removeAllRanges();for(var r,i,a,o=0,s=n.length;o<s;++o)a=(i=n[o]).characterRange,(r=v.createRange(e)).selectCharacters(e,a.start,a.end,i.characterOptions),this.addRange(r,i.backward)}),text:ft(function(t,e){for(var n=[],r=0,i=this.rangeCount;r<i;++r)n[r]=this.getRangeAt(r).text(e);return n.join("")})}),v.innerText=function(t,e){var n=v.createRange(t);return n.selectNodeContents(t),n.text(e)},v.createWordIterator=function(t,e,n){var r=ot();n=D(n,C);var i=ct(r.getPosition(t,e),n.characterOptions,n.wordOptions),a=y(n.direction);return{next:function(){return a?i.previousStartToken():i.nextEndToken()},dispose:function(){i.dispose(),this.next=function(){}}}},v.noMutation=function(t){t(ot()),st()},v.noMutation.createEntryPointFunction=ft,v.textRange={isBlockNode:function(t){return t&&(1==t.nodeType&&!/^(inline(-block|-table)?|none)$/.test(R(t))||9==t.nodeType||11==t.nodeType)},isCollapsedWhitespaceNode:I,createPosition:ft(function(t,e,n){return t.getPosition(e,n)})}}),t},this);var textAngularVersion="v1.5.16",_browserDetect={ie:function(){for(var t=3,e=document.createElement("div"),n=e.getElementsByTagName("i");e.innerHTML="\x3c!--[if gt IE "+ ++t+"]><i></i><![endif]--\x3e",n[0];);return 4<t?t:void 0}(),webkit:/AppleWebKit\/([\d.]+)/i.test(navigator.userAgent),isFirefox:-1<navigator.userAgent.toLowerCase().indexOf("firefox")},performance=performance||{};function stripHtmlToText(t){var e=document.createElement("DIV");e.innerHTML=t;var n=e.textContent||e.innerText||"";return n.replace("",""),n=n.trim()}function getDomFromHtml(t){var e=document.createElement("DIV");return e.innerHTML=t,e}performance.now=performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow||function(){return(new Date).getTime()};var sheet,addCSSRule,removeCSSRule,_addCSSRule,_removeCSSRule,_getRuleIndex,BLOCKELEMENTS=/^(address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video)$/i,LISTELEMENTS=/^(ul|li|ol)$/i,VALIDELEMENTS=/^(#text|span|address|article|aside|audio|blockquote|canvas|center|dd|div|dl|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hgroup|hr|noscript|ol|output|p|pre|section|table|tfoot|ul|video|li)$/i;if(String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),8<_browserDetect.ie||void 0===_browserDetect.ie){for(var _sheets=document.styleSheets,i=0;i<_sheets.length;i++)if((0===_sheets[i].media.length||_sheets[i].media.mediaText.match(/(all|screen)/gi))&&_sheets[i].href&&_sheets[i].href.match(/textangular\.(min\.|)css/gi)){sheet=_sheets[i];break}sheet||(sheet=function(){var t=document.createElement("style");return _browserDetect.webkit&&t.appendChild(document.createTextNode("")),document.getElementsByTagName("head")[0].appendChild(t),t.sheet}()),addCSSRule=function(t,e){return _addCSSRule(sheet,t,e)},_addCSSRule=function(t,e,n){var r,i;return t.cssRules?r=Math.max(t.cssRules.length-1,0):t.rules&&(r=Math.max(t.rules.length-1,0)),t.insertRule?t.insertRule(e+"{"+n+"}",r):t.addRule(e,n,r),sheet.rules?i=sheet.rules[r]:sheet.cssRules&&(i=sheet.cssRules[r]),i},_getRuleIndex=function(t,e){var n,r;for(n=0;n<e.length;n++)if(e[n].cssText===t.cssText){r=n;break}return r},removeCSSRule=function(t){_removeCSSRule(sheet,t)},_removeCSSRule=function(t,e){var n=t.cssRules||t.rules;if(n&&0!==n.length){var r=_getRuleIndex(e,n);t.removeRule?t.removeRule(r):t.deleteRule(r)}}}angular.module("textAngular.factories",[]).factory("taBrowserTag",[function(){return function(t){return t?""===t?void 0===_browserDetect.ie?"div":_browserDetect.ie<=8?"P":"p":_browserDetect.ie<=8?t.toUpperCase():t:_browserDetect.ie<=8?"P":"p"}}]).factory("taApplyCustomRenderers",["taCustomRenderers","taDOM",function(e,r){return function(t){var n=angular.element("<div></div>");return n[0].innerHTML=t,angular.forEach(e,function(e){var t=[];e.selector&&""!==e.selector?t=n.find(e.selector):e.customAttribute&&""!==e.customAttribute&&(t=r.getByAttribute(n,e.customAttribute)),angular.forEach(t,function(t){t=angular.element(t),e.selector&&""!==e.selector&&e.customAttribute&&""!==e.customAttribute?void 0!==t.attr(e.customAttribute)&&e.renderLogic(t):e.renderLogic(t)})}),n[0].innerHTML}}]).factory("taFixChrome",function(){return function(t,e){if(!t||!angular.isString(t)||t.length<=0)return t;for(var n,r,i,a=/style\s?=\s?(["'])(?:(?=(\\?))\2.)*?\1/gi,o=/<span class="Apple-converted-space">([^<]+)<\/span>/gi,s="",l=0;n=o.exec(t);)i=(i=n[1]).replace(/&nbsp;/gi," "),s+=t.substring(l,n.index)+i,l=n.index+n[0].length;if(l&&(t=s+=t.substring(l),s="",l=0),!e){for(;n=a.exec(t);)s+=t.substring(l,n.index-1),r=n[0],(n=/font-family: inherit;|line-height: 1.[0-9]{3,12};|color: inherit; line-height: 1.1;|color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi.exec(r))?8<(r=r.replace(/( |)font-family: inherit;|( |)line-height: 1.[0-9]{3,12};|( |)color: inherit;|( |)color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);|( |)background-color: rgb\(\d{1,3}, \d{1,3}, \d{1,3}\);/gi,"")).length&&(s+=" "+r):s+=" "+r,l=a.lastIndex;s+=t.substring(l)}return 0<l?s.replace(/<span\s?>(.*?)<\/span>(<br(\/|)>|)/gi,"$1"):t}}).factory("taSanitize",["$sanitize",function(c){for(var p=[{property:"font-weight",values:["bold"],tag:"b"},{property:"font-style",values:["italic"],tag:"i"}],t=[],e=0;e<p.length;e++){for(var n="("+p[e].property+":\\s*(",r=0;r<p[e].values.length;r++)0<r&&(n+="|"),n+=p[e].values[r];n+=");)",t.push(n)}var m="("+t.join("|")+")";function g(t,e){for(var n,r=0,i=0,a=/<[^>]*>/gi;n=a.exec(t);)if(i=n.index,"/"===n[0].substr(1,1)){if(0===r)break;r--}else r++;return e+t.substring(0,i)+angular.element(e)[0].outerHTML.substring(e.length)+t.substring(i)}var d=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi),h=new RegExp(/<span class="rangySelectionBoundary" id="selectionBoundary_\d+_\d+">[^<>]+?<\/span>/gi),f=new RegExp(/<span id="selectionBoundary_\d+_\d+" class="rangySelectionBoundary">[^<>]+?<\/span>/gi);return function(t,e,n){if(!n)try{t=function t(e){if(!e||!angular.isString(e)||e.length<=0)return e;for(var n,r,i,a,o,s,l=/<([^>\/]+?)style=("([^"]+)"|'([^']+)')([^>]*)>/gi,u="",c="",d=0;r=l.exec(e);){a=r[3]||r[4];var h=new RegExp(m,"i");if(angular.isString(a)&&h.test(a)){o="";for(var f=new RegExp(m,"ig");i=f.exec(a);)for(n=0;n<p.length;n++)i[2*n+2]&&(o+="<"+p[n].tag+">");s=t(e.substring(d,r.index)),0<u.length?c+=g(s,u):c+=s,a=a.replace(new RegExp(m,"ig"),""),c+="<"+r[1].trim(),0<a.length&&(c+=' style="'+a+'"'),c+=r[5]+">",d=r.index+r[0].length,u=o}}return 0<u.length?c+=g(e.substring(d),u):c+=e.substring(d),c}(t)}catch(t){}if(t=function(t){if(!t||!angular.isString(t)||t.length<=0)return t;for(var e,n=/<([^>\/]+?)align=("([^"]+)"|'([^']+)')([^>]*)>/gi,r="",i=0;e=n.exec(t);){r+=t.substring(i,e.index),i=e.index+e[0].length;var a="<"+e[1]+e[5];/style=("([^"]+)"|'([^']+)')/gi.test(a)?a=a.replace(/style=("([^"]+)"|'([^']+)')/i,'style="$2$3 text-align:'+(e[3]||e[4])+';"'):a+=' style="text-align:'+(e[3]||e[4])+';"',r+=a+=">"}return r+t.substring(i)}(t))try{t=(t=(t=(t=t.replace(d,"")).replace(h,"")).replace(d,"")).replace(f,"")}catch(t){}var r;try{r=c(t),n&&(r=t)}catch(t){r=e||""}var i,a=r.match(/(<pre[^>]*>.*?<\/pre[^>]*>)/gi),o=r.replace(/(&#(9|10);)*/gi,""),s=/<pre[^>]*>.*?<\/pre[^>]*>/gi,l=0,u=0;for(r="";null!==(i=s.exec(o))&&l<a.length;)r+=o.substring(u,i.index)+a[l],u=i.index+i[0].length,l++;return r+o.substring(u)}}]).factory("taToolExecuteAction",["$q","$log",function(a,o){return function(t){void 0!==t&&(this.$editor=function(){return t});var e,n=a.defer(),r=n.promise,i=this.$editor();try{e=this.action(n,i.startAction()),r.finally(function(){i.endAction.call(i)})}catch(t){o.error(t)}(e||void 0===e)&&n.resolve()}}]),angular.module("textAngular.DOM",["textAngular.factories"]).factory("taExecCommand",["taSelection","taBrowserTag","$document",function(D,E,Y){var A=function(t,e){var n,r,i=t.find("li");for(r=i.length-1;0<=r;r--)n=angular.element("<"+e+">"+i[r].innerHTML+"</"+e+">"),t.after(n);t.remove(),D.setSelectionToElementEnd(n[0])},N=function(t,e,n,r,i){var a,o,s,l,u,c=t.find("li");for(o=0;o<c.length;o++)if(c[o].outerHTML===e[0].outerHTML){0<(u=o)&&(s=c[o-1]),o+1<c.length&&(l=c[o+1]);break}var d="";if(r?d+="<"+i+">"+e[0].innerHTML+"</"+i+">":(d+="<"+E(n)+">",d+="<li>"+e[0].innerHTML+"</li>",d+="</"+E(n)+">"),a=angular.element(d),!s)return e.remove(),t.after(angular.element(t[0].outerHTML)),t.after(a),t.remove(),void D.setSelectionToElementEnd(a[0]);if(l){t.parent();var h="",f=t[0].nodeName.toLowerCase();for(h+="<"+f+">",o=0;o<u;o++)h+="<li>"+c[o].innerHTML+"</li>";h+="</"+f+">";var p="";for(p+="<"+f+">",o=u+1;o<c.length;o++)p+="<li>"+c[o].innerHTML+"</li>";p+="</"+f+">",t.after(angular.element(p)),t.after(a),t.after(angular.element(h)),t.remove(),D.setSelectionToElementEnd(a[0])}else e.remove(),t.after(a),D.setSelectionToElementEnd(a[0])},o=function(t){/(<br(|\/)>)$/i.test(t.innerHTML.trim())?D.setSelectionBeforeElement(angular.element(t).find("br")[0]):D.setSelectionToElementEnd(t)},O=function(t,e){var n=angular.element("<"+e+">"+t[0].innerHTML+"</"+e+">");t.after(n),t.remove(),o(n.find("li")[0])},R=function(t,e,n){for(var r="",i=0;i<t.length;i++)r+="<"+E("li")+">"+t[i].innerHTML+"</"+E("li")+">";var a=angular.element("<"+n+">"+r+"</"+n+">");e.after(a),e.remove(),o(a.find("li")[0])},H=function(t,e){for(var n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];r.tagName&&r.tagName.match(BLOCKELEMENTS)&&H(r,e)}if(null===t.parentNode)return t;if("<br>"===e)return t;var i=angular.element(e);return i[0].innerHTML=t.innerHTML,t.parentNode.insertBefore(i[0],t),t.parentNode.removeChild(t),i};return function(L,C){return L=E(L),function(t,e,n,r){var i,a,o,s,l,u,c,d,h=angular.element("<"+L+">");try{var f,p;D.getSelection&&(d=D.getSelection()),void 0!==(c=D.getSelectionElement()).tagName&&("div"===c.tagName.toLowerCase()&&/taTextElement.+/.test(c.id)&&d&&d.start&&1===d.start.offset&&1===d.end.offset?(f=c.innerHTML,/<br>/i.test(f)&&(f=f.replace(/<br>/i,"&#8203;")),/<br\/>/i.test(f)&&(f=f.replace(/<br\/>/i,"&#8203;")),/<span>(<span>)+/i.test(f)&&(f=__.replace(/<span>(<span>)+/i,"<span>")),/<\/span>(<\/span>)+/i.test(f)&&(f=__.replace(/<\/span>(<\/span>)+/i,"</span>")),/<span><\/span>/i.test(f)&&(f=f.replace(/<span><\/span>/i,"")),p="<div>"+f+"</div>",c.innerHTML=p,D.setSelectionToElementEnd(c.childNodes[0]),c=D.getSelectionElement()):"span"===c.tagName.toLowerCase()&&d&&d.start&&1===d.start.offset&&1===d.end.offset?(f=c.innerHTML,/<br>/i.test(f)&&(f=f.replace(/<br>/i,"&#8203;")),/<br\/>/i.test(f)&&(f=f.replace(/<br\/>/i,"&#8203;")),/<span>(<span>)+/i.test(f)&&(f=__.replace(/<span>(<span>)+/i,"<span>")),/<\/span>(<\/span>)+/i.test(f)&&(f=__.replace(/<\/span>(<\/span>)+/i,"</span>")),/<span><\/span>/i.test(f)&&(f=f.replace(/<span><\/span>/i,"")),p="<div>"+f+"</div>",c.innerHTML=p,D.setSelectionToElementEnd(c.childNodes[0]),c=D.getSelectionElement()):"p"===c.tagName.toLowerCase()&&d&&d.start&&1===d.start.offset&&1===d.end.offset?(f=c.innerHTML,/<br>/i.test(f)&&(f=f.replace(/<br>/i,"&#8203;"),c.innerHTML=f)):"li"===c.tagName.toLowerCase()&&d&&d.start&&d.start.offset===d.end.offset&&(f=c.innerHTML,/<br>/i.test(f)&&(f=f.replace(/<br>/i,""),c.innerHTML=f)))}catch(t){}if(c){var m=angular.element(c),g=c&&c.tagName&&c.tagName.toLowerCase()||"";if("insertorderedlist"===t.toLowerCase()||"insertunorderedlist"===t.toLowerCase()){var v=E("insertorderedlist"===t.toLowerCase()?"ol":"ul"),y=D.getOnlySelectedElements();if(1<y.length&&("ol"===g||"ul"===g))return function(t,e,n,r,i){var a,o,s,l,u,c=t.find("li"),d=[];for(o=0;o<c.length;o++)for(s=0;s<e.length;s++)c[o].isEqualNode(e[s])&&(d[s]=o);0<d[0]&&(l=c[d[0]-1]),d[e.length-1]+1<c.length&&(u=c[d[e.length-1]+1]);var h="";if(r)for(s=0;s<e.length;s++)h+="<"+i+">"+e[s].innerHTML+"</"+i+">",e[s].remove();else{for(h+="<"+E(n)+">",s=0;s<e.length;s++)h+=e[s].outerHTML,e[s].remove();h+="</"+E(n)+">"}if(a=angular.element(h),!l)return t.after(angular.element(t[0].outerHTML)),t.after(a),t.remove(),void D.setSelectionToElementEnd(a[0]);if(!u)return t.after(a),void D.setSelectionToElementEnd(a[0]);var f="",p=t[0].nodeName.toLowerCase();for(f+="<"+p+">",o=0;o<d[0];o++)f+="<li>"+c[o].innerHTML+"</li>";f+="</"+p+">";var m="";for(m+="<"+p+">",o=d[e.length-1]+1;o<c.length;o++)m+="<li>"+c[o].innerHTML+"</li>";m+="</"+p+">",t.after(angular.element(m)),t.after(a),t.after(angular.element(f)),t.remove(),D.setSelectionToElementEnd(a[0])}(m,y,v,v===g,L);if(g===v)return m[0].childNodes.length!==y.length&&1===y.length?(m=angular.element(y[0]),N(m.parent(),m,v,!0,L)):A(m,L);if("li"===g&&m.parent()[0].tagName.toLowerCase()===v&&1===m.parent().children().length)return A(m.parent(),L);if("li"===g&&m.parent()[0].tagName.toLowerCase()!==v&&1===m.parent().children().length)return O(m.parent(),v);if(g.match(BLOCKELEMENTS)&&!m.hasClass("ta-bind")){if(y.length&&m[0].childNodes.length!==y.length&&1===y.length)return m=angular.element(y[0]),N(m.parent(),m,v,v===g,L);if("ol"===g||"ul"===g)return O(m,v);var _=!1;return angular.forEach(m.children(),function(t){t.tagName.match(BLOCKELEMENTS)&&(_=!0)}),R(_?m.children():[angular.element("<div>"+c.innerHTML+"</div>")[0]],m,v)}if(g.match(BLOCKELEMENTS)){if(0===(s=D.getOnlySelectedElements()).length)a=angular.element("<"+v+"><li>"+c.innerHTML+"</li></"+v+">"),m.html(""),m.append(a);else{if(1===s.length&&("ol"===s[0].tagName.toLowerCase()||"ul"===s[0].tagName.toLowerCase()))return s[0].tagName.toLowerCase()===v?A(angular.element(s[0]),L):O(angular.element(s[0]),v);o="";var b=[];for(i=0;i<s.length;i++)if(3!==s[i].nodeType){var w=angular.element(s[i]);if("li"===s[i].tagName.toLowerCase())continue;"ol"===s[i].tagName.toLowerCase()||"ul"===s[i].tagName.toLowerCase()?o+=w[0].innerHTML:"span"!==s[i].tagName.toLowerCase()||"ol"!==s[i].childNodes[0].tagName.toLowerCase()&&"ul"!==s[i].childNodes[0].tagName.toLowerCase()?o+="<"+E("li")+">"+w[0].innerHTML+"</"+E("li")+">":o+=w[0].childNodes[0].innerHTML,b.unshift(w)}a=angular.element("<"+v+">"+o+"</"+v+">"),b.pop().replaceWith(a),angular.forEach(b,function(t){t.remove()})}return void D.setSelectionToElementEnd(a[0])}}else{if("formatblock"===t.toLowerCase()){for("default"===(u=n.toLowerCase().replace(/[<>]/gi,"")).trim()&&(n="<"+(u=L)+">"),a="li"===g?m.parent():m;!a[0].tagName||!a[0].tagName.match(BLOCKELEMENTS)&&!a.parent().attr("contenteditable");)g=((a=a.parent())[0].tagName||"").toLowerCase();if(g===u){s=a.children();var M=!1;for(i=0;i<s.length;i++)M=M||s[i].tagName.match(BLOCKELEMENTS);M?(a.after(s),l=a.next(),a.remove(),a=l):(h.append(a[0].childNodes),a.after(h),a.remove(),a=h)}else if(a.parent()[0].tagName.toLowerCase()!==u||a.parent().hasClass("ta-bind"))if(g.match(LISTELEMENTS))a.wrap(n);else{for(0===(s=D.getOnlySelectedElements()).length&&(s=[a[0]]),i=0;i<s.length;i++)if(3===s[i].nodeType||!s[i].tagName.match(BLOCKELEMENTS))for(;3===s[i].nodeType||!s[i].tagName||!s[i].tagName.match(BLOCKELEMENTS);)s[i]=s[i].parentNode;if(1<(s=s.filter(function(t,e,n){return n.indexOf(t)===e})).length&&(s=s.filter(function(t,e,n){return!("div"===t.nodeName.toLowerCase()&&/^taTextElement/.test(t.id))})),angular.element(s[0]).hasClass("ta-bind"))(a=angular.element(n))[0].innerHTML=s[0].innerHTML,s[0].innerHTML=a[0].outerHTML;else if("blockquote"===u){for(o="",i=0;i<s.length;i++)o+=s[i].outerHTML;for((a=angular.element(n))[0].innerHTML=o,s[0].parentNode.insertBefore(a[0],s[0]),i=s.length-1;0<=i;i--)s[i].parentNode&&s[i].parentNode.removeChild(s[i])}else if("pre"===u&&D.getStateShiftKey()){for(o="",i=0;i<s.length;i++)o+=s[i].outerHTML;for((a=angular.element(n))[0].innerHTML=o,s[0].parentNode.insertBefore(a[0],s[0]),i=s.length-1;0<=i;i--)s[i].parentNode&&s[i].parentNode.removeChild(s[i])}else for(i=0;i<s.length;i++){var $=H(s[i],n);s[i]===a[0]&&(a=angular.element($))}}else{var x=a.parent(),k=x.contents();for(i=0;i<k.length;i++)x.parent().hasClass("ta-bind")&&3===k[i].nodeType&&((h=angular.element("<"+L+">"))[0].innerHTML=k[i].outerHTML,k[i]=h[0]),x.parent()[0].insertBefore(k[i],x[0]);x.remove()}return D.setSelectionToElementEnd(a[0]),void a[0].focus()}if("createlink"===t.toLowerCase()){if("a"===g)return void(D.getSelectionElement().href=n);var S='<a href="'+n+'" target="'+(r.a.target?r.a.target:"")+'">';if(D.getSelection().collapsed)D.insertHtml(S+n+"</a>",C);else if(rangy.getSelection().getRangeAt(0).canSurroundContents()){var T=angular.element(S+"</a>")[0];rangy.getSelection().getRangeAt(0).surroundContents(T)}return}if("inserthtml"===t.toLowerCase())return void D.insertHtml(n,C)}try{Y[0].execCommand(t,e,n)}catch(t){}}}}}]).service("taSelection",["$document","taDOM","$log",function(t,v,e){var n,y=t[0],r=function(t,e){return t.tagName&&t.tagName.match(/^br$/i)&&0===e&&!t.previousSibling?{element:t.parentNode,offset:0}:{element:t,offset:e}},_={getSelection:function(){var t;try{t=rangy.getSelection().getRangeAt(0)}catch(t){return}var e=t.commonAncestorContainer,n={start:r(t.startContainer,t.startOffset),end:r(t.endContainer,t.endOffset),collapsed:t.collapsed};return 3===e.nodeType&&("div"===e.parentNode.nodeName.toLowerCase()&&/^taTextElement/.test(e.parentNode.id)||(e=e.parentNode)),"div"===e.nodeName.toLowerCase()&&/^taTextElement/.test(e.id)?(n.start.element=e.childNodes[n.start.offset],n.end.element=e.childNodes[n.end.offset],n.container=e):e.parentNode===n.start.element||e.parentNode===n.end.element?n.container=e.parentNode:n.container=e,n},updateLeftArrowKey:function(t){var e=rangy.getSelection().getRangeAt(0);if(e&&e.collapsed){var n=_.getFlattenedDom(e);if(!n.findIndex)return;var r,i,a=e.startContainer,o=n.findIndex(function(t,e){return t.node===a||-1!==t.parents.indexOf(a)});if(n.forEach(function(t,e){t.parents.forEach(function(t,e){})}),o+1<n.length&&(r=n[o+1].node),r&&r.textContent&&/^\ufeff([^\ufeff]*)$/.exec(r.textContent))return;if(0<o&&(i=n[o-1].node),0===e.startOffset&&i&&/^\ufeff([^\ufeff]*)$/.exec(i.textContent))return void _.setSelectionToElementEnd(i)}},updateRightArrowKey:function(t){},getFlattenedDom:function(t){var e=t.commonAncestorContainer.parentNode;if(!e)return t.commonAncestorContainer.childNodes;var i=Array.prototype.slice.call(e.childNodes),n=i.indexOf(t.startContainer);return n+1<i.length&&0<n||e.parentNode&&(e=e.parentNode),i=[],function n(r){r.node.childNodes.length?Array.prototype.slice.call(r.node.childNodes).forEach(function(t){var e=r.parents.slice();e.slice(-1)[0]!==r.node&&e.push(r.node),n({parents:e,node:t})}):i.push({parents:r.parents,node:r.node})}({parents:[e],node:e}),i},getOnlySelectedElements:function(){var t=rangy.getSelection().getRangeAt(0),e=t.commonAncestorContainer;return e=3===e.nodeType?e.parentNode:e,t.getNodes([1],function(t){return t.parentNode===e})},getAllSelectedElements:function(){var t=rangy.getSelection().getRangeAt(0),e=t.commonAncestorContainer;e=3===e.nodeType?e.parentNode:e;var n=t.getNodes([1],function(t){return t.parentNode===e}),r=e.innerHTML;if((r=r.replace(/<span id=.selectionBoundary[^>]+>\ufeff?<\/span>/gi,""))===t.toHtml()&&("div"!==e.nodeName.toLowerCase()||!/^taTextElement/.test(e.id))){for(var i=[],a=n.length;a--;i.unshift(n[a]));(n=i).push(e)}return n},getSelectionElement:function(){return _.getSelection()?_.getSelection().container:void 0},setSelection:function(t,e,n,r){var i=rangy.createRange();i.setStart(t,n),i.setEnd(e,r),rangy.getSelection().setSingleRange(i)},setSelectionBeforeElement:function(t){var e=rangy.createRange();e.selectNode(t),e.collapse(!0),rangy.getSelection().setSingleRange(e)},setSelectionAfterElement:function(t){var e=rangy.createRange();e.selectNode(t),e.collapse(!1),rangy.getSelection().setSingleRange(e)},setSelectionToElementStart:function(t){var e=rangy.createRange();e.selectNodeContents(t),e.collapse(!0),rangy.getSelection().setSingleRange(e)},setSelectionToElementEnd:function(t){var e=rangy.createRange();e.selectNodeContents(t),e.collapse(!1),t.childNodes&&t.childNodes[t.childNodes.length-1]&&"br"===t.childNodes[t.childNodes.length-1].nodeName&&(e.startOffset=e.endOffset=e.startOffset-1),rangy.getSelection().setSingleRange(e)},setStateShiftKey:function(t){n=t},getStateShiftKey:function(){return n},insertHtml:function(t,e){var n,r,i,a,o,s,l,u=angular.element("<div>"+t+"</div>"),c=rangy.getSelection().getRangeAt(0),d=y.createDocumentFragment(),h=u[0].childNodes,f=!0;if(0<h.length){for(a=[],i=0;i<h.length;i++){var p=h[i];"p"===p.nodeName.toLowerCase()&&""===p.innerHTML.trim()||(f=f&&!BLOCKELEMENTS.test(p.nodeName),a.push(p))}for(var m=0;m<a.length;m++)s=d.appendChild(a[m]);!f&&c.collapsed&&/^(|<br(|\/)>)$/i.test(c.startContainer.innerHTML)&&c.selectNode(c.startContainer)}else f=!0,s=d=y.createTextNode(t);if(f)c.deleteContents();else if(c.collapsed&&c.startContainer!==e)if(c.startContainer.innerHTML&&c.startContainer.innerHTML.match(/^<[^>]*>$/i))n=c.startContainer,1===c.startOffset?(c.setStartAfter(n),c.setEndAfter(n)):(c.setStartBefore(n),c.setEndBefore(n));else{if(3===c.startContainer.nodeType&&c.startContainer.parentNode!==e)for(r=(n=c.startContainer.parentNode).cloneNode(),v.splitNodes(n.childNodes,n,r,c.startContainer,c.startOffset);!VALIDELEMENTS.test(n.nodeName);){angular.element(n).after(r);var g=r;r=(n=n.parentNode).cloneNode(),v.splitNodes(n.childNodes,n,r,g)}else r=(n=c.startContainer).cloneNode(),v.splitNodes(n.childNodes,n,r,void 0,void 0,c.startOffset);if(angular.element(n).after(r),c.setStartAfter(n),c.setEndAfter(n),/^(|<br(|\/)>)$/i.test(n.innerHTML.trim())&&(c.setStartBefore(n),c.setEndBefore(n),angular.element(n).remove()),/^(|<br(|\/)>)$/i.test(r.innerHTML.trim())&&angular.element(r).remove(),"li"===n.nodeName.toLowerCase()){for(l=y.createDocumentFragment(),o=0;o<d.childNodes.length;o++)u=angular.element("<li>"),v.transferChildNodes(d.childNodes[o],u[0]),v.transferNodeAttributes(d.childNodes[o],u[0]),l.appendChild(u[0]);d=l,s&&(s=(s=d.childNodes[d.childNodes.length-1]).childNodes[s.childNodes.length-1])}}else c.deleteContents();c.insertNode(d),s&&_.setSelectionToElementEnd(s)}};return _}]).service("taDOM",function(){var u={getByAttribute:function(t,e){var n=[],r=t.children();return r.length&&angular.forEach(r,function(t){n=n.concat(u.getByAttribute(angular.element(t),e))}),void 0!==t.attr(e)&&n.push(t),n},transferChildNodes:function(t,e){for(e.innerHTML="";0<t.childNodes.length;)e.appendChild(t.childNodes[0]);return e},splitNodes:function(t,e,n,r,i,a){if(!r&&isNaN(a))throw new Error("taDOM.splitNodes requires a splitNode or splitIndex");for(var o=document.createDocumentFragment(),s=document.createDocumentFragment(),l=0;0<t.length&&(isNaN(a)||a!==l)&&t[0]!==r;)o.appendChild(t[0]),l++;for(!isNaN(i)&&0<=i&&t[0]&&(o.appendChild(document.createTextNode(t[0].nodeValue.substring(0,i))),t[0].nodeValue=t[0].nodeValue.substring(i));0<t.length;)s.appendChild(t[0]);u.transferChildNodes(o,e),u.transferChildNodes(s,n)},transferNodeAttributes:function(t,e){for(var n=0;n<t.attributes.length;n++)e.setAttribute(t.attributes[n].name,t.attributes[n].value);return e}};return u}),angular.module("textAngular.validators",[]).directive("taMaxText",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,r){var i=parseInt(t.$eval(n.taMaxText));if(isNaN(i))throw"Max text must be an integer";n.$observe("taMaxText",function(t){if(i=parseInt(t),isNaN(i))throw"Max text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMaxText=function(t){var e=angular.element("<div/>");return e.html(t),e.text().length<=i}}}}).directive("taMinText",function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,r){var i=parseInt(t.$eval(n.taMinText));if(isNaN(i))throw"Min text must be an integer";n.$observe("taMinText",function(t){if(i=parseInt(t),isNaN(i))throw"Min text must be an integer";r.$dirty&&r.$validate()}),r.$validators.taMinText=function(t){var e=angular.element("<div/>");return e.html(t),!e.text().length||e.text().length>=i}}}}),angular.module("textAngular.taBind",["textAngular.factories","textAngular.DOM"]).service("_taBlankTest",[function(){return function(t){return!t||""===stripHtmlToText(t)&&!/<img[^>]+>/.test(t)}}]).directive("taButton",[function(){return{link:function(t,e,n){e.attr("unselectable","on"),e.on("mousedown",function(t,e){return e&&angular.extend(t,e),t.preventDefault(),!1})}}}]).directive("taBind",["taSanitize","$timeout","$document","taFixChrome","taBrowserTag","taSelection","taSelectableElements","taApplyCustomRenderers","taOptions","_taBlankTest","$parse","taDOM","textAngularManager",function(U,q,V,G,t,K,J,X,Z,Q,tt,e,et){return{priority:2,require:["ngModel","?ngModelOptions"],link:function(b,w,u,t){var l,M,c,$=t[0],d=t[1]||{},r=void 0!==w.attr("contenteditable")&&w.attr("contenteditable"),e=r||"textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase(),h=!1,n=!1,i=!1,x=u.taUnsafeSanitizer||Z.disableSanitizer,a=u.taKeepStyles||Z.keepStyles,f=/^(9|19|20|27|33|34|35|36|37|38|39|40|45|112|113|114|115|116|117|118|119|120|121|122|123|144|145)$/i,p=/^(8|13|32|46|59|61|107|109|173|186|187|188|189|190|191|192|219|220|221|222)$/i,m=1,g=2,v=4,y=8,_=[{specialKey:"UndoKey",forbiddenModifiers:v+y,mustHaveModifiers:[g+m],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:v,mustHaveModifiers:[g+m,y],keyCode:90},{specialKey:"RedoKey",forbiddenModifiers:v+y,mustHaveModifiers:[g+m],keyCode:89},{specialKey:"TabKey",forbiddenModifiers:g+y+v+m,mustHaveModifiers:[],keyCode:9},{specialKey:"ShiftTabKey",forbiddenModifiers:g+v+m,mustHaveModifiers:[y],keyCode:9}];void 0===u.taDefaultWrap&&(u.taDefaultWrap="p"),""===u.taDefaultWrap?(c="",void 0===_browserDetect.ie||(11<=_browserDetect.ie||_browserDetect.ie)):(c=void 0===_browserDetect.ie||11<=_browserDetect.ie?"br"===u.taDefaultWrap.toLowerCase()?"<BR><BR>":"<"+u.taDefaultWrap+"><br></"+u.taDefaultWrap+">":_browserDetect.ie<=8?"<"+u.taDefaultWrap.toUpperCase()+"></"+u.taDefaultWrap.toUpperCase()+">":"<"+u.taDefaultWrap+"></"+u.taDefaultWrap+">",void 0===_browserDetect.ie||11<=_browserDetect.ie?"br"===u.taDefaultWrap.toLowerCase()||(u.taDefaultWrap,u.taDefaultWrap):_browserDetect.ie<=8?(u.taDefaultWrap.toUpperCase(),u.taDefaultWrap.toUpperCase()):(u.taDefaultWrap,u.taDefaultWrap)),d.$options||(d.$options={});var k,o=function(t){if(Q(t))return t;var e=angular.element("<div>"+t+"</div>");if(0===e.children().length)t="<"+u.taDefaultWrap+">"+t+"</"+u.taDefaultWrap+">";else{var n,r=e[0].childNodes,i=!1;for(n=0;n<r.length&&!(i=r[n].nodeName.toLowerCase().match(BLOCKELEMENTS));n++);if(i)for(t="",n=0;n<r.length;n++){var a=r[n],o=a.nodeName.toLowerCase();if("#comment"===o)t+="\x3c!--"+a.nodeValue+"--\x3e";else if("#text"===o){var s=a.textContent;s.trim()?t+="<"+u.taDefaultWrap+">"+s+"</"+u.taDefaultWrap+">":t+=s}else if(o.match(BLOCKELEMENTS))t+=a.outerHTML;else{var l=a.outerHTML||a.nodeValue;""!==l.trim()?t+="<"+u.taDefaultWrap+">"+l+"</"+u.taDefaultWrap+">":t+=l}}else t="<"+u.taDefaultWrap+">"+t+"</"+u.taDefaultWrap+">"}return t};u.taPaste&&(M=tt(u.taPaste)),w.addClass("ta-bind"),b["$undoManager"+(u.id||"")]=$.$undoManager={_stack:[],_index:0,_max:1e3,push:function(t){return null==t||void 0!==this.current()&&null!==this.current()&&t===this.current()||(this._index<this._stack.length-1&&(this._stack=this._stack.slice(0,this._index+1)),this._stack.push(t),k&&q.cancel(k),this._stack.length>this._max&&this._stack.shift(),this._index=this._stack.length-1),t},undo:function(){return this.setToIndex(this._index-1)},redo:function(){return this.setToIndex(this._index+1)},setToIndex:function(t){if(!(t<0||t>this._stack.length-1))return this._index=t,this.current()},current:function(){return this._stack[this._index]}};var s,S=function(){if(r)return w[0].innerHTML;if(e)return w.val();throw"textAngular Error: attempting to update non-editable taBind"},T=function(t){return b.$emit("ta-element-select",this),t.preventDefault(),!1},L=b["reApplyOnSelectorHandlers"+(u.id||"")]=function(){h||angular.forEach(J,function(t){w.find(t).off("click",T).on("click",T)})},C=function(t,e,n){i=n||!1,null==e&&(e=r),null==t&&(t=S()),Q(t)?(""!==$.$viewValue&&$.$setViewValue(""),e&&""!==$.$undoManager.current()&&$.$undoManager.push("")):(L(),$.$viewValue!==t&&($.$setViewValue(t),e&&$.$undoManager.push(t))),$.$render()},D=function(t){w[0].innerHTML=t},E=b["$undoTaBind"+(u.id||"")]=function(){if(!h&&r){var t=$.$undoManager.undo();null!=t&&(D(t),C(t,!1),s&&q.cancel(s),s=q(function(){w[0].focus(),K.setSelectionToElementEnd(w[0])},1))}},Y=b["$redoTaBind"+(u.id||"")]=function(){if(!h&&r){var t=$.$undoManager.redo();null!=t&&(D(t),C(t,!1),s&&q.cancel(s),s=q(function(){w[0].focus(),K.setSelectionToElementEnd(w[0])},1))}};b["updateTaBind"+(u.id||"")]=function(){h||C(void 0,void 0,!0)};var A=function(t){return $.$oldViewValue=U(G(t,a),$.$oldViewValue,x)};if(w.attr("required")&&($.$validators.required=function(t,e){return!Q(t||e)}),$.$parsers.push(A),$.$parsers.unshift(o),$.$formatters.push(A),$.$formatters.unshift(o),$.$formatters.unshift(function(t){return $.$undoManager.push(t||"")}),e)if(b.events={},r){var N,O,R=!1,H=function(t){var e=void 0!==t&&t.match(/content=["']*OneNote.File/i);if(t&&t.trim().length){if(t.match(/class=["']*Mso(Normal|List)/i)||t.match(/content=["']*Word.Document/i)||t.match(/content=["']*OneNote.File/i)){var n=t.match(/<!--StartFragment-->([\s\S]*?)<!--EndFragment-->/i);n=(n=n?n[1]:t).replace(/<o:p>[\s\S]*?<\/o:p>/gi,"").replace(/class=(["']|)MsoNormal(["']|)/gi,"");var r=angular.element("<div>"+n+"</div>"),i=angular.element("<div></div>"),a={element:null,lastIndent:[],lastLi:null,isUl:!1};a.lastIndent.peek=function(){var t=this.length;if(0<t)return this[t-1]};for(var o=function(t){a.isUl=t,a.element=angular.element(t?"<ul>":"<ol>"),a.lastIndent=[],a.lastIndent.peek=function(){var t=this.length;if(0<t)return this[t-1]},a.lastLevelMatch=null},s=0;s<=r[0].childNodes.length;s++)if(r[0].childNodes[s]&&"#text"!==r[0].childNodes[s].nodeName){var l=r[0].childNodes[s].tagName.toLowerCase();if("p"===l||"ul"===l||"h1"===l||"h2"===l||"h3"===l||"h4"===l||"h5"===l||"h6"===l||"table"===l){var u=angular.element(r[0].childNodes[s]),c=(u.attr("class")||"").match(/MsoList(Bullet|Number|Paragraph)(CxSp(First|Middle|Last)|)/i);if(c){if(u[0].childNodes.length<2||u[0].childNodes[1].childNodes.length<1)continue;var d="bullet"===c[1].toLowerCase()||"number"!==c[1].toLowerCase()&&!(/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(u[0].childNodes[1].innerHTML)||/^[^0-9a-z<]*[0-9a-z]+[^0-9a-z<>]</i.test(u[0].childNodes[1].childNodes[0].innerHTML)),h=(u.attr("style")||"").match(/margin-left:([\-\.0-9]*)/i),f=parseFloat(h?h[1]:0),p=(u.attr("style")||"").match(/mso-list:l([0-9]+) level([0-9]+) lfo[0-9+]($|;)/i);if(p&&p[2]&&(f=parseInt(p[2])),p&&(!a.lastLevelMatch||p[1]!==a.lastLevelMatch[1])||!c[3]||"first"===c[3].toLowerCase()||null===a.lastIndent.peek()||a.isUl!==d&&a.lastIndent.peek()===f)o(d),i.append(a.element);else if(null!=a.lastIndent.peek()&&a.lastIndent.peek()<f)a.element=angular.element(d?"<ul>":"<ol>"),a.lastLi.append(a.element);else if(null!=a.lastIndent.peek()&&a.lastIndent.peek()>f){for(;null!=a.lastIndent.peek()&&a.lastIndent.peek()>f;)if("li"!==a.element.parent()[0].tagName.toLowerCase()){if(!/[uo]l/i.test(a.element.parent()[0].tagName.toLowerCase()))break;a.element=a.element.parent(),a.lastIndent.pop()}else a.element=a.element.parent();a.isUl="ul"===a.element[0].tagName.toLowerCase(),d!==a.isUl&&(o(d),i.append(a.element))}a.lastLevelMatch=p,f!==a.lastIndent.peek()&&a.lastIndent.push(f),a.lastLi=angular.element("<li>"),a.element.append(a.lastLi),a.lastLi.html(u.html().replace(/<!(--|)\[if !supportLists\](--|)>[\s\S]*?<!(--|)\[endif\](--|)>/gi,"")),u.remove()}else o(!1),i.append(u)}}var m=function(t){for(var e=(t=angular.element(t))[0].childNodes.length-1;0<=e;e--)t.after(t[0].childNodes[e]);t.remove()};angular.forEach(i.find("span"),function(t){t.removeAttribute("lang"),t.attributes.length<=0&&m(t)}),angular.forEach(i.find("font"),m),t=i.html(),e&&(t=i.html()||r.html()),t=t.replace(/\n/g," ")}else{if((t=t.replace(/<(|\/)meta[^>]*?>/gi,"")).match(/<[^>]*?(ta-bind)[^>]*?>/)){if(t.match(/<[^>]*?(text-angular)[^>]*?>/)){var g=angular.element("<div>"+t+"</div>");g.find("textarea").remove();for(var v=0;v<binds.length;v++){for(var y=binds[v][0].parentNode.parentNode,_=0;_<binds[v][0].childNodes.length;_++)y.parentNode.insertBefore(binds[v][0].childNodes[_],y);y.parentNode.removeChild(y)}t=g.html().replace('<br class="Apple-interchange-newline">',"")}}else t.match(/^<span/)&&(t.match(/<span class=(\"Apple-converted-space\"|\'Apple-converted-space\')>.<\/span>/gi)||(t=t.replace(/<(|\/)span[^>]*?>/gi,"")));t=t.replace(/<br class="Apple-interchange-newline"[^>]*?>/gi,"").replace(/<span class="Apple-converted-space">( |&nbsp;)<\/span>/gi,"&nbsp;")}/<li(\s.*)?>/i.test(t)&&!1===/(<ul(\s.*)?>|<ol(\s.*)?>).*<li(\s.*)?>/i.test(t)&&(t=t.replace(/<li(\s.*)?>.*<\/li(\s.*)?>/i,"<ul>$&</ul>")),t=t.replace(/^[ |\u00A0]+/gm,function(t){for(var e="",n=0;n<t.length;n++)e+="&nbsp;";return e}).replace(/\n|\r\n|\r/g,"<br />").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),M&&(t=M(b,{$html:t})||t),t=t.replace(/<span style=("|')([^<]*?)vertical-align\s*:\s*super;?([^>]*?)("|')>([^<]+?)<\/span>/g,"<sup style='$2$3'>$5</sup>"),t=U(t,"",x),K.insertHtml(t,w[0]),q(function(){$.$setViewValue(S()),R=!1,w.removeClass("processing-paste")},0)}else R=!1,w.removeClass("processing-paste")};if(w.on("paste",b.events.paste=function(t,e){if(e&&angular.extend(t,e),h||R)return t.stopPropagation(),t.preventDefault(),!1;var n;R=!0,w.addClass("processing-paste");var r=(t.originalEvent||t).clipboardData;if(!r&&window.clipboardData&&window.clipboardData.getData)return n=window.clipboardData.getData("Text"),H(n),t.stopPropagation(),t.preventDefault(),!1;if(r&&r.getData&&0<r.types.length){for(var i="",a=0;a<r.types.length;a++)i+=" "+r.types[a];return/text\/html/i.test(i)?n=r.getData("text/html"):/text\/plain/i.test(i)&&(n=r.getData("text/plain")),H(n),t.stopPropagation(),t.preventDefault(),!1}var o=rangy.saveSelection(),s=angular.element('<div class="ta-hidden-input" contenteditable="true"></div>');V.find("body").append(s),s[0].focus(),q(function(){rangy.restoreSelection(o),H(s[0].innerHTML),w[0].focus(),s.remove()},0)}),w.on("cut",b.events.cut=function(t){h?t.preventDefault():q(function(){$.$setViewValue(S())},0)}),w.on("keydown",b.events.keydown=function(e,t){var n,r,i;if(t&&angular.extend(e,t),16===e.keyCode?K.setStateShiftKey(!0):K.setStateShiftKey(!1),e.specialKey=(n=e,_.forEach(function(t){if(t.keyCode===n.keyCode){var e=(n.metaKey?g:0)+(n.ctrlKey?m:0)+(n.shiftKey?y:0)+(n.altKey?v:0);if(t.forbiddenModifiers&e)return;t.mustHaveModifiers.every(function(t){return e&t})&&(r=t.specialKey)}}),r),Z.keyMappings.forEach(function(t){e.specialKey===t.commandKeyCode&&(e.specialKey=void 0),t.testForKey(e)&&(i=t.commandKeyCode),"UndoKey"!==t.commandKeyCode&&"RedoKey"!==t.commandKeyCode||t.enablePropagation||e.preventDefault()}),void 0!==i&&(e.specialKey=i),void 0===e.specialKey||"UndoKey"===e.specialKey&&"RedoKey"===e.specialKey||(e.preventDefault(),et.sendKeyCommand(b,e)),!(h||("UndoKey"===e.specialKey&&(E(),e.preventDefault()),"RedoKey"===e.specialKey&&(Y(),e.preventDefault()),13!==e.keyCode||e.shiftKey||e.ctrlKey||e.metaKey||e.altKey))){var a,o=K.getSelectionElement();if(!o.nodeName.match(VALIDELEMENTS))return;var s=angular.element(c);if(function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}(["blockquote","ul","ol"],o.parentNode.tagName.toLowerCase())){if(/^<br(|\/)>$/i.test(o.innerHTML.trim())&&!o.nextSibling){var l=(a=angular.element(o)).parent();l.after(s),a.remove(),0===l.children().length&&l.remove(),K.setSelectionToElementStart(s[0]),e.preventDefault()}/^<[^>]+><br(|\/)><\/[^>]+>$/i.test(o.innerHTML.trim())&&((a=angular.element(o)).after(s),a.remove(),K.setSelectionToElementStart(s[0]),e.preventDefault())}}}),w.on("keyup",b.events.keyup=function(t,e){if(e&&angular.extend(t,e),K.setStateShiftKey(!1),9!==t.keyCode){if(37!==t.keyCode||t.shiftKey||K.updateLeftArrowKey(w),39!==t.keyCode||t.shiftKey||K.updateRightArrowKey(w),k&&q.cancel(k),!h&&!f.test(t.keyCode))if(13===t.keyCode&&(t.ctrlKey||t.metaKey||t.altKey));else{if(""!==c&&"<BR><BR>"!==c&&13===t.keyCode&&!t.ctrlKey&&!t.metaKey&&!t.altKey){for(var n=K.getSelectionElement();!n.nodeName.match(VALIDELEMENTS)&&n!==w[0];)n=n.parentNode;if(t.shiftKey){var r=n.tagName.toLowerCase();if((r===u.taDefaultWrap||"li"===r||"pre"===r||"div"===r)&&!/.+<br><br>/.test(n.innerHTML.trim())){var i=n.previousSibling;i&&(i.innerHTML=i.innerHTML+"<br><br>",angular.element(n).remove(),K.setSelectionToElementEnd(i))}}else if(n.tagName.toLowerCase()!==u.taDefaultWrap&&"li"!==n.nodeName.toLowerCase()&&(""===n.innerHTML.trim()||"<br>"===n.innerHTML.trim())){var a=angular.element(c);angular.element(n).replaceWith(a),K.setSelectionToElementStart(a[0])}}var o=S();""===c||""!==o.trim()&&"<br>"!==o.trim()?"<"!==o.substring(0,1)&&u.taDefaultWrap:(D(c),K.setSelectionToElementStart(w.children()[0]));var s=l!==t.keyCode&&p.test(t.keyCode);N&&q.cancel(N),N=q(function(){C(o,s,!0)},d.$options.debounce||400),s||(k=q(function(){$.$undoManager.push(o)},250)),l=t.keyCode}}else K.getSelection().start.element===w[0]&&w.children().length&&K.setSelectionToElementStart(w.children()[0])}),w.on("input",function(){S()!==$.$viewValue&&(O&&q.cancel(O),O=q(function(){var t=rangy.saveSelection(),e=S();e!==$.$viewValue&&C(e,!0),0!==$.$viewValue.length&&rangy.restoreSelection(t)},1e3))}),w.on("blur",b.events.blur=function(){n=!1,h?(i=!0,$.$render()):C(void 0,void 0,!0)}),u.placeholder&&(8<_browserDetect.ie||void 0===_browserDetect.ie)){var P;if(!u.id)throw"textAngular Error: An unique ID is required for placeholders to work";P=addCSSRule("#"+u.id+".placeholder-text:before",'content: "'+u.placeholder+'"'),b.$on("$destroy",function(){removeCSSRule(P)})}w.on("focus",b.events.focus=function(){n=!0,w.removeClass("placeholder-text"),L()}),w.on("mouseup",b.events.mouseup=function(){var t=K.getSelection();t&&t.start.element===w[0]&&w.children().length&&K.setSelectionToElementStart(w.children()[0])}),w.on("mousedown",b.events.mousedown=function(t,e){e&&angular.extend(t,e),t.stopPropagation()})}else{w.on("change blur",b.events.change=b.events.blur=function(){h||$.$setViewValue(S())}),w.on("keydown",b.events.keydown=function(t,e){if(e&&angular.extend(t,e),9===t.keyCode){var n=this.selectionStart,r=this.selectionEnd,i=w.val();if(t.shiftKey){var a=i.lastIndexOf("\n",n),o=i.lastIndexOf("\t",n);-1!==o&&a<=o&&(w.val(i.substring(0,o)+i.substring(o+1)),this.selectionStart=this.selectionEnd=n-1)}else w.val(i.substring(0,n)+"\t"+i.substring(r)),this.selectionStart=this.selectionEnd=n+1;t.preventDefault()}});var j=function(t,e){for(var n="",r=0;r<e;r++)n+=t;return n},F=function(t,e,n){for(var r=0;r<t.length;r++)e.call(n,r,t[r])},I=function(t,r){var i="",e=t.childNodes;return i+=j("\t",++r-1)+t.outerHTML.substring(0,4),F(e,function(t,e){var n=e.nodeName.toLowerCase();"#comment"!==n?"#text"!==n?e.outerHTML&&(i+="ul"===n||"ol"===n?"\n"+I(e,r):"\n"+j("\t",r)+e.outerHTML):i+=e.textContent:i+="\x3c!--"+e.nodeValue+"--\x3e"}),i+="\n"+j("\t",r-1)+t.outerHTML.substring(t.outerHTML.lastIndexOf("<"))};$.$formatters.unshift(function(r){var t=angular.element("<div>"+r+"</div>")[0].childNodes;return 0<t.length&&(r="",F(t,function(t,e){var n=e.nodeName.toLowerCase();"#comment"!==n?"#text"!==n?e.outerHTML&&(0<r.length&&(r+="\n"),r+="ul"===n||"ol"===n?""+I(e,0):""+e.outerHTML):r+=e.textContent:r+="\x3c!--"+e.nodeValue+"--\x3e"})),r})}var z,B=function(t,e){var n;(e&&angular.extend(t,e),dropFired||h)||(dropFired=!0,n=t.originalEvent?t.originalEvent.dataTransfer:t.dataTransfer,b.$emit("ta-drop-event",this,t,n),q(function(){C(void 0,void 0,!(dropFired=!1))},100))},W=!1;$.$render=function(){if(!W){W=!0;var t=$.$viewValue||"";i||(r&&n&&(w.removeClass("placeholder-text"),z&&q.cancel(z),z=q(function(){n||(w[0].focus(),K.setSelectionToElementEnd(w.children()[w.children().length-1])),z=void 0},1)),r?(u.placeholder,D(""===t?c:t),h?w.off("drop",B):(L(),w.on("drop",B))):"textarea"!==w[0].tagName.toLowerCase()&&"input"!==w[0].tagName.toLowerCase()?D(X(t)):w.val(t)),r&&u.placeholder&&(""===t?n?w.removeClass("placeholder-text"):w.addClass("placeholder-text"):w.removeClass("placeholder-text")),W=i=!1}},u.taReadonly&&((h=b.$eval(u.taReadonly))?(w.addClass("ta-readonly"),"textarea"!==w[0].tagName.toLowerCase()&&"input"!==w[0].tagName.toLowerCase()||w.attr("disabled","disabled"),void 0!==w.attr("contenteditable")&&w.attr("contenteditable")&&w.removeAttr("contenteditable")):(w.removeClass("ta-readonly"),"textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase()?w.removeAttr("disabled"):r&&w.attr("contenteditable","true")),b.$watch(u.taReadonly,function(t,e){e!==t&&(t?(w.addClass("ta-readonly"),"textarea"!==w[0].tagName.toLowerCase()&&"input"!==w[0].tagName.toLowerCase()||w.attr("disabled","disabled"),void 0!==w.attr("contenteditable")&&w.attr("contenteditable")&&w.removeAttr("contenteditable"),angular.forEach(J,function(t){w.find(t).on("click",T)}),w.off("drop",B)):(w.removeClass("ta-readonly"),"textarea"===w[0].tagName.toLowerCase()||"input"===w[0].tagName.toLowerCase()?w.removeAttr("disabled"):r&&w.attr("contenteditable","true"),angular.forEach(J,function(t){w.find(t).off("click",T)}),w.on("drop",B)),h=t)})),r&&!h&&(angular.forEach(J,function(t){w.find(t).on("click",T)}),w.on("drop",B))}}}]);var dropFired=!1,textAngular=angular.module("textAngular",["ngSanitize","textAngularSetup","textAngular.factories","textAngular.DOM","textAngular.validators","textAngular.taBind"]);function validElementString(t){try{return 0!==angular.element(t).length}catch(t){return!1}}textAngular.config([function(){angular.forEach(taTools,function(t,e){delete taTools[e]})}]),textAngular.directive("textAngular",["$compile","$timeout","taOptions","taSelection","taExecCommand","textAngularManager","$document","$animate","$log","$q","$parse",function(M,$,x,k,S,T,L,C,D,E,Y){return{require:"?ngModel",scope:{},restrict:"EA",priority:2,link:function(c,e,d,n){var t,r,i,a,o,s,l,u,h,f,p,m,g=d.serial?d.serial:Math.floor(1e16*Math.random());c._name=d.name?d.name:"textAngularEditor"+g;var v=function(t,e,n){$(function(){t.one(e,n)},100)};if(h=S(d.taDefaultWrap),angular.extend(c,angular.copy(x),{wrapSelection:function(t,e,n){"undo"===t.toLowerCase()?c["$undoTaBindtaTextElement"+g]():"redo"===t.toLowerCase()?c["$redoTaBindtaTextElement"+g]():(h(t,!1,e,c.defaultTagAttributes),n&&c["reApplyOnSelectorHandlerstaTextElement"+g](),c.displayElements.text[0].focus())},showHtml:c.$eval(d.taShowHtml)||!1}),d.taFocussedClass&&(c.classes.focussed=d.taFocussedClass),d.taTextEditorClass&&(c.classes.textEditor=d.taTextEditorClass),d.taHtmlEditorClass&&(c.classes.htmlEditor=d.taHtmlEditorClass),d.taDefaultTagAttributes)try{angular.extend(c.defaultTagAttributes,angular.fromJson(d.taDefaultTagAttributes))}catch(t){D.error(t)}d.taTextEditorSetup&&(c.setup.textEditorSetup=c.$parent.$eval(d.taTextEditorSetup)),d.taHtmlEditorSetup&&(c.setup.htmlEditorSetup=c.$parent.$eval(d.taHtmlEditorSetup)),d.taFileDrop?c.fileDropHandler=c.$parent.$eval(d.taFileDrop):c.fileDropHandler=c.defaultFileDropHandler,l=e[0].innerHTML,e[0].innerHTML="",c.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>"),scrollWindow:angular.element("<div class='ta-scroll-window'></div>"),popover:angular.element('<div class="popover fade bottom" style="max-width: none; width: 305px;"></div>'),popoverArrow:angular.element('<div class="arrow"></div>'),popoverContainer:angular.element('<div class="popover-content"></div>'),resize:{overlay:angular.element('<div class="ta-resizer-handle-overlay"></div>'),background:angular.element('<div class="ta-resizer-handle-background"></div>'),anchors:[angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-tr"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-bl"></div>'),angular.element('<div class="ta-resizer-handle-corner ta-resizer-handle-corner-br"></div>')],info:angular.element('<div class="ta-resizer-handle-info"></div>')}},c.displayElements.popover.append(c.displayElements.popoverArrow),c.displayElements.popover.append(c.displayElements.popoverContainer),c.displayElements.scrollWindow.append(c.displayElements.popover),c.displayElements.popover.on("mousedown",function(t,e){return e&&angular.extend(t,e),t.preventDefault(),!1}),c.handlePopoverEvents=function(){"block"===c.displayElements.popover.css("display")&&(m&&$.cancel(m),m=$(function(){c.reflowPopover(c.resizeElement),c.reflowResizeOverlay(c.resizeElement)},100))},angular.element(window).on("resize",c.handlePopoverEvents),angular.element(window).on("scroll",c.handlePopoverEvents);c.getScrollTop=function(t,e){var n=t.scrollTop;return void 0===n&&(n=0),e&&function(t){var e,n={vertical:!1,horizontal:!1};try{if(null===(e=window.getComputedStyle(t)))return n}catch(t){return n}var r=e["overflow-y"],i=e["overflow-x"];return{vertical:("scroll"===r||"auto"===r)&&t.scrollHeight>t.clientHeight,horizontal:("scroll"===i||"auto"===i)&&t.scrollWidth>t.clientWidth}}(t).vertical&&(t.removeEventListener("scroll",c._scrollListener,!1),t.addEventListener("scroll",c._scrollListener,!1)),0!==n?{node:t.nodeName,top:n}:t.parentNode?c.getScrollTop(t.parentNode,e):{node:"<none>",top:0}},c.showPopover=function(t){c.getScrollTop(c.displayElements.scrollWindow[0],!0),c.displayElements.popover.css("display","block"),$(function(){c.displayElements.resize.overlay.css("display","block")}),c.resizeElement=t,c.reflowPopover(t),C.addClass(c.displayElements.popover,"in"),v(L.find("body"),"click keyup",function(){c.hidePopover()})},c._scrollListener=function(t,e){c.handlePopoverEvents()},c.reflowPopover=function(t){var e=c.getScrollTop(c.displayElements.scrollWindow[0],!1);t[0].offsetTop-e.top<51?(c.displayElements.popover.css("top",t[0].offsetTop+t[0].offsetHeight+c.displayElements.scrollWindow[0].scrollTop+"px"),c.displayElements.popover.removeClass("top").addClass("bottom")):(c.displayElements.popover.css("top",t[0].offsetTop-54+c.displayElements.scrollWindow[0].scrollTop+"px"),c.displayElements.popover.removeClass("bottom").addClass("top"));var n=c.displayElements.text[0].offsetWidth-c.displayElements.popover[0].offsetWidth,r=t[0].offsetLeft+t[0].offsetWidth/2-c.displayElements.popover[0].offsetWidth/2,i=Math.max(0,Math.min(n,r)),a=Math.min(r,Math.max(0,r-n))-11;i+=window.scrollX,a-=window.scrollX,c.displayElements.popover.css("left",i+"px"),c.displayElements.popoverArrow.css("margin-left",a+"px")},c.hidePopover=function(){c.displayElements.popover.css("display","none"),c.displayElements.popoverContainer.attr("style",""),c.displayElements.popoverContainer.attr("class","popover-content"),c.displayElements.popover.removeClass("in"),c.displayElements.resize.overlay.css("display","none")},c.displayElements.resize.overlay.append(c.displayElements.resize.background),angular.forEach(c.displayElements.resize.anchors,function(t){c.displayElements.resize.overlay.append(t)}),c.displayElements.resize.overlay.append(c.displayElements.resize.info),c.displayElements.scrollWindow.append(c.displayElements.resize.overlay),c.displayElements.resize.background.on("click",function(t){c.displayElements.text[0].focus()}),c.reflowResizeOverlay=function(t){t=angular.element(t)[0],c.displayElements.resize.overlay.css({display:"block",left:t.offsetLeft-5+"px",top:t.offsetTop-5+"px",width:t.offsetWidth+10+"px",height:t.offsetHeight+10+"px"}),c.displayElements.resize.info.text(t.offsetWidth+" x "+t.offsetHeight)},c.showResizeOverlay=function(u){var n=L.find("body");f=function(t){var s={width:parseInt(u.attr("width")),height:parseInt(u.attr("height")),x:t.clientX,y:t.clientY};(void 0===s.width||isNaN(s.width))&&(s.width=u[0].offsetWidth),(void 0===s.height||isNaN(s.height))&&(s.height=u[0].offsetHeight),c.hidePopover();var l=s.height/s.width,e=function(t){var e={x:Math.max(0,s.width+(t.clientX-s.x)),y:Math.max(0,s.height+(t.clientY-s.y))},n=void 0!==d.taResizeForceAspectRatio,r=d.taResizeMaintainAspectRatio;if(n||r&&!t.shiftKey){var i=e.y/e.x;e.x=i<l?e.x:e.y/l,e.y=i<l?e.x*l:e.y}var a=angular.element(u);function o(t){return Math.round(Math.max(0,t))}a.css("height",o(e.y)+"px"),a.css("width",o(e.x)+"px"),c.reflowResizeOverlay(u)};n.on("mousemove",e),v(n,"mouseup",function(t){t.preventDefault(),t.stopPropagation(),n.off("mousemove",e),c.$apply(function(){c.hidePopover(),c.updateTaBindtaTextElement()},100)}),t.stopPropagation(),t.preventDefault()},c.displayElements.resize.anchors[3].off("mousedown"),c.displayElements.resize.anchors[3].on("mousedown",f),c.reflowResizeOverlay(u),v(n,"click",function(){c.hideResizeOverlay()})},c.hideResizeOverlay=function(){c.displayElements.resize.anchors[3].off("mousedown",f),c.displayElements.resize.overlay.css("display","none")},c.setup.htmlEditorSetup(c.displayElements.html),c.setup.textEditorSetup(c.displayElements.text),c.displayElements.html.attr({id:"taHtmlElement"+g,"ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html","ng-model-options":e.attr("ng-model-options")}),c.displayElements.text.attr({id:"taTextElement"+g,contentEditable:"true","ta-bind":"ta-bind","ng-model":"html","ng-model-options":e.attr("ng-model-options")}),c.displayElements.scrollWindow.attr({"ng-hide":"showHtml"}),d.taDefaultWrap&&c.displayElements.text.attr("ta-default-wrap",d.taDefaultWrap),d.taUnsafeSanitizer&&(c.displayElements.text.attr("ta-unsafe-sanitizer",d.taUnsafeSanitizer),c.displayElements.html.attr("ta-unsafe-sanitizer",d.taUnsafeSanitizer)),d.taKeepStyles&&(c.displayElements.text.attr("ta-keep-styles",d.taKeepStyles),c.displayElements.html.attr("ta-keep-styles",d.taKeepStyles)),c.displayElements.scrollWindow.append(c.displayElements.text),e.append(c.displayElements.scrollWindow),e.append(c.displayElements.html),c.displayElements.forminput.attr("name",c._name),e.append(c.displayElements.forminput),d.tabindex&&(e.removeAttr("tabindex"),c.displayElements.text.attr("tabindex",d.tabindex),c.displayElements.html.attr("tabindex",d.tabindex)),d.placeholder&&(c.displayElements.text.attr("placeholder",d.placeholder),c.displayElements.html.attr("placeholder",d.placeholder)),d.taDisabled&&(c.displayElements.text.attr("ta-readonly","disabled"),c.displayElements.html.attr("ta-readonly","disabled"),c.disabled=c.$parent.$eval(d.taDisabled),c.$parent.$watch(d.taDisabled,function(t){c.disabled=t,c.disabled?e.addClass(c.classes.disabled):e.removeClass(c.classes.disabled)})),d.taPaste&&(c._pasteHandler=function(t){return Y(d.taPaste)(c.$parent,{$html:t})},c.displayElements.text.attr("ta-paste","_pasteHandler($html)")),M(c.displayElements.scrollWindow)(c),M(c.displayElements.html)(c),c.updateTaBindtaTextElement=c["updateTaBindtaTextElement"+g],c.updateTaBindtaHtmlElement=c["updateTaBindtaHtmlElement"+g],e.addClass("ta-root"),c.displayElements.scrollWindow.addClass("ta-text ta-editor "+c.classes.textEditor),c.displayElements.html.addClass("ta-html ta-editor "+c.classes.htmlEditor);var y=function(t,e){e!==L[0].queryCommandState(t)&&L[0].execCommand(t,!1,null)},_=c._actionRunning=!1;if(c.startAction=function(){var t,e,n,r;return c._actionRunning=!0,t=L[0].queryCommandState("bold"),e=L[0].queryCommandState("italic"),n=L[0].queryCommandState("underline"),r=L[0].queryCommandState("strikeThrough"),_=rangy.saveSelection(),y("bold",t),y("italic",e),y("underline",n),y("strikeThrough",r),function(){_&&rangy.restoreSelection(_)}},c.endAction=function(){c._actionRunning=!1,_&&(c.showHtml?c.displayElements.html[0].focus():c.displayElements.text[0].focus(),rangy.removeMarkers(_)),_=!1,c.updateSelectedStyles(),c.showHtml||c["updateTaBindtaTextElement"+g]()},o=function(t){c.focussed=!0,e.addClass(c.classes.focussed),u.focus(),e.triggerHandler("focus"),c.updateSelectedStyles&&!c._bUpdateSelectedStyles&&$(function(){c.updateSelectedStyles()},0)},c.displayElements.html.on("focus",o),c.displayElements.text.on("focus",o),s=function(t){return c._actionRunning||L[0].activeElement===c.displayElements.html[0]||L[0].activeElement===c.displayElements.text[0]||(e.removeClass(c.classes.focussed),u.unfocus(),$(function(){c._bUpdateSelectedStyles=!1,e.triggerHandler("blur"),c.focussed=!1},0)),t.preventDefault(),!1},c.displayElements.html.on("blur",s),c.displayElements.text.on("blur",s),c.displayElements.text.on("paste",function(t){e.triggerHandler("paste",t)}),c.queryFormatBlockState=function(t){return!c.showHtml&&t.toLowerCase()===L[0].queryCommandValue("formatBlock").toLowerCase()},c.queryCommandState=function(t){return c.showHtml?"":L[0].queryCommandState(t)},c.switchView=function(){c.showHtml=!c.showHtml,C.enabled(!1,c.displayElements.html),C.enabled(!1,c.displayElements.text),c.showHtml?$(function(){return C.enabled(!0,c.displayElements.html),C.enabled(!0,c.displayElements.text),c.displayElements.html[0].focus()},100):$(function(){return C.enabled(!0,c.displayElements.html),C.enabled(!0,c.displayElements.text),c.displayElements.text[0].focus()},100)},d.ngModel){var b=!0;n.$render=function(){if(b){b=!1;var t=c.$parent.$eval(d.ngModel);null==t&&l&&""!==l&&n.$setViewValue(l)}c.displayElements.forminput.val(n.$viewValue),c.html=n.$viewValue||""},e.attr("required")&&(n.$validators.required=function(t,e){var n=t||e;return!(!n||""===n.trim())})}else c.displayElements.forminput.val(l),c.html=l;if(c.$watch("html",function(t,e){t!==e&&(d.ngModel&&n.$viewValue!==t&&n.$setViewValue(t),c.displayElements.forminput.val(t))}),d.taTargetToolbars)u=T.registerEditor(c._name,c,d.taTargetToolbars.split(","));else{var w=angular.element('<div text-angular-toolbar name="textAngularToolbar'+g+'">');d.taToolbar&&w.attr("ta-toolbar",d.taToolbar),d.taToolbarClass&&w.attr("ta-toolbar-class",d.taToolbarClass),d.taToolbarGroupClass&&w.attr("ta-toolbar-group-class",d.taToolbarGroupClass),d.taToolbarButtonClass&&w.attr("ta-toolbar-button-class",d.taToolbarButtonClass),d.taToolbarActiveButtonClass&&w.attr("ta-toolbar-active-button-class",d.taToolbarActiveButtonClass),d.taFocussedClass&&w.attr("ta-focussed-class",d.taFocussedClass),e.prepend(w),M(w)(c.$parent),u=T.registerEditor(c._name,c,["textAngularToolbar"+g])}c.$on("$destroy",function(){T.unregisterEditor(c._name),angular.element(window).off("blur"),angular.element(window).off("resize",c.handlePopoverEvents),angular.element(window).off("scroll",c.handlePopoverEvents)}),c.$on("ta-element-select",function(t,e){u.triggerElementSelect(t,e)&&c["reApplyOnSelectorHandlerstaTextElement"+g]()}),c.$on("ta-drop-event",function(t,e,n,r){r&&r.files&&0<r.files.length?(c.displayElements.text[0].focus(),k.setSelectionToElementEnd(n.target),angular.forEach(r.files,function(t){try{E.when(c.fileDropHandler(t,c.wrapSelection)||c.fileDropHandler!==c.defaultFileDropHandler&&E.when(c.defaultFileDropHandler(t,c.wrapSelection))).then(function(){c["updateTaBindtaTextElement"+g]()})}catch(t){D.error(t)}}),n.preventDefault(),n.stopPropagation()):$(function(){c["updateTaBindtaTextElement"+g]()},0)}),c._bUpdateSelectedStyles=!1,angular.element(window).on("blur",function(){c._bUpdateSelectedStyles=!1,c.focussed=!1}),c.updateSelectedStyles=function(){var t;p&&$.cancel(p),void 0!==(t=k.getSelectionElement())&&t.parentNode!==c.displayElements.text[0]?u.updateSelectedStyles(angular.element(t)):u.updateSelectedStyles(),c._bUpdateSelectedStyles&&(p=$(c.updateSelectedStyles,200))},t=function(){c.focussed?c._bUpdateSelectedStyles||(c._bUpdateSelectedStyles=!0,c.$apply(function(){c.updateSelectedStyles()})):c._bUpdateSelectedStyles=!1},c.displayElements.html.on("keydown",t),c.displayElements.text.on("keydown",t),r=function(){c._bUpdateSelectedStyles=!1},c.displayElements.html.on("keyup",r),c.displayElements.text.on("keyup",r),i=function(t,e){if(k.getSelection){var n=k.getSelection();k.getSelectionElement()&&"a"===k.getSelectionElement().nodeName.toLowerCase()&&(3===n.start.element.nodeType&&n.start.element.textContent.length===n.end.offset&&k.setSelectionAfterElement(k.getSelectionElement()),3===n.start.element.nodeType&&0===n.start.offset&&k.setSelectionBeforeElement(k.getSelectionElement()))}e&&angular.extend(t,e),c.$apply(function(){if(u.sendKeyCommand(t))return c._bUpdateSelectedStyles||c.updateSelectedStyles(),t.preventDefault(),!1})},c.displayElements.html.on("keypress",i),c.displayElements.text.on("keypress",i),a=function(){c._bUpdateSelectedStyles=!1,$(function(){c.updateSelectedStyles()},0)},c.displayElements.html.on("mouseup",a),c.displayElements.text.on("mouseup",a)}}}]),textAngular.service("textAngularManager",["taToolExecuteAction","taTools","taRegisterTool","$interval","$rootScope","$log",function(a,f,o,t,e,n){var r,s={},p={},i=0,l=function(e){angular.forEach(p,function(t){t.editorFunctions.updateSelectedStyles(e)})};e.$on("destroy",function(){r&&(t.cancel(r),r=void 0)});var u=function(){50<Math.abs(Date.now()-i)&&(i=Date.now(),r=t(function(){l(),r=void 0},50,1))};return{registerEditor:function(d,h,t){if(!d||""===d)throw"textAngular Error: An editor requires a name";if(!h)throw"textAngular Error: An editor requires a scope";if(p[d])throw'textAngular Error: An Editor with name "'+d+'" already exists';return p[d]={scope:h,toolbars:t,toolbarScopes:[],_registerToolbarScope:function(t){0<=this.toolbars.indexOf(t.name)&&this.toolbarScopes.push(t)},editorFunctions:{disable:function(){angular.forEach(p[d].toolbarScopes,function(t){t.disabled=!0})},enable:function(){angular.forEach(p[d].toolbarScopes,function(t){t.disabled=!1})},focus:function(){angular.forEach(p[d].toolbarScopes,function(t){t._parent=h,t.disabled=!1,t.focussed=!0}),h.focussed=!0},unfocus:function(){angular.forEach(p[d].toolbarScopes,function(t){t.disabled=!0,t.focussed=!1}),h.focussed=!1},updateSelectedStyles:function(n){angular.forEach(p[d].toolbarScopes,function(e){angular.forEach(e.tools,function(t){t.activeState&&(e._parent=h,t.active=t.activeState(n))})})},sendKeyCommand:function(r){var i=!1;return(r.ctrlKey||r.metaKey||r.specialKey)&&angular.forEach(f,function(t,e){if(t.commandKeyCode&&(t.commandKeyCode===r.which||t.commandKeyCode===r.specialKey))for(var n=0;n<p[d].toolbarScopes.length;n++)if(void 0!==p[d].toolbarScopes[n].tools[e]){a.call(p[d].toolbarScopes[n].tools[e],h),i=!0;break}}),i},triggerElementSelect:function(t,n){var r=function(t,e){for(var n=!0,r=0;r<e.length;r++)n=n&&t.attr(e[r]);return n},i=[],a={},e=!1;n=angular.element(n);var o=!1;if(angular.forEach(f,function(t,e){t.onElementSelect&&t.onElementSelect.element&&t.onElementSelect.element.toLowerCase()===n[0].tagName.toLowerCase()&&(!t.onElementSelect.filter||t.onElementSelect.filter(n))&&(o=o||angular.isArray(t.onElementSelect.onlyWithAttrs)&&r(n,t.onElementSelect.onlyWithAttrs),t.onElementSelect.onlyWithAttrs&&!r(n,t.onElementSelect.onlyWithAttrs)||(a[e]=t))}),o?(angular.forEach(a,function(t,e){t.onElementSelect.onlyWithAttrs&&r(n,t.onElementSelect.onlyWithAttrs)&&i.push({name:e,tool:t})}),i.sort(function(t,e){return e.tool.onElementSelect.onlyWithAttrs.length-t.tool.onElementSelect.onlyWithAttrs.length})):angular.forEach(a,function(t,e){i.push({name:e,tool:t})}),0<i.length)for(var s=0;s<i.length;s++){for(var l=i[s].tool,u=i[s].name,c=0;c<p[d].toolbarScopes.length;c++)if(void 0!==p[d].toolbarScopes[c].tools[u]){l.onElementSelect.action.call(p[d].toolbarScopes[c].tools[u],t,n,h),e=!0;break}if(e)break}return e}}},angular.forEach(t,function(t){s[t]&&p[d].toolbarScopes.push(s[t])}),u(),p[d].editorFunctions},retrieveEditor:function(t){return p[t]},unregisterEditor:function(t){delete p[t],u()},registerToolbar:function(e){if(!e)throw"textAngular Error: A toolbar requires a scope";if(!e.name||""===e.name)throw"textAngular Error: A toolbar requires a name";if(s[e.name])throw'textAngular Error: A toolbar with name "'+e.name+'" already exists';s[e.name]=e,angular.forEach(p,function(t){t._registerToolbarScope(e)}),u()},retrieveToolbar:function(t){return s[t]},retrieveToolbarsViaEditor:function(t){var e=[],n=this;return angular.forEach(this.retrieveEditor(t).toolbars,function(t){e.push(n.retrieveToolbar(t))}),e},unregisterToolbar:function(t){delete s[t],u()},updateToolsDisplay:function(t){var n=this;angular.forEach(t,function(t,e){n.updateToolDisplay(e,t)})},resetToolsDisplay:function(){var n=this;angular.forEach(f,function(t,e){n.resetToolDisplay(e)}),u()},updateToolDisplay:function(n,r){var i=this;angular.forEach(s,function(t,e){i.updateToolbarToolDisplay(e,n,r)}),u()},resetToolDisplay:function(n){var r=this;angular.forEach(s,function(t,e){r.resetToolbarToolDisplay(e,n)}),u()},updateToolbarToolDisplay:function(t,e,n){if(!s[t])throw'textAngular Error: No Toolbar with name "'+t+'" exists';s[t].updateToolDisplay(e,n)},resetToolbarToolDisplay:function(t,e){if(!s[t])throw'textAngular Error: No Toolbar with name "'+t+'" exists';s[t].updateToolDisplay(e,f[e],!0)},removeTool:function(i){delete f[i],angular.forEach(s,function(t){delete t.tools[i];for(var e=0;e<t.toolbar.length;e++){for(var n,r=0;r<t.toolbar[e].length;r++){if(t.toolbar[e][r]===i){n={group:e,index:r};break}if(void 0!==n)break}void 0!==n&&(t.toolbar[n.group].slice(n.index,1),t._$element.children().eq(n.group).children().eq(n.index).remove())}}),u()},addTool:function(e,n,r,i){o(e,n),angular.forEach(s,function(t){t.addTool(e,n,r,i)}),u()},addToolToToolbar:function(t,e,n,r,i){o(t,e),s[n].addTool(t,e,r,i),u()},refreshEditor:function(t){if(!p[t])throw'textAngular Error: No Editor with name "'+t+'" exists';p[t].scope.updateTaBindtaTextElement(),p[t].scope.$$phase||p[t].scope.$digest(),u()},sendKeyCommand:function(t,e){var n=p[t._name];if(n&&n.editorFunctions.sendKeyCommand(e))return t._bUpdateSelectedStyles||t.updateSelectedStyles(),e.preventDefault(),!1},updateStyles:l,getVersion:function(){return textAngularVersion},getToolbarScopes:function(){var e=[];return angular.forEach(p,function(t){e=e.concat(t.toolbarScopes)}),e}}}]),textAngular.directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction","$window",function(u,e,n,c,r,i){return{scope:{name:"@"},restrict:"EA",link:function(a,o,t){if(!a.name||""===a.name)throw"textAngular Error: A toolbar requires a name";angular.extend(a,angular.copy(n)),t.taToolbar&&(a.toolbar=a.$parent.$eval(t.taToolbar)),t.taToolbarClass&&(a.classes.toolbar=t.taToolbarClass),t.taToolbarGroupClass&&(a.classes.toolbarGroup=t.taToolbarGroupClass),t.taToolbarButtonClass&&(a.classes.toolbarButton=t.taToolbarButtonClass),t.taToolbarActiveButtonClass&&(a.classes.toolbarButtonActive=t.taToolbarActiveButtonClass),t.taFocussedClass&&(a.classes.focussed=t.taFocussedClass),a.disabled=!0,a.focussed=!1,(a._$element=o)[0].innerHTML="",o.addClass("ta-toolbar "+a.classes.toolbar),a.$watch("focussed",function(){a.focussed?o.addClass(a.classes.focussed):o.removeClass(a.classes.focussed)});var s=function(t,e){var n;if(n=t&&t.display?angular.element(t.display):angular.element("<button type='button'>"),t&&t.class?n.addClass(t.class):n.addClass(a.classes.toolbarButton),n.attr("name",e.name),n.attr("ta-button","ta-button"),n.attr("ng-disabled","isDisabled()"),n.attr("tabindex","-1"),n.attr("ng-click","executeAction()"),n.attr("ng-class","displayActiveToolClass(active)"),t&&t.tooltiptext&&n.attr("title",t.tooltiptext),t&&!t.display&&!e._display&&(n[0].innerHTML="",t.buttontext&&(n[0].innerHTML=t.buttontext),t.iconclass)){var r=angular.element("<i>"),i=n[0].innerHTML;r.addClass(t.iconclass),n[0].innerHTML="",n.append(r),i&&""!==i&&n.append("&nbsp;"+i)}return e._lastToolDefinition=angular.copy(t),u(n)(e)};a.tools={},a._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1},queryCommandState:function(){return!1}};var l={$window:i,$editor:function(){return a._parent},isDisabled:function(){return("html"!==this.name||!a._parent.startAction)&&("function"!=typeof this.$eval("disabled")&&this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled)},displayActiveToolClass:function(t){return t?a.classes.toolbarButtonActive:""},executeAction:r};angular.forEach(a.toolbar,function(t){var e=angular.element("<div>");e.addClass(a.classes.toolbarGroup),angular.forEach(t,function(t){a.tools[t]=angular.extend(a.$new(!0),c[t],l,{name:t}),a.tools[t].$element=s(c[t],a.tools[t]),e.append(a.tools[t].$element)}),o.append(e)}),a.updateToolDisplay=function(t,e,n){var r=a.tools[t];if(r){if(r._lastToolDefinition&&!n&&(e=angular.extend({},r._lastToolDefinition,e)),null===e.buttontext&&null===e.iconclass&&null===e.display)throw'textAngular Error: Tool Definition for updating "'+t+'" does not have a valid display/iconclass/buttontext value';null===e.buttontext&&delete e.buttontext,null===e.iconclass&&delete e.iconclass,null===e.display&&delete e.display;var i=s(e,r);r.$element.replaceWith(i),r.$element=i}},a.addTool=function(t,e,n,r){var i;a.tools[t]=angular.extend(a.$new(!0),c[t],l,{name:t}),a.tools[t].$element=s(c[t],a.tools[t]),void 0===n&&(n=a.toolbar.length-1),i=angular.element(o.children()[n]),void 0===r?(i.append(a.tools[t].$element),a.toolbar[n][a.toolbar[n].length-1]=t):(i.children().eq(r).after(a.tools[t].$element),a.toolbar[n][r]=t)},e.registerToolbar(a),a.$on("$destroy",function(){e.unregisterToolbar(a.name)})}}}]),textAngular.directive("textAngularVersion",["textAngularManager",function(t){var r=t.getVersion();return{restrict:"EA",link:function(t,e,n){e.html(r)}}}]),function(t,f,e){"use strict";var c=f.$$minErr("$sanitize");var d=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,h=/^<\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,m=/^</,g=/^<\//,v=/<!--(.*?)-->/g,y=/(^<!--.*?-->)/,_=/<!DOCTYPE([^>]*?)>/i,b=/<!\[CDATA\[(.*?)]]>/g,n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,r=/([^\#-~| |!])/g,w=/^(\s+)/,M=C("area,br,col,hr,img,wbr,input"),i=C("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),a=C("rp,rt"),$=f.extend({},a,i),x=f.extend({},i,C("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),k=f.extend({},a,C("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),o=C("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use"),S=C("script,style"),s=f.extend({},M,x,k,$,o),T=C("background,cite,href,longdesc,src,usemap,xlink:href"),l=C("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,id,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),u=C("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan"),L=f.extend({},T,u,l);function C(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}var D=document.createElement("pre"),E=/^(\s*)([\s\S]*?)(\s*)$/;function Y(t){if(!t)return"";var e=E.exec(t),n=e[1],r=e[3],i=e[2];return i&&(D.innerHTML=i.replace(/</g,"&lt;"),i="textContent"in D?D.textContent:D.innerText),n+i+r}function A(t){return t.replace(/&/g,"&amp;").replace(n,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(r,function(t){var e=t.charCodeAt(0);return e<=159||173==e||1536<=e&&e<=1540||1807==e||6068==e||6069==e||8204<=e&&e<=8207||8232<=e&&e<=8239||8288<=e&&e<=8303||65279==e||65520<=e&&e<=65535?"&#"+e+";":t}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var N=String.prototype.trim?function(t){return f.isString(t)?t.trim():t}:function(t){return f.isString(t)?t.replace(/^\s\s*/,"").replace(/\s\s*$/,""):t};function O(t,d){var e=!1,h=f.bind(t,t.push);return{start:function(u,c,t){u=f.lowercase(u),!e&&S[u]&&(e=u),e||!0!==s[u]||(h("<"),h(u),f.forEach(c,function(t,e){var n,r,i,a,o,s=f.lowercase(e),l="img"===u&&"src"===s||"background"===s;("style"===s&&""!==(a="",o=t.split(";"),f.forEach(o,function(t){var e=t.split(":");if(2==e.length){var n=N(f.lowercase(e[0]));t=N(f.lowercase(e[1])),(("color"===n||"background-color"===n)&&(t.match(/^rgb\([0-9%,\. ]*\)$/i)||t.match(/^rgba\([0-9%,\. ]*\)$/i)||t.match(/^hsl\([0-9%,\. ]*\)$/i)||t.match(/^hsla\([0-9%,\. ]*\)$/i)||t.match(/^#[0-9a-f]{3,6}$/i)||t.match(/^[a-z]*$/i))||"text-align"===n&&("left"===t||"right"===t||"center"===t||"justify"===t)||"text-decoration"===n&&("underline"===t||"line-through"===t)||"font-weight"===n&&"bold"===t||"font-style"===n&&"italic"===t||"float"===n&&("left"===t||"right"===t||"none"===t)||"vertical-align"===n&&("baseline"===t||"sub"===t||"super"===t||"test-top"===t||"text-bottom"===t||"middle"===t||"top"===t||"bottom"===t||t.match(/[0-9]*(px|em)/)||t.match(/[0-9]+?%/))||"font-size"===n&&("xx-small"===t||"x-small"===t||"small"===t||"medium"===t||"large"===t||"x-large"===t||"xx-large"===t||"larger"===t||"smaller"===t||t.match(/[0-9]*\.?[0-9]*(px|em|rem|mm|q|cm|in|pt|pc|%)/))||("width"===n||"height"===n)&&t.match(/[0-9\.]*(px|em|rem|%)/)||"direction"===n&&t.match(/^ltr|rtl|initial|inherit$/))&&(a+=n+": "+t+";")}}),t=a)||(n=c,r=s,i=t,"img"===u&&n["ta-insert-video"]&&("ta-insert-video"===r||"allowfullscreen"===r||"frameborder"===r||"contenteditable"===r&&"false"===i))||!0===L[s]&&(!0!==T[s]||d(t,l)))&&(h(" "),h(e),h('="'),h(A(t)),h('"'))}),h(t?"/>":">"))},comment:function(t){h(t)},whitespace:function(t){h(A(t))},end:function(t){t=f.lowercase(t),e||!0!==s[t]||(h("</"),h(t),h(">")),t==e&&(e=!1)},chars:function(t){e||h(A(t))}}}f.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(n){return function(t){void 0!==arguments[1]&&(arguments[1].version="taSanitize");var e=[];return function(t,i){"string"!=typeof t&&(t=null==t?"":""+t);var e,n,r,a,s=[],o=t;for(s.last=function(){return s[s.length-1]};t;){if(n=!(a=""),s.last()&&S[s.last()]?(t=t.replace(new RegExp("([^]*)<\\s*\\/\\s*"+s.last()+"[^>]*>","i"),function(t,e){return e=e.replace(v,"$1").replace(b,"$1"),i.chars&&i.chars(Y(e)),""}),u("",s.last())):(w.test(t)?(r=t.match(w))&&(r[0],i.whitespace&&i.whitespace(r[0]),t=t.replace(r[0],""),n=!1):y.test(t)?(r=t.match(y))&&(i.comment&&i.comment(r[1]),t=t.replace(r[0],""),n=!1):_.test(t)?(r=t.match(_))&&(t=t.replace(r[0],""),n=!1):g.test(t)?(r=t.match(h))&&(t=t.substring(r[0].length),r[0].replace(h,u),n=!1):m.test(t)&&((r=t.match(d))?(r[4]&&(t=t.substring(r[0].length),r[0].replace(d,l)),n=!1):(a+="<",t=t.substring(1))),n&&(e=t.indexOf("<"),a+=e<0?t:t.substring(0,e),t=e<0?"":t.substring(e),i.chars&&i.chars(Y(a)))),t==o)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",t);o=t}function l(t,e,n,r){if(e=f.lowercase(e),x[e])for(;s.last()&&k[s.last()];)u("",s.last());$[e]&&s.last()==e&&u("",e),(r=M[e]||!!r)||s.push(e);var o={};n.replace(p,function(t,e,n,r,i){var a=n||r||i||"";o[e]=Y(a)}),i.start&&i.start(e,o,r)}function u(t,e){var n,r=0;if(e=f.lowercase(e))for(r=s.length-1;0<=r&&s[r]!=e;r--);if(0<=r){for(n=s.length-1;r<=n;n--)i.end&&i.end(s[n]);s.length=r}}u()}(t,O(e,function(t,e){return!/^unsafe/.test(n(t,e))})),e.join("")}}]}),f.module("ngSanitize").filter("linky",["$sanitize",function(u){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"]/,d=/^mailto:/;return function(t,n){if(!t)return t;for(var e,r,i,a=t,o=[];e=a.match(c);)r=e[0],e[2]||e[4]||(r=(e[3]?"http://":"mailto:")+r),i=e.index,s(a.substr(0,i)),l(r,e[0].replace(d,"")),a=a.substring(i+e[0].length);return s(a),u(o.join(""));function s(t){var e,n;t&&o.push((e=t,O(n=[],f.noop).chars(e),n.join("")))}function l(t,e){o.push("<a "),f.isDefined(n)&&o.push('target="',n,'" '),o.push('href="',t.replace(/"/g,"&quot;"),'">'),s(e),o.push("</a>")}}}])}(window,window.angular);var taTools={};function registerTextAngularTool(t,e){if(!t||""===t||taTools.hasOwnProperty(t))throw"textAngular Error: A unique name is required for a Tool Definition";if(e.display&&(""===e.display||!validElementString(e.display))||!e.display&&!e.buttontext&&!e.iconclass)throw'textAngular Error: Tool Definition for "'+t+'" does not have a valid display/iconclass/buttontext value';taTools[t]=e}angular.module("textAngularSetup",[]).constant("taRegisterTool",registerTextAngularTool).value("taTools",taTools).value("taOptions",{forceTextAngularSanitize:!0,keyMappings:[],toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","strikeThrough","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent"],["html","insertImage","insertLink","insertVideo","wordcount","charcount"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},defaultTagAttributes:{a:{target:""}},setup:{textEditorSetup:function(t){},htmlEditorSetup:function(t){}},defaultFileDropHandler:function(t,e){var n=new FileReader;return"image"===t.type.substring(0,5)&&(n.onload=function(){""!==n.result&&e("insertImage",n.result,!0)},n.readAsDataURL(t),!0)}}).value("taSelectableElements",["a","img"]).value("taCustomRenderers",[{selector:"img",customAttribute:"ta-insert-video",renderLogic:function(t){var e=angular.element("<iframe></iframe>"),n=t.prop("attributes");angular.forEach(n,function(t){e.attr(t.name,t.value)}),e.attr("src",e.attr("ta-insert-video")),t.replaceWith(e)}}]).value("taTranslations",{html:{tooltip:"Toggle html / Rich Text"},heading:{tooltip:"Heading "},p:{tooltip:"Paragraph"},pre:{tooltip:"Preformatted text"},ul:{tooltip:"Unordered List"},ol:{tooltip:"Ordered List"},quote:{tooltip:"Quote/unquote selection or paragraph"},undo:{tooltip:"Undo"},redo:{tooltip:"Redo"},bold:{tooltip:"Bold"},italic:{tooltip:"Italic"},underline:{tooltip:"Underline"},strikeThrough:{tooltip:"Strikethrough"},justifyLeft:{tooltip:"Align text left"},justifyRight:{tooltip:"Align text right"},justifyFull:{tooltip:"Justify text"},justifyCenter:{tooltip:"Center"},indent:{tooltip:"Increase indent"},outdent:{tooltip:"Decrease indent"},clear:{tooltip:"Clear formatting"},insertImage:{dialogPrompt:"Please enter an image URL to insert",tooltip:"Insert image",hotkey:"the - possibly language dependent hotkey ... for some future implementation"},insertVideo:{tooltip:"Insert video",dialogPrompt:"Please enter a youtube URL to embed"},insertLink:{tooltip:"Insert / edit link",dialogPrompt:"Please enter a URL to insert"},editLink:{reLinkButton:{tooltip:"Relink"},unLinkButton:{tooltip:"Unlink"},targetToggle:{buttontext:"Open in New Window"}},wordcount:{tooltip:"Display words Count"},charcount:{tooltip:"Display characters Count"}}).factory("taToolFunctions",["$window","taTranslations",function(u,c){return{imgOnSelectAction:function(t,e,n){var r=function(){n.updateTaBindtaTextElement(),n.hidePopover()};t.preventDefault(),n.displayElements.popover.css("width","375px");var i=n.displayElements.popoverContainer;i.empty();var a=angular.element('<div class="btn-group" style="padding-right: 6px;">'),o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">100% </button>');o.on("click",function(t){t.preventDefault(),e.css({width:"100%",height:""}),r()});var s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">50% </button>');s.on("click",function(t){t.preventDefault(),e.css({width:"50%",height:""}),r()});var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">25% </button>');l.on("click",function(t){t.preventDefault(),e.css({width:"25%",height:""}),r()});var u=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1">Reset</button>');u.on("click",function(t){t.preventDefault(),e.css({width:"",height:""}),r()}),a.append(o),a.append(s),a.append(l),a.append(u),i.append(a),a=angular.element('<div class="btn-group" style="padding-right: 6px;">');var c=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-left"></i></button>');c.on("click",function(t){t.preventDefault(),e.css("float","left"),e.css("cssFloat","left"),e.css("styleFloat","left"),r()});var d=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-right"></i></button>');d.on("click",function(t){t.preventDefault(),e.css("float","right"),e.css("cssFloat","right"),e.css("styleFloat","right"),r()});var h=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-align-justify"></i></button>');h.on("click",function(t){t.preventDefault(),e.css("float",""),e.css("cssFloat",""),e.css("styleFloat",""),r()}),a.append(c),a.append(h),a.append(d),i.append(a),a=angular.element('<div class="btn-group">');var f=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" unselectable="on" tabindex="-1"><i class="fa fa-trash-o"></i></button>');f.on("click",function(t){t.preventDefault(),e.remove(),r()}),a.append(f),i.append(a),n.showPopover(e),n.showResizeOverlay(e)},aOnSelectAction:function(t,n,r){t.preventDefault(),r.displayElements.popover.css("width","436px");var e=r.displayElements.popoverContainer;e.empty(),e.css("line-height","28px");var i=angular.element('<a href="'+n.attr("href")+'" target="_blank">'+n.attr("href")+"</a>");i.css({display:"inline-block","max-width":"200px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap","vertical-align":"middle"}),e.append(i);var a=angular.element('<div class="btn-group pull-right">'),o=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+c.editLink.reLinkButton.tooltip+'"><i class="fa fa-edit icon-edit"></i></button>');o.on("click",function(t){t.preventDefault();var e=u.prompt(c.insertLink.dialogPrompt,n.attr("href"));e&&""!==e&&"http://"!==e&&(n.attr("href",e),r.updateTaBindtaTextElement()),r.hidePopover()}),a.append(o);var s=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on" title="'+c.editLink.unLinkButton.tooltip+'"><i class="fa fa-unlink icon-unlink"></i></button>');s.on("click",function(t){t.preventDefault(),n.replaceWith(n.contents()),r.updateTaBindtaTextElement(),r.hidePopover()}),a.append(s);var l=angular.element('<button type="button" class="btn btn-default btn-sm btn-small" tabindex="-1" unselectable="on">'+c.editLink.targetToggle.buttontext+"</button>");"_blank"===n.attr("target")&&l.addClass("active"),l.on("click",function(t){t.preventDefault(),n.attr("target","_blank"===n.attr("target")?"":"_blank"),l.toggleClass("active"),r.updateTaBindtaTextElement()}),a.append(l),e.append(a),r.showPopover(n)},extractYoutubeVideoId:function(t){var e=t.match(/(?:youtube(?:-nocookie)?\.com\/(?:[^\/\n\s]+\/\S+\/|(?:v|e(?:mbed)?)\/|\S*?[?&]v=)|youtu\.be\/)([a-zA-Z0-9_-]{11})/i);return e&&e[1]||null}}}]).run(["taRegisterTool","$window","taTranslations","taSelection","taToolFunctions","$sanitize","taOptions","$log",function(n,r,i,s,a,t,e,o){var l={};if(t("",l),!0===e.forceTextAngularSanitize&&"taSanitize"!==l.version)throw angular.$$minErr("textAngular")("textAngularSetup","The textAngular-sanitize provider has been replaced by another -- have you included angular-sanitize by mistake?");n("html",{iconclass:"fa fa-code",tooltiptext:i.html.tooltip,action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var u=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(t){var e;n(t.toLowerCase(),{buttontext:t.toUpperCase(),tooltiptext:i.heading.tooltip+t.charAt(1),action:u,activeState:(e=t.toLowerCase(),function(){return this.$editor().queryFormatBlockState(e)})})}),n("p",{buttontext:"P",tooltiptext:i.p.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),n("pre",{buttontext:"pre",tooltiptext:i.pre.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),n("ul",{iconclass:"fa fa-list-ul",tooltiptext:i.ul.tooltip,action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertUnorderedList")}}),n("ol",{iconclass:"fa fa-list-ol",tooltiptext:i.ol.tooltip,action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return this.$editor().queryCommandState("insertOrderedList")}}),n("quote",{iconclass:"fa fa-quote-right",tooltiptext:i.quote.tooltip,action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),n("undo",{iconclass:"fa fa-undo",tooltiptext:i.undo.tooltip,action:function(){return this.$editor().wrapSelection("undo",null)}}),n("redo",{iconclass:"fa fa-repeat",tooltiptext:i.redo.tooltip,action:function(){return this.$editor().wrapSelection("redo",null)}}),n("bold",{iconclass:"fa fa-bold",tooltiptext:i.bold.tooltip,action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return this.$editor().queryCommandState("bold")},commandKeyCode:98}),n("justifyLeft",{iconclass:"fa fa-align-left",tooltiptext:i.justifyLeft.tooltip,action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(t){if(t&&"#document"===t.nodeName)return!1;var e=!1;if(t)try{e="left"===t.css("text-align")||"left"===t.attr("align")||"right"!==t.css("text-align")&&"center"!==t.css("text-align")&&"justify"!==t.css("text-align")&&!this.$editor().queryCommandState("justifyRight")&&!this.$editor().queryCommandState("justifyCenter")&&!this.$editor().queryCommandState("justifyFull")}catch(t){e=!1}return e=e||this.$editor().queryCommandState("justifyLeft")}}),n("justifyRight",{iconclass:"fa fa-align-right",tooltiptext:i.justifyRight.tooltip,action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(t){if(t&&"#document"===t.nodeName)return!1;var e=!1;if(t)try{e="right"===t.css("text-align")}catch(t){e=!1}return e=e||this.$editor().queryCommandState("justifyRight")}}),n("justifyFull",{iconclass:"fa fa-align-justify",tooltiptext:i.justifyFull.tooltip,action:function(){return this.$editor().wrapSelection("justifyFull",null)},activeState:function(t){var e=!1;if(t)try{e="justify"===t.css("text-align")}catch(t){e=!1}return e=e||this.$editor().queryCommandState("justifyFull")}}),n("justifyCenter",{iconclass:"fa fa-align-center",tooltiptext:i.justifyCenter.tooltip,action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(t){if(t&&"#document"===t.nodeName)return!1;var e=!1;if(t)try{e="center"===t.css("text-align")}catch(t){e=!1}return e=e||this.$editor().queryCommandState("justifyCenter")}}),n("indent",{iconclass:"fa fa-indent",tooltiptext:i.indent.tooltip,action:function(){return this.$editor().wrapSelection("indent",null)},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")},commandKeyCode:"TabKey"}),n("outdent",{iconclass:"fa fa-outdent",tooltiptext:i.outdent.tooltip,action:function(){return this.$editor().wrapSelection("outdent",null)},activeState:function(){return!1},commandKeyCode:"ShiftTabKey"}),n("italics",{iconclass:"fa fa-italic",tooltiptext:i.italic.tooltip,action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return this.$editor().queryCommandState("italic")},commandKeyCode:105}),n("underline",{iconclass:"fa fa-underline",tooltiptext:i.underline.tooltip,action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return this.$editor().queryCommandState("underline")},commandKeyCode:117}),n("strikeThrough",{iconclass:"fa fa-strikethrough",tooltiptext:i.strikeThrough.tooltip,action:function(){return this.$editor().wrapSelection("strikeThrough",null)},activeState:function(){return document.queryCommandState("strikeThrough")}}),n("clear",{iconclass:"fa fa-ban",tooltiptext:i.clear.tooltip,action:function(t,e){var n;this.$editor().wrapSelection("removeFormat",null);var r=angular.element(s.getSelectionElement());n=s.getAllSelectedElements();var i=function(t,e){t=angular.element(t);var n=e;return e||(n=t),angular.forEach(t.children(),function(t){if("ul"===t.tagName.toLowerCase()||"ol"===t.tagName.toLowerCase())n=i(t,n);else{var e=angular.element("<p></p>");e.html(angular.element(t).html()),n.after(e),n=e}}),t.remove(),n};angular.forEach(n,function(t){"ul"!==t.nodeName.toLowerCase()&&"ol"!==t.nodeName.toLowerCase()||i(t)}),angular.forEach(r.find("ul"),i),angular.forEach(r.find("ol"),i);var a=this.$editor(),o=function(t){(t=angular.element(t))[0]!==a.displayElements.text[0]&&t.removeAttr("class"),angular.forEach(t.children(),o)};angular.forEach(r,o),r[0]&&"li"!==r[0].tagName.toLowerCase()&&"ol"!==r[0].tagName.toLowerCase()&&"ul"!==r[0].tagName.toLowerCase()&&"true"!==r[0].getAttribute("contenteditable")&&this.$editor().wrapSelection("formatBlock","default"),e()}});var c=function(t){return-1!==t.toLowerCase().indexOf("javascript")};n("insertImage",{iconclass:"fa fa-picture-o",tooltiptext:i.insertImage.tooltip,action:function(){var t;if((t=r.prompt(i.insertImage.dialogPrompt,"http://"))&&""!==t&&"http://"!==t&&!c(t)){s.getSelectionElement().tagName&&"a"===s.getSelectionElement().tagName.toLowerCase()&&s.setSelectionAfterElement(s.getSelectionElement());var e='<img src="'+t+'">';return this.$editor().wrapSelection("insertHTML",e,!0)}},onElementSelect:{element:"img",action:a.imgOnSelectAction}}),n("insertVideo",{iconclass:"fa fa-youtube-play",tooltiptext:i.insertVideo.tooltip,action:function(){var t;if(t=r.prompt(i.insertVideo.dialogPrompt,"https://"),!c(t)&&t&&""!==t&&"https://"!==t&&(videoId=a.extractYoutubeVideoId(t),videoId)){var e="https://www.youtube.com/embed/"+videoId,n='<img class="ta-insert-video" src="https://img.youtube.com/vi/'+videoId+'/hqdefault.jpg" ta-insert-video="'+e+'" contenteditable="false" allowfullscreen="true" frameborder="0" />';return s.getSelectionElement().tagName&&"a"===s.getSelectionElement().tagName.toLowerCase()&&s.setSelectionAfterElement(s.getSelectionElement()),this.$editor().wrapSelection("insertHTML",n,!0)}},onElementSelect:{element:"img",onlyWithAttrs:["ta-insert-video"],action:a.imgOnSelectAction}}),n("insertLink",{tooltiptext:i.insertLink.tooltip,iconclass:"fa fa-link",action:function(){var t;if((t=s.getSelectionElement().tagName&&"a"===s.getSelectionElement().tagName.toLowerCase()?r.prompt(i.insertLink.dialogPrompt,s.getSelectionElement().href):r.prompt(i.insertLink.dialogPrompt,"http://"))&&""!==t&&"http://"!==t&&!c(t))return this.$editor().wrapSelection("createLink",t,!0)},activeState:function(t){return!!t&&"A"===t[0].tagName},onElementSelect:{element:"a",action:a.aOnSelectAction}}),n("wordcount",{display:'<div id="toolbarWC" style="display:block; min-width:100px;">Words: <span ng-bind="wordcount"></span></div>',disabled:!0,wordcount:0,activeState:function(){var t=this.$editor().displayElements.text[0].innerHTML||"",e=0;return""!==t.replace(/\s*<[^>]*?>\s*/g,"")&&""!==t.trim()&&(e=t.replace(/<\/?(b|i|em|strong|span|u|strikethrough|a|img|small|sub|sup|label)( [^>*?])?>/gi,"").replace(/(<[^>]*?>\s*<[^>]*?>)/gi," ").replace(/(<[^>]*?>)/gi,"").replace(/\s+/gi," ").match(/\S+/g).length),this.wordcount=e,this.$editor().wordcount=e,!1}}),n("charcount",{display:'<div id="toolbarCC" style="display:block; min-width:120px;">Characters: <span ng-bind="charcount"></span></div>',disabled:!0,charcount:0,activeState:function(){var t=this.$editor().displayElements.text,e=(t[0].innerText||t[0].textContent).replace(/(\r\n|\n|\r)/gm,"").replace(/^\s+/g," ").replace(/\s+$/g," ").length;return this.charcount=e,this.$editor().charcount=e,!1}})}]),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["angular-file-upload"]=e():t["angular-file-upload"]=e()}(this,function(){return function(n){function r(t){if(i[t])return i[t].exports;var e=i[t]={exports:{},id:t,loaded:!1};return n[t].call(e.exports,e,e.exports,r),e.loaded=!0,e.exports}var i={};return r.m=n,r.c=i,r.p="",r(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var i=r(n(1)),a=r(n(2)),o=r(n(3)),s=r(n(4)),l=r(n(5)),u=r(n(6)),c=r(n(7)),d=r(n(8)),h=r(n(9)),f=r(n(10)),p=r(n(11)),m=r(n(12)),g=r(n(13));angular.module(i.default.name,[]).value("fileUploaderOptions",a.default).factory("FileUploader",o.default).factory("FileLikeObject",s.default).factory("FileItem",l.default).factory("FileDirective",u.default).factory("FileSelect",c.default).factory("FileDrop",h.default).factory("FileOver",f.default).factory("Pipeline",d.default).directive("nvFileSelect",p.default).directive("nvFileDrop",m.default).directive("nvFileOver",g.default).run(["FileUploader","FileLikeObject","FileItem","FileDirective","FileSelect","FileDrop","FileOver","Pipeline",function(t,e,n,r,i,a,o,s){t.FileLikeObject=e,t.FileItem=n,t.FileDirective=r,t.FileSelect=i,t.FileDrop=a,t.FileOver=o,t.Pipeline=s}])},function(t,e){t.exports={name:"angularFileUpload"}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1,disableMultipart:!1}},function(t,e,n){"use strict";function r(r,t,i,e,o,d,h,f){var a=e.File,s=e.FormData,n=function(){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=u(r);c(this,e,t,{isUploading:!1,_nextIndex:0,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}return n.prototype.addToQueue=function(t,i,e){var o=this,s=this.isArrayLikeObject(t)?Array.prototype.slice.call(t):[t],l=this._getFilters(e),n=this.queue.length,u=[],c=function(){o.queue.length!==n&&(o._onAfterAddingAll(u),o.progress=o._getTotalProgress()),o._render(),o.autoUpload&&o.uploadAll()};!function a(){var t=s.shift();if(b(t))return c();var e=o.isFile(t)?t:new d(t),n=o._convertFiltersToPipes(l),r=new f(n);r.onThrown=function(t){var e=t.pipe.originalFilter,n=p(t.args,2),r=n[0],i=n[1];o._onWhenAddingFileFailed(r,e,i),a()},r.onSuccessful=function(t,e){var n=new h(o,t,e);u.push(n),o.queue.push(n),o._onAfterAddingFile(n),a()},r.exec(e,i)}()},n.prototype.removeFromQueue=function(t){var e=this.getIndexOfItem(t),n=this.queue[e];n.isUploading&&n.cancel(),this.queue.splice(e,1),n._destroy(),this.progress=this._getTotalProgress()},n.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},n.prototype.uploadItem=function(t){var e=this.getIndexOfItem(t),n=this.queue[e],r=this.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this._onBeforeUploadItem(n),n.isCancel||(n.isUploading=!0,this.isUploading=!0,this[r](n),this._render()))},n.prototype.cancelItem=function(t){var e,n=this,r=this.getIndexOfItem(t),i=this.queue[r],a=this.isHTML5?"_xhr":"_form";i&&(i.isCancel=!0,i.isUploading?i[a].abort():(e=[void 0,0,{}],o(function(){n._onCancelItem.apply(n,[i].concat(e)),n._onCompleteItem.apply(n,[i].concat(e))})))},n.prototype.uploadAll=function(){var t=this.getNotUploadedItems().filter(function(t){return!t.isUploading});t.length&&(m(t,function(t){return t._prepareToUploading()}),t[0].upload())},n.prototype.cancelAll=function(){var t=this.getNotUploadedItems();m(t,function(t){return t.cancel()})},n.prototype.isFile=function(t){return this.constructor.isFile(t)},n.prototype.isFileLikeObject=function(t){return this.constructor.isFileLikeObject(t)},n.prototype.isArrayLikeObject=function(t){return this.constructor.isArrayLikeObject(t)},n.prototype.getIndexOfItem=function(t){return v(t)?t:this.queue.indexOf(t)},n.prototype.getNotUploadedItems=function(){return this.queue.filter(function(t){return!t.isUploaded})},n.prototype.getReadyItems=function(){return this.queue.filter(function(t){return t.isReady&&!t.isUploading}).sort(function(t,e){return t.index-e.index})},n.prototype.destroy=function(){var e=this;m(this._directives,function(t){m(e._directives[t],function(t){t.destroy()})})},n.prototype.onAfterAddingAll=function(t){},n.prototype.onAfterAddingFile=function(t){},n.prototype.onWhenAddingFileFailed=function(t,e,n){},n.prototype.onBeforeUploadItem=function(t){},n.prototype.onProgressItem=function(t,e){},n.prototype.onProgressAll=function(t){},n.prototype.onSuccessItem=function(t,e,n,r){},n.prototype.onErrorItem=function(t,e,n,r){},n.prototype.onCancelItem=function(t,e,n,r){},n.prototype.onCompleteItem=function(t,e,n,r){},n.prototype.onCompleteAll=function(){},n.prototype._getTotalProgress=function(t){if(this.removeAfterUpload)return t||0;var e=this.getNotUploadedItems().length,n=e?this.queue.length-e:this.queue.length,r=100/this.queue.length,i=(t||0)*r/100;return Math.round(n*r+i)},n.prototype._getFilters=function(t){if(!t)return this.filters;if(_(t))return t;var e=t.match(/[^\s,]+/g);return this.filters.filter(function(t){return-1!==e.indexOf(t.name)})},n.prototype._convertFiltersToPipes=function(t){var n=this;return t.map(function(t){var e=l(n,t.fn);return e.isAsync=3===t.fn.length,e.originalFilter=t,e})},n.prototype._render=function(){t.$$phase||t.$apply()},n.prototype._folderFilter=function(t){return!(!t.size&&!t.type)},n.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},n.prototype._isSuccessCode=function(t){return 200<=t&&t<300||304===t},n.prototype._transformResponse=function(e,t){var n=this._headersGetter(t);return m(i.defaults.transformResponse,function(t){e=t(e,n)}),e},n.prototype._parseHeaders=function(t){var e,n,r,i={};return t&&m(t.split("\n"),function(t){r=t.indexOf(":"),e=t.slice(0,r).trim().toLowerCase(),n=t.slice(r+1).trim(),e&&(i[e]=i[e]?i[e]+", "+n:n)}),i},n.prototype._headersGetter=function(e){return function(t){return t?e[t.toLowerCase()]||null:e}},n.prototype._xhrTransport=function(r){var n,i=this,a=r._xhr=new XMLHttpRequest;if(r.disableMultipart?n=r._file:(n=new s,m(r.formData,function(t){m(t,function(t,e){n.append(e,t)})}),n.append(r.alias,r._file,r.file.name)),"number"!=typeof r._file.size)throw new TypeError("The file specified is no longer valid");a.upload.onprogress=function(t){var e=Math.round(t.lengthComputable?100*t.loaded/t.total:0);i._onProgressItem(r,e)},a.onload=function(){var t=i._parseHeaders(a.getAllResponseHeaders()),e=i._transformResponse(a.response,t),n=i._isSuccessCode(a.status)?"Success":"Error";i["_on"+n+"Item"](r,e,a.status,t),i._onCompleteItem(r,e,a.status,t)},a.onerror=function(){var t=i._parseHeaders(a.getAllResponseHeaders()),e=i._transformResponse(a.response,t);i._onErrorItem(r,e,a.status,t),i._onCompleteItem(r,e,a.status,t)},a.onabort=function(){var t=i._parseHeaders(a.getAllResponseHeaders()),e=i._transformResponse(a.response,t);i._onCancelItem(r,e,a.status,t),i._onCompleteItem(r,e,a.status,t)},a.open(r.method,r.url,!0),a.withCredentials=r.withCredentials,m(r.headers,function(t,e){a.setRequestHeader(e,t)}),a.send(n)},n.prototype._iframeTransport=function(a){var o=this,r=w('<form style="display: none;" />'),s=w('<iframe name="iframeTransport'+Date.now()+'">'),n=a._input;a._form&&a._form.replaceWith(n),a._form=r,n.prop("name",a.alias),m(a.formData,function(t){m(t,function(t,e){var n=w('<input type="hidden" name="'+e+'" />');n.val(t),r.append(n)})}),r.prop({action:a.url,method:"POST",target:s.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),s.bind("load",function(){var t="",e=200;try{t=s[0].contentDocument.body.innerHTML}catch(t){e=500}var n={response:t,status:e,dummy:!0},r={},i=o._transformResponse(n.response,r);o._onSuccessItem(a,i,n.status,r),o._onCompleteItem(a,i,n.status,r)}),r.abort=function(){var t=0,e={};s.unbind("load").prop("src","javascript:false;"),r.replaceWith(n),o._onCancelItem(a,void 0,t,e),o._onCompleteItem(a,void 0,t,e)},n.after(r),r.append(n).append(s),r[0].submit()},n.prototype._onWhenAddingFileFailed=function(t,e,n){this.onWhenAddingFileFailed(t,e,n)},n.prototype._onAfterAddingFile=function(t){this.onAfterAddingFile(t)},n.prototype._onAfterAddingAll=function(t){this.onAfterAddingAll(t)},n.prototype._onBeforeUploadItem=function(t){t._onBeforeUpload(),this.onBeforeUploadItem(t)},n.prototype._onProgressItem=function(t,e){var n=this._getTotalProgress(e);this.progress=n,t._onProgress(e),this.onProgressItem(t,e),this.onProgressAll(n),this._render()},n.prototype._onSuccessItem=function(t,e,n,r){t._onSuccess(e,n,r),this.onSuccessItem(t,e,n,r)},n.prototype._onErrorItem=function(t,e,n,r){t._onError(e,n,r),this.onErrorItem(t,e,n,r)},n.prototype._onCancelItem=function(t,e,n,r){t._onCancel(e,n,r),this.onCancelItem(t,e,n,r)},n.prototype._onCompleteItem=function(t,e,n,r){t._onComplete(e,n,r),this.onCompleteItem(t,e,n,r);var i=this.getReadyItems()[0];return this.isUploading=!1,y(i)?void i.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),void this._render())},n.isFile=function(t){return a&&t instanceof a},n.isFileLikeObject=function(t){return t instanceof d},n.isArrayLikeObject=function(t){return g(t)&&"length"in t},n.inherit=function(t,e){t.prototype=Object.create(e.prototype),(t.prototype.constructor=t).super_=e},n}();return n.prototype.isHTML5=!(!a||!s),n.isHTML5=n.prototype.isHTML5,n}Object.defineProperty(e,"__esModule",{value:!0});var p=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};e.default=r;var i,a=n(1),o=((i=a)&&i.__esModule,angular),l=o.bind,u=o.copy,c=o.extend,m=o.forEach,g=o.isObject,v=o.isNumber,y=o.isDefined,_=o.isArray,b=o.isUndefined,w=o.element;r.$inject=["fileUploaderOptions","$rootScope","$http","$window","$timeout","FileLikeObject","FileItem","Pipeline"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){return function(){function n(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var e=s(t)?t.value:t;this["_createFrom"+(l(e)?"FakePath":"Object")](e)}return n.prototype._createFromFakePath=function(t){this.lastModifiedDate=null,this.size=null,this.type="like/"+t.slice(t.lastIndexOf(".")+1).toLowerCase(),this.name=t.slice(t.lastIndexOf("/")+t.lastIndexOf("\\")+2)},n.prototype._createFromObject=function(t){this.lastModifiedDate=o(t.lastModifiedDate),this.size=t.size,this.type=t.type,this.name=t.name},n}()};var r,i=n(1),a=((r=i)&&r.__esModule,angular),o=a.copy,s=a.isElement,l=a.isString},function(t,e,n){"use strict";function r(n,s){return function(){function o(t,e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o);var r=d(e),i=r?c(e):null,a=r?null:e;u(this,{url:t.url,alias:t.alias,headers:l(t.headers),formData:l(t.formData),removeAfterUpload:t.removeAfterUpload,withCredentials:t.withCredentials,disableMultipart:t.disableMultipart,method:t.method},n,{uploader:t,file:new s(e),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:a,_input:i}),i&&this._replaceNode(i)}return o.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(t){var e=t.name+":"+t.message;this.uploader._onCompleteItem(this,e,t.code,[]),this.uploader._onErrorItem(this,e,t.code,[])}},o.prototype.cancel=function(){this.uploader.cancelItem(this)},o.prototype.remove=function(){this.uploader.removeFromQueue(this)},o.prototype.onBeforeUpload=function(){},o.prototype.onProgress=function(t){},o.prototype.onSuccess=function(t,e,n){},o.prototype.onError=function(t,e,n){},o.prototype.onCancel=function(t,e,n){},o.prototype.onComplete=function(t,e,n){},o.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},o.prototype._onProgress=function(t){this.progress=t,this.onProgress(t)},o.prototype._onSuccess=function(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(t,e,n)},o.prototype._onError=function(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(t,e,n)},o.prototype._onCancel=function(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(t,e,n)},o.prototype._onComplete=function(t,e,n){this.onComplete(t,e,n),this.removeAfterUpload&&this.remove()},o.prototype._destroy=function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input},o.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},o.prototype._replaceNode=function(t){var e=n(t.clone())(t.scope());e.prop("value",null),t.css("display","none"),t.after(e)},o}()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i,a=n(1),o=((i=a)&&i.__esModule,angular),l=o.copy,u=o.extend,c=o.element,d=o.isElement;r.$inject=["$compile","FileLikeObject"]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=function(){function e(t){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),a(this,t),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}return e.prototype.bind=function(){for(var t in this.events){var e=this.events[t];this.element.bind(t,this[e])}},e.prototype.unbind=function(){for(var t in this.events)this.element.unbind(t,this.events[t])},e.prototype.destroy=function(){var t=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(t,1),this.unbind()},e.prototype._saveLinks=function(){for(var t in this.events){var e=this.events[t];this[e]=this[e].bind(this)}},e}();return t.prototype.events={},t};var r,i=n(1),a=((r=i)&&r.__esModule,angular).extend},function(t,e,n){"use strict";function r(a,t){return function(r){function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var e=o(t,{events:{$destroy:"destroy",change:"onChange"},prop:"select"}),n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,e));return n.uploader.isHTML5||n.element.removeAttr("multiple"),n.element.prop("value",null),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r),i.prototype.getOptions=function(){},i.prototype.getFilters=function(){},i.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},i.prototype.onChange=function(){var t=this.uploader.isHTML5?this.element[0].files:this.element[0],e=this.getOptions(),n=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(t,e,n),this.isEmptyAfterSelection()&&(this.element.prop("value",null),this.element.replaceWith(a(this.element.clone())(this.scope)))},i}(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i,a=n(1),o=((i=a)&&i.__esModule,angular).extend;r.$inject=["$compile","FileDirective"]},function(t,e){"use strict";function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function n(o){return function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.pipes=t}return e.prototype.next=function(t){var e=this.pipes.shift();if(u(e))this.onSuccessful.apply(this,s(t));else{var n=new Error("The filter has not passed");if(n.pipe=e,n.args=t,e.isAsync){var r=o.defer(),i=l(this,this.next,t),a=l(this,this.onThrown,n);r.promise.then(i,a),e.apply(void 0,s(t).concat([r]))}else{Boolean(e.apply(void 0,s(t)))?this.next(t):this.onThrown(n)}}},e.prototype.exec=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];this.next(e)},e.prototype.onThrown=function(t){},e.prototype.onSuccessful=function(){},e}()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var r=angular,l=r.bind,u=r.isUndefined;n.$inject=["$q"]},function(t,e,n){"use strict";function r(t){return function(n){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=s(t,{events:{$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},prop:"drop"});return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,n),r.prototype.getOptions=function(){},r.prototype.getFilters=function(){},r.prototype.onDrop=function(t){var e=this._getTransfer(t);if(e){var n=this.getOptions(),r=this.getFilters();this._preventAndStop(t),l(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(e.files,n,r)}},r.prototype.onDragOver=function(t){var e=this._getTransfer(t);this._haveFiles(e.types)&&(e.dropEffect="copy",this._preventAndStop(t),l(this.uploader._directives.over,this._addOverClass,this))},r.prototype.onDragLeave=function(t){t.currentTarget!==this.element[0]&&(this._preventAndStop(t),l(this.uploader._directives.over,this._removeOverClass,this))},r.prototype._getTransfer=function(t){return t.dataTransfer?t.dataTransfer:t.originalEvent.dataTransfer},r.prototype._preventAndStop=function(t){t.preventDefault(),t.stopPropagation()},r.prototype._haveFiles=function(t){return!!t&&(t.indexOf?-1!==t.indexOf("Files"):!!t.contains&&t.contains("Files"))},r.prototype._addOverClass=function(t){t.addOverClass()},r.prototype._removeOverClass=function(t){t.removeOverClass()},r}(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i,a=n(1),o=((i=a)&&i.__esModule,angular),s=o.extend,l=o.forEach;r.$inject=["FileDirective"]},function(t,e,n){"use strict";function r(t){return function(n){function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var e=o(t,{events:{$destroy:"destroy"},prop:"over",overClass:"nv-file-over"});return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,n),r.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},r.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},r.prototype.getOverClass=function(){return this.overClass},r}(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i,a=n(1),o=((i=a)&&i.__esModule,angular).extend;r.$inject=["FileDirective"]},function(t,e,n){"use strict";function r(a,o,s){return{link:function(t,e,n){var r=t.$eval(n.uploader);if(!(r instanceof o))throw new TypeError('"Uploader" must be an instance of FileUploader');var i=new s({uploader:r,element:e,scope:t});i.getOptions=a(n.options).bind(i,t),i.getFilters=function(){return n.filters}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i,a=n(1);(i=a)&&i.__esModule,r.$inject=["$parse","FileUploader","FileSelect"]},function(t,e,n){"use strict";function r(a,o,s){return{link:function(t,e,n){var r=t.$eval(n.uploader);if(!(r instanceof o))throw new TypeError('"Uploader" must be an instance of FileUploader');if(r.isHTML5){var i=new s({uploader:r,element:e});i.getOptions=a(n.options).bind(i,t),i.getFilters=function(){return n.filters}}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i,a=n(1);(i=a)&&i.__esModule,r.$inject=["$parse","FileUploader","FileDrop"]},function(t,e,n){"use strict";function r(a,o){return{link:function(t,e,n){var r=t.$eval(n.uploader);if(!(r instanceof a))throw new TypeError('"Uploader" must be an instance of FileUploader');var i=new o({uploader:r,element:e});i.getOverClass=function(){return n.overClass||i.overClass}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var i,a=n(1);(i=a)&&i.__esModule,r.$inject=["FileUploader","FileOver"]}])});var NG_HIDE_CLASS="ng-hide";angular.module("mm.acl",[]),angular.module("mm.acl").provider("AclService",[function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(t){for(var e=this.length;e--;)if(this[e]===t)return e;return-1});var n={storage:"sessionStorage",storageKey:"AclService"},a={roles:[],abilities:{}},o=function(t){return e=t,"object"==typeof a.abilities[e]?a.abilities[t]:[];var e},r=function(){switch(n.storage){case"sessionStorage":t("sessionStorage");break;case"localStorage":t("localStorage");break;default:return}},t=function(t){window[t].setItem(n.storageKey,JSON.stringify(a))},e=function(t){window[t].removeItem(n.storageKey)},i=function(t){var e=window[t].getItem(n.storageKey);return!!e&&JSON.parse(e)},s={};function l(){var t;switch(n.storage){case"sessionStorage":t=i("sessionStorage");break;case"localStorage":t=i("localStorage");break;default:t=null}return!!t&&(angular.extend(a,t),!0)}return s.resume=l,s.flushStorage=function(){!function(){switch(n.storage){case"sessionStorage":e("sessionStorage");break;case"localStorage":e("localStorage");break;default:;}}()},s.attachRole=function(t){-1===a.roles.indexOf(t)&&(a.roles.push(t),r())},s.detachRole=function(t){var e=a.roles.indexOf(t);-1<e&&(a.roles.splice(e,1),r())},s.flushRoles=function(){a.roles=[],r()},s.hasRole=function(t){for(var e=angular.isArray(t)?t:[t],n=e.length;n--;)if(-1===a.roles.indexOf(e[n]))return!1;return!!e.length},s.hasAnyRole=function(t){for(var e=t.length;e--;)if(s.hasRole(t[e]))return!0;return!1},s.getRoles=function(){return a.roles},s.setAbilities=function(t){a.abilities=t,r()},s.addAbility=function(t,e){a.abilities[t]||(a.abilities[t]=[]),a.abilities[t].push(e),r()},s.can=function(t){for(var e,n=a.roles.length;n--;)if(e=a.roles[n],-1<o(e).indexOf(t))return!0;return!1},s.canAny=function(t){for(var e,n,r=a.roles.length,i=t.length;r--;)for(e=a.roles[r],n=o(e);i--;)if(-1<n.indexOf(t[i]))return!0;return!1},{config:function(t){angular.extend(n,t)},resume:l,$get:function(){return s}}}]).directive("aclShow",function(r){return{restrict:"A",link:function(t,n,e){t.$watch(e.aclShow,function(t){var e;t?(e=t.split(","),r.canAny(e)?n.removeClass(NG_HIDE_CLASS):n.addClass(NG_HIDE_CLASS)):n.addClass(NG_HIDE_CLASS)})}}}),function(t,l){"use strict";var j=l.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function F(t,e){if(null==(n=e)||""===n||"hasOwnProperty"===n||!s.test("."+n))throw j("badmember",'Dotted member path "@{0}" is invalid.',e);for(var n,r=e.split("."),i=0,a=r.length;i<a&&l.isDefined(t);i++){var o=r[i];t=null!==t?t[o]:void 0}return t}function I(t,n){for(var e in n=n||{},l.forEach(n,function(t,e){delete n[e]}),t)!t.hasOwnProperty(e)||"$"===e.charAt(0)&&"$"===e.charAt(1)||(n[e]=t[e]);return n}l.module("ngResource",["ng"]).info({angularVersion:"1.6.6"}).provider("$resource",function(){var h=/^https?:\/\/\[[^\]]*][^/]*/,s=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(D,t,E,Y){var A=l.noop,N=l.forEach,O=l.extend,R=l.copy,H=l.isArray,u=l.isDefined,P=l.isFunction,e=l.isNumber,c=l.$$encodeUriQuery,d=l.$$encodeUriSegment;function o(t,e){this.template=t,this.defaults=O({},s.defaults,e),this.urlParams={}}return o.prototype={setUrlParams:function(n,r,t){var i,a,o=this,s=t||o.template,e="",l=o.urlParams=Object.create(null);N(s.split(/\W/),function(t){if("hasOwnProperty"===t)throw j("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(s)&&(l[t]={isQueryParamValue:new RegExp("\\?.*=:"+t+"(?:\\W|$)").test(s)})}),s=(s=s.replace(/\\:/g,":")).replace(h,function(t){return e=t,""}),r=r||{},N(o.urlParams,function(t,e){i=r.hasOwnProperty(e)?r[e]:o.defaults[e],u(i)&&null!==i?(a=t.isQueryParamValue?c(i,!0):d(i),s=s.replace(new RegExp(":"+e+"(\\W|$)","g"),function(t,e){return a+e})):s=s.replace(new RegExp("(/?):"+e+"(\\W|$)","g"),function(t,e,n){return"/"===n.charAt(0)?n:e+n})}),o.defaults.stripTrailingSlashes&&(s=s.replace(/\/+$/,"")||"/"),s=s.replace(/\/\.(?=\w+($|\?))/,"."),n.url=e+s.replace(/\/(\\|%5C)\./,"/."),N(r,function(t,e){o.urlParams[e]||(n.params=n.params||{},n.params[e]=t)})}},function n(r,S,i,a){var T=new o(r,a);function L(t){return t.resource}function C(t){I(t||{},this)}return i=O({},s.defaults.actions,i),C.prototype.toJSON=function(){var t=O({},this);return delete t.$promise,delete t.$resolved,delete t.$cancelRequest,t},N(i,function(w,M){var $=!0===w.hasBody||!1!==w.hasBody&&/^(POST|PUT|PATCH)$/i.test(w.method),x=w.timeout,k=u(w.cancellable)?w.cancellable:T.defaults.cancellable;x&&!e(x)&&(t.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete w.timeout,x=null),C[M]=function(t,e,n,r){var i,a,o,s={};switch(arguments.length){case 4:o=r,a=n;case 3:case 2:if(!P(e)){s=t,i=e,a=n;break}if(P(t)){a=t,o=e;break}a=e,o=n;case 1:P(t)?a=t:$?i=t:s=t;break;case 0:break;default:throw j("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var l,u,c,d,h,f=this instanceof C,p=f?i:w.isArray?[]:new C(i),m={},g=w.interceptor&&w.interceptor.response||L,v=w.interceptor&&w.interceptor.responseError||void 0,y=!!o,_=!!v;N(w,function(t,e){switch(e){default:m[e]=R(t);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!f&&k&&(l=E.defer(),m.timeout=l.promise,x&&(u=Y(l.resolve,x))),$&&(m.data=i),T.setUrlParams(m,O({},(c=i,d=w.params||{},h={},d=O({},S,d),N(d,function(t,e){P(t)&&(t=t(c)),h[e]=t&&t.charAt&&"@"===t.charAt(0)?F(c,t.substr(1)):t}),h),s),w.url);var b=D(m).then(function(t){var e=t.data;if(e){if(H(e)!==!!w.isArray)throw j("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",M,w.isArray?"array":"object",H(e)?"array":"object",m.method,m.url);if(w.isArray)p.length=0,N(e,function(t){"object"==typeof t?p.push(new C(t)):p.push(t)});else{var n=p.$promise;I(e,p),p.$promise=n}}return t.resource=p,t},function(t){return t.resource=p,E.reject(t)});return b=(b=b.finally(function(){p.$resolved=!0,!f&&k&&(p.$cancelRequest=A,Y.cancel(u),l=u=m.timeout=null)})).then(function(t){var e=g(t);return(a||A)(e,t.headers,t.status,t.statusText),e},y||_?function(t){return y&&!_&&b.catch(A),y&&o(t),_?v(t):E.reject(t)}:void 0),f?b:(p.$promise=b,p.$resolved=!1,k&&(p.$cancelRequest=function(t){b.catch(A),null!==l&&l.resolve(t)}),p)},C.prototype["$"+M]=function(t,e,n){P(t)&&(n=e,e=t,t={});var r=C[M].call(this,t,this,e,n);return r.$promise||r}}),C.bind=function(t){var e=O({},S,t);return n(r,e,i,a)},C}}]})}(window,window.angular),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(0,function(){function t(e){"use strict";var n=e.storageKey(),r=e.storage(),t=function(){var t=e.preferredLanguage();angular.isString(t)?e.use(t):r.put(n,e.use())};t.displayName="fallbackFromIncorrectStorageValue",r?r.get(n)?e.use(r.get(n)).catch(t):t():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}function e(t,i,e,a){"use strict";var Y,c,A,N,O,R,H,n,P,j,F,I,z,B,W,U,q={},V=[],G=t,K=[],J="translate-cloak",X=!1,Z=!1,Q=".",tt=!1,et=!1,nt=0,rt=!0,r="default",o={default:function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return 1<n.length?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");switch(n.length){case 1:n[0]=n[0].toLowerCase();break;case 2:n[0]=n[0].toLowerCase(),4===n[1].length?n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase():n[1]=n[1].toUpperCase();break;case 3:n[0]=n[0].toLowerCase(),n[1]=n[1].charAt(0).toUpperCase()+n[1].slice(1).toLowerCase(),n[2]=n[2].toUpperCase();break;default:return e}return n.join("-")},"iso639-1":function(t){return(t||"").split("_").join("-").split("-")[0].toLowerCase()}},s=function(){if(angular.isFunction(a.getLocale))return a.getLocale();var t,e,n=i.$get().navigator,r=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(t=0;t<n.languages.length;t++)if((e=n.languages[t])&&e.length)return e;for(t=0;t<r.length;t++)if((e=n[r[t]])&&e.length)return e;return null};s.displayName="angular-translate/service: getFirstBrowserLanguage";var it=function(){var t=s()||"";return o[r]&&(t=o[r](t)),t};it.displayName="angular-translate/service: getLocale";var at=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},ot=function(){return this.toString().replace(/^\s+|\s+$/g,"")},d=function(t){return angular.isString(t)?t.toLowerCase():t},st=function(t){if(t){for(var e,n=[],r=d(t),i=0,a=V.length;i<a;i++)n.push(d(V[i]));if(-1<(i=at(n,r)))return V[i];if(c)for(var o in c)if(c.hasOwnProperty(o)){var s=!1,l=Object.prototype.hasOwnProperty.call(c,o)&&d(o)===d(t);if("*"===o.slice(-1)&&(s=d(o.slice(0,-1))===d(t.slice(0,o.length-1))),(l||s)&&(e=c[o],-1<at(n,d(e))))return e}var u=t.split("_");return 1<u.length&&-1<at(n,d(u[0]))?u[0]:void 0}},lt=function(t,e){if(!t&&!e)return q;if(t&&!e){if(angular.isString(t))return q[t]}else angular.isObject(q[t])||(q[t]={}),angular.extend(q[t],ut(e));return this};this.translations=lt,this.cloakClassName=function(t){return t?(J=t,this):J},this.nestedObjectDelimeter=function(t){return t?(Q=t,this):Q};var ut=function(t,e,n,r){var i,a,o;for(i in e||(e=[]),n||(n={}),t)Object.prototype.hasOwnProperty.call(t,i)&&(o=t[i],angular.isObject(o)?ut(o,e.concat(i),n,i):(a=e.length?""+e.join(Q)+Q+i:i,e.length&&i===r&&(n[""+e.join(Q)]="@:"+a),n[a]=o));return n};ut.displayName="flatObject",this.addInterpolation=function(t){return K.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return j=t,this},this.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},this.preferredLanguage=function(t){return t?(ct(t),this):Y};var ct=function(t){return t&&(Y=t),Y};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(z=t,this):z},this.translationNotFoundIndicatorRight=function(t){return t?(B=t,this):B},this.fallbackLanguage=function(t){return dt(t),this};var dt=function(t){return t?(angular.isString(t)?(N=!0,A=[t]):angular.isArray(t)&&(N=!1,A=t),angular.isString(Y)&&at(A,Y)<0&&A.push(Y),this):N?A[0]:A};this.use=function(t){if(t){if(!q[t]&&!F)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return O=t,this}return O},this.resolveClientLocale=function(){return it()};var ht=function(t){return t?(G=t,this):n?n+G:G};this.storageKey=ht,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return F=t,I=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return H=t,this},this.storagePrefix=function(t){return t?(n=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return P=t,this},this.usePostCompiling=function(t){return X=!!t,this},this.forceAsyncReload=function(t){return Z=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},r=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():it();return Y=V.length&&st(e)||e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(V=t,e&&(c=e),this):V},this.useLoaderCache=function(t){return!1===t?W=void 0:!0===t?W=!0:void 0===t?W="$translationCache":t&&(W=t),this},this.directivePriority=function(t){return void 0===t?nt:(nt=t,this)},this.statefulFilter=function(t){return void 0===t?rt:(rt=t,this)},this.postProcess=function(t){return U=t||void 0,this},this.keepContent=function(t){return et=!!t,this},this.$get=["$log","$injector","$rootScope","$q",function(t,s,o,v){var a,y,_,b=s.get(j||"$translateDefaultInterpolation"),w=!1,M={},d={},$=function(t,o,s,l,u,c){!O&&Y&&(O=Y);var r=u&&u!==O?st(u)||u:O;if(u&&g(u),angular.isArray(t)){return function(t){for(var r={},e=[],n=function(e){var n=v.defer(),t=function(t){r[e]=t,n.resolve([e,t])};return $(e,o,s,l,u,c).then(t,t),n.promise},i=0,a=t.length;i<a;i++)e.push(n(t[i]));return v.all(e).then(function(){return r})}(t)}var e=v.defer();t&&(t=ot.apply(t));var n=function(){var t=d[r]||d[Y];if(y=0,H&&!t){var e=a.get(G);if(t=d[e],A&&A.length){var n=at(A,e);y=0===n?1:0,at(A,Y)<0&&A.push(Y)}}return t}();if(n){var i=function(){u||(r=O),p(t,o,s,l,r,c).then(e.resolve,e.reject)};i.displayName="promiseResolved",n.finally(i).catch(angular.noop)}else p(t,o,s,l,r,c).then(e.resolve,e.reject);return e.promise},x=function(t){return z&&(t=[z,t].join(" ")),B&&(t=[t,B].join(" ")),t},l=function(t){O=t,H&&a.put($.storageKey(),O),o.$emit("$translateChangeSuccess",{language:t}),b.setLocale(O);var e=function(t,e){M[e].setLocale(O)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(M,e),o.$emit("$translateChangeEnd",{language:t})},u=function(n){if(!n)throw"No language key specified for loading.";var r=v.defer();o.$emit("$translateLoadingStart",{language:n}),w=!0;var t=W;"string"==typeof t&&(t=s.get(t));var e=angular.extend({},I,{key:n,$http:angular.extend({},{cache:t},I.$http)}),i=function(t){var e={};o.$emit("$translateLoadingSuccess",{language:n}),angular.isArray(t)?angular.forEach(t,function(t){angular.extend(e,ut(t))}):angular.extend(e,ut(t)),w=!1,r.resolve({key:n,table:e}),o.$emit("$translateLoadingEnd",{language:n})};i.displayName="onLoaderSuccess";var a=function(t){o.$emit("$translateLoadingError",{language:t}),r.reject(t),o.$emit("$translateLoadingEnd",{language:t})};return a.displayName="onLoaderError",s.get(F)(e).then(i,a),r.promise};if(H&&(!(a=s.get(H)).get||!a.put))throw new Error("Couldn't use storage '"+H+"', missing get() or put() method!");if(K.length){var e=function(t){var e=s.get(t);e.setLocale(Y||O),M[e.getInterpolationIdentifier()]=e};e.displayName="interpolationFactoryAdder",angular.forEach(K,e)}var c=function(r,i,a,o,s){var l=v.defer(),t=function(t){if(Object.prototype.hasOwnProperty.call(t,i)&&null!==t[i]){o.setLocale(r);var e=t[i];if("@:"===e.substr(0,2))c(r,e.substr(2),a,o,s).then(l.resolve,l.reject);else{var n=o.interpolate(t[i],a,"service",s,i);n=T(i,t[i],n,a,r),l.resolve(n)}o.setLocale(O)}else l.reject()};return t.displayName="fallbackTranslationResolver",function(t){var e=v.defer();if(Object.prototype.hasOwnProperty.call(q,t))e.resolve(q[t]);else if(d[t]){var n=function(t){lt(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",d[t].then(n,e.reject)}else e.reject();return e.promise}(r).then(t,l.reject),l.promise},h=function(t,e,n,r,i){var a,o=q[t];if(o&&Object.prototype.hasOwnProperty.call(o,e)&&null!==o[e]){if(r.setLocale(t),a=r.interpolate(o[e],n,"filter",i,e),a=T(e,o[e],a,n,t,i),!angular.isString(a)&&angular.isFunction(a.$$unwrapTrustedValue)){var s=a.$$unwrapTrustedValue();if("@:"===s.substr(0,2))return h(t,s.substr(2),n,r,i)}else if("@:"===a.substr(0,2))return h(t,a.substr(2),n,r,i);r.setLocale(O)}return a},k=function(t,e,n,r){return P?s.get(P)(t,O,e,n,r):t},S=function(t,e,n,r,i,a){var o=v.defer();if(t<A.length){var s=A[t];c(s,e,n,r,a).then(function(t){o.resolve(t)},function(){return S(t+1,e,n,r,i,a).then(o.resolve,o.reject)})}else if(i)o.resolve(i);else{var l=k(e,n,i);P&&l?o.resolve(l):o.reject(x(e))}return o.promise},f=function(t,e,n,r,i){var a;if(t<A.length){var o=A[t];(a=h(o,e,n,r,i))||""===a||(a=f(t+1,e,n,r))}return a},p=function(t,e,n,r,i,a){var o,s,l,u,c,d=v.defer(),h=i?q[i]:q,f=n?M[n]:b;if(h&&Object.prototype.hasOwnProperty.call(h,t)&&null!==h[t]){var p=h[t];if("@:"===p.substr(0,2))$(p.substr(2),e,n,r,i,a).then(d.resolve,d.reject);else{var m=f.interpolate(p,e,"service",a,t);m=T(t,p,m,e,i),d.resolve(m)}}else{var g;P&&!w&&(g=k(t,e,r)),i&&A&&A.length?(o=t,s=e,l=f,u=r,c=a,S(0<_?_:y,o,s,l,u,c)).then(function(t){d.resolve(t)},function(t){d.reject(x(t))}):P&&!w&&g?r?d.resolve(r):d.resolve(g):r?d.resolve(r):d.reject(x(t))}return d.promise},m=function(t,e,n,r,i){var a,o=r?q[r]:q,s=b;if(M&&Object.prototype.hasOwnProperty.call(M,n)&&(s=M[n]),o&&Object.prototype.hasOwnProperty.call(o,t)&&null!==o[t]){var l=o[t];"@:"===l.substr(0,2)?a=m(l.substr(2),e,n,r,i):(a=s.interpolate(l,e,"filter",i,t),a=T(t,l,a,e,r,i))}else{var u;P&&!w&&(u=k(t,e,i)),a=r&&A&&A.length?f((y=0)<_?_:y,t,e,s,i):P&&!w&&u?u:x(t)}return a},T=function(t,e,n,r,i,a){var o=U;return o&&("string"==typeof o&&(o=s.get(o)),o)?o(t,e,n,r,i,a):n},g=function(t){q[t]||!F||d[t]||(d[t]=u(t).then(function(t){return lt(t.key,t.table),t}))};$.preferredLanguage=function(t){return t&&ct(t),Y},$.cloakClassName=function(){return J},$.nestedObjectDelimeter=function(){return Q},$.fallbackLanguage=function(t){if(null!=t){if(dt(t),F&&A&&A.length)for(var e=0,n=A.length;e<n;e++)d[A[e]]||(d[A[e]]=u(A[e]));$.use($.use())}return N?A[0]:A},$.useFallbackLanguage=function(t){if(null!=t)if(t){var e=at(A,t);-1<e&&(_=e)}else _=0},$.proposedLanguage=function(){return R},$.storage=function(){return a},$.negotiateLocale=st,$.use=function(e){if(!e)return O;var n=v.defer();n.promise.then(null,angular.noop),o.$emit("$translateChangeStart",{language:e});var t=st(e);return 0<V.length&&!t?v.reject(e):(t&&(e=t),R=e,!Z&&q[e]||!F||d[e]?d[e]?d[e].then(function(t){return R===t.key&&l(t.key),n.resolve(t.key),t},function(t){return!O&&A&&0<A.length&&A[0]!==t?$.use(A[0]).then(n.resolve,n.reject):n.reject(t)}):(n.resolve(e),l(e)):(d[e]=u(e).then(function(t){return lt(t.key,t.table),n.resolve(t.key),R===e&&l(t.key),t},function(t){return o.$emit("$translateChangeError",{language:t}),n.reject(t),o.$emit("$translateChangeEnd",{language:t}),v.reject(t)}),d[e].finally(function(){var t;R===(t=e)&&(R=void 0),d[t]=void 0}).catch(angular.noop)),n.promise)},$.resolveClientLocale=function(){return it()},$.storageKey=function(){return ht()},$.isPostCompilingEnabled=function(){return X},$.isForceAsyncReloadEnabled=function(){return Z},$.isKeepContent=function(){return et},$.refresh=function(t){if(!F)throw new Error("Couldn't refresh translation table, no loader registered!");o.$emit("$translateRefreshStart",{language:t});var e=v.defer(),n={};function r(e){var t=u(e);return(d[e]=t).then(function(t){q[e]={},lt(e,t.table),n[e]=!0},angular.noop),t}if(e.promise.then(function(){for(var t in q)q.hasOwnProperty(t)&&(t in n||delete q[t]);O&&l(O)},angular.noop).finally(function(){o.$emit("$translateRefreshEnd",{language:t})}),t)q[t]?r(t).then(e.resolve,e.reject):e.reject();else{var i=A&&A.slice()||[];O&&-1===i.indexOf(O)&&i.push(O),v.all(i.map(r)).then(e.resolve,e.reject)}return e.promise},$.instant=function(t,e,n,r,i){var a=r&&r!==O?st(r)||r:O;if(null===t||angular.isUndefined(t))return t;if(r&&g(r),angular.isArray(t)){for(var o={},s=0,l=t.length;s<l;s++)o[t[s]]=$.instant(t[s],e,n,r,i);return o}if(angular.isString(t)&&t.length<1)return t;t&&(t=ot.apply(t));var u,c,d=[];Y&&d.push(Y),a&&d.push(a),A&&A.length&&(d=d.concat(A));for(var h=0,f=d.length;h<f;h++){var p=d[h];if(q[p]&&void 0!==q[p][t]&&(u=m(t,e,n,a,i)),void 0!==u)break}u||""===u||(z||B?u=x(t):(u=b.interpolate(t,e,"filter",i),P&&!w&&(c=k(t,e,i)),P&&!w&&c&&(u=c)));return u},$.versionInfo=function(){return"2.17.0"},$.loaderCache=function(){return W},$.directivePriority=function(){return nt},$.statefulFilter=function(){return rt},$.isReady=function(){return tt};var n=v.defer();n.promise.then(function(){tt=!0}),$.onReady=function(t){var e=v.defer();return angular.isFunction(t)&&e.promise.then(t),tt?e.resolve():n.promise.then(e.resolve),e.promise},$.getAvailableLanguageKeys=function(){return 0<V.length?V:null},$.getTranslationTable=function(t){return(t=t||$.use())&&q[t]?angular.copy(q[t]):null};var r=o.$on("$translateReady",function(){n.resolve(),r(),r=null}),i=o.$on("$translateChangeEnd",function(){n.resolve(),i(),i=null});if(F){if(angular.equals(q,{})&&$.use()&&$.use($.use()),A&&A.length)for(var L=function(t){return lt(t.key,t.table),o.$emit("$translateChangeEnd",{language:t.key}),t},C=0,D=A.length;C<D;C++){var E=A[C];!Z&&q[E]||(d[E]=u(E).then(L))}}else o.$emit("$translateReady",{language:$.use()});return $}]}function n(o,s){"use strict";var t={};return t.setLocale=function(t){t},t.getInterpolationIdentifier=function(){return"default"},t.useSanitizeValueStrategy=function(t){return s.useStrategy(t),this},t.interpolate=function(t,e,n,r,i){var a;return e=e||{},e=s.sanitize(e,"params",r,n),angular.isNumber(t)?a=""+t:angular.isString(t)?(a=o(t)(e),a=s.sanitize(a,"text",r,n)):a="",a},t}function r(w,M,$,x,k){"use strict";var S=function(t){return angular.isString(t)?t.toLowerCase():t};return{restrict:"AE",scope:!0,priority:w.directivePriority(),compile:function(t,p){var m=p.translateValues?p.translateValues:void 0,g=p.translateInterpolation?p.translateInterpolation:void 0,v=p.translateSanitizeStrategy?p.translateSanitizeStrategy:void 0,y=t[0].outerHTML.match(/translate-value-+/i),_="^(.*)("+M.startSymbol()+".*"+M.endSymbol()+")(.*)",b="^(.*)"+M.startSymbol()+"(.*)"+M.endSymbol()+"(.*)";return function(i,l,u){i.interpolateParams={},i.preText="",i.postText="",i.translateNamespace=T(i);var a={},o=function(t){if(angular.isFunction(o._unwatchOld)&&(o._unwatchOld(),o._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var e=function(){return this.toString().replace(/^\s+|\s+$/g,"")}.apply(l.text()),n=e.match(_);if(angular.isArray(n)){i.preText=n[1],i.postText=n[3],a.translate=M(n[2])(i.$parent);var r=e.match(b);angular.isArray(r)&&r[2]&&r[2].length&&(o._unwatchOld=i.$watch(r[2],function(t){a.translate=t,c()}))}else a.translate=e||void 0}else a.translate=t;c()},t=function(e){u.$observe(e,function(t){a[e]=t,c()})};!function(t,e,n){if(e.translateValues&&angular.extend(t,x(e.translateValues)(i.$parent)),y)for(var r in n)Object.prototype.hasOwnProperty.call(e,r)&&"translateValue"===r.substr(0,14)&&"translateValues"!==r&&(t[S(r.substr(14,1))+r.substr(15)]=n[r])}(i.interpolateParams,u,p);var e=!0;for(var n in u.$observe("translate",function(t){void 0===t?o(""):""===t&&e||(a.translate=t,c()),e=!1}),u)u.hasOwnProperty(n)&&"translateAttr"===n.substr(0,13)&&13<n.length&&t(n);if(u.$observe("translateDefault",function(t){i.defaultText=t,c()}),v&&u.$observe("translateSanitizeStrategy",function(t){i.sanitizeStrategy=x(t)(i.$parent),c()}),m&&u.$observe("translateValues",function(t){t&&i.$parent.$watch(function(){angular.extend(i.interpolateParams,x(t)(i.$parent))})}),y){var r=function(n){u.$observe(n,function(t){var e=S(n.substr(14,1))+n.substr(15);i.interpolateParams[e]=t})};for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&"translateValue"===s.substr(0,14)&&"translateValues"!==s&&r(s)}var c=function(){for(var t in a)a.hasOwnProperty(t)&&void 0!==a[t]&&d(t,a[t],i,i.interpolateParams,i.defaultText,i.translateNamespace)},d=function(e,t,n,r,i,a){t?(a&&"."===t.charAt(0)&&(t=a+t),w(t,r,g,i,n.translateLanguage,n.sanitizeStrategy).then(function(t){h(t,n,!0,e)},function(t){h(t,n,!1,e)})):h(t,n,!1,e)},h=function(t,e,n,r){if(n||void 0!==e.defaultText&&(t=e.defaultText),"translate"===r){(n||!n&&!w.isKeepContent()&&void 0===u.translateKeepContent)&&l.empty().append(e.preText+t+e.postText);var i=w.isPostCompilingEnabled(),a=void 0!==p.translateCompile,o=a&&"false"!==p.translateCompile;(i&&!a||o)&&$(l.contents())(e)}else{var s=u.$attr[r];"data-"===s.substr(0,5)&&(s=s.substr(5)),s=s.substr(15),l.attr(s,t)}};(m||y||u.translateDefault)&&i.$watch("interpolateParams",c,!0),i.$on("translateLanguageChanged",c);var f=k.$on("$translateChangeSuccess",c);l.text().length?u.translate?o(u.translate):o(""):u.translate&&o(u.translate),c(),i.$on("$destroy",f)}}}}function T(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?T(t.$parent):void 0}function i(u,c){"use strict";return{restrict:"A",priority:u.directivePriority(),link:function(n,r,i){var a,o,s,l={},t=function(){angular.forEach(a,function(t,e){t&&(l[e]=!0,n.translateNamespace&&"."===t.charAt(0)&&(t=n.translateNamespace+t),u(t,o,i.translateInterpolation,void 0,n.translateLanguage,s).then(function(t){r.attr(e,t)},function(t){r.attr(e,t)}))}),angular.forEach(l,function(t,e){a[e]||(r.removeAttr(e),delete l[e])})};d(n,i.translateAttr,function(t){a=t},t),d(n,i.translateValues,function(t){o=t},t),d(n,i.translateSanitizeStrategy,function(t){s=t},t),i.translateValues&&n.$watch(i.translateValues,t,!0),n.$on("translateLanguageChanged",t);var e=c.$on("$translateChangeSuccess",t);t(),n.$on("$destroy",e)}}}function d(t,e,n,r){"use strict";e&&("::"===e.substr(0,2)?e=e.substr(2):t.$watch(e,function(t){n(t),r()},!0),n(t.$eval(e)))}function a(o,s){"use strict";return{compile:function(t){var a=function(t){t.addClass(o.cloakClassName())};return a(t),function(t,e,n){var r=function(t){t.removeClass(o.cloakClassName())}.bind(this,e),i=a.bind(this,e);n.translateCloak&&n.translateCloak.length?(n.$observe("translateCloak",function(t){o(t).then(r,i)}),s.$on("$translateChangeSuccess",function(){o(n.translateCloak).then(r,i)})):o.onReady(r)}}}}function o(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(t,e,n){t.translateNamespace=T(t),t.translateNamespace&&"."===n.translateNamespace.charAt(0)?t.translateNamespace+=n.translateNamespace:t.translateNamespace=n.translateNamespace}}}}}function T(t){"use strict";return t.translateNamespace?t.translateNamespace:t.$parent?T(t.$parent):void 0}function s(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(e,t,n){n.$observe("translateLanguage",function(t){e.translateLanguage=t}),e.$watch("translateLanguage",function(){e.$broadcast("translateLanguageChanged")})}}}}function l(a,o){"use strict";var t=function(t,e,n,r){if(!angular.isObject(e)){var i=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};e=a(e)(i)}return o.instant(t,e,n,r)};return o.statefulFilter()&&(t.$stateful=!0),t}function u(t){"use strict";return t("translations")}return t.$inject=["$translate"],e.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.$inject=["$interpolate","$translateSanitization"],r.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],i.$inject=["$translate","$rootScope"],a.$inject=["$translate","$rootScope"],l.$inject=["$parse","$translate"],u.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(t),t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",function(){"use strict";var n,r,h,f=null,p=!1,m=!1;(h={sanitize:function(t,e){return"text"===e&&(t=a(t)),t},escape:function(t,e){return"text"===e&&(t=i(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=s(t,a)),t},escapeParameters:function(t,e){return"params"===e&&(t=s(t,i)),t},sce:function(t,e,n){return"text"===e?t=o(t):"params"===e&&"filter"!==n&&(t=s(t,i)),t},sceParameters:function(t,e){return"params"===e&&(t=s(t,o)),t}}).escaped=h.escapeParameters,this.addStrategy=function(t,e){return h[t]=e,this},this.removeStrategy=function(t){return delete h[t],this},this.useStrategy=function(t){return p=!0,f=t,this},this.$get=["$injector","$log",function(u,c){var e,d={};return u.has("$sanitize")&&(n=u.get("$sanitize")),u.has("$sce")&&(r=u.get("$sce")),{useStrategy:(e=this,function(t){e.useStrategy(t)}),sanitize:function(t,e,n,r){if(f||p||m||(c.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),m=!0),n||null===n||(n=f),!n)return t;r||(r="service");var i,a,o,s,l=angular.isArray(n)?n:[n];return i=t,a=e,o=r,s=l,angular.forEach(s,function(e){if(angular.isFunction(e))i=e(i,a,o);else if(angular.isFunction(h[e]))i=h[e](i,a,o);else{if(!angular.isString(h[e]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'");if(!d[h[e]])try{d[h[e]]=u.get(h[e])}catch(t){throw d[h[e]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'")}i=d[h[e]](i,a,o)}}),i}}}];var i=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},a=function(t){if(!n)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return n(t)},o=function(t){if(!r)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return r.trustAsHtml(t)},s=function(t,n,r){if(angular.isDate(t))return t;if(angular.isObject(t)){var i=angular.isArray(t)?[]:{};if(r){if(-1<r.indexOf(t))throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else r=[];return r.push(t),angular.forEach(t,function(t,e){angular.isFunction(t)||(i[e]=s(t,n,r))}),r.splice(-1,1),i}return angular.isNumber(t)?t:!0===t||!1===t?t:angular.isUndefined(t)||null===t?t:n(t)}}),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",e),e.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",n),n.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",r),r.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",i),i.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",a),a.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",o),o.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",s),s.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",l),l.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",u),u.displayName="$translationCache","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(0,function(){function t(){"use strict";function r(t,e,n){this.name=t,this.isActive=!0,this.tables={},this.priority=e||0,this.langPromises={},this.urlTemplate=n}r.prototype.parseUrl=function(t,e){return angular.isFunction(t)?t(this.name,e):t.replace(/\{part\}/g,this.name).replace(/\{lang\}/g,e)},r.prototype.getTable=function(e,t,n,r,i,a){var o=this,s=this.langPromises[e],l=t.defer(),u=function(t){o.tables[e]=t,l.resolve(t)},c=function(){l.reject(o.name)},d=function(){n(angular.extend({method:"GET",url:o.parseUrl(o.urlTemplate||i,e)},r)).then(function(t){u(t.data)},function(t){a?a(o.name,e,t).then(u,c):c()})};return this.tables[e]?l.resolve(this.tables[e]):(s?s.then(l.resolve,d):d(),this.langPromises[e]=l.promise),l.promise};var i={};function a(t){return Object.prototype.hasOwnProperty.call(i,t)}function h(t){return angular.isString(t)&&""!==t}function t(t){if(!h(t))throw new TypeError("Invalid type of a first argument, a non-empty string expected.");return a(t)&&i[t].isActive}function f(){var t=[];for(var e in i)i[e].isActive&&t.push(i[e]);return t.sort(function(t,e){return t.priority-e.priority}),t}this.addPart=function(t,e,n){if(!h(t))throw new TypeError("Couldn't add part, part name has to be a string!");return a(t)||(i[t]=new r(t,e,n)),i[t].isActive=!0,this},this.setPart=function(t,e,n){if(!h(t))throw new TypeError("Couldn't set part.`lang` parameter has to be a string!");if(!h(e))throw new TypeError("Couldn't set part.`part` parameter has to be a string!");if("object"!=typeof n||null===n)throw new TypeError("Couldn't set part. `table` parameter has to be an object!");return a(e)||(i[e]=new r(e),i[e].isActive=!1),i[e].tables[t]=n,this},this.deletePart=function(t){if(!h(t))throw new TypeError("Couldn't delete part, first arg has to be string.");return a(t)&&(i[t].isActive=!1),this},this.isPartAvailable=t,this.$get=["$rootScope","$injector","$q","$http","$log",function(o,s,l,u,c){var d=function(n){if(!h(n.key))throw new TypeError("Unable to load data, a key is not a non-empty string.");if(!h(n.urlTemplate)&&!angular.isFunction(n.urlTemplate))throw new TypeError("Unable to load data, a urlTemplate is not a non-empty string or not a function.");var e=n.loadFailureHandler;if(void 0!==e){if(!angular.isString(e))throw new Error("Unable to load data, a loadFailureHandler is not a string.");e=s.get(e)}var r=[],t=f();angular.forEach(t,function(t){r.push(t.getTable(n.key,l,u,n.$http,n.urlTemplate,e)),t.urlTemplate=t.urlTemplate||n.urlTemplate});var i=!1,a=o.$on("$translatePartialLoaderStructureChanged",function(){i=!0});return l.all(r).then(function(){if(a(),i){if(!n.__retries)return n.__retries=(n.__retries||0)+1,d(n);c.warn("The partial loader has detected a multiple structure change (with addPort/removePart) while loading translations. You should consider using promises of $translate.use(lang) and $translate.refresh(). Also parts should be added/removed right before an explicit refresh if possible.")}var e={};return t=f(),angular.forEach(t,function(t){!function t(e,n){for(var r in n)n[r]&&n[r].constructor&&n[r].constructor===Object?(e[r]=e[r]||{},t(e[r],n[r])):e[r]=n[r];return e}(e,t.tables[n.key])}),e},function(){return a(),l.reject(n.key)})};return d.addPart=function(t,e,n){if(!h(t))throw new TypeError("Couldn't add part, first arg has to be a string");return a(t)?i[t].isActive||(i[t].isActive=!0,o.$emit("$translatePartialLoaderStructureChanged",t)):(i[t]=new r(t,e,n),o.$emit("$translatePartialLoaderStructureChanged",t)),d},d.deletePart=function(n,t){if(!h(n))throw new TypeError("Couldn't delete part, first arg has to be string");if(void 0===t)t=!1;else if("boolean"!=typeof t)throw new TypeError("Invalid type of a second argument, a boolean expected.");if(a(n)){var e=i[n].isActive;if(t){var r=s.get("$translate").loaderCache();"string"==typeof r&&(r=s.get(r)),"object"==typeof r&&angular.forEach(i[n].tables,function(t,e){r.remove(i[n].parseUrl(i[n].urlTemplate,e))}),delete i[n]}else i[n].isActive=!1;e&&o.$emit("$translatePartialLoaderStructureChanged",n)}return d},d.isPartLoaded=function(t,e){return angular.isDefined(i[t])&&angular.isDefined(i[t].tables[e])},d.getRegisteredParts=function(){var e=[];return angular.forEach(i,function(t){t.isActive&&e.push(t.name)}),e},d.isPartAvailable=t,d}]}return angular.module("pascalprecht.translate").provider("$translatePartialLoader",t),t.displayName="$translatePartialLoader","pascalprecht.translate"}),function(){"use strict";angular.module("gantt",["gantt.templates","angularMoment"]).directive("gantt",["Gantt","ganttEnableNgAnimate","$timeout","$templateCache",function(r,i,n,a){return{restrict:"A",transclude:!0,templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"template/gantt.tmpl.html":e.templateUrl,void 0!==e.template&&a.put(n,e.template),n},scope:{sortMode:"=?",filterTask:"=?",filterTaskComparator:"=?",filterRow:"=?",filterRowComparator:"=?",viewScale:"=?",columnWidth:"=?",expandToFit:"=?",shrinkToFit:"=?",showSide:"=?",allowSideResizing:"=?",fromDate:"=?",toDate:"=?",currentDateValue:"=?",currentDate:"=?",daily:"=?",autoExpand:"=?",taskOutOfRange:"=?",taskContent:"=?",rowContent:"=?",maxHeight:"=?",sideWidth:"=?",headers:"=?",headersFormats:"=?",headersScales:"=?",timeFrames:"=?",dateFrames:"=?",timeFramesWorkingMode:"=?",timeFramesNonWorkingMode:"=?",timespans:"=?",columnMagnet:"=?",shiftColumnMagnet:"=?",timeFramesMagnet:"=?",data:"=?",api:"=?",options:"=?"},controller:["$scope","$element",function(t,e){for(var n in t.options)t[n]=t.options[n];i(e,!1),t.gantt=new r(t,e),this.gantt=t.gantt}],link:function(t,e){t.gantt.api.directives.raise.new("gantt",t,e),t.$on("$destroy",function(){t.gantt.api.directives.raise.destroy("gantt",t,e)}),n(function(){t.gantt.initialized()})}}}])}(),function(){"use strict";angular.module("gantt").factory("GanttApi",["$q","$rootScope","ganttUtils",function(t,i,a){var e=function(t){this.gantt=t,this.listeners=[],this.apiId=a.newId()};function s(t,e,n,r){return i.$on(t,function(){var t=Array.prototype.slice.call(arguments);t.splice(0,1),e.apply(r||n.api,t)})}return e.prototype.suppressEvents=function(t,e){var n=this,r=angular.isArray(t)?t:[t],i=[];r.forEach(function(e){i=n.listeners.filter(function(t){return e===t.handler})}),i.forEach(function(t){t.dereg()}),e(),i.forEach(function(t){t.dereg=s(t.eventId,t.handler,n.gantt,t._this)})},e.prototype.registerEvent=function(t,e){var a=this;a[t]||(a[t]={});var n=a[t];n.on||(n.on={},n.raise={});var o="event:gantt:"+this.apiId+":"+t+":"+e;n.raise[e]=function(){i.$emit.apply(i,[o].concat(Array.prototype.slice.call(arguments)))},n.on[e]=function(t,e,n){var r={handler:e,dereg:s(o,e,a.gantt,n),eventId:o,scope:t,_this:n};a.listeners.push(r);var i=function(){r.dereg();var t=a.listeners.indexOf(r);a.listeners.splice(t,1)};return t.$on("$destroy",function(){i()}),i}},e.prototype.registerEventsFromObject=function(t){var n=this,r=[];angular.forEach(t,function(t,e){var n={name:e,events:[]};angular.forEach(t,function(t,e){n.events.push(e)}),r.push(n)}),r.forEach(function(e){e.events.forEach(function(t){n.registerEvent(e.name,t)})})},e.prototype.registerMethod=function(t,e,n,r){this[t]||(this[t]={}),this[t][e]=a.createBoundedWrapper(r||this.gantt,n)},e.prototype.registerMethodsFromObject=function(t,n){var r=this,i=[];angular.forEach(t,function(t,e){var n={name:e,methods:[]};angular.forEach(t,function(t,e){n.methods.push({name:e,fn:t})}),i.push(n)}),i.forEach(function(e){e.methods.forEach(function(t){r.registerMethod(e.name,t.name,t.fn,n)})})},e}])}(),function(){"use strict";angular.module("gantt").factory("GanttOptions",[function(){return function(t,e){this.defaultValues=e,this.values=t,this.defaultValue=function(t){var e=this.defaultValues[t];return angular.isFunction(e)&&(e=e()),e},this.sanitize=function(t,e){if(!e){var n=this.defaultValue(t);if(void 0!==n)return void 0!==e&&"boolean"==typeof n?e:n}return e},this.value=function(t){return this.sanitize(t,this.values[t])},this.set=function(t,e){this.values[t]=e},this.initialize=function(){for(var t in this.values){var e=this.values[t];this.values.hasOwnProperty(t)&&(this.values[t]=this.value(t,e))}return this.values}}}])}(),function(){"use strict";angular.module("gantt").factory("GanttCalendar",["$filter","moment",function(b,w){var M=function(t){void 0===t&&(t={}),this.start=t.start,this.end=t.end,this.working=t.working,this.magnet=void 0===t.magnet||t.magnet,this.default=t.default,this.color=t.color,this.classes=t.classes,this.internal=t.internal};M.prototype.updateView=function(){if(this.$element){var t={};void 0!==this.left?t.left=this.left+"px":t.left="",void 0!==this.width?t.width=this.width+"px":t.width="",void 0!==this.color?t["background-color"]=this.color:t["background-color"]="",this.$element.css(t);var e=["gantt-timeframe"+(this.working?"":"-non")+"-working"];this.classes&&(e=e.concat(this.classes));for(var n=0,r=e.length;n<r;n++)this.$element.toggleClass(e[n],!0)}},M.prototype.getDuration=function(){if(void 0!==this.end&&void 0!==this.start)return this.end.diff(this.start,"milliseconds")},M.prototype.clone=function(){return new M(this)};var n=function(t){this.func=t};n.prototype.getTimeFrames=function(t){var e=this.func(t);return e instanceof Array||(e=[e]),e},n.prototype.clone=function(){return new n(this.func)};var r=function(t){this.evaluator=t.evaluator,t.date?(this.start=w(t.date).startOf("day"),this.end=w(t.date).endOf("day")):(this.start=t.start,this.end=t.end),t.targets instanceof Array?this.targets=t.targets:this.targets=[t.targets],this.default=t.default};r.prototype.dateMatch=function(t){return this.evaluator?this.evaluator(t):!(!this.start||!this.end)&&(t>=this.start&&t<=this.end)},r.prototype.clone=function(){return new r(this)};var t=function(){this.timeFrames={},this.timeFrameMappings={},this.dateFrames={}};t.prototype.clear=function(){this.timeFrames={},this.timeFrameMappings={},this.dateFrames={}},t.prototype.registerTimeFrames=function(t){angular.forEach(t,function(t,e){this.timeFrames[e]=new M(t)},this)},t.prototype.removeTimeFrames=function(t){angular.forEach(t,function(t){delete this.timeFrames[t]},this)},t.prototype.clearTimeFrames=function(){this.timeFrames={}},t.prototype.registerTimeFrameMappings=function(t){angular.forEach(t,function(t,e){this.timeFrameMappings[e]=new n(t)},this)},t.prototype.removeTimeFrameMappings=function(t){angular.forEach(t,function(t){delete this.timeFrameMappings[t]},this)},t.prototype.clearTimeFrameMappings=function(){this.timeFrameMappings={}},t.prototype.registerDateFrames=function(t){angular.forEach(t,function(t,e){this.dateFrames[e]=new r(t)},this)},t.prototype.removeDateFrames=function(t){angular.forEach(t,function(t){delete this.dateFrames[t]},this)},t.prototype.clearDateFrames=function(){this.dateFrames={}};return t.prototype.getTimeFrames=function(t){for(var e,n,r,i=[],a=(e=this.dateFrames,n=t,r=[],angular.forEach(e,function(t){t.dateMatch(n)&&r.push(t)}),0===r.length&&angular.forEach(e,function(t){t.default&&r.push(t)}),r),o=0;o<a.length;o++)if(void 0!==a[o])for(var s=a[o].targets,l=0;l<s.length;l++){var u=this.timeFrameMappings[s[l]];if(void 0!==u)i.push(u.getTimeFrames());else{var c=this.timeFrames[s[l]];void 0!==c&&i.push(c)}}var d=t.year(),h=t.month(),f=t.date(),p=[];for(0===i.length&&angular.forEach(this.timeFrames,function(t){t.default&&i.push(t)}),o=0;o<i.length;o++){var m=i[o].clone();void 0!==m.start&&(m.start.year(d),m.start.month(h),m.start.date(f)),void 0!==m.end&&(m.end.year(d),m.end.month(h),m.end.date(f),w(m.end).startOf("day")===m.end&&m.end.add(1,"day")),p.push(m)}return p},t.prototype.solve=function(t,e,n){for(var r,i,a,o,s=0;s<t.length;s++){var l=t[s];(void 0===a||a>l.start)&&(a=l.start),(void 0===o||o<l.end)&&(o=l.end),void 0===r&&l.color&&(r=l.color),void 0!==l.classes&&(void 0===i&&(i=[]),i=i.concat(l.classes))}void 0===e&&(e=a),void 0===n&&(n=o);var u=[new M({start:e,end:n,internal:!0})];for(t=b("filter")(t,function(t){return(void 0===t.start||t.start<n)&&(void 0===t.end||t.end>e)}),s=0;s<t.length;s++){var c=t[s];c.start||(c.start=e),c.end||(c.end=n)}var d,h=b("orderBy")(t,function(t){return-t.getDuration()});for(s=0;s<h.length;s++){for(var f=h[s],p=u.slice(),m=!1,g=!1,v=d=0;v<u.length;v++){var y=u[v];if(!g){if(f.end||f.start)if(f.end>y.start&&f.start<y.end){var _=y.clone();y.end=w(f.start),_.start=w(f.end),p.splice(d+1,0,f.clone(),_),m=!(g=!0)}else!m&&f.start<y.end?(y.end=w(f.start),p.splice(d+1,0,f.clone()),m=!0):m&&f.end>y.start&&(y.start=w(f.end),g=!(m=!1));else p.splice(d,0,f),m=!(g=!0);d++}}u=p}return u=b("filter")(u,function(t){return!t.internal&&(void 0===t.start||t.start<n)&&(void 0===t.end||t.end>e)})},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttCurrentDateManager",["moment",function(e){var t=function(t){var n=this;this.gantt=t,this.date=void 0,this.position=void 0,this.currentDateColumn=void 0,this.gantt.$scope.simplifyMoment=function(t){return e.isMoment(t)?t.unix():t},this.gantt.$scope.$watchGroup(["currentDate","simplifyMoment(currentDateValue)"],function(t,e){t!==e&&n.setCurrentDate(n.gantt.options.value("currentDateValue"))})};return t.prototype.setCurrentDate=function(t){this.date=t;var e,n=this.currentDateColumn;void 0!==this.date&&"column"===this.gantt.options.value("currentDate")&&(e=this.gantt.columnsManager.getColumnByDate(this.date,!0)),n!==(this.currentDateColumn=e)&&(void 0!==n&&(n.currentDate=!1,n.updateView()),void 0!==e&&(e.currentDate=!0,e.updateView())),this.position=this.gantt.getPositionByDate(this.date,!0)},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumn",["moment",function(x){var t=function(t,e,n,r,i,a,o){this.date=t,this.endDate=e,this.left=n,this.width=r,this.calendar=i,this.duration=this.endDate.diff(this.date,"milliseconds"),this.timeFramesWorkingMode=a,this.timeFramesNonWorkingMode=o,this.timeFrames=[],this.currentDate=!1,this.visibleTimeFrames=[],this.daysTimeFrames={},this.cropped=!1,this.originalSize={left:this.left,width:this.width},this.updateTimeFrames()},k=function(t){return t.year()+"-"+t.month()+"-"+t.date()};return t.prototype.updateView=function(){if(this.$element){this.currentDate?this.$element.addClass("gantt-foreground-col-current-date"):this.$element.removeClass("gantt-foreground-col-current-date"),this.$element.css({left:this.left+"px",width:this.width+"px"});for(var t=0,e=this.timeFrames.length;t<e;t++)this.timeFrames[t].updateView()}},t.prototype.updateTimeFrames=function(){var t=this;if(void 0!==t.calendar&&("hidden"!==t.timeFramesNonWorkingMode||"hidden"!==t.timeFramesWorkingMode)){for(var e,n=t.date,r=x(n).startOf("day"),i=r.add(1,"day");n<t.endDate;){var a=t.calendar.getTimeFrames(n),o=x.min(i,t.endDate);a=t.calendar.solve(a,n,o);var s=[];for(e=0;e<a.length;e++){var l=a[e],u=l.start;void 0===u&&(u=n);var c=l.end;void 0===c&&(c=o),u<t.date&&(u=t.date),c>t.endDate&&(c=t.endDate),(l=l.clone()).start=x(u),l.end=x(c),s.push(l)}t.timeFrames=t.timeFrames.concat(s);var d=k(n);t.daysTimeFrames[d]=s,i=(r=x(n=o).startOf("day")).add(1,"day")}for(e=0;e<t.timeFrames.length;e++){var h=t.timeFrames[e],f=h.start.diff(t.date,"milliseconds")/t.duration*t.width,p=h.end.diff(h.start,"milliseconds")/t.duration*t.width,m=!1;h.working&&"visible"!==t.timeFramesWorkingMode?m=!0:h.working||"visible"===t.timeFramesNonWorkingMode||(m=!0),m||t.visibleTimeFrames.push(h),h.hidden=m,h.left=f,h.width=p,h.originalSize={left:h.left,width:h.width}}if("cropped"===t.timeFramesNonWorkingMode||"cropped"===t.timeFramesWorkingMode){for(var g=0,v=0;v<t.timeFrames.length;v++){var y=t.timeFrames[v];(!y.working&&"cropped"!==t.timeFramesNonWorkingMode||y.working&&"cropped"!==t.timeFramesWorkingMode)&&(g+=y.width)}if(g!==t.width){var _=t.width/g,b=0,w=0,M=!0;for(v=0;v<t.timeFrames.length;v++){var $=t.timeFrames[v];!$.working&&"cropped"!==t.timeFramesNonWorkingMode||$.working&&"cropped"!==t.timeFramesWorkingMode?($.left=($.left-b)*_,$.width=$.width*_,$.originalSize.left=($.originalSize.left-w)*_,$.originalSize.width=$.originalSize.width*_,M=$.cropped=!1):(b+=$.width,w+=$.originalSize.width,$.left=void 0,$.width=0,$.originalSize={left:void 0,width:0},$.cropped=!0)}t.cropped=M}else t.cropped=!1}}},t.prototype.clone=function(){return new t(x(this.date),x(this.endDate),this.left,this.width,this.calendar)},t.prototype.containsDate=function(t){return t>this.date&&t<=this.endDate},t.prototype.equals=function(t){return this.date===t.date},t.prototype.roundTo=function(t,e,n,r){"day"===e&&(e="date"),n=n||1;var i=t.get(e);switch(r){case"up":i=Math.ceil(i/n);break;case"down":i=Math.floor(i/n);break;default:i=Math.round(i/n)}var a=["millisecond","second","minute","hour","date","month","year"];t.set(e,i*n);for(var o=a.indexOf(e),s=0;s<o;s++)t.set(a[s],0);return t},t.prototype.getMagnetDate=function(t,e,n,r){if(0<e&&void 0!==n){var i=t;if(t=x(t),"column"===n)t=this.getPositionByDate(t)<this.width/2?x(this.date):x(this.endDate);else(t=this.roundTo(t,n,e))<this.date?t=x(this.date):t>this.endDate&&(t=x(this.endDate));if(r)for(var a,o=Math.abs(i.diff(t,"milliseconds")),s=0;s<this.timeFrames.length;s++){var l=this.timeFrames[s];if(l.magnet){var u,c=this.timeFrames[s-1],d=this.timeFrames[s+1];void 0!==c&&c.working===l.working||(u=Math.abs(i.diff(l.start,"milliseconds")))<o&&(void 0===a||u<a)&&(a=u,t=l.start),void 0!==d&&d.working===l.working||(u=Math.abs(i.diff(l.end,"milliseconds")))<o&&(void 0===a||u<a)&&(a=u,t=l.end)}}}return t},t.prototype.getDateByPositionUsingTimeFrames=function(t){for(var e=0,n=this.timeFrames.length;e<n;e++){var r=this.timeFrames[e];if(!r.cropped&&t>=r.left&&t<=r.left+r.width){var i=r.getDuration()/r.width*(t-r.left);return x(r.start).add(i,"milliseconds")}}},t.prototype.getDateByPosition=function(t,e,n,r){var i,a;return t<0&&(t=0),t>this.width&&(t=this.width),"cropped"!==this.timeFramesNonWorkingMode&&"cropped"!==this.timeFramesWorkingMode||(a=this.getDateByPositionUsingTimeFrames(t)),void 0===a&&(i=this.duration/this.width*t,a=x(this.date).add(i,"milliseconds")),a=this.getMagnetDate(a,e,n,r)},t.prototype.getDayTimeFrame=function(t){var e=this.daysTimeFrames[k(t)];return void 0===e?[]:e},t.prototype.getPositionByDate=function(t){var e,n=t;if("cropped"===this.timeFramesNonWorkingMode||"cropped"===this.timeFramesWorkingMode)for(var r=this.getDayTimeFrame(n),i=0;i<r.length;i++){var a=r[i];if(n>=a.start&&n<=a.end){if(!a.cropped)return e=n.diff(a.start,"milliseconds")/a.getDuration()*a.width,this.left+a.left+e;n=r.length>i+1?r[i+1].start:a.end}}return(e=n.diff(this.date,"milliseconds")/this.duration*this.width)<0&&(e=0),e>this.width&&(e=this.width),this.left+e},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumnBuilder",["GanttColumn",function(s){var t=function(t){this.columnsManager=t};return t.prototype.newColumn=function(t,e,n,r){var i=this.columnsManager.gantt.calendar,a=this.columnsManager.gantt.options.value("timeFramesWorkingMode"),o=this.columnsManager.gantt.options.value("timeFramesNonWorkingMode");return new s(t,e,n,r,i,a,o)},t}])}(),function(){"use strict";angular.module("gantt").service("GanttColumnGenerator",["moment",function(y){var _=function(t,e,n){return y(t).add(e,n).startOf(n)===t},b=function(t,e,n){var r=e.get(t),i=n.get(t),a=function(t){if(0<=["hour","minute","second","millisecond"].indexOf(t))return 0}(t);void 0!==a&&i!==a&&i<r&&n.set(t,a)};this.generate=function(t,e,n,r,i,a,o,s){if(!n&&!a)throw"to or maximumWidth must be defined";var l,u,c;"s"===(r=r.trim()).charAt(r.length-1)&&(r=r.substring(0,r.length-1)),r&&(c=r.split(" ")),c&&1<c.length?(l=parseFloat(c[0]),u=c[c.length-1]):(l=1,u=r);var d=!1;e=y(e).startOf(u),n&&(d=_(n),n=y(n).startOf(u));var h=0,f=y(e).startOf(u);s&&(f.add(-l,u),h-=i);for(var p=[];!(a&&Math.abs(h)>a+i);){var m=y(f),g=y(m).add(l,u);b(u,m,g);var v=t.newColumn(m,g,o?h+o:h,i);if(v.cropped||(p.push(v),s?h-=i:h+=i),n)if(s){if(d&&f<n||!d&&f<=n)break}else if(d&&n<f||!d&&n<=f)break;s?(f.add(-l,u),b(u,f,m)):(f.add(l,u),b(u,m,f))}return s&&(_(e,l,u)&&p.shift(),p.reverse()),p}}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumnHeader",["moment","GanttColumn",function(l,u){return function(t,e,n,r,i,a,o){t=l(t),e=l(e);var s=new u(t,e,r,i);return s.name=o,s.unit=n,s.label=angular.isFunction(a)?a(s):t.format(a),s}}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumnsManager",["GanttColumnGenerator","GanttColumnBuilder","GanttHeadersGenerator","$filter","$timeout","ganttLayout","ganttBinarySearch","moment",function(l,e,n,o,t,h,i,r){var a=function(t){var n=this;this.gantt=t,this.from=void 0,this.to=void 0,this.columns=[],this.visibleColumns=[],this.previousColumns=[],this.nextColumns=[],this.headers=[],this.visibleHeaders=[],this.scrollAnchor=void 0,this.columnBuilder=new e(this),this.gantt.$scope.$watchGroup(["viewScale","columnWidth","timeFramesWorkingMode","timeFramesNonWorkingMode","fromDate","toDate","autoExpand","taskOutOfRange"],function(t,e){t!==e&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchCollection("headers",function(t,e){t!==e&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchCollection("headersFormats",function(t,e){t!==e&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchGroup(["ganttElementWidth","showSide","sideWidth","maxHeight","daily"],function(t,e){t!==e&&n.gantt.rendered&&n.updateColumnsMeta()}),this.gantt.api.data.on.load(this.gantt.$scope,function(){(void 0===n.from||void 0===n.to||n.from>n.gantt.rowsManager.getDefaultFrom()||n.to<n.gantt.rowsManager.getDefaultTo())&&n.gantt.rendered&&n.generateColumns(),n.gantt.rowsManager.sortRows()}),this.gantt.api.data.on.remove(this.gantt.$scope,function(){n.gantt.rowsManager.sortRows()}),this.gantt.api.registerMethod("columns","clear",this.clearColumns,this),this.gantt.api.registerMethod("columns","generate",this.generateColumns,this),this.gantt.api.registerMethod("columns","refresh",this.updateColumnsMeta,this),this.gantt.api.registerMethod("columns","getColumnsWidth",this.getColumnsWidth,this),this.gantt.api.registerMethod("columns","getColumnsWidthToFit",this.getColumnsWidthToFit,this),this.gantt.api.registerMethod("columns","getDateRange",this.getDateRange,this),this.gantt.api.registerEvent("columns","clear"),this.gantt.api.registerEvent("columns","generate"),this.gantt.api.registerEvent("columns","refresh")};a.prototype.setScrollAnchor=function(){if(this.gantt.scroll.$element&&0<this.columns.length){var t=this.gantt.scroll.$element[0],e=t.scrollLeft+t.offsetWidth/2;this.scrollAnchor=this.gantt.getDateByPosition(e)}},a.prototype.scrollToScrollAnchor=function(){var t=this;0<this.columns.length&&void 0!==this.scrollAnchor&&this.gantt.$scope.$$postDigest(function(){t.gantt.api.scroll.toDate(t.scrollAnchor)})},a.prototype.clearColumns=function(){this.setScrollAnchor(),this.from=void 0,this.to=void 0,this.columns=[],this.visibleColumns=[],this.previousColumns=[],this.nextColumns=[],this.headers=[],this.visibleHeaders=[],this.gantt.api.columns.raise.clear()},a.prototype.generateColumns=function(t,e){return t||(t=this.gantt.options.value("fromDate")),e||(e=this.gantt.options.value("toDate")),!((!t||r.isMoment(t)&&!t.isValid())&&!(t=this.gantt.rowsManager.getDefaultFrom()))&&(!((!e||r.isMoment(e)&&!e.isValid())&&!(e=this.gantt.rowsManager.getDefaultTo()))&&(void 0===t||r.isMoment(t)||(t=r(t)),void 0===e||r.isMoment(e)||(e=r(e)),"expand"===this.gantt.options.value("taskOutOfRange")&&(t=this.gantt.rowsManager.getExpandedFrom(t),e=this.gantt.rowsManager.getExpandedTo(e)),this.setScrollAnchor(),this.from=t,this.to=e,this.previousColumns=[],this.nextColumns=[],this.columns=l.generate(this.columnBuilder,t,e,this.gantt.options.value("viewScale"),this.getColumnsWidth()),this.headers=n.generate(this),this.updateColumnsMeta(),this.scrollToScrollAnchor(),void this.gantt.api.columns.raise.generate(this.columns,this.headers)))},a.prototype.updateColumnsMeta=function(){this.gantt.isRefreshingColumns=!0;var t=this.getLastColumn();this.gantt.originalWidth=void 0!==t?t.originalSize.left+t.originalSize.width:0;var e=this.updateColumnsWidths(this.columns,this.headers,this.previousColumns,this.nextColumns);this.gantt.width=void 0!==t?t.left+t.width:0;var n=this.gantt.options.value("showSide"),r=n!==this.gantt.side.isShown();r&&!n&&this.gantt.side.show(!1),this.gantt.rowsManager.updateTasksPosAndSize(),this.gantt.timespansManager.updateTimespansPosAndSize(),this.updateVisibleColumns(e),this.gantt.rowsManager.updateVisibleObjects();var i=this.gantt.options.value("currentDateValue");this.gantt.currentDateManager.setCurrentDate(i),r&&n&&this.gantt.side.show(!0),this.gantt.isRefreshingColumns=!1,this.gantt.api.columns.raise.refresh(this.columns,this.headers)},a.prototype.getLastColumn=function(t){var e=this.columns;return t&&(e=this.nextColumns),e&&0<e.length?e[e.length-1]:void 0},a.prototype.getFirstColumn=function(t){var e=this.columns;return t&&(e=this.previousColumns),e&&0<e.length?e[0]:void 0},a.prototype.getColumnByDate=function(t,e){e||this.expandExtendedColumnsForDate(t);var n=this.previousColumns.concat(this.columns,this.nextColumns),r=i.get(n,t,function(t){return t.date},!0);return void 0===r[0]?r[1]:r[0]},a.prototype.getColumnByPosition=function(t,e){e||this.expandExtendedColumnsForPosition(t);var n=this.previousColumns.concat(this.columns,this.nextColumns),r=i.get(n,t,function(t){return t.left},!0);return void 0===r[0]?r[1]:r[0]},a.prototype.updateColumnsWidths=function(t,e,n,r){var i=this.gantt.options.value("columnWidth"),a=this.gantt.options.value("expandToFit"),o=this.gantt.options.value("shrinkToFit");if(void 0===i||a||o){var s=this.gantt.getBodyAvailableWidth(),l=this.gantt.columnsManager.getLastColumn(!1);if(void 0!==l){var u=l.originalSize.left+l.originalSize.width;if(a&&u<s||o&&s<u||void 0===i){var c=s/u;h.setColumnsWidthFactor(t,c);for(var d=0;d<e.length;d++)h.setColumnsWidthFactor(e[d],c);return n.splice(0,this.previousColumns.length),r.splice(0,this.nextColumns.length),!0}}}return!1},a.prototype.getColumnsWidth=function(){var t=this.gantt.options.value("columnWidth");return void 0===t&&(t=!this.gantt.width||this.gantt.width<=0?20:this.gantt.width/this.columns.length),t},a.prototype.getColumnsWidthToFit=function(){return this.gantt.getBodyAvailableWidth()/this.columns.length},a.prototype.expandExtendedColumnsForPosition=function(t){var e;if(t<0){var n=this.getFirstColumn().date,r=this.getFirstColumn(!0);return(!r||r.left>t)&&(e=this.gantt.options.value("viewScale"),this.previousColumns=l.generate(this.columnBuilder,n,void 0,e,this.getColumnsWidth(),-t,0,!0)),!0}if(t>this.gantt.width){var i=this.getLastColumn(),a=i.getDateByPosition(i.width),o=this.getLastColumn(!0);return(!o||o.left+o.width<t)&&(e=this.gantt.options.value("viewScale"),this.nextColumns=l.generate(this.columnBuilder,a,void 0,e,this.getColumnsWidth(),t-this.gantt.width,this.gantt.width,!1)),!0}return!1},a.prototype.expandExtendedColumnsForDate=function(t){var e,n=this.getFirstColumn();n&&(e=n.date);var r,i,a=this.getLastColumn();if(a&&(r=a.endDate),e&&t<e){var o=this.getFirstColumn(!0);return(!o||o.date>t)&&(i=this.gantt.options.value("viewScale"),this.previousColumns=l.generate(this.columnBuilder,e,t,i,this.getColumnsWidth(),void 0,0,!0)),!0}if(r&&r<=t){var s=this.getLastColumn(!0);return(!s||s.date<r)&&(i=this.gantt.options.value("viewScale"),this.nextColumns=l.generate(this.columnBuilder,r,t,i,this.getColumnsWidth(),void 0,this.gantt.width,!1)),!0}return!1},a.prototype.getActiveHeadersCount=function(){return this.headers.length},a.prototype.updateVisibleColumns=function(t){var e,n=this.gantt.options.value("columnLimitThreshold");if(void 0===n||0<n&&this.columns.length>=n)for(this.visibleColumns=o("ganttColumnLimit")(this.columns,this.gantt),this.visibleHeaders=[],e=0;e<this.headers.length;e++)this.visibleHeaders.push(o("ganttColumnLimit")(this.headers[e],this.gantt));else this.visibleColumns=this.columns,this.visibleHeaders=this.headers;if(t){for(e=0;e<this.visibleColumns.length;e++)this.visibleColumns[e].updateView();for(e=0;e<this.visibleHeaders.length;e++)for(var r=this.visibleHeaders[e],i=0;i<r.length;i++)r[i].updateView()}var a=this.gantt.options.value("currentDateValue");this.gantt.currentDateManager.setCurrentDate(a)};var s={year:"YYYY",quarter:"[Q]Q YYYY",month:"MMMM YYYY",week:"w",day:"D",hour:"H",minute:"H:mm",second:"H:mm:ss",millisecond:"H:mm:ss:SSS"},u={day:"LL",hour:"H",minute:"H:mm",second:"H:mm:ss",millisecond:"H:mm:ss:SSS"},c={year:"YYYY",quarter:"[Q]Q",month:"MMMM"};return a.prototype.getHeaderFormat=function(t){var e,n=this.gantt.options.value("headersFormats");if(void 0!==n&&(e=n[t]),void 0===e){var r,i,a=this.gantt.options.value("viewScale");"s"===(a=a.trim()).charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a&&(i=a.split(" ")),r=i&&1<i.length?i[i.length-1]:a,-1<["millisecond","second","minute","hour"].indexOf(r)?e=u[t]:-1<["month","quarter","year"].indexOf(r)&&(e=c[t]),void 0===e&&(e=s[t])}return e},a.prototype.getHeaderScale=function(t){var e,n=this.gantt.options.value("headersScales");return void 0!==n&&(e=n[t]),void 0===e&&(e=t),-1===["millisecond","second","minute","hour","day","week","month","quarter","year"].indexOf(e)&&(e="day"),e},a.prototype.getDateRange=function(t){var e,n;return t?this.visibleColumns&&0<this.visibleColumns.length&&(e=this.visibleColumns[0],n=this.visibleColumns[this.visibleColumns.length-1]):(e=this.getFirstColumn(),n=this.getLastColumn()),e&&n?[e.date,n.endDate]:void 0},a}])}(),function(){"use strict";angular.module("gantt").service("GanttHeadersGenerator",["GanttColumnHeader","moment",function(g,v){var s=function(t,e){var n,r,i,a,o=[],s=t.getHeaderScale(e);if(s&&(a=s.split(" ")),a&&1<a.length?(r=parseFloat(a[0]),i=a[a.length-1]):(r=1,i=s),0<t.columns.length)for(var l=t.columns[0],u=v(l.date).startOf(i),c=v(t.columns[t.columns.length-1].endDate);;){var d=l.getPositionByDate(u),h=v.min(v(u).add(r,i),c),f=t.getColumnByDate(h),p=f.getPositionByDate(h)-d;if(0<p){var m=t.getHeaderFormat(e);n=new g(u,h,i,d,p,m,e),o.push(n)}if(h.isSame(c)||h.isAfter(c))break;l=f,u=h}return o};this.generate=function(t){var e=[];if(void 0===t.gantt.options.value("headers")){var n,r,i=t.gantt.options.value("viewScale");"s"===(i=i.trim()).charAt(i.length-1)&&(i=i.substring(0,i.length-1)),i&&(r=i.split(" ")),n=r&&1<r.length?r[r.length-1]:i,-1<["quarter","month"].indexOf(n)&&e.push("year"),-1<["day","week"].indexOf(n)&&e.push("month"),-1<["day"].indexOf(n)&&e.push("week"),-1<["hour"].indexOf(n)&&e.push("day"),-1<["minute","second","millisecond"].indexOf(n)&&e.push("hour"),-1<["second","millisecond"].indexOf(n)&&e.push("minute"),-1<["millisecond"].indexOf(n)&&e.push("second"),e.push(i)}else e=t.gantt.options.value("headers");for(var a=[],o=0;o<e.length;o++)a.push(s(t,e[o]));return a}}])}(),function(){"use strict";angular.module("gantt").factory("Gantt",["GanttApi","GanttOptions","GanttCalendar","GanttScroll","GanttBody","GanttRowHeader","GanttHeader","GanttSide","GanttObjectModel","GanttRowsManager","GanttColumnsManager","GanttTimespansManager","GanttCurrentDateManager","ganttArrays","moment","$document","$timeout",function(r,i,a,o,s,t,l,u,c,h,f,p,m,g,v,y,n){var e=function(t,e){var d=this;this.$scope=t,this.$element=e,this.options=new i(t,{api:angular.noop,data:[],timespans:[],viewScale:"day",columnMagnet:"15 minutes",timeFramesMagnet:!0,showSide:!0,allowSideResizing:!0,currentDate:"line",currentDateValue:v,autoExpand:"none",taskOutOfRange:"truncate",taskContent:"{{task.model.name}}",rowContent:"{{row.model.name}}",maxHeight:0,timeFrames:[],dateFrames:[],timeFramesWorkingMode:"hidden",timeFramesNonWorkingMode:"visible",taskLimitThreshold:100,columnLimitThreshold:500}),this.api=new r(this),this.api.registerEvent("core","ready"),this.api.registerEvent("core","rendered"),this.api.registerEvent("directives","controller"),this.api.registerEvent("directives","preLink"),this.api.registerEvent("directives","postLink"),this.api.registerEvent("directives","new"),this.api.registerEvent("directives","destroy"),this.api.registerEvent("data","change"),this.api.registerEvent("data","load"),this.api.registerEvent("data","remove"),this.api.registerEvent("data","clear"),this.api.registerMethod("core","getDateByPosition",this.getDateByPosition,this),this.api.registerMethod("core","getPositionByDate",this.getPositionByDate,this),this.api.registerMethod("data","load",this.loadData,this),this.api.registerMethod("data","remove",this.removeData,this),this.api.registerMethod("data","clear",this.clearData,this),this.api.registerMethod("data","get",this.getData,this),this.calendar=new a(this),this.calendar.registerTimeFrames(this.options.value("timeFrames")),this.calendar.registerDateFrames(this.options.value("dateFrames")),this.api.registerMethod("timeframes","registerTimeFrames",this.calendar.registerTimeFrames,this.calendar),this.api.registerMethod("timeframes","clearTimeframes",this.calendar.clearTimeFrames,this.calendar),this.api.registerMethod("timeframes","registerDateFrames",this.calendar.registerDateFrames,this.calendar),this.api.registerMethod("timeframes","clearDateFrames",this.calendar.clearDateFrames,this.calendar),this.api.registerMethod("timeframes","registerTimeFrameMappings",this.calendar.registerTimeFrameMappings,this.calendar),this.api.registerMethod("timeframes","clearTimeFrameMappings",this.calendar.clearTimeFrameMappings,this.calendar),t.$watchGroup(["timeFrames","dateFrames"],function(t,e){if(t!==e){var n=t[0],r=t[1],i=e[0],a=e[1],o=!1;angular.equals(n,i)||(d.calendar.clearTimeFrames(),d.calendar.registerTimeFrames(n),o=!0),angular.equals(r,a)||(d.calendar.clearDateFrames(),d.calendar.registerDateFrames(r),o=!0),o&&d.columnsManager.generateColumns()}}),t.$watch("columnMagnet",function(){var t,e=d.options.value("columnMagnet");e&&(t=e.trim().split(" ")),t&&1<t.length?(d.columnMagnetValue=parseFloat(t[0]),d.columnMagnetUnit=v.normalizeUnits(t[t.length-1])):(d.columnMagnetValue=1,d.columnMagnetUnit=v.normalizeUnits(e))}),t.$watchGroup(["shiftColumnMagnet","viewScale"],function(){var t,e=d.options.value("shiftColumnMagnet");e&&(t=e.trim().split(" ")),void 0!==t&&1<t.length?(d.shiftColumnMagnetValue=parseFloat(t[0]),d.shiftColumnMagnetUnit=v.normalizeUnits(t[t.length-1])):(d.shiftColumnMagnetValue=1,d.shiftColumnMagnetUnit=v.normalizeUnits(e))});var n=function(t){return d.shiftKey=t.shiftKey,!0};y.on("keyup keydown",n),t.$on("$destroy",function(){y.off("keyup keydown",n)}),this.scroll=new o(this),this.body=new s(this),this.header=new l(this),this.side=new u(this),this.objectModel=new c(this.api),this.rowsManager=new h(this),this.columnsManager=new f(this),this.timespansManager=new p(this),this.currentDateManager=new m(this),this.originalWidth=0,this.width=0,angular.isFunction(this.$scope.api)&&this.$scope.api(this.api);t.$watchCollection("data",function(t,e){if(void 0!==e){var n=g.getRemovedIds(t,e);if(n.length===e.length)d.rowsManager.removeAll(),d.api.data.raise.clear();else{for(var r=0,i=n.length;r<i;r++){var a=n[r];d.rowsManager.removeRow(a)}var o=[];for(r=0,i=e.length;r<i;r++)-1<n.indexOf(e[r].id)&&o.push(e[r]);d.api.data.raise.remove(o)}}if(void 0!==t){var s=function(t,e){if(void 0===e||t.length!==e.length)return!0;for(var n=0,r=t.length;n<r;n++)if(t[n].id!==e[n].id)return!0;return!1}(t,e);s&&d.rowsManager.resetNonModelLists();for(var l=0,u=t.length;l<u;l++){var c=t[l];d.rowsManager.addRow(c,s)}d.api.data.raise.change(t,e),d.api.data.raise.load(t)}})};return e.prototype.getMagnetValueAndUnit=function(){if(this.shiftKey){if(void 0!==this.shiftColumnMagnetValue&&void 0!==this.shiftColumnMagnetUnit)return[this.shiftColumnMagnetValue,this.shiftColumnMagnetUnit];var t,e,n,r=this.options.value("viewScale");return(r=r.trim())&&(n=r.split(" ")),n&&1<n.length?(t=parseFloat(n[0]),e=v.normalizeUnits(n[n.length-1])):(t=1,e=v.normalizeUnits(r)),[.25*t,e]}return[this.columnMagnetValue,this.columnMagnetUnit]},e.prototype.getMagnetDate=function(t,e){if(void 0!==t){v.isMoment(v)||(t=v(t));var n=this.columnsManager.getColumnByDate(t,e),r=this.getMagnetValueAndUnit(),i=r[0],a=r[1];return n.getMagnetDate(t,i,a,this.options.value("timeFramesMagnet"))}},e.prototype.getDateByPosition=function(t,e,n){var r=this.columnsManager.getColumnByPosition(t,n);if(void 0!==r){var i,a;if(e){var o=this.getMagnetValueAndUnit();i=o[0],a=o[1]}return r.getDateByPosition(t-r.left,i,a,this.options.value("timeFramesMagnet"))}},e.prototype.getBodyAvailableWidth=function(){var t=this.getWidth()-this.side.getWidth()-(void 0!==this.scroll.getBordersWidth()?this.scroll.getBordersWidth():0);return t-=1},e.prototype.getPositionByDate=function(t,e){if(void 0!==t){v.isMoment(v)||(t=v(t));var n=this.columnsManager.getColumnByDate(t,e);return void 0!==n?n.getPositionByDate(t):void 0}},e.prototype.loadData=function(t){if(angular.isArray(t)||(t=void 0!==t?[t]:[]),void 0===this.$scope.data)this.$scope.data=t;else for(var e=0,n=t.length;e<n;e++){var r=t[e],i=g.indexOfId(this.$scope.data,r.id);-1<i?this.$scope.data[i]=r:this.$scope.data.push(r)}var a=this.side.getWidth();0<a&&this.options.set("sideWidth",a)},e.prototype.getData=function(){return this.$scope.data},e.prototype.removeData=function(t){if(angular.isArray(t)||(t=void 0!==t?[t]:[]),void 0!==this.$scope.data)for(var e=0,n=t.length;e<n;e++){var r=t[e],i=g.indexOfId(this.$scope.data,r.id);if(-1<i)if(void 0===r.tasks||0===r.tasks.length)this.$scope.data.splice(i,1);else for(var a=this.$scope.data[i],o=0,s=r.tasks.length;o<s;o++){var l=r.tasks[o],u=g.indexOfId(a.tasks,l.id);-1<u&&a.tasks.splice(u,1)}}},e.prototype.clearData=function(){this.$scope.data=void 0},e.prototype.getWidth=function(){return this.$scope.ganttElementWidth},e.prototype.getHeight=function(){return this.$scope.ganttElementHeight},e.prototype.getContainerWidth=function(){return this.$scope.ganttContainerWidth},e.prototype.getContainerHeight=function(){return this.$scope.ganttContainerHeight},e.prototype.initialized=function(){this.api.core.raise.ready(this.api),this.rendered=!0,this.columnsManager.generateColumns();var e=this;n(function(){var t=e.side.getWidth();0<t&&e.options.set("sideWidth",t),e.api.core.raise.rendered(e.api)})},e}])}(),function(){"use strict";angular.module("gantt").factory("GanttObjectModel",["ganttUtils","moment",function(e,n){var t=function(t){this.api=t,this.api.registerEvent("tasks","clean"),this.api.registerEvent("rows","clean"),this.api.registerEvent("timespans","clean")};return t.prototype.cleanTask=function(t){void 0===t.id&&(t.id=e.randomUuid()),void 0===t.from||n.isMoment(t.from)||(t.from=n(t.from)),void 0===t.to||n.isMoment(t.to)||(t.to=n(t.to)),this.api.tasks.raise.clean(t)},t.prototype.cleanRow=function(t){void 0===t.id&&(t.id=e.randomUuid()),void 0===t.from||n.isMoment(t.from)||(t.from=n(t.from)),void 0===t.to||n.isMoment(t.to)||(t.to=n(t.to)),this.api.rows.raise.clean(t)},t.prototype.cleanTimespan=function(t){void 0===t.id&&(t.id=e.randomUuid()),void 0===t.from||n.isMoment(t.from)||(t.from=n(t.from)),void 0===t.to||n.isMoment(t.to)||(t.to=n(t.to)),this.api.timespans.raise.clean(t)},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttRow",["GanttTask","moment","$filter",function(i,n,r){var a=function(t,e){this.rowsManager=t,this.model=e,this.from=void 0,this.to=void 0,this.tasksMap={},this.tasks=[],this.filteredTasks=[],this.visibleTasks=[]};return a.prototype.addTaskImpl=function(t,e){this.tasksMap[t.model.id]=t,this.tasks.push(t),e||(void 0===this.model.tasks&&(this.model.tasks=[]),-1===this.model.tasks.indexOf(t.model)&&this.model.tasks.push(t.model))},a.prototype.addTask=function(t,e){var n,r=!1;if(this.rowsManager.gantt.objectModel.cleanTask(t),t.id in this.tasksMap){if((n=this.tasksMap[t.id]).model===t)return n;n.model=t,r=!0}else n=new i(this,t),this.addTaskImpl(n,e);return this.sortTasks(),this.setFromToByTask(n),e||(r?this.rowsManager.gantt.api.tasks.raise.change(n):this.rowsManager.gantt.api.tasks.raise.add(n)),n},a.prototype.moveTaskToRow=function(t,e){this.rowsManager.gantt.api.tasks.raise.beforeViewRowChange(t,this),e||this.rowsManager.gantt.api.tasks.raise.beforeRowChange(t,this);var n=t.row;n.removeTask(t.model.id,e,!0),(t.row=this).addTaskImpl(t,e),this.sortTasks(),this.setFromToByTask(t),t.updatePosAndSize(),this.updateVisibleTasks(),n.$scope.$digest(),t.row.$scope.$digest(),this.rowsManager.gantt.api.tasks.raise.viewRowChange(t,n),e||this.rowsManager.gantt.api.tasks.raise.rowChange(t,n)},a.prototype.updateVisibleTasks=function(){var t=this.rowsManager.gantt.options.value("filterTask");if(t){"object"==typeof t&&(t={model:t});var n=this.rowsManager.gantt.options.value("filterTaskComparator");"function"==typeof n&&(n=function(t,e){return n(t.model,e.model)}),this.filteredTasks=r("filter")(this.tasks,t,n)}else this.filteredTasks=this.tasks.slice(0);var e=this.rowsManager.gantt.options.value("taskLimitThreshold");void 0===e||0<e&&this.filteredTasks.length>=e?this.visibleTasks=r("ganttTaskLimit")(this.filteredTasks,this.rowsManager.gantt):this.visibleTasks=this.filteredTasks},a.prototype.updateTasksPosAndSize=function(){for(var t=0,e=this.tasks.length;t<e;t++)this.tasks[t].updatePosAndSize()},a.prototype.removeTask=function(t,e,n){if(t in this.tasksMap){var r,i,a=this.tasksMap[t];for(i=this.tasks.length-1;0<=i;i--)if((r=this.tasks[i]).model.id===t){this.tasks.splice(i,1),this.from-r.model.from!=0&&this.to-r.model.to!=0||this.setFromTo();break}for(i=this.filteredTasks.length-1;0<=i;i--)if((r=this.filteredTasks[i]).model.id===t){this.filteredTasks.splice(i,1);break}for(i=this.visibleTasks.length-1;0<=i;i--)if((r=this.visibleTasks[i]).model.id===t){this.visibleTasks.splice(i,1);break}if(!e){if(delete this.tasksMap[t],void 0!==this.model.tasks){var o=this.model.tasks.indexOf(a.model);-1<o&&this.model.tasks.splice(o,1)}n||this.rowsManager.gantt.api.tasks.raise.remove(a)}return a}},a.prototype.removeAllTasks=function(){this.from=void 0,this.to=void 0,this.tasksMap={},this.tasks=[],this.filteredTasks=[],this.visibleTasks=[]},a.prototype.setFromTo=function(){this.from=void 0,this.to=void 0;for(var t=0,e=this.tasks.length;t<e;t++)this.setFromToByTask(this.tasks[t])},a.prototype.setFromToByTask=function(t){this.setFromToByValues(t.model.from,t.model.to)},a.prototype.setFromToByValues=function(t,e){void 0!==t&&(void 0===this.from?this.from=n(t):t<this.from&&(this.from=n(t))),void 0!==e&&(void 0===this.to?this.to=n(e):e>this.to&&(this.to=n(e)))},a.prototype.sortTasks=function(){this.tasks.sort(function(t,e){return t.left-e.left})},a.prototype.clone=function(){for(var t=new a(this.rowsManager,angular.copy(this)),e=0,n=this.tasks.length;e<n;e++)t.addTask(this.tasks[e].model);return t},a}])}(),function(){"use strict";angular.module("gantt").factory("GanttRowHeader",[function(){return function(t){this.gantt=t}}])}(),function(){"use strict";angular.module("gantt").factory("GanttRowsManager",["GanttRow","ganttArrays","$filter","$timeout","moment",function(c,d,i,a,o){var e=function(t){var n=this;this.gantt=t,this.rowsMap={},this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[],this.rowsTaskWatchers=[],this._defaultFilterImpl=function(t,e,n){return i("filter")(t,e,n)},this.filterImpl=this._defaultFilterImpl,this.customRowSorters=[],this.customRowFilters=[],this.gantt.$scope.$watchGroup(["filterTask","filterTaskComparator"],function(t,e){t!==e&&n.updateVisibleTasks()}),this.gantt.$scope.$watchGroup(["filterRow","filterRowComparator"],function(t,e){t!==e&&n.updateVisibleRows()}),this.gantt.$scope.$watch("sortMode",function(t,e){t!==e&&n.sortRows()});var r=this.gantt.scroll.isVScrollbarVisible();this.gantt.$scope.$watchGroup(["maxHeight","gantt.rowsManager.visibleRows.length"],function(t,e){t!==e&&a(function(){var t=n.gantt.scroll.isVScrollbarVisible();t!==r&&(r=t,n.gantt.columnsManager.updateColumnsMeta())})}),this.gantt.api.registerMethod("rows","sort",e.prototype.sortRows,this),this.gantt.api.registerMethod("rows","applySort",e.prototype.applySort,this),this.gantt.api.registerMethod("rows","refresh",e.prototype.updateVisibleObjects,this),this.gantt.api.registerMethod("rows","removeRowSorter",e.prototype.removeCustomRowSorter,this),this.gantt.api.registerMethod("rows","addRowSorter",e.prototype.addCustomRowSorter,this),this.gantt.api.registerMethod("rows","removeRowFilter",e.prototype.removeCustomRowFilter,this),this.gantt.api.registerMethod("rows","addRowFilter",e.prototype.addCustomRowFilter,this),this.gantt.api.registerMethod("rows","setFilterImpl",e.prototype.setFilterImpl,this),this.gantt.api.registerEvent("tasks","add"),this.gantt.api.registerEvent("tasks","change"),this.gantt.api.registerEvent("tasks","viewChange"),this.gantt.api.registerEvent("tasks","beforeRowChange"),this.gantt.api.registerEvent("tasks","beforeViewRowChange"),this.gantt.api.registerEvent("tasks","rowChange"),this.gantt.api.registerEvent("tasks","viewRowChange"),this.gantt.api.registerEvent("tasks","remove"),this.gantt.api.registerEvent("tasks","filter"),this.gantt.api.registerEvent("tasks","displayed"),this.gantt.api.registerEvent("rows","add"),this.gantt.api.registerEvent("rows","change"),this.gantt.api.registerEvent("rows","remove"),this.gantt.api.registerEvent("rows","move"),this.gantt.api.registerEvent("rows","displayed"),this.gantt.api.registerEvent("rows","filter"),this.updateVisibleObjects()};return e.prototype.resetNonModelLists=function(){this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[]},e.prototype.addRow=function(t,e){var s,n,r,i=!1;if(this.gantt.objectModel.cleanRow(t),t.id in this.rowsMap){if(s=this.rowsMap[t.id],e&&(this.rows.push(s),this.sortedRows.push(s),this.filteredRows.push(s),this.customFilteredRows.push(s),this.visibleRows.push(s)),s.model===t)return;var a=d.getRemovedIds(t.tasks,s.model.tasks);for(n=0,r=a.length;n<r;n++){var o=a[n];s.removeTask(o)}s.model=t,i=!0}else s=new c(this,t),this.rowsMap[t.id]=s,this.rows.push(s),this.sortedRows.push(s),this.filteredRows.push(s),this.customFilteredRows.push(s),this.visibleRows.push(s);if(void 0!==t.tasks&&0<t.tasks.length){for(n=0,r=t.tasks.length;n<r;n++){var l=t.tasks[n];s.addTask(l)}s.updateVisibleTasks()}if(i?this.gantt.api.rows.raise.change(s):this.gantt.api.rows.raise.add(s),!i){var u=this.gantt.$scope.$watchCollection(function(){return t.tasks},function(t,e){if(t!==e){var n,r,i=d.getRemovedIds(t,e);for(n=0,r=i.length;n<r;n++){var a=i[n];s.removeTask(a)}if(void 0!==t){for(n=0,r=t.length;n<r;n++){var o=t[n];s.addTask(o)}s.updateVisibleTasks()}}});this.rowsTaskWatchers.push(u)}return i},e.prototype.removeRow=function(t){if(t in this.rowsMap){var e;delete this.rowsMap[t];var n=d.indexOfId(this.rows,t,["model","id"]);if(-1<n){e=this.rows.splice(n,1)[0];var r=this.rowsTaskWatchers.splice(n,1)[0];r&&r()}return d.removeId(this.sortedRows,t,["model","id"]),d.removeId(this.filteredRows,t,["model","id"]),d.removeId(this.customFilteredRows,t,["model","id"]),d.removeId(this.visibleRows,t,["model","id"]),void this.gantt.api.rows.raise.remove(e)}},e.prototype.removeAll=function(){this.rowsMap={},this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[];for(var t=0,e=this.rowsTaskWatchers.length;t<e;t++){(0,this.rowsTaskWatchers[t])()}this.rowsTaskWatchers=[]},e.prototype.sortRows=function(){var t=this.gantt.options.value("sortMode");if(void 0!==t){var e=!1;angular.isString(t)&&"-"===t.charAt(0)&&(e=!0,t=t.substr(1));var n=i("orderBy");this.sortedRows=n(this.rows,t,e)}else this.sortedRows=this.rows.slice();this.sortedRows=this.applyCustomRowSorters(this.sortedRows),this.updateVisibleRows()},e.prototype.removeCustomRowSorter=function(t){var e=this.customRowSorters.indexOf(t);-1<e&&this.customRowSorters.splice(e,1)},e.prototype.addCustomRowSorter=function(t){this.customRowSorters.push(t)},e.prototype.applyCustomRowSorters=function(t){for(var e=0;e<this.customRowSorters.length;e++)t=this.customRowSorters[e](t);return t},e.prototype.applySort=function(){var t=this.gantt.$scope.data;t.splice(0,t.length);for(var e=[],n=0,r=this.sortedRows.length;n<r;n++)t.push(this.sortedRows[n].model),e.push(this.sortedRows[n]);this.rows=e},e.prototype.moveRow=function(t,e){void 0!==this.gantt.options.value("sortMode")&&(this.applySort(),this.gantt.options.set("sortMode",void 0));var n=this.rows.indexOf(e),r=this.rows.indexOf(t);-1<n&&-1<r&&n!==r&&(d.moveToIndex(this.rows,r,n),d.moveToIndex(this.rowsTaskWatchers,r,n),d.moveToIndex(this.gantt.$scope.data,r,n),this.gantt.api.rows.raise.change(t),this.gantt.api.rows.raise.move(t,r,n),this.updateVisibleObjects(),this.sortRows())},e.prototype.updateVisibleObjects=function(){this.updateVisibleRows(),this.updateVisibleTasks()},e.prototype.updateVisibleRows=function(){var t=this.filteredRows,e=this.gantt.options.value("filterRow");if(e){"object"==typeof e&&(e={model:e});var n=this.gantt.options.value("filterRowComparator");if("function"==typeof n){var r=this.gantt;n=function(t,e){return r.options.value("filterRowComparator")(t,e)}}this.filteredRows=this.filterImpl(this.sortedRows,e,n)}else this.filteredRows=this.sortedRows.slice(0);var i=!angular.equals(t,this.filteredRows);this.customFilteredRows=this.applyCustomRowFilters(this.filteredRows),this.visibleRows=this.customFilteredRows,this.gantt.api.rows.raise.displayed(this.sortedRows,this.filteredRows,this.visibleRows),i&&this.gantt.api.rows.raise.filter(this.sortedRows,this.filteredRows)},e.prototype.removeCustomRowFilter=function(t){var e=this.customRowFilters.indexOf(t);-1<e&&this.customRowFilters.splice(e,1)},e.prototype.addCustomRowFilter=function(t){this.customRowFilters.push(t)},e.prototype.applyCustomRowFilters=function(t){for(var e=0;e<this.customRowFilters.length;e++)t=this.customRowFilters[e](t);return t},e.prototype.setFilterImpl=function(t){this.filterImpl=t||this._defaultFilterImpl},e.prototype.updateVisibleTasks=function(){for(var t=[],e=[],n=[],r=[],i=0;i<this.rows.length;i++){var a=this.rows[i];t=t.concat(a.filteredTasks),a.updateVisibleTasks(),e=e.concat(a.filteredTasks),r=r.concat(a.visibleTasks),n=n.concat(a.tasks)}this.gantt.api.tasks.raise.displayed(n,e,r),!angular.equals(t,e)&&this.gantt.api.tasks.raise.filter(n,e,r)},e.prototype.updateTasksPosAndSize=function(){for(var t=0,e=this.rows.length;t<e;t++)this.rows[t].updateTasksPosAndSize()},e.prototype.getExpandedFrom=function(t){for(var e=t=t?o(t):t,n=0;n<this.rows.length;n++)(void 0===e||e>this.rows[n].from)&&(e=this.rows[n]);return e&&(!t||e<t)?e:t},e.prototype.getExpandedTo=function(t){for(var e=t=t?o(t):t,n=0;n<this.rows.length;n++)(void 0===e||e<this.rows[n].to)&&(e=this.rows[n].to);var r=this.gantt.options.value("toDate");return e&&(!r||r<e)?e:t},e.prototype.getDefaultFrom=function(){for(var t,e=0;e<this.rows.length;e++)(void 0===t||this.rows[e].from<t)&&(t=this.rows[e].from);return t},e.prototype.getDefaultTo=function(){for(var t,e=0;e<this.rows.length;e++)(void 0===t||this.rows[e].to>t)&&(t=this.rows[e].to);return t},e}])}(),function(){"use strict";angular.module("gantt").factory("GanttTask",["moment",function(u){var t=function(t,e){this.rowsManager=t.rowsManager,this.row=t,this.model=e,this.truncatedLeft=!1,this.truncatedRight=!1};return t.prototype.isMilestone=function(){return!this.model.to||this.model.from-this.model.to==0},t.prototype.isOutOfRange=function(){var t=this.rowsManager.gantt.columnsManager.getFirstColumn(),e=this.rowsManager.gantt.columnsManager.getLastColumn();return void 0===t||this.model.to<t.date||void 0===e||this.model.from>e.endDate},t.prototype.updatePosAndSize=function(){var t=this.left,e=this.width,n=this.truncatedRight,r=this.truncatedLeft;!this.isMoving&&this.isOutOfRange()?(this.modelLeft=void 0,this.modelWidth=void 0):(this.modelLeft=this.rowsManager.gantt.getPositionByDate(this.model.from),this.modelWidth=this.rowsManager.gantt.getPositionByDate(this.model.to)-this.modelLeft);var i=this.rowsManager.gantt.columnsManager.getLastColumn(),a=i?i.left+i.width:0,o=this.modelLeft,s=this.modelWidth;this.rowsManager.gantt.options.value("daily")&&(o=this.rowsManager.gantt.getPositionByDate(u(this.model.from).startOf("day")),s=this.rowsManager.gantt.getPositionByDate(u(this.model.to).endOf("day"))-o);var l=-s;o<l&&(o=l),a<o&&(o=a),void 0===o||void 0===s?(this.left=void 0,this.width=void 0):(this.left=o,this.width=s,o<0?(this.truncatedLeft=!0,this.truncatedLeftOffset=-o,this.truncatedRight=!1,this.truncatedRightOffset=void 0):s+o>this.rowsManager.gantt.width?(this.truncatedRight=!0,this.truncatedRightOffset=s+o-this.rowsManager.gantt.width,this.truncatedLeft=!1,this.truncatedLeftOffset=void 0):(this.truncatedLeft=!1,this.truncatedLeftOffset=void 0,this.truncatedRight=!1,this.truncatedRightOffset=s+o-this.rowsManager.gantt.width),this.width<0&&(this.left=this.left+this.width,this.width=-this.width)),this.updateView(),this.rowsManager.gantt.isRefreshingColumns||t===this.left&&e===this.width&&n===this.truncatedRight&&r===this.truncatedLeft||this.rowsManager.gantt.api.tasks.raise.viewChange(this)},t.prototype.updateView=function(){if(this.$element)if(void 0===this.left||void 0===this.width)this.$element.css("display","none");else{if(this.$element.css({left:this.left+"px",width:this.width+"px",display:""}),0<this.model.priority){var t=this.model.priority,e=this.$element.children();this.$element.css("z-index",t);for(var n=0;n<e.length;n++)angular.element(e[n]).css("z-index",t)}this.$element.toggleClass("gantt-task-milestone",this.isMilestone())}},t.prototype.getBackgroundElement=function(){if(void 0!==this.$element){var t=this.$element[0].querySelector(".gantt-task-background");return void 0!==t&&(t=angular.element(t)),t}},t.prototype.getContentElement=function(){if(void 0!==this.$element){var t=this.$element[0].querySelector(".gantt-task-content");return void 0!==t&&(t=angular.element(t)),t}},t.prototype.getForegroundElement=function(){if(void 0!==this.$element){var t=this.$element[0].querySelector(".gantt-task-foreground");return void 0!==t&&(t=angular.element(t)),t}},t.prototype.setFrom=function(t,e){this.model.from=this.rowsManager.gantt.getDateByPosition(t,e),this.row.setFromTo(),this.updatePosAndSize()},t.prototype.setTo=function(t,e){this.model.to=this.rowsManager.gantt.getDateByPosition(t,e),this.row.setFromTo(),this.updatePosAndSize()},t.prototype.moveTo=function(t,e){var n,r;t>this.modelLeft?(this.model.to=this.rowsManager.gantt.getDateByPosition(t+this.modelWidth,e),r=(n=this.rowsManager.gantt.getPositionByDate(this.model.to))-this.modelWidth,this.model.from=this.rowsManager.gantt.getDateByPosition(r,!1)):(this.model.from=this.rowsManager.gantt.getDateByPosition(t,e),n=(r=this.rowsManager.gantt.getPositionByDate(this.model.from))+this.modelWidth,this.model.to=this.rowsManager.gantt.getDateByPosition(n,!1)),this.row.setFromTo(),this.updatePosAndSize()},t.prototype.clone=function(){return new t(this.row,angular.copy(this.model))},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttBody",["GanttBodyColumns","GanttBodyRows","GanttBodyBackground","GanttBodyForeground",function(e,n,r,i){return function(t){this.gantt=t,this.background=new r(this),this.foreground=new i(this),this.columns=new e(this),this.rows=new n(this)}}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyBackground",[function(){return function(t){this.body=t}}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyColumns",[function(){return function(t){this.body=t}}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyForeground",[function(){return function(t){this.body=t}}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyRows",[function(){return function(t){this.body=t}}])}(),function(){"use strict";angular.module("gantt").factory("GanttHeader",["GanttHeaderColumns",function(e){return function(t){this.gantt=t,this.columns=new e(this),this.getHeight=function(){return this.$element[0].offsetHeight}}}])}(),function(){"use strict";angular.module("gantt").factory("GanttHeaderColumns",[function(){return function(t){this.$element=t}}])}(),function(){"use strict";angular.module("gantt").factory("GanttScroll",[function(){var e=function(t){this.gantt=t,this.gantt.api.registerEvent("scroll","scroll"),this.gantt.api.registerMethod("scroll","to",e.prototype.scrollTo,this),this.gantt.api.registerMethod("scroll","toDate",e.prototype.scrollToDate,this),this.gantt.api.registerMethod("scroll","left",e.prototype.scrollToLeft,this),this.gantt.api.registerMethod("scroll","right",e.prototype.scrollToRight,this),this.gantt.api.registerMethod("scroll","setWidth",e.prototype.setWidth,this)};return e.prototype.getScrollLeft=function(){return void 0===this.$element?void 0:(void 0===this.cachedScrollLeft&&(this.cachedScrollLeft=this.$element[0].scrollLeft),this.cachedScrollLeft)},e.prototype.getScrollWidth=function(){return void 0===this.$element?void 0:this.$element[0].scrollWidth},e.prototype.getWidth=function(){return void 0===this.$element?void 0:this.$element[0].offsetWidth},e.prototype.setWidth=function(t){this.$element[0]&&(this.$element[0].offsetWidth=t)},e.prototype.getBordersWidth=function(){if(void 0!==this.$element){if(this.$element[0].clientWidth)return this.$element[0].offsetWidth-this.$element[0].clientWidth;var t=window.getComputedStyle(this.$element[0]).getPropertyValue("border-left-width")?window.getComputedStyle(this.$element[0]).getPropertyValue("border-left-width").match(/\d+/)[0]:0,e=window.getComputedStyle(this.$element[0]).getPropertyValue("border-right-width")?window.getComputedStyle(this.$element[0]).getPropertyValue("border-right-width").match(/\d+/)[0]:0;return parseInt(t)+parseInt(e)}},e.prototype.getBordersHeight=function(){return void 0===this.$element?void 0:this.$element[0].offsetHeight-this.$element[0].clientHeight},e.prototype.isVScrollbarVisible=function(){if(void 0!==this.$element)return this.$element[0].scrollHeight>this.$element[0].offsetHeight},e.prototype.isHScrollbarVisible=function(){if(void 0!==this.$element)return this.$element[0].scrollWidth>this.$element[0].offsetWidth},e.prototype.scrollTo=function(t){this.$element[0].scrollLeft=t,this.$element.triggerHandler("scroll")},e.prototype.scrollToLeft=function(t){this.$element[0].scrollLeft-=t,this.$element.triggerHandler("scroll")},e.prototype.scrollToRight=function(t){this.$element[0].scrollLeft+=t,this.$element.triggerHandler("scroll")},e.prototype.scrollToDate=function(t){var e=this.gantt.getPositionByDate(t);void 0!==e&&(this.$element[0].scrollLeft=e-this.$element[0].offsetWidth/2)},e}])}(),function(){"use strict";angular.module("gantt").factory("GanttSide",[function(){var t=function(t){this.gantt=t};return t.prototype.getWidth=function(){if(this.gantt.options.value("showSide")){var t=this.gantt.options.value("sideWidth");if(void 0===t&&void 0!==this.$element&&void 0!==this.$element.css("width")&&this.$element.css("width",""),void 0!==this.$element&&(t=this.$element[0].offsetWidth),void 0!==t)return t}return 0},t.prototype.show=function(t){void 0!==this.$element&&this.$element.toggleClass("ng-hide",!t)},t.prototype.isShown=function(){if(void 0!==this.$element)return!this.$element.hasClass("ng-hide")},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttTimespan",[function(){var t=function(t,e){this.gantt=t,this.model=e};return t.prototype.updatePosAndSize=function(){this.modelLeft=this.gantt.getPositionByDate(this.model.from),this.modelWidth=this.gantt.getPositionByDate(this.model.to)-this.modelLeft;var t=this.gantt.columnsManager.getLastColumn(),e=t?t.left+t.width:0,n=this.modelLeft,r=this.modelWidth,i=-r;n<i&&(n=i),e<n&&(n=e),void 0===n||void 0===r?(this.left=void 0,this.width=void 0):(this.left=n,this.width=r,n<0?(this.truncatedLeft=!0,this.truncatedLeftOffset=-n,this.truncatedRight=!1,this.truncatedRightOffset=void 0):r+n>this.gantt.width?(this.truncatedRight=!0,this.truncatedRightOffset=r+n-this.gantt.width,this.truncatedLeft=!1,this.truncatedLeftOffset=void 0):(this.truncatedLeft=!1,this.truncatedLeftOffset=void 0,this.truncatedRight=!1,this.truncatedRightOffset=r+n-this.gantt.width),this.width<0&&(this.left=this.left+this.width,this.width=-this.width)),this.updateView()},t.prototype.updateView=function(){this.$element&&(void 0===this.left||void 0===this.width?this.$element.css("display","none"):(this.$element.css("display",""),this.$element.css("left",this.left+"px"),this.$element.css("width",this.width+"px")))},t.prototype.setFrom=function(t){this.from=this.gantt.getDateByPosition(t),this.updatePosAndSize()},t.prototype.setTo=function(t){this.to=this.gantt.getDateByPosition(t),this.updatePosAndSize()},t.prototype.moveTo=function(t){this.from=this.gantt.getDateByPosition(t),this.to=this.gantt.getDateByPosition(t+this.width),this.updatePosAndSize()},t.prototype.clone=function(){return new t(this.gantt,angular.copy(this.model))},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttTimespansManager",["GanttTimespan",function(r){var t=function(t){var e=this;this.gantt=t,this.timespansMap={},this.timespans=[],this.gantt.$scope.$watchCollection("timespans",function(t){e.clearTimespans(),e.loadTimespans(t)}),this.gantt.api.registerMethod("timespans","load",this.loadTimespans,this),this.gantt.api.registerMethod("timespans","remove",this.removeTimespans,this),this.gantt.api.registerMethod("timespans","clear",this.clearTimespans,this),this.gantt.api.registerEvent("timespans","add"),this.gantt.api.registerEvent("timespans","remove"),this.gantt.api.registerEvent("timespans","change")};return t.prototype.loadTimespans=function(t){angular.isArray(t)||(t=void 0!==t?[t]:[]);for(var e=0,n=(this.gantt.$scope.timespans=t).length;e<n;e++){var r=t[e];this.gantt.objectModel.cleanTimespan(r),this.loadTimespan(r)}},t.prototype.loadTimespan=function(t){var e,n=!1;return t.id in this.timespansMap?((e=this.timespansMap[t.id]).model=t,n=!0,this.gantt.api.timespans.raise.change(e)):(e=new r(this.gantt,t),this.timespansMap[t.id]=e,this.timespans.push(e),this.gantt.api.timespans.raise.add(e)),e.updatePosAndSize(),n},t.prototype.removeTimespans=function(t){angular.isArray(t)||(t=[t]);for(var e=0,n=t.length;e<n;e++){var r=t[e];this.removeTimespan(r.id)}this.updateVisibleObjects()},t.prototype.removeTimespan=function(t){if(t in this.timespansMap){var e,n;delete this.timespansMap[t];for(var r=this.timespans.length-1;0<=r;r--)if((n=this.timespans[r]).model.id===t){e=n,this.timespans.splice(r,1);break}return this.gantt.api.timespans.raise.remove(e),e}},t.prototype.clearTimespans=function(){this.timespansMap={},this.timespans=[]},t.prototype.updateTimespansPosAndSize=function(){for(var t=0,e=this.timespans.length;t<e;t++)this.timespans[t].updatePosAndSize()},t}])}(),function(){"use strict";angular.module("gantt").service("ganttArrays",[function(){return{moveToIndex:function(t,e,n){if(n>=t.length)for(var r=n-t.length;1+r--;)t.push(void 0);return t.splice(n,0,t.splice(e,1)[0]),t},getRemovedIds:function(t,e,n){var r,i;void 0===n&&(n="id");var a=[];if(void 0!==e)for(r=0,i=e.length;r<i;r++)a.push(e[r][n]);if(void 0!==t)for(r=0,i=t.length;r<i;r++){var o=t[r];if(void 0!==o[n]){var s=a.indexOf(o[n]);-1<s&&a.splice(s,1)}}return a},indexOfId:function(t,e,n){var r;if(void 0===n)n="id";else if(n instanceof Array){for(r=t.length-1;0<=r;r--){for(var i=t[r],a=0,o=n.length;a<o;a++)i=i[n[a]];if(i===e)return r}return-1}for(r=t.length-1;0<=r;r--)if(t[r][n]===e)return r;return-1},removeId:function(t,e,n){var r=this.indexOfId(t,e,n);if(-1<r)return t.splice(r,1)[0]},remove:function(t,e){var n=t.indexOf(e);return-1<n&&(t.splice(n,1),!0)}}}])}(),function(){"use strict";angular.module("gantt").service("ganttBinarySearch",[function(){return{getIndicesOnly:function(t,e,n,r){for(var i=-1,a=t.length;1<a-i;){var o=Math.floor((i+a)/2);(r?n(t[o])<e:n(t[o])<=e)?i=o:a=o}return r||void 0===t[i]||n(t[i])!==e||(a=i),[i,a]},get:function(t,e,n,r){var i=this.getIndicesOnly(t,e,n,r);return[t[i[0]],t[i[1]]]}}}])}(),function(){"use strict";angular.module("gantt").factory("GanttHierarchy",[function(){return function(){var u=this,c={},d={},h={},f={},p={},m={},g=function(t,e){if(void 0!==e){var n=h[t.model.name];void 0===n&&(n=[],h[t.model.name]=n),n.push(e);var r=f[t.model.id];void 0===r&&(r=[],f[t.model.id]=r),r.push(e),p[e.model.name]=t,m[e.model.id]=t}};this.refresh=function(t){var e;c={},d={},h={},f={},p={},m={};for(var n=0;n<t.length;n++)e=t[n],c[e.model.name]=e,d[e.model.id]=e;for(n=0;n<t.length;n++){if(void 0!==(e=t[n]).model.parent){var r=c[e.model.parent];void 0===r&&(r=d[e.model.parent]),void 0!==r&&g(r,e)}if(void 0!==e.model.children)for(var i=e.model.children,a=0;a<i.length;a++){var o=i[a],s=c[o];void 0===s&&(s=d[o]),void 0!==s&&g(e,s)}}var l=[];for(n=0;n<t.length;n++)e=t[n],void 0===u.parent(e)&&l.push(e);return l},this.children=function(t){return f[t.model.id]},this.descendants=function(t){var e=[],n=u.children(t);if(e.push.apply(e,n),void 0!==n)for(var r=0;r<n.length;r++){var i=u.descendants(n[r]);e.push.apply(e,i)}return e},this.parent=function(t){return m[t.model.id]},this.ancestors=function(t){for(var e=[],n=u.parent(t);void 0!==n;)e.push(n),n=u.parent(n);return e}}}])}(),function(){"use strict";angular.module("gantt").service("ganttUtils",[function(){return{createBoundedWrapper:function(t,e){return function(){return e.apply(t,arguments)}},firstProperty:function(t,e,n){for(var r=0,i=t.length;r<i;r++){var a=t[r];if(void 0!==a&&e in a&&void 0!==a[e])return a[e]}return n},angularIndexOf:function(t,e){for(var n=0;n<t.length;n++)if(angular.equals(t[n],e))return n;return-1},random4:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},randomUuid:function(){return this.random4()+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+this.random4()+this.random4()},newId:(t=(new Date).getTime(),function(){return t+=1})};var t}])}(),function(){"use strict";angular.module("gantt").filter("ganttColumnLimit",["ganttBinarySearch",function(o){var s=function(t){return t.left};return function(t,e){var n=e.scroll.getScrollLeft(),r=e.getWidth()-e.side.getWidth();if(0<r){var i=o.getIndicesOnly(t,n,s)[0],a=o.getIndicesOnly(t,n+r,s)[1];return t.slice(i,a)}return t.slice()}}])}(),function(){"use strict";angular.module("gantt").filter("ganttTaskLimit",[function(){return function(t,e){var n=e.columnsManager.getFirstColumn(),r=e.columnsManager.getLastColumn();if(void 0!==n&&void 0!==r){for(var i=n.date,a=r.endDate,o=[],s=e.scroll.getScrollLeft(),l=e.getWidth()-e.side.getWidth(),u=0,c=t.length;u<c;u++){var d=t[u];d.active?o.push(d):d.model.to>=i&&d.model.from<=a&&(void 0===d.left&&d.updatePosAndSize(),(!l||d.left>=s&&d.left<=s+l||d.left+d.width>=s&&d.left+d.width<=s+l||d.left<s&&d.left+d.width>s+l)&&o.push(d))}return o}return t.splice()}}])}(),function(){"use strict";angular.module("gantt").directive("ganttResizer",["$document","$parse","$timeout","ganttMouseOffset",function(f,p,m,g){return{restrict:"A",require:"^gantt",scope:{targetElement:"=ganttResizer",enabled:"@?ganttResizerEnabled"},link:function(r,e,n,i){var a=i.gantt.api,o=n.ganttResizerEventTopic;function s(){return i.gantt.options.value(n.resizerWidth)}function l(t){t!==s()&&(i.gantt.options.set(n.resizerWidth,t),void 0!==o&&a[o].raise.resize(t),m(function(){i.gantt.columnsManager.updateColumnsMeta()}))}function u(t){t.preventDefault(),l(void 0)}function c(n){r.$evalAsync(function(){var t=g.getOffsetForElement(r.targetElement[0],n),e=i.gantt.getWidth()-i.gantt.scroll.getBordersWidth();l(Math.min(Math.max(t.x,0),e))})}function d(){void 0!==o&&a[o].raise.resizeEnd(s()),f.unbind("mousemove",c),f.unbind("mouseup",d)}function h(t){t.preventDefault(),void 0!==o&&a[o].raise.resizeBegin(s()),f.on("mousemove",c),f.on("mouseup",d)}void 0===r.enabled&&(r.enabled=!0),n.$observe("ganttResizerEnabled",function(t){r.enabled=p(t)()}),r.$watch("enabled",function(t){void 0===t&&(t=!0),e.toggleClass("gantt-resizer-enabled",t),t?(e.on("dblclick",u),e.on("mousedown",h)):(e.off("dblclick",u),e.off("mousedown",h))}),r.$watch(function(){return s()},function(t,e){t!==e&&(r.targetElement.css("width",t+"px"),0<r.targetElement[0].offsetWidth&&l(r.targetElement[0].offsetWidth))}),o&&(a.registerEvent(o,"resize"),a.registerEvent(o,"resizeBegin"),a.registerEvent(o,"resizeEnd"),a.registerMethod(o,"setWidth",l,this),a.registerMethod(o,"getWidth",s,this))}}}])}(),function(){"use strict";angular.module("gantt").directive("ganttHorizontalScrollReceiver",function(){return{restrict:"A",require:"^ganttScrollManager",link:function(t,e,n,r){r.registerHorizontalReceiver(e)}}})}(),function(){"use strict";angular.module("gantt").directive("ganttScrollable",["GanttDirectiveBuilder","$timeout","ganttDebounce","moment",function(t,s,e,d){var n=new t("ganttScrollable");return n.controller=function(c,i){var a,o;c.gantt.scroll.$element=i;i.bind("scroll",e(function(){var t,e,n=i[0],r=n.scrollLeft;c.gantt.scroll.cachedScrollLeft=r,c.gantt.columnsManager.updateVisibleColumns(),c.gantt.rowsManager.updateVisibleObjects(),r<a&&0===r?(t="left",e=c.gantt.columnsManager.from):a<r&&n.offsetWidth+r>=n.scrollWidth-1&&(t="right",e=c.gantt.columnsManager.to),a=r,void 0!==e?(o&&s.cancel(o),o=s(function(){!function(t,e,n){var r=c.gantt.options.value("autoExpand");if("both"===r||!0===r||r===n){var i,a,o,s,l,u=c.gantt.options.value("viewScale");"s"===(u=u.trim()).charAt(u.length-1)&&(u=u.substring(0,u.length-1)),u&&(l=u.split(" ")),l&&1<l.length?(o=parseFloat(l[0]),s=l[l.length-1]):(o=1,s=u),"left"===n?(i=d(e).add(-5*o,s),c.fromDate=i):(a=d(e).add(5*o,s),c.toDate=a),c.gantt.api.scroll.raise.scroll(t.scrollLeft,e,n)}}(n,e,t)},300)):c.gantt.api.scroll.raise.scroll(r)},5)),c.getScrollableCss=function(){var t={},e=c.gantt.options.value("maxHeight");e||(e=c.gantt.getContainerHeight()),0<e&&(t["max-height"]=e-c.gantt.header.getHeight()+"px",t["overflow-y"]="auto",c.gantt.scroll.isVScrollbarVisible()&&(t["border-right"]="none"));var n=this.gantt.options.value("columnWidth"),r=0!==c.gantt.width&&c.gantt.width<c.gantt.getWidth()-c.gantt.side.getWidth();return void 0!==n&&r&&(t.width=c.gantt.width+this.gantt.scroll.getBordersWidth()+"px"),t}},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttScrollManager",function(){return{restrict:"A",scope:{},controller:["$scope",function(e){e.horizontal=[],e.vertical=[],this.registerVerticalReceiver=function(t){t.css("position","relative"),e.vertical.push(t[0])},this.registerHorizontalReceiver=function(t){t.css("position","relative"),e.horizontal.push(t[0])},this.getHorizontalRecievers=function(){return e.horizontal},this.getVerticalRecievers=function(){return e.vertical}}]}})}(),function(){"use strict";angular.module("gantt").directive("ganttScrollSender",[function(){return{restrict:"A",require:["^gantt","^ganttScrollManager"],link:function(t,e,n,o){var s=e[0];e.bind("scroll",function(){var t,e,n=o[1].getVerticalRecievers();for(t=0,e=n.length;t<e;t++){var r=n[t];r.parentNode.scrollTop!==s.scrollTop&&(r.parentNode.scrollTop=s.scrollTop)}var i=o[1].getHorizontalRecievers();for(t=0,e=i.length;t<e;t++){var a=i[t];a.parentNode.scrollLeft!==s.scrollLeft&&(a.parentNode.scrollLeft=s.scrollLeft)}}),t.$watch(function(){return o[0].gantt.width},function(t,e){if(t!==e)for(var n=o[1].getHorizontalRecievers(),r=0,i=n.length;r<i;r++){n[r].style.width=t+"px"}})}}}])}(),function(){"use strict";angular.module("gantt").directive("ganttVerticalScrollReceiver",function(){return{restrict:"A",require:"^ganttScrollManager",link:function(t,e,n,r){r.registerVerticalReceiver(e)}}})}(),function(){"use strict";angular.module("gantt").directive("ganttContainerHeightListener",[function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,e){var n=e.ganttContainerHeightListener;""===n&&(n="ganttContainerHeight");for(var i=t;0===n.indexOf("$parent.");)n=n.substring("$parent.".length),i=i.$parent;i.$watch(function(){var t=r[0].parentElement?r[0].parentElement.parentElement:void 0;if(t){var e=t.offsetHeight,n=getComputedStyle(t);return e=e-parseInt(n.marginTop)-parseInt(n.marginBottom)}return 0},function(t){0<t&&(i[n]=t)})}]}}])}(),function(){"use strict";angular.module("gantt").directive("ganttContainerWidthListener",[function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,r,e){var n=e.ganttContainerWidthListener;""===n&&(n="ganttContainerWidth");for(var i=t;0===n.indexOf("$parent.");)n=n.substring("$parent.".length),i=i.$parent;i.$watch(function(){var t=r[0].parentElement?r[0].parentElement.parentElement:void 0;if(t){var e=t.offsetWidth,n=getComputedStyle(t);return e=e-parseInt(n.marginLeft)-parseInt(n.marginRight)}return 0},function(t){0<t&&(i[n]=t)})}]}}])}(),function(){"use strict";angular.module("gantt").directive("ganttElementHeightListener",[function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,e,n){var r=n.ganttElementHeightListener;""===r&&(r="ganttElementHeight");for(var i=e[0],a=t;0===r.indexOf("$parent.");)r=r.substring("$parent.".length),a=a.$parent;a.$watch(function(){return i.clientHeight},function(t){0<t&&(a[r]=t)})}]}}])}(),function(){"use strict";angular.module("gantt").directive("ganttElementWidthListener",[function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,e,n){var r=n.ganttElementWidthListener;""===r&&(r="ganttElementWidth");for(var i=e[0],a=t;0===r.indexOf("$parent.");)r=r.substring("$parent.".length),a=a.$parent;a.$watch(function(){return i.clientWidth},function(t){0<t&&(a[r]=t)})}]}}])}(),function(){"use strict";angular.module("gantt").directive("ganttBody",["GanttDirectiveBuilder",function(t){var e=new t("ganttBody");return e.controller=function(t,e){t.gantt.body.$element=e,t.gantt.body.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyBackground",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyBackground");return e.controller=function(t,e){t.gantt.body.background.$element=e,t.gantt.body.background.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyColumns",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyColumns");return e.controller=function(t,e){t.gantt.body.columns.$element=e,t.gantt.body.background.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyForeground",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyForeground");return e.controller=function(t,e){t.gantt.body.foreground.$element=e,t.gantt.body.foreground.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyRows",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyRows");return e.controller=function(t,e){t.gantt.body.rows.$element=e,t.gantt.body.rows.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttColumn",["GanttDirectiveBuilder",function(t){var e=new t("ganttColumn");return e.controller=function(t,e){t.column.$element=e,(t.column.$scope=t).column.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttColumnHeader",["GanttDirectiveBuilder",function(t){var e=new t("ganttColumnHeader");return e.controller=function(t,e){t.column.$element=e,(t.column.$scope=t).column.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttHeader",["GanttDirectiveBuilder",function(t){var e=new t("ganttHeader");return e.controller=function(t,e){t.gantt.header.$element=e,t.gantt.header.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttHeaderColumns",["GanttDirectiveBuilder",function(t){var e=new t("ganttHeaderColumns");return e.controller=function(t,e){t.gantt.header.columns.$element=e,t.gantt.header.columns.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttRow",["GanttDirectiveBuilder",function(t){var e=new t("ganttRow");return e.controller=function(t,e){t.row.$element=e,t.row.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttRowBackground",["GanttDirectiveBuilder",function(t){return new t("ganttRowBackground").build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttRowLabel",["GanttDirectiveBuilder",function(t){var e=new t("ganttRowLabel");return e.restrict="A",e.templateUrl=void 0,e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttScrollableHeader",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttScrollableHeader");return n.controller=function(a){var o=e.getScrollBarWidth();a.getScrollableHeaderCss=function(){var t={},e=a.gantt.scroll.isVScrollbarVisible(),n=e?o:0,r=this.gantt.options.value("columnWidth"),i=0!==a.gantt.width&&a.gantt.width<a.gantt.getWidth()-a.gantt.side.getWidth();return void 0!==r&&i?t.width=a.gantt.width-n+this.gantt.scroll.getBordersWidth()+"px":e&&(t.width=a.gantt.getWidth()-a.gantt.side.getWidth()-n+"px"),t}},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttSide",["GanttDirectiveBuilder",function(t){var e=new t("ganttSide");return e.controller=function(t,e){t.gantt.side.$element=e,t.gantt.side.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttSideBackground",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttSideBackground");return n.controller=function(r){var i=e.getScrollBarHeight();r.getMaxHeightCss=function(){var t={},e=r.maxHeight;e||(e=r.gantt.getContainerHeight());var n=r.gantt.scroll.isHScrollbarVisible()?i:0;return t["max-height"]=e-n-r.gantt.header.getHeight()+"px",t}},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttSideContent",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttSideContent");return n.controller=function(r){var i=e.getScrollBarHeight();r.getSideCss=function(){var t={},e=r.maxHeight;e||(e=r.gantt.getContainerHeight());var n=r.gantt.scroll.isHScrollbarVisible()?i:0;return t["max-height"]=e-n+"px",t}},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTask",["GanttDirectiveBuilder","moment",function(t,n){var e=new t("ganttTask");return e.controller=function(t,e){t.task.$element=e,(t.task.$scope=t).getTaskContent=function(){return void 0!==t.task.model.content?t.task.model.content:t.task.rowsManager.gantt.options.value("taskContent")},t.simplifyMoment=function(t){return n.isMoment(t)?t.unix():t},t.$watchGroup(["simplifyMoment(task.model.from)","simplifyMoment(task.model.to)"],function(){t.task.updatePosAndSize()})},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskBackground",["GanttDirectiveBuilder",function(t){return new t("ganttTaskBackground").build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskContent",["GanttDirectiveBuilder",function(t){return new t("ganttTaskContent").build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskForeground",["GanttDirectiveBuilder",function(t){return new t("ganttTaskForeground").build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTimeFrame",["GanttDirectiveBuilder",function(t){var e=new t("ganttTimeFrame");return e.controller=function(t,e){t.timeFrame.$element=e,(t.timeFrame.$scope=t).timeFrame.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTimespan",["GanttDirectiveBuilder",function(t){var e=new t("ganttTimespan");return e.controller=function(t,e){t.timespan.$element=e,(t.timespan.$scope=t).timespan.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").factory("ganttDebounce",["$timeout",function(l){return function(i,a,o){var s=0;return function(){var t,e=this,n=arguments,r=(t=++s,function(){if(t===s)return i.apply(e,n)});return l(r,a,void 0===o||o)}}}])}(),function(){"use strict";angular.module("gantt").service("GanttDirectiveBuilder",["$templateCache",function(s){return function(t,e,n,r){var o=this;this.directiveName=t,this.templateUrl=void 0===e?"template/"+t+".tmpl.html":e,this.require=void 0===n?"^gantt":n,this.restrict=void 0===r?"E":r,this.scope=!1,this.transclude=!0,this.replace=!0,this.build=function(){var i=o.directiveName,n=o.templateUrl,a=o.controller,t={restrict:o.restrict,require:o.require,transclude:o.transclude,replace:o.replace,scope:o.scope,templateUrl:function(t,e){return void 0!==e.templateUrl&&(n=e.templateUrl),void 0!==e.template&&s.put(n,e.template),n},compile:function(){return{pre:function(t,e,n,r){t.gantt.api.directives.raise.preLink(i,t,e,n,r)},post:function(t,e,n,r){t.gantt.api.directives.raise.postLink(i,t,e,n,r)}}},controller:["$scope","$element","$attrs",function(t,e,n){var r=this;void 0!==a&&a(t,e,n,r),t.gantt.api.directives.raise.controller(i,t,e,n,r),t.$on("$destroy",function(){t.gantt.api.directives.raise.destroy(i,t,e,n,r)}),t.$applyAsync(function(){t.gantt.api.directives.raise.new(i,t,e,n,r)})}]};return n||(delete t.templateUrl,delete t.replace,delete t.transclude),t}}}])}(),function(){"use strict";angular.module("gantt").service("ganttDom",["$document",function(n){return{elementFromPoint:function(t,e){return n[0].elementFromPoint(t,e)},elementsFromPoint:function(t,e,n){for(var r,i,a,o,s=[],l=[],u=0;(r=this.elementFromPoint(t,e))&&-1===s.indexOf(r)&&null!==r&&(void 0===n||u<n);)s.push(r),l.push({value:r.style.getPropertyValue("visibility"),priority:r.style.getPropertyPriority("visibility")}),r.style.setProperty("visibility","hidden","important"),u++;for(i=0,a=l.length;i<a;i++)o=l[i],s[i].style.setProperty("visibility",o.value?o.value:"",o.priority);return s},findElementFromPoint:function(t,e,n){for(var r,i,a,o,s,l=[],u=[];(r=this.elementFromPoint(t,e))&&-1===l.indexOf(r)&&null!==r;)if(l.push(r),u.push({value:r.style.getPropertyValue("visibility"),priority:r.style.getPropertyPriority("visibility")}),r.style.setProperty("visibility","hidden","important"),0,n(r)){i=r;break}for(a=0,o=u.length;a<o;a++)s=u[a],l[a].style.setProperty("visibility",s.value?s.value:"",s.priority);return i},isElementVisible:function(t){return void 0!==t.offsetParent&&null!==t.offsetParent}}}])}(),function(){"use strict";angular.module("gantt").service("ganttEnableNgAnimate",["$injector",function(t){var n;try{n=t.get("$animate")}catch(t){}return void 0!==n?function(t,e){1<=angular.version.major&&4<=angular.version.minor?n.enabled(t,e):n.enabled(e,t)}:angular.noop}])}(),function(){"use strict";angular.module("gantt").directive("ganttBindCompileHtml",["$compile",function(i){return{restrict:"A",require:"^gantt",link:function(e,n,t,r){e.scope=r.gantt.$scope.$parent,e.$watch(function(){return e.$eval(t.ganttBindCompileHtml)},function(t){n.html(t),i(n.contents())(e)})}}}])}(),function(){"use strict";angular.module("gantt").service("ganttLayout",["$document",function(i){return{getScrollBarWidth:function(){var t=i[0].createElement("p");t.style.width="100%",t.style.height="200px";var e=i[0].createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),i[0].body.appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var r=t.offsetWidth;return n===r&&(r=e.clientWidth),i[0].body.removeChild(e),n-r},getScrollBarHeight:function(){var t=i[0].createElement("p");t.style.width="200px;",t.style.height="100%";var e=i[0].createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="150px",e.style.height="200px",e.style.overflow="hidden",e.appendChild(t),i[0].body.appendChild(e);var n=t.offsetHeight;e.style.overflow="scroll";var r=t.offsetHeight;return n===r&&(r=e.clientHeight),i[0].body.removeChild(e),n-r},setColumnsWidthFactor:function(t,e,n){if(t){n||(n=0);for(var r=0;r<t.length;r++){var i=t[r];i.left=e*(i.originalSize.left+n)-n,i.width=e*i.originalSize.width;for(var a=0;a<i.timeFrames.length;a++){var o=i.timeFrames[a];o.left=e*o.originalSize.left,o.width=e*o.originalSize.width}}}}}}])}(),function(){"use strict";angular.module("gantt").service("ganttMouseButton",[function(){return{getButton:function(t){return(t=t||window.event).which?t.which:void 0===t.button?1:t.button<2?1:4===t.button?2:3}}}])}(),function(){"use strict";angular.module("gantt").service("ganttMouseOffset",[function(){return{getTouch:function(t){return void 0!==t.touches?t.touches[0]:t},getOffset:function(t){return t.offsetX&&t.offsetY?{x:t.offsetX,y:t.offsetY}:t.layerX&&t.layerY?{x:t.layerX,y:t.layerY}:this.getOffsetForElement(t.target,t)},getOffsetForElement:function(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}}}])}(),function(){"use strict";angular.module("gantt").factory("ganttSmartEvent",[function(){return function(t,e,n,r){return t.$on("$destroy",function(){e.unbind(n,r)}),{bindOnce:function(){e.one(n,r)},bind:function(){e.bind(n,r)},unbind:function(){e.unbind(n,r)}}}}])}(),angular.module("gantt.templates",[]).run(["$templateCache",function(t){t.put("template/gantt.tmpl.html",'<div class="gantt unselectable" ng-cloak gantt-scroll-manager\n     gantt-container-height-listener="ganttContainerHeight"\n     gantt-container-width-listener="ganttContainerWidth"\n     gantt-element-height-listener="ganttElementHeight"\n     gantt-element-width-listener="ganttElementWidth">\n    <gantt-side>\n        <gantt-side-background>\n        </gantt-side-background>\n        <gantt-side-content>\n        </gantt-side-content>\n        <div gantt-resizer="gantt.side.$element" gantt-resizer-event-topic="side" gantt-resizer-enabled="{{$parent.gantt.options.value(\'allowSideResizing\')}}" resizer-width="sideWidth" class="gantt-resizer">\n            <div ng-show="$parent.gantt.options.value(\'allowSideResizing\')" class="gantt-resizer-display"></div>\n        </div>\n    </gantt-side>\n    <gantt-scrollable-header>\n        <gantt-header gantt-element-height-listener="$parent.ganttHeaderHeight">\n            <gantt-header-columns>\n                <div ng-repeat="header in gantt.columnsManager.visibleHeaders track by $index">\n                    <div class="gantt-header-row" ng-class="{\'gantt-header-row-last\': $last, \'gantt-header-row-first\': $first}">\n                        <gantt-column-header ng-repeat="column in header"></gantt-column-header>\n                    </div>\n                </div>\n            </gantt-header-columns>\n        </gantt-header>\n    </gantt-scrollable-header>\n    <gantt-scrollable>\n        <gantt-body>\n            <gantt-body-background>\n                <gantt-row-background ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id"></gantt-row-background>\n            </gantt-body-background>\n            <gantt-body-foreground>\n                <div class="gantt-current-date-line" ng-show="currentDate === \'line\' && gantt.currentDateManager.position >= 0 && gantt.currentDateManager.position <= gantt.width" ng-style="{\'left\': gantt.currentDateManager.position + \'px\' }"></div>\n            </gantt-body-foreground>\n            <gantt-body-columns>\n                <gantt-column ng-repeat="column in gantt.columnsManager.visibleColumns">\n                    <gantt-time-frame ng-repeat="timeFrame in column.visibleTimeFrames"></gantt-time-frame>\n                </gantt-column>\n            </gantt-body-columns>\n            <div ng-if="gantt.columnsManager.visibleColumns == 0" style="background-color: #808080"></div>\n            <gantt-body-rows>\n                <gantt-timespan ng-repeat="timespan in gantt.timespansManager.timespans track by timespan.model.id"></gantt-timespan>\n                <gantt-row ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                    <gantt-task ng-repeat="task in row.visibleTasks track by task.model.id">\n                    </gantt-task>\n                </gantt-row>\n            </gantt-body-rows>\n        </gantt-body>\n    </gantt-scrollable>\n\n    \x3c!-- Plugins --\x3e\n    <ng-transclude></ng-transclude>\n\n    \x3c!--\n    ******* Inline templates *******\n    You can specify your own templates by either changing the default ones below or by\n    adding an attribute template-url="<url to your template>" on the specific element.\n    --\x3e\n\n    \x3c!-- Body template --\x3e\n    <script type="text/ng-template" id="template/ganttBody.tmpl.html">\n        <div ng-transclude class="gantt-body" ng-style="{\'width\': gantt.width > 0 ? gantt.width +\'px\' : undefined}"></div>\n    <\/script>\n\n    \x3c!-- Header template --\x3e\n    <script type="text/ng-template" id="template/ganttHeader.tmpl.html">\n        <div ng-transclude class="gantt-header"\n             ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0"></div>\n    <\/script>\n\n    \x3c!-- Side template --\x3e\n    <script type="text/ng-template" id="template/ganttSide.tmpl.html">\n        <div ng-transclude class="gantt-side" style="width: auto;"></div>\n    <\/script>\n\n    \x3c!-- Side content template--\x3e\n    <script type="text/ng-template" id="template/ganttSideContent.tmpl.html">\n        <div class="gantt-side-content" ng-style="getSideCss()">\n        </div>\n    <\/script>\n\n    \x3c!-- Header columns template --\x3e\n    <script type="text/ng-template" id="template/ganttHeaderColumns.tmpl.html">\n        <div ng-transclude class="gantt-header-columns"\n              gantt-horizontal-scroll-receiver></div>\n    <\/script>\n\n    <script type="text/ng-template" id="template/ganttColumnHeader.tmpl.html">\n        <div class="gantt-column-header" ng-class="{\'gantt-column-header-last\': $last, \'gantt-column-header-first\': $first}">{{::column.label}}</div>\n    <\/script>\n\n    \x3c!-- Body background template --\x3e\n    <script type="text/ng-template" id="template/ganttBodyBackground.tmpl.html">\n        <div ng-transclude class="gantt-body-background"></div>\n    <\/script>\n\n    \x3c!-- Body foreground template --\x3e\n    <script type="text/ng-template" id="template/ganttBodyForeground.tmpl.html">\n        <div ng-transclude class="gantt-body-foreground"></div>\n    <\/script>\n\n    \x3c!-- Body columns template --\x3e\n    <script type="text/ng-template" id="template/ganttBodyColumns.tmpl.html">\n        <div ng-transclude class="gantt-body-columns"></div>\n    <\/script>\n\n    <script type="text/ng-template" id="template/ganttColumn.tmpl.html">\n        <div ng-transclude class="gantt-column gantt-foreground-col" ng-class="{\'gantt-column-last\': $last, \'gantt-column-first\': $first}"></div>\n    <\/script>\n\n    <script type="text/ng-template" id="template/ganttTimeFrame.tmpl.html">\n        <div class="gantt-timeframe"></div>\n    <\/script>\n\n    \x3c!-- Scrollable template --\x3e\n    <script type="text/ng-template" id="template/ganttScrollable.tmpl.html">\n        <div ng-transclude class="gantt-scrollable" gantt-scroll-sender ng-style="getScrollableCss()"></div>\n    <\/script>\n\n    <script type="text/ng-template" id="template/ganttScrollableHeader.tmpl.html">\n        <div ng-transclude class="gantt-scrollable-header" ng-style="getScrollableHeaderCss()"></div>\n    <\/script>\n\n    \x3c!-- Rows template --\x3e\n    <script type="text/ng-template" id="template/ganttBodyRows.tmpl.html">\n        <div ng-transclude class="gantt-body-rows"></div>\n    <\/script>\n\n    \x3c!-- Timespan template --\x3e\n    <script type="text/ng-template" id="template/ganttTimespan.tmpl.html">\n        <div class="gantt-timespan" ng-class="timespan.model.classes">\n        </div>\n    <\/script>\n\n    \x3c!-- Task template --\x3e\n    <script type="text/ng-template" id="template/ganttTask.tmpl.html">\n        <div class="gantt-task" ng-class="task.model.classes">\n            <gantt-task-background></gantt-task-background>\n            <gantt-task-foreground></gantt-task-foreground>\n            <gantt-task-content></gantt-task-content>\n        </div>\n    <\/script>\n\n    <script type="text/ng-template" id="template/ganttTaskBackground.tmpl.html">\n        <div class="gantt-task-background" ng-style="{\'background-color\': task.model.color}"></div>\n    <\/script>\n\n    <script type="text/ng-template" id="template/ganttTaskForeground.tmpl.html">\n        <div class="gantt-task-foreground">\n            <div ng-if="task.truncatedRight" class="gantt-task-truncated-right" ng-style="{\'padding-right\': task.truncatedRightOffset + \'px\'}">&gt;</div>\n            <div ng-if="task.truncatedLeft" class="gantt-task-truncated-left" ng-style="{\'padding-left\': task.truncatedLeftOffset + \'px\'}">&lt;</div>\n        </div>\n    <\/script>\n\n    \x3c!-- Task content template --\x3e\n    <script type="text/ng-template" id="template/ganttTaskContent.tmpl.html">\n        <div class="gantt-task-content" unselectable="on"><span unselectable="on" gantt-bind-compile-html="getTaskContent()"/></div>\n    <\/script>\n\n\n    \x3c!-- Row background template --\x3e\n    <script type="text/ng-template" id="template/ganttRowBackground.tmpl.html">\n        <div class="gantt-row gantt-row-height"\n             ng-class="row.model.classes"\n             ng-class-odd="\'gantt-row-odd\'"\n             ng-class-even="\'gantt-row-even\'"\n             ng-style="{\'height\': row.model.height}">\n            <div class="gantt-row-background"\n                 ng-style="{\'background-color\': row.model.color}">\n            </div>\n        </div>\n    <\/script>\n\n    \x3c!-- Row template --\x3e\n    <script type="text/ng-template" id="template/ganttRow.tmpl.html">\n        <div class="gantt-row gantt-row-height"\n             ng-class="row.model.classes"\n             ng-class-odd="\'gantt-row-odd\'"\n             ng-class-even="\'gantt-row-even\'"\n             ng-style="{\'height\': row.model.height}">\n            <div ng-transclude class="gantt-row-content"></div>\n        </div>\n    <\/script>\n\n    \x3c!-- Side background template --\x3e\n    <script type="text/ng-template" id="template/ganttSideBackground.tmpl.html">\n        <div class="gantt-side-background">\n            <div class="gantt-side-background-header" ng-style="{height: $parent.ganttHeaderHeight + \'px\'}">\n                <div ng-show="$parent.ganttHeaderHeight" class="gantt-header-row gantt-side-header-row"></div>\n            </div>\n            <div class="gantt-side-background-body" ng-style="getMaxHeightCss()">\n                <div gantt-vertical-scroll-receiver>\n                    <div class="gantt-row gantt-row-height "\n                         ng-class-odd="\'gantt-row-odd\'"\n                         ng-class-even="\'gantt-row-even\'"\n                         ng-class="row.model.classes"\n                         ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id"\n                         ng-style="{\'height\': row.model.height}">\n                        <div class="gantt-row-label gantt-row-background"\n                             ng-style="{\'background-color\': row.model.color}">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    <\/script>\n</div>\n')}]),function(){"use strict";angular.module("gantt.bounds",["gantt","gantt.bounds.templates"]).directive("ganttBounds",["moment","$compile","$document",function(i,l,u){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(o,t,s,e){var n=e.gantt.api;if(o.options&&"object"==typeof o.options.bounds)for(var r in o.options.bounds)o[r]=o.options.bounds[r];void 0===o.enabled&&(o.enabled=!0),n.directives.on.new(o,function(t,e,n){if("ganttTask"===t){var r=e.$new();r.pluginScope=o;var i=u[0].createElement("div");angular.element(i).attr("data-ng-if","task.model.est && task.model.lct && pluginScope.enabled");var a=u[0].createElement("gantt-task-bounds");void 0!==s.templateUrl&&angular.element(a).attr("data-template-url",s.templateUrl),void 0!==s.template&&angular.element(a).attr("data-template",s.template),angular.element(i).append(a),n.append(l(i)(r))}}),n.tasks.on.clean(o,function(t){void 0===t.est||i.isMoment(t.est)||(t.est=i(t.est)),void 0===t.lct||i.isMoment(t.lct)||(t.lct=i(t.lct))})}}}])}(),function(){"use strict";angular.module("gantt.corner",["gantt","gantt.corner.templates"]).directive("ganttCorner",["ganttUtils","$compile","$document",function(t,s,l){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",headersLabels:"=?",headersLabelsTemplates:"=?"},link:function(o,t,e,n){var r=n.gantt.api;if(o.options&&"object"==typeof o.options.corner)for(var i in o.options.corner)o[i]=o.options.corner[i];void 0===o.enabled&&(o.enabled=!0),r.directives.on.new(o,function(t,e,n){if("ganttSideBackground"===t){var r=e.$new();r.pluginScope=o;var i=l[0].createElement("div");angular.element(i).attr("data-ng-if","pluginScope.enabled"),angular.element(i).addClass("gantt-corner-area");var a=l[0].createElement("gantt-corner-area");angular.element(i).append(a),n[0].parentNode.insertBefore(s(i)(r)[0],n[0].nextSibling)}})}}}])}(),function(){"use strict";angular.module("gantt.dependencies",["gantt","gantt.dependencies.templates"]).directive("ganttDependencies",["$timeout","$document","ganttDebounce","GanttDependenciesManager","GanttDependenciesChecker",function(t,e,l,u,c){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",readOnly:"=?",jsPlumbDefaults:"=?",endpoints:"=?",fallbackEndpoints:"=?",conflictChecker:"=?"},link:function(a,t,e,o){var n=o.gantt.api;if(a.options&&"object"==typeof a.options.dependencies)for(var r in a.options.dependencies)a[r]=a.options.dependencies[r];void 0===a.enabled&&(a.enabled=!0),void 0===a.readOnly&&(a.readOnly=!1),void 0===a.jsPlumbDefaults&&(a.jsPlumbDefaults={Endpoint:["Dot",{radius:4}],EndpointStyle:{fillStyle:"#456",strokeStyle:"#456",lineWidth:1},PaintStyle:{strokeWidth:3,stroke:"rgb(68, 85, 102)"},Connector:"Flowchart",ConnectionOverlays:[["Arrow",{location:1,length:12,width:12}]]}),void 0===a.endpoints&&(a.endpoints=[{anchor:"Left",isSource:!1,isTarget:!0,maxConnections:-1,cssClass:"gantt-endpoint start-endpoint target-endpoint",overlays:[["Custom",{create:function(){return angular.element('<span><span class="gantt-endpoint-overlay start-endpoint arrow-right"></span></span>')}}]]},{anchor:"Right",isSource:!0,isTarget:!1,maxConnections:-1,cssClass:"gantt-endpoint end-endpoint source-endpoint",overlays:[["Custom",{create:function(){return angular.element('<span><span class="gantt-endpoint-overlay end-endpoint arrow-right"></span></span>')}}]]}]),void 0===a.fallbackEndpoints&&(a.fallbackEndpoints=[{endpoint:"Blank",anchor:"Left",isSource:!1,isTarget:!0,maxConnections:0,cssClass:"gantt-endpoint start-endpoint fallback-endpoint",overlays:[["Custom",{create:function(){return angular.element('<span><span class="gantt-endpoint-overlay start-endpoint fallback-endpoint"></span></span>')}}]]},{endpoint:"Blank",anchor:"Right",isSource:!0,isTarget:!1,maxConnections:0,cssClass:"gantt-endpoint end-endpoint fallback-endpoint",overlays:[["Custom",{create:function(){return angular.element('<span><span class="gantt-endpoint-overlay end-endpoint fallback-endpoint"></span></span>')}}]]}]),void 0===a.conflictChecker&&(a.conflictChecker=!1);var i=new u(o.gantt,a,n),s=new c(i,a,n);a.$watchGroup(["conflictChecker","enabled"],function(t,e){if(t!==e){for(var n=o.gantt.rowsManager.rows,r=[],i=0;i<n.length;i++)r.push.apply(r,n[i].tasks);a.conflictChecker&&a.enabled?s.refresh(r):s.clear(r)}}),n.directives.on.new(a,function(t,e,n){"ganttBody"===t&&i.plumb.setContainer(n)}),n.tasks.on.add(a,function(t){i.addDependenciesFromTask(t,!0)}),n.tasks.on.remove(a,function(t){i.removeDependenciesFromTask(t)}),n.tasks.on.displayed(a,l(function(t){i.setTasks(t),i.refresh(),a.conflictChecker&&a.enabled&&s.refresh(t)})),n.rows.on.displayed(a,function(){i.refresh()}),n.tasks.on.viewChange(a,function(t){t.$element&&i.plumb.revalidate(t.$element[0]),a.conflictChecker&&a.enabled&&s.refresh([t])}),n.tasks.on.viewRowChange(a,function(t){i.setTask(t),a.conflictChecker&&a.enabled&&s.refresh([t])}),n.dependencies.on.add(a,function(t){a.conflictChecker&&a.enabled&&s.refresh([t.getFromTask(),t.getToTask()])}),n.dependencies.on.change(a,function(t){a.conflictChecker&&a.enabled&&s.refresh([t.getFromTask(),t.getToTask()])}),n.dependencies.on.remove(a,function(t){if(a.conflictChecker&&a.enabled){var e=t.getFromTask(),n=t.getToTask();e&&n?s.refresh([e,n]):e?s.removeConflictClass(e):s.removeConflictClass(n)}})}}}])}(),function(){"use strict";angular.module("gantt.drawtask",["gantt"]).directive("ganttDrawTask",["$document","ganttMouseOffset","ganttUtils","moment",function(f,p,m,s){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",moveThreshold:"=?",taskFactory:"=?"},link:function(h,t,e,n){var o=n.gantt.api;if(h.options&&"object"==typeof h.options.drawtask)for(var r in h.options.drawtask)h[r]=h.options.drawtask[r];void 0===h.enabled&&(h.enabled=!0),void 0===h.moveThreshold&&(h.moveThreshold=0),void 0===h.taskFactory&&(h.taskFactory=function(){return{}}),o.registerEvent("tasks","draw"),o.registerEvent("tasks","drawBegin"),o.registerEvent("tasks","drawEnd");o.directives.on.new(h,function(t,l,u){if("ganttRow"===t){var c=function(t){var e,n=o.core.getDateByPosition(t,!0),r=s(n),i=(e=l.row).model.drawTask&&angular.isFunction(e.model.drawTask.taskFactory)?e.model.drawTask.taskFactory():h.taskFactory();i.from=n,i.to=r;var a=l.row.addTask(i);return a.isResizing=!0,a.updatePosAndSize(),l.row.updateVisibleTasks(),l.row.$scope.$digest(),a},d=function(t){var e=function(){l.row.rowsManager.gantt.api.tasks.raise.draw(t)};l.row.rowsManager.gantt.api.tasks.raise.drawBegin(t),f.on("mousemove",e),f.one("mouseup",function(){l.row.rowsManager.gantt.api.tasks.raise.drawEnd(t),f.off("mousemove",e)})},e=function(t){var e=t.target?t.target:t.srcElement,n=l.row.model.drawTask;("boolean"==typeof n||angular.isFunction(n))&&(n={enabled:n});var r,i,a=m.firstProperty([n],"enabled",h.enabled);if((angular.isFunction(a)?a(t,l.row):a)&&-1<e.className.indexOf("gantt-row")){var o=p.getOffset(t).x;if(0===h.moveThreshold){var s=c(o);d(s)}else r=o,i=function(t){var e=p.getOffset(t).x;if(Math.abs(r-e)>=h.moveThreshold){u.off("mousemove",i);var n=c(r);d(n)}},u.on("mousemove",i),f.one("mouseup",function(){u.off("mousemove",i)})}};u.on("mousedown",e),l.drawTaskHandler=e}}),o.directives.on.destroy(h,function(t,e,n){"ganttRow"===t&&(n.off("mousedown",e.drawTaskHandler),delete e.drawTaskHandler)})}}}])}(),function(){"use strict";angular.module("gantt.groups",["gantt","gantt.groups.templates"]).directive("ganttGroups",["ganttUtils","GanttHierarchy","$compile","$document",function(t,a,l,u){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",display:"=?"},link:function(o,t,s,e){var n=e.gantt.api;if(o.options&&"object"==typeof o.options.groups)for(var r in o.options.groups)o[r]=o.options.groups[r];function i(){o.hierarchy.refresh(e.gantt.rowsManager.filteredRows)}void 0===o.enabled&&(o.enabled=!0),void 0===o.display&&(o.display="group"),o.hierarchy=new a,e.gantt.api.registerMethod("groups","refresh",i,this),e.gantt.$scope.$watchCollection("gantt.rowsManager.filteredRows",function(){i()}),n.directives.on.new(o,function(t,e,n){if("ganttRow"===t){var r=e.$new();r.pluginScope=o;var i=u[0].createElement("div");angular.element(i).attr("data-ng-if","pluginScope.enabled");var a=u[0].createElement("gantt-task-group");void 0!==s.templateUrl&&angular.element(a).attr("data-template-url",s.templateUrl),void 0!==s.template&&angular.element(a).attr("data-template",s.template),angular.element(i).append(a),n.append(l(i)(r))}})}}}])}(),function(){"use strict";angular.module("gantt.labels",["gantt","gantt.labels.templates"]).directive("ganttLabels",["ganttUtils","$compile","$document","$log",function(t,s,l,r){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?"},link:function(o,t,e,i){var a=i.gantt.api;if(r.warn("Angular Gantt Labels plugin is deprecated. Please use Table plugin instead."),o.options&&"object"==typeof o.options.labels)for(var n in o.options.labels)o[n]=o.options.labels[n];void 0===o.enabled&&(o.enabled=!0),void 0===o.header&&(o.header="Name"),a.directives.on.new(o,function(t,e,n){if("ganttSideContent"===t){var r=e.$new();r.pluginScope=o;var i=l[0].createElement("div");angular.element(i).attr("data-ng-if","pluginScope.enabled"),angular.element(i).addClass("side-element");var a=l[0].createElement("gantt-side-content-labels");angular.element(i).append(a),n.append(s(i)(r))}}),a.registerMethod("labels","fitSideWidth",function(){for(var t=i.gantt.side.$element[0].getElementsByClassName("gantt-row-label"),e=0,n=0;n<t.length;n++){var r=t[n].children[0].offsetWidth;e=Math.max(e,r)}0<=e&&a.side.setWidth(e)},this)}}}])}(),function(){"use strict";angular.module("gantt.movable",["gantt"]).directive("ganttMovable",["ganttMouseButton","ganttMouseOffset","ganttSmartEvent","ganttMovableOptions","ganttUtils","ganttDom","$window","$document","$timeout",function(L,C,D,i,E,Y,A,N,O){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",allowMoving:"=?",allowResizing:"=?",allowRowSwitching:"=?"},link:function($,t,e,x){var n=x.gantt.api;if($.options&&"object"==typeof $.options.movable)for(var r in $.options.movable)$[r]=$.options.movable[r];i.initialize($),n.registerEvent("tasks","move"),n.registerEvent("tasks","moveBegin"),n.registerEvent("tasks","moveEnd"),n.registerEvent("tasks","resize"),n.registerEvent("tasks","resizeBegin"),n.registerEvent("tasks","resizeEnd"),n.registerEvent("tasks","change");var k,m,S="ontouchstart"in A||A.DocumentTouch&&N[0]instanceof A.DocumentTouch,T="touchstart mousedown";n.directives.on.new($,function(t,g,e){if("ganttTask"===t){var s,i=angular.element(A),v=g.row.rowsManager.gantt.body.$element,y=g.row.rowsManager.gantt.scroll.$element,_=!1,b=!1,l=g.task.getForegroundElement(),o=g.task.getContentElement(),n=function(t){t.preventDefault(),S&&(t=C.getTouch(t));var e=g.task.model.movable,n=g.task.row.model.movable;("boolean"==typeof e||angular.isFunction(e))&&(e={enabled:e}),("boolean"==typeof n||angular.isFunction(n))&&(n={enabled:n});var r=E.firstProperty([e,n],"enabled",$.enabled);if(angular.isFunction(r)?r(t,g.task):r){var i=C.getOffsetForElement(l[0],t).x,a=h(i);if(""!==a&&1===L.getButton(t)){var o=C.getOffsetForElement(v[0],t).x;f(a,o)}g.$digest()}};l.on(T,n),o.on(T,n);var r=function(t){var e=g.task.model.movable,n=g.task.row.model.movable;("boolean"==typeof e||angular.isFunction(e))&&(e={enabled:e}),("boolean"==typeof n||angular.isFunction(n))&&(n={enabled:n});var r=E.firstProperty([e,n],"enabled",$.enabled);if((angular.isFunction(r)?r(t,g.task):r)&&!g.task.isMoving){var i=C.getOffsetForElement(l[0],t).x,a=h(i);""!==a&&"M"!==a?(l.css("cursor",w(a)),o.css("cursor",w(a))):(l.css("cursor",""),o.css("cursor",""))}};l.on("mousemove",r),o.on("mousemove",r);var u=function(t){g.task.isMoving&&!g.destroyed&&(d(),a(t),c(t))},a=function(t){var e=_,n=C.getOffsetForElement(v[0],t).x;g.task.mouseOffsetX=n;var r=g.task.row.rowsManager.gantt.options.value("taskOutOfRange"),i=g.task.model.movable,a=g.task.row.model.movable;if(("boolean"==typeof i||angular.isFunction(i))&&(i={enabled:i}),("boolean"==typeof a||angular.isFunction(a))&&(a={enabled:a}),"M"===g.task.moveMode){var o=E.firstProperty([i,a],"allowRowSwitching",$.allowRowSwitching);if(o){var s=y[0].getBoundingClientRect(),l=s.left+s.width/2,u=angular.element(N[0].querySelectorAll(".gantt-body"));u.css("pointer-events","auto");var c=Y.findElementFromPoint(l,t.clientY,function(t){return angular.element(t).hasClass("gantt-row")});u.css("pointer-events","");for(var d,h=x.gantt.rowsManager.rows,f=0,p=h.length;f<p;f++)if(c===h[f].$element[0]){d=h[f];break}var m=g.task.row;void 0!==d&&m!==d&&(angular.isFunction(o)&&!o(g.task,d)||(d.moveTaskToRow(g.task,!0),_=!0))}E.firstProperty([i,a],"allowMoving",$.allowMoving)&&(n-=k,"truncate"!==r&&(n<0?n=0:n+g.task.width>=g.gantt.width&&(n=g.gantt.width-g.task.width)),g.task.moveTo(n,!0),g.$digest(),_&&g.row.rowsManager.gantt.api.tasks.raise.move(g.task),_=!0)}else"E"===g.task.moveMode?(n<=g.task.left&&(n=g.task.left,g.task.moveMode="W",M(w(g.task.moveMode))),"truncate"!==r&&n>=g.gantt.width&&(n=g.gantt.width),g.task.setTo(n,!0)):(n>g.task.left+g.task.width&&(n=g.task.left+g.task.width,g.task.moveMode="E",M(w(g.task.moveMode))),"truncate"!==r&&n<0&&(n=0),g.task.setFrom(n,!0)),g.$digest(),_&&g.row.rowsManager.gantt.api.tasks.raise.resize(g.task),_=!0;e||!_||b||("M"===g.task.moveMode?g.row.rowsManager.gantt.api.tasks.raise.moveBegin(g.task):g.row.rowsManager.gantt.api.tasks.raise.resizeBegin(g.task))},c=function(t){var e=C.getOffsetForElement(v[0],t),n=y[0].scrollLeft,r=y[0].offsetWidth,i=y[0].scrollWidth,a=n+r,o=!1;e.x<m?0<n&&e.x<=n+5&&(e.x-=15,o=!0,g.row.rowsManager.gantt.api.scroll.left(15)):a<i&&e.x>=a-5&&(e.x+=15,o=!0,g.row.rowsManager.gantt.api.scroll.right(15)),o&&(s=O(function(){u(t)},100,!0))},d=function(){void 0!==s&&(O.cancel(s),s=void 0)},h=function(t){var e=0,n=g.task.model.movable,r=g.task.row.model.movable;"boolean"==typeof n&&(n={enabled:n}),"boolean"==typeof r&&(r={enabled:r});var i=E.firstProperty([n,r],"allowResizing",$.allowResizing),a=E.firstProperty([n,r],"allowRowSwitching",$.allowRowSwitching),o=E.firstProperty([n,r],"allowMoving",$.allowMoving);return i&&(e=l[0].offsetWidth<15?3:5),i&&t>l[0].offsetWidth-e?"E":i&&t<e?"W":(o||a)&&e<=t&&t<=l[0].offsetWidth-e?"M":""},w=function(t){switch(t){case"E":return"e-resize";case"W":return"w-resize";case"M":return"move"}},M=function(t){e.css("cursor",t),angular.element(N[0].body).css({"-moz-user-select":""===t?"":"-moz-none","-webkit-user-select":""===t?"":"none","-ms-user-select":""===t?"":"none","user-select":""===t?"":"none",cursor:t})},f=function(t,e){void 0===g.task.originalModel&&(g.task.originalRow=g.task.row,g.task.originalModel=g.task.model,g.task.model=angular.copy(g.task.originalModel)),b||(k=(m=e)-g.task.modelLeft),_=!1,g.task.moveMode=t,g.task.isMoving=!0,g.task.active=!0;var n=g.task.$element;"M"===g.task.moveMode?n.addClass("gantt-task-resizing"):n.addClass("gantt-task-moving");var r=D(g,i,"touchmove mousemove",function(t){t.stopImmediatePropagation(),S&&(t=C.getTouch(t)),u(t)});r.bind(),D(g,i,"touchend mouseup",function(t){S&&(t=C.getTouch(t)),r.unbind(),p(t),g.$digest()}).bindOnce(),M(w(t))},p=function(){if(void 0!==g.task.originalModel){if(g.task.originalModel.from=g.task.model.from,g.task.originalModel.to=g.task.model.to,g.task.originalModel.lct=g.task.model.lct,g.task.originalModel.est=g.task.model.est,g.task.model=g.task.originalModel,g.task.row.model.id!==g.task.originalRow.model.id){var t=g.task.row;t.removeTask(g.task.model.id,!1,!0),g.task.row=g.task.originalRow,t.moveTaskToRow(g.task,!1)}delete g.task.originalModel,delete g.task.originalRow,g.$apply()}b=!1,g.task.isMoving=!1,g.task.active=!1;var e=g.task.$element;e.removeClass("gantt-task-moving"),e.removeClass("gantt-task-resizing"),d(),M(""),!0===_&&("M"===g.task.moveMode?g.row.rowsManager.gantt.api.tasks.raise.moveEnd(g.task):g.row.rowsManager.gantt.api.tasks.raise.resizeEnd(g.task),_=!1,g.task.row.sortTasks(),g.row.rowsManager.gantt.api.tasks.raise.change(g.task)),g.task.moveMode=void 0};g.$on("$destroy",function(){g.destroyed=!0,d()}),g.task.isResizing?(b=!0,f("E",g.task.mouseOffsetX),delete g.task.isResizing):g.task.isMoving&&(b=!0,f("M",g.task.mouseOffsetX))}})}}}])}(),function(){"use strict";angular.module("gantt.overlap",["gantt","gantt.overlap.templates"]).directive("ganttOverlap",["moment","$timeout",function(c,d){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",global:"=?"},link:function(n,t,e,r){var i=r.gantt.api;if(n.options&&"object"==typeof n.options.overlap)for(var a in n.options.overlap)n[a]=n.options.overlap[a];function l(t){var e,n,r,i=((e=t).model.from.isBefore(e.model.to)?(n=e.model.from,r=e.model.to):(n=e.model.to,r=e.model.from),[n,r]);return c().range(i[0],i[1])}function u(t,e){e.model.id in t||!e.$element||(e.$element.addClass("gantt-task-overlaps"),t[e.model.id]=e)}function o(t){var e={};if(1<t.length)for(var n=t[0],r=l(n),i=1,a=t.length;i<a;i++){var o=t[i],s=l(o);s.overlaps(r)&&(u(e,o),u(e,n)),n.left+n.width<o.left+o.width&&(n=o,r=s)}!function(t,e){for(var n=0,r=e.length;n<r;n++){var i=e[n];i.model.id in t||!i.$element||i.$element.removeClass("gantt-task-overlaps")}}(e,t)}function s(t){for(var n,e=[],r=0;r<t.length;r++)e.push.apply(e,t[r].tasks);n=function(t){return t.model.from},o(e=e.sort(function(t,e){return n(t)<n(e)?-1:n(t)>n(e)?1:0}))}void 0===n.enabled&&(n.enabled=!0),void 0===n.global&&(n.global=!1),n.enabled&&(i.data.on.change(n,function(){d(function(){var t=i.gantt.rowsManager.rows;if(n.global)s(t);else for(var e=0;e<t.length;e++)o(t[e].tasks)})}),i.tasks.on.change(n,function(t){n.global?s(t.row.rowsManager.rows):o(t.row.tasks)}),i.tasks.on.rowChange(n,function(t,e){n.global?s(t.row.rowsManager.rows):(o(e.tasks),o(t.row.tasks))}),i.tasks.on.add(n,function(t){d(function(){n.global?s(t.row.rowsManager.rows):o(t.row.tasks)})}))}}}])}(),function(){"use strict";angular.module("gantt.progress",["gantt","gantt.progress.templates"]).directive("ganttProgress",["moment","$compile","$document",function(i,l,u){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(o,t,s,e){var n=e.gantt.api;if(o.options&&"object"==typeof o.options.progress)for(var r in o.options.progress)o[r]=o.options.progress[r];void 0===o.enabled&&(o.enabled=!0),n.directives.on.new(o,function(t,e,n){if("ganttTaskBackground"===t){var r=e.$new();r.pluginScope=o;var i=u[0].createElement("div");angular.element(i).attr("data-ng-if","task.model.progress !== undefined && pluginScope.enabled");var a=u[0].createElement("gantt-task-progress");void 0!==s.templateUrl&&angular.element(a).attr("data-template-url",s.templateUrl),void 0!==s.template&&angular.element(a).attr("data-template",s.template),angular.element(i).append(a),n.append(l(i)(r))}}),n.tasks.on.clean(o,function(t){void 0===t.est||i.isMoment(t.est)||(t.est=i(t.est)),void 0===t.lct||i.isMoment(t.lct)||(t.lct=i(t.lct))})}}}])}(),function(){"use strict";angular.module("gantt.resizeSensor",["gantt"]).directive("ganttResizeSensor",[function(){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(t,e,n,a){var r=a.gantt.api;if(t.options&&"object"==typeof t.options.resizeSensor)for(var i in t.options.resizeSensor)t[i]=t.options.resizeSensor[i];function o(){var i=a.gantt.$element[0];return[new ResizeSensor(i,function(){var t=!1;1<Math.abs(i.clientWidth-a.gantt.$scope.ganttElementWidth)&&(a.gantt.$scope.ganttElementWidth=i.clientWidth,t=!0),1<Math.abs(i.clientHeight-a.gantt.$scope.ganttElementHeight)&&(a.gantt.$scope.ganttElementHeight=i.clientHeight,t=!0),t&&a.gantt.$scope.$apply()}),new ResizeSensor(i.parentElement,function(){var t=i.parentElement,e=t.offsetHeight,n=getComputedStyle(t);e=e-parseInt(n.marginTop)-parseInt(n.marginBottom),a.gantt.$scope.ganttContainerHeight=e;var r=t.offsetWidth;n=getComputedStyle(t),r=r-parseInt(n.marginLeft)-parseInt(n.marginRight),a.gantt.$scope.ganttContainerWidth=r,a.gantt.$scope.$apply()})]}void 0===t.enabled&&(t.enabled=!0);var s=!1,l=[];function u(t){for(var e=0;e<t;e++)t[e].detach()}r.core.on.rendered(t,function(){s=!0,u(l),t.enabled&&(ElementQueries.update(),l=o())}),t.$watch("enabled",function(t){s&&(t?(ElementQueries.update(),l=o()):t||(u(l),l=[]))})}}}])}(),function(){"use strict";angular.module("gantt.sections",["gantt","gantt.sections.templates"]).directive("ganttSections",["moment","$compile","$document",function(t,l,u){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",keepProportions:"=?",disableMagnet:"=?",disableDaily:"=?"},link:function(o,t,s,e){var n=e.gantt.api;if(o.options&&"object"==typeof o.options.sections)for(var r in o.options.sections)o[r]=o.options.sections[r];void 0===o.enabled&&(o.enabled=!0),void 0===o.keepProportions&&(o.keepProportions=!0),n.directives.on.new(o,function(t,e,n){if("ganttTaskForeground"===t){var r=e.$new();r.pluginScope=o,r.task=e.task;var i=u[0].createElement("div");angular.element(i).attr("data-ng-if","task.model.sections !== undefined && pluginScope.enabled"),angular.element(i).attr("class","gantt-task-foreground-sections");var a=u[0].createElement("gantt-task-sections");void 0!==s.templateUrl&&angular.element(a).attr("data-template-url",s.templateUrl),void 0!==s.template&&angular.element(a).attr("data-template",s.template),angular.element(i).append(a),n.append(l(i)(r))}})}}}])}(),function(){"use strict";for(var i,a="gantt.sortable",o="ganttSortable",t=["gantt",{module:"ang-drag-drop",url:"https://github.com/ganarajpr/angular-dragdrop.git#master"}],s=[],e=[],n=0,r=t.length;n<r;n++){var l=t[n];try{angular.isString(l)&&(l={module:l},t[n]=l),angular.module(l.module),e.push(l.module)}catch(t){l.exception=t,s.push(l)}}0<s.length?angular.module(a,[]).directive(o,["$log",function(r){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(){r.warn(a+" module can't require some dependencies:");for(var t=0,e=s.length;t<e;t++){var n=(i=s[t]).module;i.url&&(n+=" ("+i.url+")"),i.exception&&i.exception.message&&(n+=": "+i.exception.message),r.warn(n)}r.warn(o+" plugin directive won't be available")}}}]):angular.module(a,e).directive(o,["ganttUtils","$compile",function(o,s){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(n,t,e,r){var i=r.gantt.api;if(n.options&&"object"==typeof n.options.sortable)for(var a in n.options.sortable)n[a]=n.options.sortable[a];void 0===n.enabled&&(n.enabled=!0),i.directives.on.new(n,function(t,r,e){"ganttRowLabel"===t&&void 0===e.attr("drag")&&(r.checkDraggable=function(){var t=r.row.model.sortable;return"boolean"==typeof t&&(t={enabled:t}),o.firstProperty([t],"enabled",n.enabled)},r.onDropSuccess=function(){r.$evalAsync()},r.onDrop=function(t,e){var n=r.row.rowsManager.rowsMap[e.id];n!==r&&(r.row.rowsManager.moveRow(n,r.row),r.$evalAsync())},e.attr("ui-draggable","{{checkDraggable()}}"),e.attr("drag-channel","'sortable'"),e.attr("ui-on-drop","onDrop($event, $data)"),e.attr("on-drop-success","onDropSuccess()"),e.attr("drop-channel","'sortable'"),e.attr("drag","row.model"),s(e)(r))})}}}])}(),function(){"use strict";angular.module("gantt.table",["gantt","gantt.table.templates"]).directive("ganttTable",["ganttUtils","$compile","$document",function(t,s,l){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",columns:"=?",headers:"=?",classes:"=?",contents:"=?",headerContents:"=?",formatters:"=?",headerFormatter:"=?"},link:function(o,t,e,n){var r=n.gantt.api;if(o.options&&"object"==typeof o.options.table)for(var i in o.options.table)o[i]=o.options.table[i];void 0===o.enabled&&(o.enabled=!0),void 0===o.columns&&(o.columns=["model.name"]),void 0===o.headers&&(o.headers={"model.name":"Name"}),void 0===o.contents&&(o.contents={}),void 0===o.headerContents&&(o.headerContents={}),void 0===o.classes&&(o.classes={}),void 0===o.formatters&&(o.formatters={}),r.directives.on.new(o,function(t,e,n){if("ganttSideContent"===t){var r=e.$new();r.pluginScope=o;var i=l[0].createElement("div");angular.element(i).attr("data-ng-if","pluginScope.enabled"),angular.element(i).addClass("side-element");var a=l[0].createElement("gantt-side-content-table");angular.element(i).append(a),n.append(s(i)(r))}})}}}])}(),function(){"use strict";angular.module("gantt.tooltips",["gantt","gantt.tooltips.templates"]).directive("ganttTooltips",["$compile","$document",function(l,u){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",dateFormat:"=?",content:"=?",delay:"=?"},link:function(o,t,s,e){var n=e.gantt.api;if(o.options&&"object"==typeof o.options.tooltips)for(var r in o.options.tooltips)o[r]=o.options.tooltips[r];void 0===o.enabled&&(o.enabled=!0),void 0===o.dateFormat&&(o.dateFormat="MMM DD, HH:mm"),void 0===o.delay&&(o.delay=500),void 0===o.content&&(o.content="{{task.model.name}}</br><small>{{task.isMilestone() === true && getFromLabel() || getFromLabel() + ' - ' + getToLabel()}}</small>"),(o.api=n).directives.on.new(o,function(t,e,n){if("ganttTask"===t){var r=e.$new();r.pluginScope=o;var i=u[0].createElement("div");angular.element(i).attr("data-ng-if","pluginScope.enabled");var a=u[0].createElement("gantt-tooltip");void 0!==s.templateUrl&&angular.element(a).attr("data-template-url",s.templateUrl),void 0!==s.template&&angular.element(a).attr("data-template",s.template),angular.element(i).append(a),n.append(l(i)(r))}})}}}])}(),function(){"use strict";angular.module("gantt.tree",["gantt","gantt.tree.templates","ui.tree"]).directive("ganttTree",["ganttUtils","$compile","$document",function(t,s,l){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?",content:"=?",headerContent:"=?",keepAncestorOnFilterRow:"=?"},link:function(o,t,e,n){var r=n.gantt.api;if(o.options&&"object"==typeof o.options.tree)for(var i in o.options.tree)o[i]=o.options.tree[i];void 0===o.enabled&&(o.enabled=!0),void 0===o.header&&(o.header="Name"),void 0===o.headerContent&&(o.headerContent="{{getHeader()}}"),void 0===o.keepAncestorOnFilterRow&&(o.keepAncestorOnFilterRow=!1),r.directives.on.new(o,function(t,e,n){if("ganttSideContent"===t){var r=e.$new();r.pluginScope=o;var i=l[0].createElement("div");angular.element(i).attr("data-ng-if","pluginScope.enabled"),angular.element(i).addClass("side-element");var a=l[0].createElement("gantt-side-content-tree");angular.element(i).append(a),n.append(s(i)(r))}})}}}])}(),function(){"use strict";angular.module("gantt.bounds").directive("ganttTaskBounds",["$templateCache","moment",function(r,e){return{restrict:"E",templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"plugins/bounds/taskBounds.tmpl.html":e.templateUrl,e.template&&r.put(n,e.template),n},replace:!0,scope:!0,controller:["$scope","$element",function(n,r){r.toggleClass("ng-hide",!0),n.simplifyMoment=function(t){return e.isMoment(t)?t.unix():t},n.$watchGroup(["simplifyMoment(task.model.est)","simplifyMoment(task.model.lct)","task.left","task.width"],function(){var t=n.task.rowsManager.gantt.getPositionByDate(n.task.model.est),e=n.task.rowsManager.gantt.getPositionByDate(n.task.model.lct);r.css("left",t-n.task.left+"px"),r.css("width",e-t+"px"),r.toggleClass("gantt-task-bounds-in",!1),r.toggleClass("gantt-task-bounds-out",!1),void 0===n.task.model.est||void 0===n.task.model.lct?r.toggleClass("gantt-task-bounds-in",!0):n.task.model.est>n.task.model.from?r.toggleClass("gantt-task-bounds-out",!0):n.task.model.lct<n.task.model.to?r.toggleClass("gantt-task-bounds-out",!0):r.toggleClass("gantt-task-bounds-in",!0)}),n.task.$element.bind("mouseenter",function(){r.toggleClass("ng-hide",!1)}),n.task.$element.bind("mouseleave",function(){r.toggleClass("ng-hide",!0)}),n.task.rowsManager.gantt.api.directives.raise.new("ganttBounds",n,r),n.$on("$destroy",function(){n.task.rowsManager.gantt.api.directives.raise.destroy("ganttBounds",n,r)})}]}}])}(),function(){"use strict";angular.module("gantt.corner").directive("ganttCornerArea",["GanttDirectiveBuilder",function(t){var e=new t("ganttCornerArea","plugins/corner/corner.tmpl.html");return e.controller=function(o){function n(t){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=r[0].name,a={columns:r,unit:r[0].unit,name:i};e.push(a)}o.headers=e}n(o.gantt.columnsManager.headers),o.getLabel=function(t){var e=t.name;return o.pluginScope.headersLabels&&t.name in o.pluginScope.headersLabels?(e=o.pluginScope.headersLabels[t.name],angular.isFunction(e)&&(e=e(t.name,t.unit,t.columns))):angular.isFunction(o.pluginScope.headersLabels)&&(e=o.pluginScope.headersLabels(t.name,t.unit,t.columns)),e},o.getLabelContent=function(t){var e;return void 0===e&&void 0!==o.pluginScope.headersLabelsTemplates&&(e=o.pluginScope.headersLabelsTemplates,angular.isObject(e)&&t.name in e&&(e=e[t.name]),angular.isFunction(e)&&(e=e(t.name,t.unit,t.columns))),void 0===e?"{{getLabel(header)}}":e},o.gantt.api.columns.on.generate(o,function(t,e){n(e)})},e.build()}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesChecker",[function(){return function(u){function c(t,e){e.model.id in t||!e.$element||(e.$element.addClass("gantt-task-conflict"),t[e.model.id]=e)}function d(t,e){for(var n=0,r=e.length;n<r;n++){var i=e[n];i.model.id in t||!i.$element||i.$element.removeClass("gantt-task-conflict")}}this.refresh=function(t){for(var e=t.slice(0),n=[],r=0;r<t.length;r++)for(var i=u.getTaskDependencies(t[r]),a=0;a<i.length;a++){var o=i[a],s=o.getFromTask(),l=o.getToTask();s in e||e.push(s),l in e||e.push(l),s.model.to>l.model.from&&(c(n,s),c(n,l))}d(n,e)},this.removeConflictClass=function(t){t.$element.removeClass("gantt-task-conflict")},this.clear=function(t){d([],t.slice(0))}}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesEvents",[function(){return function(t){var u=this;this.manager=t;var e=function(){return!u.manager.pluginScope.readOnly};this.manager.plumb.bind("beforeDrag",e),this.manager.plumb.bind("beforeStartDetach",e);this.manager.plumb.bind("beforeDrop",function(t){return t.sourceId!==t.targetId}),this.manager.plumb.bind("connectionDrag",function(t){u.manager.setDraggingConnection(t)}),this.manager.plumb.bind("connectionDragStop",function(){u.manager.setDraggingConnection(void 0)}),this.manager.plumb.bind("beforeDrop",function(){return u.manager.setDraggingConnection(void 0),!0});this.manager.plumb.bind("connectionMoved",function(t,e){if(e){var n;t.connection.$dependency&&(n=t.connection.$dependency);var r=t.newSourceEndpoint,i=t.newTargetEndpoint,a=r.$task.model,o=a.dependencies;void 0===o&&(o=[],a.dependencies=o);var s={to:i.$task.model.id};o.push(s),n&&(n.removeFromTaskModel(),u.manager.removeDependency(n,!0));var l=u.manager.addDependency(r.$task,s);(t.connection.$dependency=l).connection=t.connection,l.connection.setParameter("from",r.$task),l.connection.setParameter("to",i.$task),l.connection.canvas.setAttribute("data-fromId",r.$task.model.id),l.connection.canvas.setAttribute("data-toId",i.$task.model.id),u.manager.api.dependencies.raise.change(l,n)}}),this.manager.plumb.bind("connection",function(t,e){if(e){var n;t.connection.$dependency&&(n=t.connection.$dependency);var r=t.sourceEndpoint,i=t.targetEndpoint,a=r.$task.model,o=a.dependencies;void 0===o&&(o=[],a.dependencies=o);var s={to:i.$task.model.id};o.push(s),n&&(n.removeFromTaskModel(),u.manager.removeDependency(n,!0));var l=u.manager.addDependency(r.$task,s);(t.connection.$dependency=l).connection=t.connection,l.connection.setParameter("from",r.$task),l.connection.setParameter("to",i.$task),l.connection.canvas.setAttribute("data-fromId",r.$task.model.id),l.connection.canvas.setAttribute("data-toId",i.$task.model.id),u.manager.api.dependencies.raise.add(l)}}),this.manager.plumb.bind("connectionDetached",function(t,e){if(e){var n=t.connection.$dependency;n.removeFromTaskModel(),u.manager.removeDependency(n,!0),u.manager.api.dependencies.raise.remove(n)}})}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesManager",["GanttDependency","GanttDependenciesEvents","GanttDependencyTaskMouseHandler",function(d,r,i){return function(t,e,n){var l=this;this.gantt=t,this.pluginScope=e,this.api=n,this.api.registerEvent("dependencies","add"),this.api.registerEvent("dependencies","change"),this.api.registerEvent("dependencies","remove"),this.plumb=jsPlumb.getInstance(),this.plumb.importDefaults(this.pluginScope.jsPlumbDefaults),this.dependenciesFrom={},this.dependenciesTo={},this.tasksList=[],this.tasks={},this.events=new r(this),this.pluginScope.$watch("enabled",function(t,e){t!==e&&l.refresh()}),this.pluginScope.$watch("readOnly",function(t,e){t!==e&&(l.setTasks(l.tasksList),l.refresh())}),this.pluginScope.$watch("jsPlumbDefaults",function(t,e){t!==e&&(l.plumb.importDefaults(t),l.refresh())},!0),this.addDependenciesFromTask=function(t,e){if(this.pluginScope.enabled){var n=t.model.dependencies;if(void 0!==n&&n){angular.isArray(n)||(n=[n],t.model.dependencies=n);for(var r=0,i=n.length;r<i;r++){var a=l.addDependency(t,n[r],e);a&&a.connect()}}}},this.removeDependenciesFromTask=function(t,e){var n=this.getTaskDependencies(t);if(n)for(var r=0;r<n.length;r++)e||n[r].disconnect(),l.removeDependency(n[r])},this.addDependency=function(t,e,n){var r=new d(this,t,e),i=r.getFromTaskId(),a=r.getFromTask(),o=r.getToTaskId(),s=r.getToTask(),l=r.manager;return i in this.dependenciesFrom||(this.dependenciesFrom[i]=[]),o in this.dependenciesTo||(this.dependenciesTo[o]=[]),n||s&&a?(i&&this.dependenciesFrom[i].push(r),o&&this.dependenciesTo[o].push(r),r):(this.removeDependency(r,!0),l.api.dependencies.raise.remove(r),null)},this.removeDependency=function(t,e){var n,r=this.dependenciesFrom[t.getFromTaskId()],i=[];if(r)for(n=0;n<r.length;n++)t===r[n]&&i.push(t);var a=this.dependenciesTo[t.getToTaskId()],o=[];if(a)for(n=0;n<a.length;n++)t===a[n]&&o.push(t);for(n=0;n<i.length;n++)e||i[n].disconnect(),r.splice(r.indexOf(t),1);for(n=0;n<o.length;n++)e||o[n].disconnect(),a.splice(a.indexOf(t),1);this.dependenciesFrom[t.getFromTaskId()]&&0===this.dependenciesFrom[t.getFromTaskId()].length&&delete this.dependenciesFrom[t.getFromTaskId()],this.dependenciesTo[t.getToTaskId()]&&0===this.dependenciesTo[t.getToTaskId()].length&&delete this.dependenciesTo[t.getToTaskId()]},this.getTaskDependencies=function(t){var e=[],n=l.dependenciesFrom[t.model.id];n&&(e=e.concat(n));var r=l.dependenciesTo[t.model.id];return r&&(e=e.concat(r)),e},this.setDraggingConnection=function(t){t?(l.draggingConnection=t,angular.forEach(l.tasks,function(t){t.dependencies.mouseHandler.release()})):(l.draggingConnection=void 0,angular.forEach(l.tasks,function(t){t.dependencies.mouseHandler.install()}))};var a=function(t){var e=t.row.model.dependencies;if(void 0!==e)return!1!==e;var n=t.model.dependencies;return void 0===n||!1!==n},o=function(t){if(t.dependencies||(t.dependencies={}),t.dependencies.endpoints=[],l.pluginScope.endpoints&&t.$element)for(var e=0;e<l.pluginScope.endpoints.length;e++){var n=l.plumb.addEndpoint(t.$element,l.pluginScope.endpoints[e]);n.setVisible(!1,!0,!0),(n.$task=t).dependencies.endpoints.push(n)}},s=function(t){if(t.dependencies.endpoints){for(var e=0;e<t.dependencies.endpoints.length;e++){var n=t.dependencies.endpoints[e];l.plumb.deleteEndpoint(n),n.$task=void 0}t.dependencies.endpoints=void 0}},u=function(t){t.dependencies||(t.dependencies={}),l.pluginScope.readOnly||(t.dependencies.mouseHandler=new i(l,t),t.dependencies.mouseHandler.install())},c=function(t){t.dependencies.mouseHandler&&(t.dependencies.mouseHandler.release(),t.dependencies.mouseHandler=void 0)};this.setTasks=function(t){angular.forEach(l.tasks,function(t){c(t),s(t)});for(var e={},n=[],r=0;r<t.length;r++){var i=t[r];a(i)&&(e[i.model.id]=i,n.push(i),o(i),u(i))}l.tasks=e,l.tasksList=t};this.setTask=function(t){l.plumb.setSuspendDrawing(!0);try{var e=l.tasks[t.model.id];void 0!==e&&(function(t){var e=l.getTaskDependencies(t);if(e)for(var n=0;n<e.length;n++)e[n].disconnect()}(e),c(e),s(e)),a(t)&&(l.tasks[t.model.id]=t,o(t),u(t),function(t){var e=l.getTaskDependencies(t);if(e)for(var n=0;n<e.length;n++)e[n].connect()}(t))}finally{l.plumb.setSuspendDrawing(!1,!0)}},this.getTask=function(t){return l.tasks[t]};this.connect=function(t,e,n){var r=t.dependencies.endpoints.filter(function(t){return t.isSource}),i=e.dependencies.endpoints.filter(function(t){return t.isTarget});if(r&&i){var a,o;a=n.connectParameters&&n.connectParameters.sourceEndpointIndex?r[n.connectParameters.sourceEndpointIndex]:r[0],o=n.connectParameters&&n.connectParameters.targetEndpointIndex?i[n.connectParameters.targetEndpointIndex]:i[0];var s=l.plumb.connect({source:a,target:o,parameters:{from:t,to:e}},n.connectParameters);return s.canvas.setAttribute("data-fromId",t.model.id),s.canvas.setAttribute("data-toId",e.model.id),s}},this.getDependencies=function(){var n=[];return angular.forEach(this.dependenciesFrom,function(t){for(var e=0;e<t.length;e++)t[e]in n||n.push(t[e])}),n},this.refresh=function(t){l.plumb.setSuspendDrawing(!0);try{var n,e;for(t&&!angular.isArray(t)&&(t=[t]),void 0===t?(t=this.tasks,n=this.getDependencies()):(n=[],angular.forEach(t,function(t){var e=l.getTaskDependencies(t);angular.forEach(e,function(t){t in n||n.push(t)})})),e=0;e<n.length;e++)l.removeDependency(n[e]);angular.forEach(t,function(t){l.addDependenciesFromTask(t)})}finally{l.plumb.setSuspendDrawing(!1,!0)}},this.api.registerMethod("dependencies","refresh",this.refresh,this)}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependency",["ganttUtils","ganttDom",function(i,o){return function(t,e,n){var r=this;this.manager=t,this.task=e,this.model=n,this.connection=void 0,this.fallbackEndpoints=[],this.isConnected=function(){return!!this.connection},this.disconnect=function(){this.connection&&(this.connection.endpoints&&this.manager.plumb.detach(this.connection),this.connection.$dependency=void 0,this.connection=void 0),this.deleteFallbackEndpoints()},this.deleteFallbackEndpoints=function(){if(this.fallbackEndpoints){for(var t=0;t<this.fallbackEndpoints.length;t++)r.manager.plumb.deleteEndpoint(this.fallbackEndpoints[t]);this.fallbackEndpoints=[]}},this.getFromTaskId=function(){return void 0!==this.model.from?this.model.from:this.task.model.id},this.getToTaskId=function(){return void 0!==this.model.to?this.model.to:this.task.model.id},this.getFromTask=function(){return void 0!==this.model.from?this.manager.getTask(this.model.from):this.task},this.getToTask=function(){return void 0!==this.model.to?this.manager.getTask(this.model.to):this.task},this.removeFromTaskModel=function(){var t=i.angularIndexOf(this.task.model.dependencies,this.model);return 0<=t&&this.task.model.dependencies.splice(t,1),t};var a=function(t){if(void 0===t||void 0===t.$element)return!1;var e=t.$element[0];return o.isElementVisible(e)};this.connect=function(){var t=this.getFromTask(),e=this.getToTask();if(a(t)||(t=void 0),a(e)||(e=void 0),t&&e){var n=this.manager.connect(t,e,this.model);if(n)return(n.$dependency=this).connection=n,!0}if(this.deleteFallbackEndpoints(),void 0!==t){var r=this.manager.pluginScope.fallbackEndpoints[1];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(t.$element,r))}if(void 0!==e){var i=this.manager.pluginScope.fallbackEndpoints[0];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(e.$element,i))}return!1}}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependencyTaskMouseHandler",["$timeout",function(i){return function(t,e){var n=this;this.manager=t,this.task=e,this.installed=!1,this.elementHandlers=[],this.display=!0,this.hideEndpointsPromise=void 0;var r=function(t){this.element=t,this.mouseExitHandler=function(){i.cancel(n.hideEndpointsPromise),n.hideEndpointsPromise=i(n.hideEndpoints,1e3,!1)},this.mouseEnterHandler=function(){i.cancel(n.hideEndpointsPromise),n.displayEndpoints()},this.install=function(){this.element.bind("mouseenter",this.mouseEnterHandler),this.element.bind("mouseleave",this.mouseExitHandler)},this.release=function(){this.element.unbind("mouseenter",this.mouseEnterHandler),this.element.unbind("mouseleave",this.mouseExitHandler),i.cancel(n.hideEndpointsPromise)}};this.install=function(){n.installed||(n.hideEndpoints(),n.task.getContentElement()&&(n.elementHandlers.push(new r(n.task.getContentElement())),angular.forEach(n.task.dependencies.endpoints,function(t){n.elementHandlers.push(new r(angular.element(t.canvas)))}),angular.forEach(n.elementHandlers,function(t){t.install()}),n.installed=!0))},this.release=function(){n.installed&&(angular.forEach(n.elementHandlers,function(t){t.release()}),n.elementHandlers=[],n.displayEndpoints(),n.installed=!1)},this.displayEndpoints=function(){n.display=!0,angular.forEach(n.task.dependencies.endpoints,function(t){t.setVisible(!0,!0,!0)})},this.hideEndpoints=function(){angular.forEach(n.task.dependencies.endpoints,function(t){t.setVisible(!1,!0,!0)}),n.display=!1}}}])}(),function(){"use strict";angular.module("gantt.groups").controller("GanttGroupController",["$scope","GanttTaskGroup","ganttUtils",function(e,n,r){var i=function(){var t=e.row.model.groups;"boolean"==typeof t&&(t={enabled:t}),r.firstProperty([t],"enabled",e.pluginScope.enabled)?(e.display=r.firstProperty([t],"display",e.pluginScope.display),e.taskGroup=new n(e.row,e.pluginScope),e.row.setFromTo(),e.row.setFromToByValues(e.taskGroup.from,e.taskGroup.to)):(e.taskGroup=void 0,e.display=void 0)};e.gantt.api.tasks.on.viewChange(e,function(t){void 0!==e.taskGroup&&(-1<e.taskGroup.tasks.indexOf(t)?(i(),e.$$phase||e.$root.$$phase||e.$digest()):-1<e.pluginScope.hierarchy.descendants(e.row).indexOf(t.row)&&(i(),e.$$phase||e.$root.$$phase||e.$digest()))});var t=e.pluginScope.$watch("display",i);e.$watchCollection("gantt.rowsManager.filteredRows",i),e.gantt.api.columns.on.refresh(e,i),e.$on("$destroy",t)}])}(),function(){"use strict";angular.module("gantt.groups").directive("ganttTaskGroup",["GanttDirectiveBuilder",function(t){return new t("ganttTaskGroup","plugins/groups/taskGroup.tmpl.html").build()}])}(),function(){"use strict";angular.module("gantt").factory("GanttTaskGroup",["ganttUtils","GanttTask",function(d,h){return function(t,e){var r=this;r.row=t,r.pluginScope=e,r.descendants=r.pluginScope.hierarchy.descendants(r.row),r.tasks=[],r.overviewTasks=[],r.promotedTasks=[],r.showGrouping=!1;var i=r.row.model.groups;"boolean"==typeof i&&(i={enabled:i});for(var n=function(t){var e=t.model.groups;"boolean"==typeof e&&(e={enabled:e});var n=t.row.model.groups;if("boolean"==typeof n&&(n={enabled:n}),d.firstProperty([e,n,i],"enabled",r.pluginScope.enabled))return d.firstProperty([e,n,i],"display",r.pluginScope.display)},a=0;a<r.descendants.length;a++)for(var o=r.descendants[a].tasks,s=0;s<o.length;s++){var l=o[s],u=n(l);if(void 0!==u){r.tasks.push(l);var c=new h(r.row,l.model);"overview"===u?r.overviewTasks.push(c):"promote"===u?r.promotedTasks.push(c):r.showGrouping=!0}}if(r.from=void 0,i&&(r.from=i.from),void 0===r.from)for(a=0;a<r.tasks.length;a++)(void 0===r.from||r.tasks[a].model.from<r.from)&&(r.from=r.tasks[a].model.from);if(r.to=void 0,i&&(r.to=i.to),void 0===r.to)for(a=0;a<r.tasks.length;a++)(void 0===r.to||r.tasks[a].model.to>r.to)&&(r.to=r.tasks[a].model.to);r.showGrouping&&(r.left=t.rowsManager.gantt.getPositionByDate(r.from),r.width=t.rowsManager.gantt.getPositionByDate(r.to)-r.left)}}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskOverview",["GanttDirectiveBuilder",function(t){var e=new t("ganttTaskOverview","plugins/groups/taskOverview.tmpl.html");return e.controller=function(t,e){t.task.$element=e,(t.task.$scope=t).task.updatePosAndSize()},e.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsBody",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttLabelsBody","plugins/labels/labelsBody.tmpl.html");return n.controller=function(r){var i=e.getScrollBarHeight();r.getLabelsCss=function(){var t={},e=r.maxHeight;e||(e=r.gantt.getContainerHeight());var n=r.gantt.scroll.isHScrollbarVisible()?i:0;return t["max-height"]=e-n-r.gantt.header.getHeight()+"px",t}},n.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsHeader",["GanttDirectiveBuilder",function(t){return new t("ganttLabelsHeader","plugins/labels/labelsHeader.tmpl.html").build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttSideContentLabels",["GanttDirectiveBuilder",function(t){return new t("ganttSideContentLabels","plugins/labels/sideContentLabels.tmpl.html").build()}])}(),function(){"use strict";angular.module("gantt.movable").factory("ganttMovableOptions",[function(){return{initialize:function(t){return t.enabled=void 0===t.enabled||t.enabled,t.allowMoving=void 0===t.allowMoving||!!t.allowMoving,t.allowResizing=void 0===t.allowResizing||!!t.allowResizing,angular.isFunction(t.allowRowSwitching)||(t.allowRowSwitching=void 0===t.allowRowSwitching||!!t.allowRowSwitching),t}}}])}(),function(){"use strict";angular.module("gantt.progress").directive("ganttTaskProgress",["$templateCache",function(r){return{restrict:"E",requires:"^ganttTask",templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"plugins/progress/taskProgress.tmpl.html":e.templateUrl,void 0!==e.template&&r.put(n,e.template),n},replace:!0,scope:!0,controller:["$scope","$element",function(n,t){n.getClasses=function(){var t=[];return"object"==typeof n.task.model.progress&&(t=n.task.model.progress.classes),t},n.getCss=function(){var t,e={};return void 0!==n.task.model.progress&&(t="object"==typeof n.task.model.progress?n.task.model.progress:{percent:n.task.model.progress}),t&&(t.color?e["background-color"]=t.color:e["background-color"]="#6BC443",e.width=t.percent+"%"),e},n.task.rowsManager.gantt.api.directives.raise.new("ganttTaskProgress",n,t),n.$on("$destroy",function(){n.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskProgress",n,t)})}]}}])}(),function(){"use strict";angular.module("gantt.sections").directive("ganttTaskSection",["$templateCache",function(r){return{restrict:"E",requires:"^ganttTaskSections",templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"plugins/sections/taskSection.tmpl.html":e.templateUrl,void 0!==e.template&&r.put(n,e.template),n},replace:!0,scope:{section:"=",task:"=",index:"=",options:"=?"},controller:["$scope","$element","ganttUtils","moment",function(s,l,u,i){var c=i(s.section.from).isSame(i(s.task.model.from)),d=i(s.section.to).isSame(i(s.task.model.to));!function(){if(s.task._movingTaskSections){var t=s.task._movingTaskSections,e=t["$$index_"+s.index];s.section=e.section,s.sectionCss=e.sectionCss,c=e.fromTask,d=e.toTask,delete t["$$index_"+s.index]}var n=!0;for(var r in s.task._movingTaskSections)if(s.task._movingTaskSections.hasOwnProperty(r)){n=!1;break}n&&delete s.task._movingTaskSections}();var n=function(t){return t/s.task.width*100},h=function(){var t=function(){if(c)return 0;var t,e=s.task.rowsManager.gantt,n=s.task.left;return t=u.firstProperty([s.section,s.options],"disableMagnet",s.$parent.pluginScope.disableMagnet)?s.section.from:e.getMagnetDate(s.section.from),!u.firstProperty([s.section,s.options],"disableDaily",s.$parent.pluginScope.disableDaily)&&e.options.value("daily")&&(t=i(t).startOf("day")),e.getPositionByDate(t)-n}(),e=function(){var t=u.firstProperty([s.section,s.options],"keepProportions",s.$parent.pluginScope.keepProportions);if(d&&t)return s.task.width;var e=s.task.rowsManager.gantt,n=s.task.left,r=u.firstProperty([s.section,s.options],"disableMagnet",s.$parent.pluginScope.disableMagnet)?s.section.to:e.getMagnetDate(s.section.to);return!u.firstProperty([s.section,s.options],"disableDaily",s.$parent.pluginScope.disableDaily)&&e.options.value("daily")&&(r=i(r).startOf("day")),e.getPositionByDate(r)-n}()-t;u.firstProperty([s.section,s.options],"keepProportions",s.$parent.pluginScope.keepProportions)?(s.sectionCss.left=n(t)+"%",s.sectionCss.width=n(e)+"%"):(s.sectionCss.left=t+"px",s.sectionCss.width=e+"px")};void 0===s.sectionCss&&(s.sectionCss={},h(),s.section.color?s.sectionCss["background-color"]=s.section.color:s.sectionCss["background-color"]=void 0);var t=function(t){if(t.id===s.task.model.id){var e=s.section;void 0===e.from||i.isMoment(e.from)||(e.from=i(e.from)),void 0===e.to||i.isMoment(e.to)||(e.to=i(e.to))}};t(s.task.model),s.task.rowsManager.gantt.api.tasks.on.clean(s,t),s.task.rowsManager.gantt.api.tasks.on.change(s,function(t){if(t===s.task){var e,n,r=s.task.rowsManager.gantt,i=l[0].offsetLeft,a=u.firstProperty([s.section,s.options],"disableMagnet",s.$parent.pluginScope.disableMagnet);if(e=c?s.task.model.from:r.getDateByPosition(s.task.modelLeft+i,!a),d)n=s.task.model.to;else{var o=i+l[0].offsetWidth;n=r.getDateByPosition(s.task.modelLeft+o,!a)}s.section.from=e,s.section.to=n,h()}});s.task.rowsManager.gantt.api.tasks.on.beforeViewRowChange(s,function(t){var e=t._movingTaskSections;e||(e={},t._movingTaskSections=e),e["$$index_"+s.index]={section:s.section,sectionCss:s.sectionCss,fromTask:c,toTask:d}}),s.task.rowsManager.gantt.api.directives.raise.new("ganttTaskSection",s,l),s.$on("$destroy",function(){s.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskSection",s,l)})}]}}])}(),function(){"use strict";angular.module("gantt.sections").directive("ganttTaskSections",["$templateCache",function(r){return{restrict:"E",requires:"^ganttTask",templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"plugins/sections/taskSections.tmpl.html":e.templateUrl,void 0!==e.template&&r.put(n,e.template),n},replace:!0,scope:!0,controller:["$scope","$element",function(t,e){t.task.rowsManager.gantt.api.directives.raise.new("ganttTaskSections",t,e),t.$on("$destroy",function(){t.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskSections",t,e)})}]}}])}(),function(){"use strict";angular.module("gantt.table").directive("ganttSideContentTable",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttSideContentTable","plugins/table/sideContentTable.tmpl.html");return n.controller=function(r){var i=e.getScrollBarHeight();r.getMaxHeightCss=function(){var t={},e=r.maxHeight;e||(e=r.gantt.getContainerHeight());var n=r.gantt.scroll.isHScrollbarVisible()?i:0;return t["max-height"]=e-n-r.gantt.header.getHeight()+"px",t}},n.build()}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnController",["$scope",function(e){e.getHeader=function(){var t=e.pluginScope.headers[e.column];return void 0!==t||void 0!==e.pluginScope.headerFormatter&&(t=e.pluginScope.headerFormatter(e.column)),t},e.getHeaderContent=function(){var t=e.pluginScope.headerContents[e.column];return void 0===t?"{{getHeader()}}":t},e.getClass=function(){return e.pluginScope.classes[e.column]}}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnRowController",["$scope",function(n){n.getValue=function(){var t=n.$eval(n.column,n.row),e=n.pluginScope.formatters[n.column];return void 0!==e&&(t=e(t,n.column,n.row)),t},n.getRowContent=function(){var t;return n.row.model.columnContents&&(t=n.row.model.columnContents[n.column]),void 0===t&&"model.name"===n.column&&(t=n.row.model.content),void 0===t&&(t=n.pluginScope.contents[n.column]),void 0===t&&"model.name"===n.column&&(t=n.row.rowsManager.gantt.options.value("rowContent")),void 0===t&&void 0!==n.pluginScope.content&&(t=n.pluginScope.content),void 0===t?"{{getValue()}}":t}}])}(),function(){"use strict";angular.module("gantt.tooltips").directive("ganttTooltip",["$log","$timeout","$compile","$document","$templateCache","ganttDebounce","ganttSmartEvent",function(t,h,e,f,r,p,m){return{restrict:"E",templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"plugins/tooltips/tooltip.tmpl.html":e.templateUrl,void 0!==e.template&&r.put(n,e.template),n},scope:!0,replace:!0,controller:["$scope","$element","ganttUtils",function(a,n,o){var s,l,u,t=angular.element(f[0].body),r=a.task.$element,c=!1,i=function(t){var e;t+n[0].offsetWidth>((e=f[0]).documentElement.clientWidth||e.documentElement.getElementById("body")[0].clientWidth)?(n.css("left",t+20-n[0].offsetWidth+"px"),a.isRightAligned=!0):(n.css("left",t-20+"px"),a.isRightAligned=!1)},d=function(e){c=!0,u.bind(),a.displayed=!0,a.$evalAsync(function(){var t;n.hasClass("ng-hide")&&(n.removeClass("ng-hide"),t=!0),a.elementHeight=n[0].offsetHeight,t&&n.addClass("ng-hide"),a.taskRect=r[0].getBoundingClientRect(),i(e)})},e=function(t,e){s&&h.cancel(s);var n=a.task.model.tooltips,r=a.task.row.model.tooltips;if("boolean"==typeof n&&(n={enabled:n}),"boolean"==typeof r&&(r={enabled:r}),o.firstProperty([n,r],"enabled",a.pluginScope.enabled)&&!c&&void 0!==l&&t){var i=o.firstProperty([n,r],"content",a.pluginScope.content);a.content=i,e?s=h(function(){d(l)},a.pluginScope.delay,!1):d(l)}else t||a.task.active||(c=!1,u.unbind(),a.$evalAsync(function(){a.displayed=!1}))};u=m(a,t,"mousemove",p(function(t){c?((!a.taskRect||t.clientX<a.taskRect.left||t.clientX>a.taskRect.right||t.clientY>a.taskRect.bottom||t.clientY<a.taskRect.top)&&e(!1,!1),i(t.clientX)):(l=t.clientX,e(!0,!1))},5,!1)),a.getFromLabel=function(){var t=a.task.model.tooltips,e=a.task.row.model.tooltips;"boolean"==typeof t&&(t={enabled:t}),"boolean"==typeof e&&(e={enabled:e});var n=o.firstProperty([t,e],"dateFormat",a.pluginScope.dateFormat);return a.task.model.from.format(n)},a.getToLabel=function(){var t=a.task.model.tooltips,e=a.task.row.model.tooltips;"boolean"==typeof t&&(t={enabled:t}),"boolean"==typeof e&&(e={enabled:e});var n=o.firstProperty([t,e],"dateFormat",a.pluginScope.dateFormat);return a.task.model.to.format(n)},a.task.getContentElement().bind("mousemove",function(t){l=t.clientX}),a.task.getContentElement().bind("mouseenter",function(t){l=t.clientX,e(!0,!0)}),a.task.getContentElement().bind("mouseleave",function(){e(!1)}),a.pluginScope.api.tasks.on.moveBegin&&(a.pluginScope.api.tasks.on.moveBegin(a,function(t){t===a.task&&e(!0)}),a.pluginScope.api.tasks.on.moveEnd(a,function(t){t===a.task&&e(!1)}),a.pluginScope.api.tasks.on.resizeBegin(a,function(t){t===a.task&&e(!0)}),a.pluginScope.api.tasks.on.resizeEnd(a,function(t){t===a.task&&e(!1)})),a.task.isMoving&&e(!0,!1),a.gantt.api.directives.raise.new("ganttTooltip",a,n),a.$on("$destroy",function(){a.gantt.api.directives.raise.destroy("ganttTooltip",a,n)})}]}}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttRowTreeLabel",["GanttDirectiveBuilder",function(t){var e=new t("ganttRowTreeLabel");return e.restrict="A",e.templateUrl=void 0,e.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttSideContentTree",["GanttDirectiveBuilder",function(t){return new t("ganttSideContentTree","plugins/tree/sideContentTree.tmpl.html").build()}])}(),function(){"use strict";angular.module("gantt.tree").controller("GanttTreeController",["$scope","$filter","GanttHierarchy",function(s,l,t){s.rootRows=[],s.getHeader=function(){return s.pluginScope.header};var u=new t;s.pluginScope.$watchGroup(["keepAncestorOnFilterRow","enabled"],function(t){if(t[0]&&t[1]){s.gantt.rowsManager.setFilterImpl(function(t,e,n){u.refresh(t);for(var r=[],i=0;i<t.length;i++){var a=u.children(t[i]);a&&0!==a.length||r.push(t[i])}var o=l("filter")(r,e,n);return l("filter")(t,function(t){if(-1<o.indexOf(t))return!0;for(var e=u.descendants(t),n=0;n<e.length;n++)if(-1<o.indexOf(e[n]))return!0;return!1},n)})}else s.gantt.rowsManager.setFilterImpl(!1)});var e=function(t){return t.filter(function(t){return function(t){for(var e=s.parent(t);void 0!==e;){if(void 0!==e&&e._collapsed)return!1;e=s.parent(e)}return!0}(t)})},n=function(i){for(var a=[],t=[],e=0;e<i.length;e++){void 0===s.parent(i[e])?t.push(i[e]):!0}var o=function(t){a.push(t);var e=s.children(t);if(void 0!==e&&0<e.length)for(var n=e.sort(function(t,e){return i.indexOf(t)-i.indexOf(e)}),r=0;r<n.length;r++)o(n[r])};for(e=0;e<t.length;e++)o(t[e]);return a};s.gantt.api.rows.addRowSorter(n),s.gantt.api.rows.addRowFilter(e),s.$on("$destroy",function(){s.gantt.api.rows.removeRowSorter(n),s.gantt.api.rows.removeRowFilter(e)});var r=function(){s.rootRows=u.refresh(s.gantt.rowsManager.filteredRows),0<s.gantt.rowsManager.filteredRows.length&&(s.gantt.api.rows.sort(),s.gantt.api.rows.refresh())};s.gantt.api.rows.on.remove(s,r),s.gantt.api.rows.on.add(s,r);s.getHeaderContent=function(){return s.pluginScope.headerContent},s.gantt.api.registerMethod("tree","refresh",r,this),s.gantt.api.registerMethod("tree","isCollapsed",function(t){var e;if(void 0!==(e="string"==typeof t?s.gantt.rowsManager.rowsMap[t]:t))return void 0!==e._collapsed&&e._collapsed},this),s.gantt.api.registerMethod("tree","expand",function(t){var e;if(void 0!==(e="string"==typeof t?s.gantt.rowsManager.rowsMap[t]:t)){var n=s.nodeScopes[e.model.id];n.collapsed&&n.toggle()}},this),s.gantt.api.registerMethod("tree","collapse",function(t){var e;if(void 0!==(e="string"==typeof t?s.gantt.rowsManager.rowsMap[t]:t)){var n=s.nodeScopes[e.model.id];n.collapsed||n.toggle()}},this),s.gantt.api.registerEvent("tree","collapsed"),s.gantt.api.registerMethod("tree","getHierarchy",function(){return u},this),s.$watchCollection("gantt.rowsManager.filteredRows",function(){r()}),s.children=function(t){return void 0===t?s.rootRows:u.children(t)},s.parent=function(t){return u.parent(t)},s.nodeScopes={}}]).controller("GanttUiTreeController",["$scope",function(t){t.gantt.api.registerMethod("tree","collapseAll",function(){t.$broadcast("angular-ui-tree:collapse-all")},t),t.gantt.api.registerMethod("tree","expandAll",function(){t.$broadcast("angular-ui-tree:expand-all")},t)}]).controller("GanttTreeNodeController",["$scope",function(a){(a.$parent.nodeScopes[a.row.model.id]=a).$on("$destroy",function(){delete a.$parent.nodeScopes[a.row.model.id]}),a.$watch("children(row)",function(t){if(t){for(var e=a.row.rowsManager.filteredRows,n=[],r=0;r<t.length;r++){var i=t[r];-1<e.indexOf(i)&&n.push(i)}a.$parent.childrenRows=n}else a.$parent.childrenRows=t}),a.isCollapseDisabled=function(){return!a.$parent.childrenRows||0===a.$parent.childrenRows.length},a.getValue=function(){return a.row.model.name},a.getRowContent=function(){if(void 0!==a.row.model.content)return a.row.model.content;if(void 0!==a.pluginScope.content)return a.pluginScope.content;var t=a.row.rowsManager.gantt.options.value("rowContent");return void 0===t&&(t="{{row.model.name}}"),t},a.$watch("collapsed",function(t){if(a.$modelValue._collapsed!==t){var e=a.$modelValue._collapsed;a.$modelValue._collapsed=t,void 0!==e&&t!==e&&(a.gantt.api.tree.raise.collapsed(a,a.$modelValue,t),a.gantt.api.rows.refresh())}})}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeBody",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttTreeBody","plugins/tree/treeBody.tmpl.html");return n.controller=function(r){var i=e.getScrollBarHeight();r.getLabelsCss=function(){var t={},e=r.maxHeight;e||(e=r.gantt.getContainerHeight());var n=r.gantt.scroll.isHScrollbarVisible()?i:0;return t["max-height"]=e-n-r.gantt.header.getHeight()+"px",t}},n.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeHeader",["GanttDirectiveBuilder",function(t){return new t("ganttTreeHeader","plugins/tree/treeHeader.tmpl.html").build()}])}(),angular.module("gantt.bounds.templates",[]).run(["$templateCache",function(t){t.put("plugins/bounds/taskBounds.tmpl.html",'<div ng-cloak class="gantt-task-bounds" ng-style="getCss()" ng-class="getClass()"></div>\n')}]),angular.module("gantt.corner.templates",[]).run(["$templateCache",function(t){t.put("plugins/corner/corner.tmpl.html",'<div class="gantt-corner-area-content">\n    <div ng-show="$parent.ganttHeaderHeight" class="gantt-header-row" ng-repeat="header in headers">\n        <div class="gantt-column-header" ><span class="gantt-label-text" gantt-bind-compile-html="getLabelContent(header)"></span></div>\n    </div>\n</div>\n')}]),angular.module("gantt.dependencies.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.drawtask.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.groups.templates",[]).run(["$templateCache",function(t){t.put("plugins/groups/taskGroup.tmpl.html",'<div ng-controller="GanttGroupController">\n    <div class="gantt-task-group-overview" ng-if="taskGroup.overviewTasks.length > 0">\n        <gantt-task-overview ng-repeat="task in taskGroup.overviewTasks"></gantt-task-overview>\n    </div>\n    <div class="gantt-task-group-promote" ng-if="taskGroup.row._collapsed && taskGroup.promotedTasks.length > 0">\n        <gantt-task ng-repeat="task in taskGroup.promotedTasks"></gantt-task>\n    </div>\n    <div class="gantt-task-group"\n         ng-if="taskGroup.showGrouping"\n         ng-style="{\'left\': taskGroup.left + \'px\', \'width\': taskGroup.width + \'px\'}">\n        <div class="gantt-task-group-left-main"></div>\n        <div class="gantt-task-group-right-main"></div>\n        <div class="gantt-task-group-left-symbol"></div>\n        <div class="gantt-task-group-right-symbol"></div>\n    </div>\n</div>\n\n'),t.put("plugins/groups/taskOverview.tmpl.html",'<div class="gantt-task gantt-task-overview" ng-class="task.model.classes">\n    <gantt-task-background></gantt-task-background>\n    <gantt-task-content></gantt-task-content>\n    <gantt-task-foreground></gantt-task-foreground>\n</div>\n\n')}]),angular.module("gantt.labels.templates",[]).run(["$templateCache",function(t){t.put("plugins/labels/labelsBody.tmpl.html",'<div class="gantt-labels-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver>\n        <div ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n            <div gantt-row-label\n                 class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}">\n                <span class="gantt-label-text">{{row.model.name}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n'),t.put("plugins/labels/labelsHeader.tmpl.html",'<div class="gantt-labels-header">\n    <div ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0">\n        <div ng-repeat="header in gantt.columnsManager.headers">\n            <div class="gantt-row-height" ng-class="{\'gantt-labels-header-row\': $last, \'gantt-labels-header-row-last\': $last}"><span>{{$last ? pluginScope.header : ""}}</span></div>\n        </div>\n    </div>\n</div>\n'),t.put("plugins/labels/sideContentLabels.tmpl.html",'<div class="gantt-side-content-labels">\n    <gantt-labels-header>\n    </gantt-labels-header>\n    <gantt-labels-body>\n    </gantt-labels-body>\n</div>\n')}]),angular.module("gantt.movable.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.overlap.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.progress.templates",[]).run(["$templateCache",function(t){t.put("plugins/progress/taskProgress.tmpl.html",'<div ng-cloak class="gantt-task-progress" ng-style="getCss()" ng-class="getClasses()"></div>\n')}]),angular.module("gantt.resizeSensor.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.sections.templates",[]).run(["$templateCache",function(t){t.put("plugins/sections/taskSection.tmpl.html",'<div ng-style="sectionCss"\n     ng-class="section.classes"\n     class="gantt-task-section"></div>\n'),t.put("plugins/sections/taskSections.tmpl.html",'<div ng-cloak class="gantt-task-sections">\n    <gantt-task-section section="section"\n                        task="task"\n                        options="task.model.sections"\n                        index="$index"\n                        ng-repeat="section in task.model.sections.items track by $index">\n    </gantt-task-section>\n</div>\n')}]),angular.module("gantt.sortable.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.table.templates",[]).run(["$templateCache",function(t){t.put("plugins/table/sideContentTable.tmpl.html",'<div class="gantt-side-content-table">\n\n    <div class="gantt-table-column {{getClass()}}" ng-repeat="column in pluginScope.columns" ng-controller="TableColumnController">\n\n        <div class="gantt-table-header" ng-style="{height: ganttHeaderHeight + \'px\'}">\n            <div ng-show="ganttHeaderHeight" class="gantt-row-label-header gantt-row-label gantt-table-row gantt-table-header-row">\n                <span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/>\n            </div>\n        </div>\n\n        <div class="gantt-table-content" ng-style="getMaxHeightCss()">\n            <div gantt-vertical-scroll-receiver>\n                <div class="gantt-table-row" ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id" ng-controller="TableColumnRowController">\n                    <div gantt-row-label class="gantt-row-label gantt-row-height" ng-class="row.model.classes" ng-style="{\'height\': row.model.height}">\n                        <div class="gantt-valign-container">\n                            <div class="gantt-valign-content">\n                                <span class="gantt-label-text" gantt-bind-compile-html="getRowContent()"></span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n')}]),angular.module("gantt.tooltips.templates",[]).run(["$templateCache",function(t){t.put("plugins/tooltips/tooltip.tmpl.html",'<div ng-cloak\n     class="gantt-task-info"\n     ng-show="displayed"\n     ng-class="isRightAligned ? \'gantt-task-infoArrowR\' : \'gantt-task-infoArrow\'"\n     ng-style="{top: taskRect.top + \'px\', marginTop: -elementHeight - 8 + \'px\'}">\n    <div class="gantt-task-info-content">\n        <div gantt-bind-compile-html="content"></div>\n    </div>\n</div>\n')}]),angular.module("gantt.tree.templates",[]).run(["$templateCache",function(t){t.put("plugins/tree/sideContentTree.tmpl.html",'<div class="gantt-side-content-tree" ng-controller="GanttTreeController">\n    <gantt-tree-header>\n    </gantt-tree-header>\n    <gantt-tree-body>\n    </gantt-tree-body>\n</div>\n'),t.put("plugins/tree/treeBody.tmpl.html",'<div class="gantt-tree-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver>\n        <div class="gantt-row-label-background">\n            <div class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}"\n                 ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                &nbsp;\n            </div>\n        </div>\n        <div ui-tree ng-controller="GanttUiTreeController" data-drag-enabled="false" data-empty-place-holder-enabled="false">\n            <ol class="gantt-tree-root" ui-tree-nodes ng-model="rootRows">\n                <li ng-repeat="row in rootRows" ui-tree-node\n                    ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'">\n                </li>\n            </ol>\n        </div>\n    </div>\n</div>\n'),t.put("plugins/tree/treeBodyChildren.tmpl.html",'<div ng-controller="GanttTreeNodeController"\n     class="gantt-row-label gantt-row-height"\n     ng-class="row.model.classes"\n     ng-style="{\'height\': row.model.height}">\n    <div class="gantt-valign-container">\n        <div class="gantt-valign-content">\n            <a ng-disabled="isCollapseDisabled()" data-nodrag\n               class="gantt-tree-handle-button btn btn-xs"\n               ng-class="{\'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"\n               ng-click="!isCollapseDisabled() && toggle()"><span\n                class="gantt-tree-handle glyphicon glyphicon-chevron-down"\n                ng-class="{\n                \'glyphicon-chevron-right\': collapsed, \'glyphicon-chevron-down\': !collapsed,\n                \'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"></span>\n            </a>\n            <span gantt-row-label class="gantt-label-text" gantt-bind-compile-html="getRowContent()"/>\n        </div>\n    </div>\n</div>\n<ol ui-tree-nodes ng-class="{hidden: collapsed}" ng-model="childrenRows">\n    <li ng-repeat="row in childrenRows" ui-tree-node>\n        <div ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'"></div>\n    </li>\n</ol>\n'),t.put("plugins/tree/treeHeader.tmpl.html",'<div class="gantt-tree-header" ng-style="{height: $parent.ganttHeaderHeight + \'px\'}">\n    <div ng-if="$parent.ganttHeaderHeight" class="gantt-row-label gantt-row-label-header gantt-tree-row gantt-tree-header-row"><span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/></div>\n</div>\n')}]),function(){"use strict";angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",dropzoneClass:"angular-ui-tree-dropzone",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeholderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",dragThreshold:3,defaultCollapsed:!1,appendChildOnHover:!0})}(),function(){"use strict";angular.module("ui.tree").controller("TreeHandleController",["$scope","$element",function(t,e){(this.scope=t).$element=e,t.$nodeScope=null,t.$type="uiTreeHandle"}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodeController",["$scope","$element",function(n,r){(this.scope=n).$element=r,n.$modelValue=null,n.$parentNodeScope=null,n.$childNodesScope=null,n.$parentNodesScope=null,n.$treeScope=null,n.$handleScope=null,n.$type="uiTreeNode",n.$$allowNodeDrop=!1,n.collapsed=!1,n.expandOnHover=!1,n.init=function(t){var e=t[0];n.$treeScope=t[1]?t[1].scope:null,n.$parentNodeScope=e.scope.$nodeScope,n.$modelValue=e.scope.$modelValue[n.$index],n.$parentNodesScope=e.scope,e.scope.initSubNode(n),r.on("$destroy",function(){e.scope.destroySubNode(n)})},n.index=function(){return n.$parentNodesScope.$modelValue.indexOf(n.$modelValue)},n.dragEnabled=function(){return!(n.$treeScope&&!n.$treeScope.dragEnabled)},n.isSibling=function(t){return n.$parentNodesScope==t.$parentNodesScope},n.isChild=function(t){var e=n.childNodes();return e&&-1<e.indexOf(t)},n.prev=function(){var t=n.index();return 0<t?n.siblings()[t-1]:null},n.siblings=function(){return n.$parentNodesScope.childNodes()},n.childNodesCount=function(){return n.childNodes()?n.childNodes().length:0},n.hasChild=function(){return 0<n.childNodesCount()},n.childNodes=function(){return n.$childNodesScope&&n.$childNodesScope.$modelValue?n.$childNodesScope.childNodes():null},n.accept=function(t,e){return n.$childNodesScope&&n.$childNodesScope.$modelValue&&n.$childNodesScope.accept(t,e)},n.remove=function(){return n.$parentNodesScope.removeNode(n)},n.toggle=function(){n.collapsed=!n.collapsed,n.$treeScope.$callbacks.toggle(n.collapsed,n)},n.collapse=function(){n.collapsed=!0},n.expand=function(){n.collapsed=!1},n.depth=function(){var t=n.$parentNodeScope;return t?t.depth()+1:1},n.maxSubDepth=function(){return n.$childNodesScope?function t(e){if(!e)return 0;var n,r,i=0,a=e.childNodes();if(!a||0===a.length)return 0;for(r=a.length-1;0<=r;r--)n=1+t(a[r]),i=Math.max(i,n);return i}(n.$childNodesScope):0}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodesController",["$scope","$element","$timeout",function(n,t,r){(this.scope=n).$element=t,n.$modelValue=null,n.$nodeScope=null,n.$treeScope=null,n.$type="uiTreeNodes",n.$nodesMap={},n.nodropEnabled=!1,n.maxDepth=0,n.cloneEnabled=!1,n.initSubNode=function(t){if(!t.$modelValue)return null;n.$nodesMap[t.$modelValue.$$hashKey]=t},n.destroySubNode=function(t){if(!t.$modelValue)return null;n.$nodesMap[t.$modelValue.$$hashKey]=null},n.accept=function(t,e){return n.$treeScope.$callbacks.accept(t,n,e)},n.beforeDrag=function(t){return n.$treeScope.$callbacks.beforeDrag(t)},n.isParent=function(t){return t.$parentNodesScope==n},n.hasChild=function(){return 0<n.$modelValue.length},n.removeNode=function(t){var e=n.$modelValue.indexOf(t.$modelValue);return-1<e?(r(function(){n.$modelValue.splice(e,1)[0]}),n.$treeScope.$callbacks.removed(t)):null},n.insertNode=function(t,e){r(function(){n.$modelValue.splice(t,0,e)})},n.childNodes=function(){var t,e=[];if(n.$modelValue)for(t=0;t<n.$modelValue.length;t++)e.push(n.$nodesMap[n.$modelValue[t].$$hashKey]);return e},n.depth=function(){return n.$nodeScope?n.$nodeScope.depth():0},n.outOfDepth=function(t){var e=n.maxDepth||n.$treeScope.maxDepth;return 0<e&&n.depth()+t.maxSubDepth()+1>e}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeController",["$scope","$element",function(e,t){(this.scope=e).$element=t,e.$nodesScope=null,e.$type="uiTree",e.$emptyElm=null,e.$dropzoneElm=null,e.$callbacks=null,e.dragEnabled=!0,e.emptyPlaceholderEnabled=!0,e.maxDepth=0,e.dragDelay=0,e.cloneEnabled=!1,e.nodropEnabled=!1,e.dropzoneEnabled=!1,e.isEmpty=function(){return e.$nodesScope&&e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length},e.place=function(t){e.$nodesScope.$element.append(t),e.$emptyElm.remove()},this.resetEmptyElement=function(){e.$nodesScope.$modelValue&&0!==e.$nodesScope.$modelValue.length||!e.emptyPlaceholderEnabled?e.$emptyElm.remove():t.append(e.$emptyElm)},this.resetDropzoneElement=function(){e.$nodesScope.$modelValue&&0===e.$nodesScope.$modelValue.length||!e.dropzoneEnabled?e.$dropzoneElm.remove():t.append(e.$dropzoneElm)},e.resetEmptyElement=this.resetEmptyElement,e.resetDropzoneElement=this.resetDropzoneElement}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(u,c){return{restrict:"A",scope:!0,controller:"TreeController",link:function(n,t,e,r){var i,a,o,s={accept:null,beforeDrag:null},l={};angular.extend(l,u),l.treeClass&&t.addClass(l.treeClass),"table"===t.prop("tagName").toLowerCase()?(n.$emptyElm=angular.element(c.document.createElement("tr")),o=0<(a=t.find("tr")).length?angular.element(a).children().length:1e6,i=angular.element(c.document.createElement("td")).attr("colspan",o),n.$emptyElm.append(i)):(n.$emptyElm=angular.element(c.document.createElement("div")),n.$dropzoneElm=angular.element(c.document.createElement("div"))),l.emptyTreeClass&&n.$emptyElm.addClass(l.emptyTreeClass),l.dropzoneClass&&n.$dropzoneElm.addClass(l.dropzoneClass),n.$watch("$nodesScope.$modelValue.length",function(t){angular.isNumber(t)&&(r.resetEmptyElement(),r.resetDropzoneElement())},!0),n.$watch(e.dragEnabled,function(t){"boolean"==typeof t&&(n.dragEnabled=t)}),n.$watch(e.emptyPlaceholderEnabled,function(t){"boolean"==typeof t&&(n.emptyPlaceholderEnabled=t,r.resetEmptyElement())}),n.$watch(e.nodropEnabled,function(t){"boolean"==typeof t&&(n.nodropEnabled=t)}),n.$watch(e.dropzoneEnabled,function(t){"boolean"==typeof t&&(n.dropzoneEnabled=t,r.resetDropzoneElement())}),n.$watch(e.cloneEnabled,function(t){"boolean"==typeof t&&(n.cloneEnabled=t)}),n.$watch(e.maxDepth,function(t){"number"==typeof t&&(n.maxDepth=t)}),n.$watch(e.dragDelay,function(t){"number"==typeof t&&(n.dragDelay=t)}),s.accept=function(t,e,n){return!(e.nodropEnabled||e.$treeScope.nodropEnabled||e.outOfDepth(t))},s.beforeDrag=function(t){return!0},s.expandTimeoutStart=function(){},s.expandTimeoutCancel=function(){},s.expandTimeoutEnd=function(){},s.removed=function(t){},s.dropped=function(t){},s.dragStart=function(t){},s.dragMove=function(t){},s.dragStop=function(t){},s.beforeDrop=function(t){},s.toggle=function(t,e){},n.$watch(e.uiTree,function(t,e){angular.forEach(t,function(t,e){s[e]&&"function"==typeof t&&(s[e]=t)}),n.$callbacks=s},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeHandle",["treeConfig",function(a){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(t,e,n,r){var i={};angular.extend(i,a),i.handleClass&&e.addClass(i.handleClass),t!=r.scope&&(t.$nodeScope=r.scope,r.scope.$handleScope=t)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","UiTreeHelper","$window","$document","$timeout","$q",function(M,P,j,F,I,z){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function($,d,e,t){var x,k,S,T,h,L,C,D,E,Y,A,n,r,i,a,o,s,l,u,c,f,p,m,N,g,v,O,y,R={},_="ontouchstart"in window,H=null,b=document.body,w=document.documentElement;angular.extend(R,M),R.nodeClass&&d.addClass(R.nodeClass),$.init(t),$.collapsed=!!P.getNodeAttribute($,"collapsed")||M.defaultCollapsed,$.expandOnHover=!!P.getNodeAttribute($,"expandOnHover"),$.scrollContainer=P.getNodeAttribute($,"scrollContainer")||e.scrollContainer||null,$.sourceOnly=$.nodropEnabled||$.$treeScope.nodropEnabled,$.$watch(e.collapsed,function(t){"boolean"==typeof t&&($.collapsed=t)}),$.$watch("collapsed",function(t){P.setNodeAttribute($,"collapsed",t),e.$set("collapsed",t)}),$.$watch(e.expandOnHover,function(t){"boolean"!=typeof t&&"number"!=typeof t||($.expandOnHover=t)}),$.$watch("expandOnHover",function(t){P.setNodeAttribute($,"expandOnHover",t),e.$set("expandOnHover",t)}),e.$observe("scrollContainer",function(t){"string"==typeof t&&($.scrollContainer=t)}),$.$watch("scrollContainer",function(t){P.setNodeAttribute($,"scrollContainer",t),e.$set("scrollContainer",t),C=document.querySelector(t)}),$.$on("angular-ui-tree:collapse-all",function(){$.collapsed=!0}),$.$on("angular-ui-tree:expand-all",function(){$.collapsed=!1}),n=function(t){if((_||2!==t.button&&3!==t.which)&&!(t.uiTreeDragging||t.originalEvent&&t.originalEvent.uiTreeDragging)){var e,n,r,i,a,o,s,l,u,c=angular.element(t.target);if((e=P.treeNodeHandlerContainerOfElement(c))&&(c=angular.element(e)),n=d.clone(),l=P.elementIsTreeNode(c),u=P.elementIsTreeNodeHandle(c),(l||u)&&!(l&&P.elementContainsTreeNodeHandler(c)||"input"==(r=c.prop("tagName").toLowerCase())||"textarea"==r||"button"==r||"select"==r)){for(g=angular.element(t.target),v=g[0].attributes["ui-tree"];g&&g[0]&&g[0]!==d&&!v;){if(g[0].attributes&&(v=g[0].attributes["ui-tree"]),P.nodrag(g))return;g=g.parent()}$.beforeDrag($)&&(t.uiTreeDragging=!0,t.originalEvent&&(t.originalEvent.uiTreeDragging=!0),t.preventDefault(),a=P.eventObj(t),x=!0,k=P.dragInfo($),O=k.source.$treeScope.$id,"tr"===(i=d.prop("tagName")).toLowerCase()?(T=angular.element(j.document.createElement(i)),o=angular.element(j.document.createElement("td")).addClass(R.placeholderClass).attr("colspan",d[0].children.length),T.append(o)):T=angular.element(j.document.createElement(i)).addClass(R.placeholderClass),h=angular.element(j.document.createElement(i)),R.hiddenClass&&h.addClass(R.hiddenClass),S=P.positionStarted(a,d),T.css("height",d.prop("offsetHeight")+"px"),(L=angular.element(j.document.createElement($.$parentNodesScope.$element.prop("tagName"))).addClass($.$parentNodesScope.$element.attr("class")).addClass(R.dragClass)).css("width",P.width(d)+"px"),L.css("z-index",9999),(s=(d[0].querySelector(".angular-ui-tree-handle")||d[0]).currentStyle)&&(document.body.setAttribute("ui-tree-cursor",F.find("body").css("cursor")||""),F.find("body").css({cursor:s.cursor+"!important"})),$.sourceOnly&&T.css("display","none"),d.after(T),d.after(h),k.isClone()&&$.sourceOnly?L.append(n):L.append(d),F.find("body").append(L),L.css({left:a.pageX-S.offsetX+"px",top:a.pageY-S.offsetY+"px"}),E={placeholder:T,dragging:L},f(),$.$apply(function(){$.$treeScope.$callbacks.dragStart(k.eventArgs(E,S))}),Y=Math.max(b.scrollHeight,b.offsetHeight,w.clientHeight,w.scrollHeight,w.offsetHeight),A=Math.max(b.scrollWidth,b.offsetWidth,w.clientWidth,w.scrollWidth,w.offsetWidth))}}},r=function(t){var e,n,r,i,a,o,s,l,u,c,d,h,f,p,m,g,v,y,_,b,w,M=P.eventObj(t);if(L){if(t.preventDefault(),j.getSelection?j.getSelection().removeAllRanges():j.document.selection&&j.document.selection.empty(),(n=M.pageX-S.offsetX)<0&&(n=0),(r=M.pageY-S.offsetY)<0&&(r=0),Y<r+10&&(r=Y-10),A<n+10&&(n=A-10),L.css({left:n+"px",top:r+"px"}),C?(o=C.getBoundingClientRect(),a=(i=C.scrollTop)+C.clientHeight,o.bottom<M.clientY&&a<C.scrollHeight&&(p=Math.min(C.scrollHeight-a,10),C.scrollTop+=p),o.top>M.clientY&&0<i&&(m=Math.min(i,10),C.scrollTop-=m)):((a=(i=window.pageYOffset||j.document.documentElement.scrollTop)+(window.innerHeight||j.document.clientHeight||j.document.clientHeight))<M.pageY&&a<Y&&(p=Math.min(Y-a,10),window.scrollBy(0,p)),i>M.pageY&&(m=Math.min(i,10),window.scrollBy(0,-m))),P.positionMoved(t,S,x),x)return void(x=!1);if(l=M.pageX-(j.pageXOffset||j.document.body.scrollLeft||j.document.documentElement.scrollLeft)-(j.document.documentElement.clientLeft||0),u=M.pageY-(j.pageYOffset||j.document.body.scrollTop||j.document.documentElement.scrollTop)-(j.document.documentElement.clientTop||0),angular.isFunction(L.hide)?L.hide():(c=L[0].style.display,L[0].style.display="none"),j.document.elementFromPoint(l,u),h=angular.element(j.document.elementFromPoint(l,u)),(N=P.treeNodeHandlerContainerOfElement(h))&&(h=angular.element(N)),angular.isFunction(L.show)?L.show():L[0].style.display=c,P.elementIsTree(h)?d=h.controller("uiTree").scope:P.elementIsTreeNodeHandle(h)?d=h.controller("uiTreeHandle").scope:P.elementIsTreeNode(h)?d=h.controller("uiTreeNode").scope:P.elementIsTreeNodes(h)?d=h.controller("uiTreeNodes").scope:P.elementIsPlaceholder(h)?d=h.controller("uiTreeNodes").scope:P.elementIsDropzone(h)?(d=h.controller("uiTree").scope,w=!0):h.controller("uiTreeNode")&&(d=h.controller("uiTreeNode").scope),d&&d.$treeScope&&d.$treeScope.$id&&d.$treeScope.$id===O&&S.dirAx)0<S.distX&&(e=k.prev())&&!e.collapsed&&e.accept($,e.childNodesCount())&&(e.$childNodesScope.$element.append(T),k.moveTo(e.$childNodesScope,e.childNodes(),e.childNodesCount())),S.distX<0&&(k.next()||(s=k.parentNode())&&s.$parentNodesScope.accept($,s.index()+1)&&(s.$element.after(T),k.moveTo(s.$parentNodesScope,s.siblings(),s.index()+1)));else{if(f=!1,!d)return;if(!d.$treeScope||d.$parent.nodropEnabled||d.$treeScope.nodropEnabled||T.css("display",""),"uiTree"===d.$type&&d.dragEnabled&&(f=d.isEmpty()),"uiTreeHandle"===d.$type&&(d=d.$nodeScope),"uiTreeNode"!==d.$type&&!f&&!w)return void(R.appendChildOnHover&&!k.next()&&D&&((s=k.parentNode()).$element.after(T),k.moveTo(s.$parentNodesScope,s.siblings(),s.index()+1),D=!1));H&&T.parent()[0]!=H.$element[0]&&(H.resetEmptyElement(),H.resetDropzoneElement(),H=null),f?(H=d).$nodesScope.accept($,0)&&k.moveTo(d.$nodesScope,d.$nodesScope.childNodes(),0):w?(H=d).$nodesScope.accept($,d.$nodesScope.childNodes().length)&&k.moveTo(d.$nodesScope,d.$nodesScope.childNodes(),d.$nodesScope.childNodes().length):d.dragEnabled()&&(angular.isDefined($.expandTimeoutOn)&&$.expandTimeoutOn!==d.id&&(I.cancel($.expandTimeout),delete $.expandTimeout,delete $.expandTimeoutOn,$.$callbacks.expandTimeoutCancel()),d.collapsed&&(!0===$.expandOnHover||angular.isNumber($.expandOnHover)&&0===$.expandOnHover?(d.collapsed=!1,d.$treeScope.$callbacks.toggle(!1,d)):!1!==$.expandOnHover&&angular.isNumber($.expandOnHover)&&0<$.expandOnHover&&angular.isUndefined($.expandTimeoutOn)&&($.expandTimeoutOn=d.$id,$.$callbacks.expandTimeoutStart(),$.expandTimeout=I(function(){$.$callbacks.expandTimeoutEnd(),d.collapsed=!1,d.$treeScope.$callbacks.toggle(!1,d)},$.expandOnHover))),h=d.$element,g=P.offset(h),_=P.height(h),_-=(b=d.$childNodesScope?d.$childNodesScope.$element:null)?P.height(b):0,y=R.appendChildOnHover?.25*_:P.height(h)/2,v=M.pageY<g.top+y,d.$parentNodesScope.accept($,d.index())?v?(h[0].parentNode.insertBefore(T[0],h[0]),k.moveTo(d.$parentNodesScope,d.siblings(),d.index())):R.appendChildOnHover&&d.accept($,d.childNodesCount())?(d.$childNodesScope.$element.prepend(T),k.moveTo(d.$childNodesScope,d.childNodes(),0),D=!0):(h.after(T),k.moveTo(d.$parentNodesScope,d.siblings(),d.index()+1)):!v&&d.accept($,d.childNodesCount())&&(d.$childNodesScope.$element.append(T),k.moveTo(d.$childNodesScope,d.childNodes(),d.childNodesCount())))}$.$apply(function(){$.$treeScope.$callbacks.dragMove(k.eventArgs(E,S))})}},i=function(t){var e=k.eventArgs(E,S);t.preventDefault(),p(),I.cancel($.expandTimeout),$.$treeScope.$apply(function(){z.when($.$treeScope.$callbacks.beforeDrop(e)).then(function(t){!1!==t&&$.$$allowNodeDrop?(k.apply(),$.$treeScope.$callbacks.dropped(e)):c()}).catch(function(){c()}).finally(function(){h.replaceWith($.$element),T.remove(),L&&(L.remove(),L=null),$.$treeScope.$callbacks.dragStop(e),$.$$allowNodeDrop=!1,k=null;var t=document.body.getAttribute("ui-tree-cursor");null!==t&&(F.find("body").css({cursor:t}),document.body.removeAttribute("ui-tree-cursor"))})})},a=function(t){$.dragEnabled()&&n(t)},o=function(t){r(t)},s=function(t){$.$$allowNodeDrop=!0,i(t)},l=function(t){i(t)},u={exec:function(t,e){e||(e=0),this.cancel(),y=I(t,e)},cancel:function(){I.cancel(y)}},m=function(t){27===t.keyCode&&s(t)},(c=function(){d.bind("touchstart mousedown",function(t){0<$.dragDelay?u.exec(function(){a(t)},$.dragDelay):a(t)}),d.bind("touchend touchcancel mouseup",function(){0<$.dragDelay&&u.cancel()})})(),f=function(){angular.element(F).bind("touchend",s),angular.element(F).bind("touchcancel",s),angular.element(F).bind("touchmove",o),angular.element(F).bind("mouseup",s),angular.element(F).bind("mousemove",o),angular.element(F).bind("mouseleave",l),angular.element(F).bind("keydown",m)},p=function(){angular.element(F).unbind("touchend",s),angular.element(F).unbind("touchcancel",s),angular.element(F).unbind("touchmove",o),angular.element(F).unbind("mouseup",s),angular.element(F).unbind("mousemove",o),angular.element(F).unbind("mouseleave",l),angular.element(F).unbind("keydown",m)}}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(l){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(e,t,n,r){var i={},a=r[0],o=r[1],s=r[2];angular.extend(i,l),i.nodesClass&&t.addClass(i.nodesClass),o?(o.scope.$childNodesScope=e).$nodeScope=o.scope:s.scope.$nodesScope=e,e.$treeScope=s.scope,a&&(a.$render=function(){e.$modelValue=a.$modelValue}),e.$watch(function(){return n.maxDepth},function(t){"number"==typeof t&&(e.maxDepth=t)}),e.$watch(function(){return n.nodropEnabled},function(t){void 0!==t&&(e.nodropEnabled=!0)},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").factory("UiTreeHelper",["$document","$window","treeConfig",function(n,r,e){return{nodesData:{},setNodeAttribute:function(t,e,n){if(!t.$modelValue)return null;var r=this.nodesData[t.$modelValue.$$hashKey];r||(r={},this.nodesData[t.$modelValue.$$hashKey]=r),r[e]=n},getNodeAttribute:function(t,e){if(!t.$modelValue)return null;var n=this.nodesData[t.$modelValue.$$hashKey];return n?n[e]:null},nodrag:function(t){return void 0!==t.attr("data-nodrag")&&"false"!==t.attr("data-nodrag")},eventObj:function(t){var e=t;return void 0!==t.targetTouches?e=t.targetTouches.item(0):void 0!==t.originalEvent&&void 0!==t.originalEvent.targetTouches&&(e=t.originalEvent.targetTouches.item(0)),e},dragInfo:function(t){return{source:t,sourceInfo:{cloneModel:!0===t.$treeScope.cloneEnabled?angular.copy(t.$modelValue):void 0,nodeScope:t,index:t.index(),nodesScope:t.$parentNodesScope},index:t.index(),siblings:t.siblings().slice(0),parent:t.$parentNodesScope,resetParent:function(){this.parent=t.$parentNodesScope},moveTo:function(t,e,n){this.parent=t,this.siblings=e.slice(0);var r=this.siblings.indexOf(this.source);-1<r&&(this.siblings.splice(r,1),this.source.index()<n&&n--),this.siblings.splice(n,0,this.source),this.index=n},parentNode:function(){return this.parent.$nodeScope},prev:function(){return 0<this.index?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isClone:function(){return!0===this.source.$treeScope.cloneEnabled},clonedNode:function(t){return angular.copy(t)},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},isForeign:function(){return this.source.$treeScope!==this.parent.$treeScope},eventArgs:function(t,e){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:t,pos:e}},apply:function(){var t=this.source.$modelValue;this.parent.nodropEnabled||this.parent.$treeScope.nodropEnabled||this.isDirty()&&(this.isClone()&&this.isForeign()?this.parent.insertNode(this.index,this.sourceInfo.cloneModel):(this.source.remove(),this.parent.insertNode(this.index,t)))}}},height:function(t){return t.prop("scrollHeight")},width:function(t){return t.prop("scrollWidth")},offset:function(t){var e=t[0].getBoundingClientRect();return{width:t.prop("offsetWidth"),height:t.prop("offsetHeight"),top:e.top+(r.pageYOffset||n[0].body.scrollTop||n[0].documentElement.scrollTop),left:e.left+(r.pageXOffset||n[0].body.scrollLeft||n[0].documentElement.scrollLeft)}},positionStarted:function(t,e){var n={},r=t.pageX,i=t.pageY;return t.originalEvent&&t.originalEvent.touches&&0<t.originalEvent.touches.length&&(r=t.originalEvent.touches[0].pageX,i=t.originalEvent.touches[0].pageY),n.offsetX=r-this.offset(e).left,n.offsetY=i-this.offset(e).top,n.startX=n.lastX=r,n.startY=n.lastY=i,n.nowX=n.nowY=n.distX=n.distY=n.dirAx=0,n.dirX=n.dirY=n.lastDirX=n.lastDirY=n.distAxX=n.distAxY=0,n},positionMoved:function(t,e,n){var r,i=t.pageX,a=t.pageY;if(t.originalEvent&&t.originalEvent.touches&&0<t.originalEvent.touches.length&&(i=t.originalEvent.touches[0].pageX,a=t.originalEvent.touches[0].pageY),e.lastX=e.nowX,e.lastY=e.nowY,e.nowX=i,e.nowY=a,e.distX=e.nowX-e.lastX,e.distY=e.nowY-e.lastY,e.lastDirX=e.dirX,e.lastDirY=e.dirY,e.dirX=0===e.distX?0:0<e.distX?1:-1,e.dirY=0===e.distY?0:0<e.distY?1:-1,r=Math.abs(e.distX)>Math.abs(e.distY)?1:0,n)return e.dirAx=r,void(e.moving=!0);e.dirAx!==r?(e.distAxX=0,e.distAxY=0):(e.distAxX+=Math.abs(e.distX),0!==e.dirX&&e.dirX!==e.lastDirX&&(e.distAxX=0),e.distAxY+=Math.abs(e.distY),0!==e.dirY&&e.dirY!==e.lastDirY&&(e.distAxY=0)),e.dirAx=r},elementIsTreeNode:function(t){return void 0!==t.attr("ui-tree-node")},elementIsTreeNodeHandle:function(t){return void 0!==t.attr("ui-tree-handle")},elementIsTree:function(t){return void 0!==t.attr("ui-tree")},elementIsTreeNodes:function(t){return void 0!==t.attr("ui-tree-nodes")},elementIsPlaceholder:function(t){return t.hasClass(e.placeholderClass)},elementIsDropzone:function(t){return t.hasClass(e.dropzoneClass)},elementContainsTreeNodeHandler:function(t){return 1<=t[0].querySelectorAll("[ui-tree-handle]").length},treeNodeHandlerContainerOfElement:function(t){return function(t,e){if(void 0===e)return null;var n=e.parentNode,r="function"==typeof n.setAttribute&&n.hasAttribute(t)?n:null;for(;n&&"function"==typeof n.setAttribute&&!n.hasAttribute(t);){if(n=n.parentNode,(r=n)===document.documentElement){r=null;break}0}return r}("ui-tree-handle",t[0])}}}])}(),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(h){var f,p,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],e="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],m=Array.prototype.slice;if(h.event.fixHooks)for(var n=t.length;n;)h.event.fixHooks[t[--n]]=h.event.mouseHooks;var g=h.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=e.length;t;)this.addEventListener(e[--t],r,!1);else this.onmousewheel=r;h.data(this,"mousewheel-line-height",g.getLineHeight(this)),h.data(this,"mousewheel-page-height",g.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=e.length;t;)this.removeEventListener(e[--t],r,!1);else this.onmousewheel=null;h.removeData(this,"mousewheel-line-height"),h.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var e=h(t),n=e["offsetParent"in h.fn?"offsetParent":"parent"]();return n.length||(n=h("body")),parseInt(n.css("fontSize"),10)||parseInt(e.css("fontSize"),10)||16},getPageHeight:function(t){return h(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function r(t){var e,n=t||window.event,r=m.call(arguments,1),i=0,a=0,o=0,s=0,l=0;if((t=h.event.fix(n)).type="mousewheel","detail"in n&&(o=-1*n.detail),"wheelDelta"in n&&(o=n.wheelDelta),"wheelDeltaY"in n&&(o=n.wheelDeltaY),"wheelDeltaX"in n&&(a=-1*n.wheelDeltaX),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(a=-1*o,o=0),i=0===o?a:o,"deltaY"in n&&(i=o=-1*n.deltaY),"deltaX"in n&&(a=n.deltaX,0===o&&(i=-1*a)),0!==o||0!==a){if(1===n.deltaMode){var u=h.data(this,"mousewheel-line-height");i*=u,o*=u,a*=u}else if(2===n.deltaMode){var c=h.data(this,"mousewheel-page-height");i*=c,o*=c,a*=c}if(e=Math.max(Math.abs(o),Math.abs(a)),(!p||e<p)&&y(n,p=e)&&(p/=40),y(n,e)&&(i/=40,a/=40,o/=40),i=Math[1<=i?"floor":"ceil"](i/p),a=Math[1<=a?"floor":"ceil"](a/p),o=Math[1<=o?"floor":"ceil"](o/p),g.settings.normalizeOffset&&this.getBoundingClientRect){var d=this.getBoundingClientRect();s=t.clientX-d.left,l=t.clientY-d.top}return t.deltaX=a,t.deltaY=o,t.deltaFactor=p,t.offsetX=s,t.offsetY=l,t.deltaMode=0,r.unshift(t,i,a,o),f&&clearTimeout(f),f=setTimeout(v,200),(h.event.dispatch||h.event.handle).apply(this,r)}}function v(){p=null}function y(t,e){return g.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}h.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t:t(jQuery,window,document)}(function(H){var P,f,j,r,i,s,a,g,F,w,p,u,l,c,d,h,m,v,y,_,b,M,T,$,x,k,S,L,I,o,C,D,E,Y,z,A,N,O,R,B,W,U,q,V,G,K,J,X,Z,Q,tt,et,nt,rt,it,at,ot,t,e,n;t="function"==typeof define&&define.amd,e="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",t||(e?require("jquery-mousewheel")(H):H.event.special.mousewheel||H("head").append(decodeURI("%3Cscript src="+n+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),f="mCustomScrollbar",j="mCS",r=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},s=0,a={},g=window.attachEvent&&!window.addEventListener?1:0,F=!1,w=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],p={init:function(o){var o=H.extend(!0,{},i,o),t=u.call(this);if(o.live){var e=o.liveSelector||this.selector||r,n=H(e);if("off"===o.live)return void c(e);a[e]=setTimeout(function(){n.mCustomScrollbar(o),"once"===o.live&&n.length&&c(e)},500)}else c(e);return o.setWidth=o.set_width?o.set_width:o.setWidth,o.setHeight=o.set_height?o.set_height:o.setHeight,o.axis=o.horizontalScroll?"x":d(o.axis),o.scrollInertia=0<o.scrollInertia&&o.scrollInertia<17?17:o.scrollInertia,"object"!=typeof o.mouseWheel&&1==o.mouseWheel&&(o.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),o.mouseWheel.scrollAmount=o.mouseWheelPixels?o.mouseWheelPixels:o.mouseWheel.scrollAmount,o.mouseWheel.normalizeDelta=o.advanced.normalizeMouseWheelDelta?o.advanced.normalizeMouseWheelDelta:o.mouseWheel.normalizeDelta,o.scrollButtons.scrollType=h(o.scrollButtons.scrollType),l(o),H(t).each(function(){var t=H(this);if(!t.data(j)){t.data(j,{idx:++s,opt:o,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:t.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var e=t.data(j),n=e.opt,r=t.data("mcs-axis"),i=t.data("mcs-scrollbar-position"),a=t.data("mcs-theme");r&&(n.axis=r),i&&(n.scrollbarPosition=i),a&&(n.theme=a,l(n)),m.call(this),e&&n.callbacks.onCreate&&"function"==typeof n.callbacks.onCreate&&n.callbacks.onCreate.call(this),H("#mCSB_"+e.idx+"_container img:not(."+w[2]+")").addClass(w[2]),p.update.call(null,t)}})},update:function(t,s){var e=t||u.call(this);return H(e).each(function(){var t=H(this);if(t.data(j)){var e=t.data(j),n=e.opt,r=H("#mCSB_"+e.idx+"_container"),i=H("#mCSB_"+e.idx),a=[H("#mCSB_"+e.idx+"_dragger_vertical"),H("#mCSB_"+e.idx+"_dragger_horizontal")];if(!r.length)return;e.tweenRunning&&J(t),s&&e&&n.callbacks.onBeforeUpdate&&"function"==typeof n.callbacks.onBeforeUpdate&&n.callbacks.onBeforeUpdate.call(this),t.hasClass(w[3])&&t.removeClass(w[3]),t.hasClass(w[4])&&t.removeClass(w[4]),i.css("max-height","none"),i.height()!==t.height()&&i.css("max-height",t.height()),y.call(this),"y"===n.axis||n.advanced.autoExpandHorizontalScroll||r.css("width",v(r)),e.overflowed=$.call(this),L.call(this),n.autoDraggerLength&&b.call(this),M.call(this),k.call(this);var o=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==n.axis&&(e.overflowed[0]?a[0].height()>a[0].parent().height()?x.call(this):(X(t,o[0].toString(),{dir:"y",dur:0,overwrite:"none"}),e.contentReset.y=null):(x.call(this),"y"===n.axis?S.call(this):"yx"===n.axis&&e.overflowed[1]&&X(t,o[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==n.axis&&(e.overflowed[1]?a[1].width()>a[1].parent().width()?x.call(this):(X(t,o[1].toString(),{dir:"x",dur:0,overwrite:"none"}),e.contentReset.x=null):(x.call(this),"x"===n.axis?S.call(this):"yx"===n.axis&&e.overflowed[0]&&X(t,o[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),s&&e&&(2===s&&n.callbacks.onImageLoad&&"function"==typeof n.callbacks.onImageLoad?n.callbacks.onImageLoad.call(this):3===s&&n.callbacks.onSelectorChange&&"function"==typeof n.callbacks.onSelectorChange?n.callbacks.onSelectorChange.call(this):n.callbacks.onUpdate&&"function"==typeof n.callbacks.onUpdate&&n.callbacks.onUpdate.call(this)),K.call(this)}})},scrollTo:function(s,l){if(void 0!==s&&null!=s){var t=u.call(this);return H(t).each(function(){var t=H(this);if(t.data(j)){var e=t.data(j),n=e.opt,r={trigger:"external",scrollInertia:n.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},i=H.extend(!0,{},r,l),a=V.call(this,s),o=0<i.scrollInertia&&i.scrollInertia<17?17:i.scrollInertia;a[0]=G.call(this,a[0],"y"),a[1]=G.call(this,a[1],"x"),i.moveDragger&&(a[0]*=e.scrollRatio.y,a[1]*=e.scrollRatio.x),i.dur=ot()?0:o,setTimeout(function(){null!==a[0]&&void 0!==a[0]&&"x"!==n.axis&&e.overflowed[0]&&(i.dir="y",i.overwrite="all",X(t,a[0].toString(),i)),null!==a[1]&&void 0!==a[1]&&"y"!==n.axis&&e.overflowed[1]&&(i.dir="x",i.overwrite="none",X(t,a[1].toString(),i))},i.timeout)}})}},stop:function(){var t=u.call(this);return H(t).each(function(){var t=H(this);t.data(j)&&J(t)})},disable:function(e){var t=u.call(this);return H(t).each(function(){var t=H(this);t.data(j)&&(t.data(j),K.call(this,"remove"),S.call(this),e&&x.call(this),L.call(this,!0),t.addClass(w[3]))})},destroy:function(){var o=u.call(this);return H(o).each(function(){var t=H(this);if(t.data(j)){var e=t.data(j),n=e.opt,r=H("#mCSB_"+e.idx),i=H("#mCSB_"+e.idx+"_container"),a=H(".mCSB_"+e.idx+"_scrollbar");n.live&&c(n.liveSelector||H(o).selector),K.call(this,"remove"),S.call(this),x.call(this),t.removeData(j),et(this,"mcs"),a.remove(),i.find("img."+w[2]).removeClass(w[2]),r.replaceWith(i.contents()),t.removeClass(f+" _"+j+"_"+e.idx+" "+w[6]+" "+w[7]+" "+w[5]+" "+w[3]).addClass(w[4])}})}},u=function(){return"object"!=typeof H(this)||H(this).length<1?r:this},l=function(t){t.autoDraggerLength=!(-1<H.inArray(t.theme,["rounded","rounded-dark","rounded-dots","rounded-dots-dark"]))&&t.autoDraggerLength,t.autoExpandScrollbar=!(-1<H.inArray(t.theme,["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"]))&&t.autoExpandScrollbar,t.scrollButtons.enable=!(-1<H.inArray(t.theme,["minimal","minimal-dark"]))&&t.scrollButtons.enable,t.autoHideScrollbar=-1<H.inArray(t.theme,["minimal","minimal-dark"])||t.autoHideScrollbar,t.scrollbarPosition=-1<H.inArray(t.theme,["minimal","minimal-dark"])?"outside":t.scrollbarPosition},c=function(t){a[t]&&(clearTimeout(a[t]),et(a,t))},d=function(t){return"yx"===t||"xy"===t||"auto"===t?"yx":"x"===t||"horizontal"===t?"x":"y"},h=function(t){return"stepped"===t||"pixels"===t||"step"===t||"click"===t?"stepped":"stepless"},m=function(){var t=H(this),e=t.data(j),n=e.opt,r=n.autoExpandScrollbar?" "+w[1]+"_expand":"",i=["<div id='mCSB_"+e.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+n.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+w[12]+"'><div id='mCSB_"+e.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+e.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+e.idx+"_scrollbar mCS-"+n.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+w[12]+"'><div id='mCSB_"+e.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],a="yx"===n.axis?"mCSB_vertical_horizontal":"x"===n.axis?"mCSB_horizontal":"mCSB_vertical",o="yx"===n.axis?i[0]+i[1]:"x"===n.axis?i[1]:i[0],s="yx"===n.axis?"<div id='mCSB_"+e.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",l=n.autoHideScrollbar?" "+w[6]:"",u="x"!==n.axis&&"rtl"===e.langDir?" "+w[7]:"";n.setWidth&&t.css("width",n.setWidth),n.setHeight&&t.css("height",n.setHeight),n.setLeft="y"!==n.axis&&"rtl"===e.langDir?"989999px":n.setLeft,t.addClass(f+" _"+j+"_"+e.idx+l+u).wrapInner("<div id='mCSB_"+e.idx+"' class='mCustomScrollBox mCS-"+n.theme+" "+a+"'><div id='mCSB_"+e.idx+"_container' class='mCSB_container' style='position:relative; top:"+n.setTop+"; left:"+n.setLeft+";' dir='"+e.langDir+"' /></div>");var c=H("#mCSB_"+e.idx),d=H("#mCSB_"+e.idx+"_container");"y"===n.axis||n.advanced.autoExpandHorizontalScroll||d.css("width",v(d)),"outside"===n.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),c.addClass("mCSB_outside").after(o)):(c.addClass("mCSB_inside").append(o),d.wrap(s)),_.call(this);var h=[H("#mCSB_"+e.idx+"_dragger_vertical"),H("#mCSB_"+e.idx+"_dragger_horizontal")];h[0].css("min-height",h[0].height()),h[1].css("min-width",h[1].width())},v=function(t){var e=[t[0].scrollWidth,Math.max.apply(Math,t.children().map(function(){return H(this).outerWidth(!0)}).get())],n=t.parent().width();return n<e[0]?e[0]:n<e[1]?e[1]:"100%"},y=function(){var t=H(this),e=t.data(j),n=e.opt,r=H("#mCSB_"+e.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){r.css({width:"auto","min-width":0,"overflow-x":"scroll"});var i=Math.ceil(r[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&i>r.parent().width()?r.css({width:i,"min-width":"100%","overflow-x":"inherit"}):r.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(r[0].getBoundingClientRect().right+.4)-Math.floor(r[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},_=function(){var t=H(this),e=t.data(j),n=e.opt,r=H(".mCSB_"+e.idx+"_scrollbar:first"),i=it(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",a=["<a href='#' class='"+w[13]+"' "+i+" />","<a href='#' class='"+w[14]+"' "+i+" />","<a href='#' class='"+w[15]+"' "+i+" />","<a href='#' class='"+w[16]+"' "+i+" />"],o=["x"===n.axis?a[2]:a[0],"x"===n.axis?a[3]:a[1],a[2],a[3]];n.scrollButtons.enable&&r.prepend(o[0]).append(o[1]).next(".mCSB_scrollTools").prepend(o[2]).append(o[3])},b=function(){var t=H(this),e=t.data(j),n=H("#mCSB_"+e.idx),r=H("#mCSB_"+e.idx+"_container"),i=[H("#mCSB_"+e.idx+"_dragger_vertical"),H("#mCSB_"+e.idx+"_dragger_horizontal")],a=[n.height()/r.outerHeight(!1),n.width()/r.outerWidth(!1)],o=[parseInt(i[0].css("min-height")),Math.round(a[0]*i[0].parent().height()),parseInt(i[1].css("min-width")),Math.round(a[1]*i[1].parent().width())],s=g&&o[1]<o[0]?o[0]:o[1],l=g&&o[3]<o[2]?o[2]:o[3];i[0].css({height:s,"max-height":i[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":o[0]+"px"}),i[1].css({width:l,"max-width":i[1].parent().width()-10})},M=function(){var t=H(this),e=t.data(j),n=H("#mCSB_"+e.idx),r=H("#mCSB_"+e.idx+"_container"),i=[H("#mCSB_"+e.idx+"_dragger_vertical"),H("#mCSB_"+e.idx+"_dragger_horizontal")],a=[r.outerHeight(!1)-n.height(),r.outerWidth(!1)-n.width()],o=[a[0]/(i[0].parent().height()-i[0].height()),a[1]/(i[1].parent().width()-i[1].width())];e.scrollRatio={y:o[0],x:o[1]}},T=function(t,e,n){var r=n?w[0]+"_expanded":"",i=t.closest(".mCSB_scrollTools");"active"===e?(t.toggleClass(w[0]+" "+r),i.toggleClass(w[1]),t[0]._draggable=t[0]._draggable?0:1):t[0]._draggable||("hide"===e?(t.removeClass(w[0]),i.removeClass(w[1])):(t.addClass(w[0]),i.addClass(w[1])))},$=function(){var t=H(this),e=t.data(j),n=H("#mCSB_"+e.idx),r=H("#mCSB_"+e.idx+"_container"),i=null==e.overflowed?r.height():r.outerHeight(!1),a=null==e.overflowed?r.width():r.outerWidth(!1),o=r[0].scrollHeight,s=r[0].scrollWidth;return i<o&&(i=o),a<s&&(a=s),[i>n.height(),a>n.width()]},x=function(){var t=H(this),e=t.data(j),n=e.opt,r=H("#mCSB_"+e.idx),i=H("#mCSB_"+e.idx+"_container"),a=[H("#mCSB_"+e.idx+"_dragger_vertical"),H("#mCSB_"+e.idx+"_dragger_horizontal")];if(J(t),("x"!==n.axis&&!e.overflowed[0]||"y"===n.axis&&e.overflowed[0])&&(a[0].add(i).css("top",0),X(t,"_resetY")),"y"!==n.axis&&!e.overflowed[1]||"x"===n.axis&&e.overflowed[1]){var o=dx=0;"rtl"===e.langDir&&(o=r.width()-i.outerWidth(!1),dx=Math.abs(o/e.scrollRatio.x)),i.css("left",o),a[1].css("left",dx),X(t,"_resetX")}},k=function(){var e=H(this),t=e.data(j),n=t.opt;if(!t.bindEvents){var r;if(o.call(this),n.contentTouchScroll&&C.call(this),D.call(this),n.mouseWheel.enable)!function t(){r=setTimeout(function(){H.event.special.mousewheel?(clearTimeout(r),E.call(e[0])):t()},100)}();O.call(this),B.call(this),n.advanced.autoScrollOnFocus&&R.call(this),n.scrollButtons.enable&&W.call(this),n.keyboard.enable&&U.call(this),t.bindEvents=!0}},S=function(){var t=H(this),e=t.data(j),n=e.opt,r="mCS_"+e.idx,i=".mCSB_"+e.idx+"_scrollbar",a=H("#mCSB_"+e.idx+",#mCSB_"+e.idx+"_container,#mCSB_"+e.idx+"_container_wrapper,"+i+" ."+w[12]+",#mCSB_"+e.idx+"_dragger_vertical,#mCSB_"+e.idx+"_dragger_horizontal,"+i+">a"),o=H("#mCSB_"+e.idx+"_container");n.advanced.releaseDraggableSelectors&&a.add(H(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&a.add(H(n.advanced.extraDraggableSelectors)),e.bindEvents&&(H(document).add(H(!z()||top.document)).unbind("."+r),a.each(function(){H(this).unbind("."+r)}),clearTimeout(t[0]._focusTimeout),et(t[0],"_focusTimeout"),clearTimeout(e.sequential.step),et(e.sequential,"step"),clearTimeout(o[0].onCompleteTimeout),et(o[0],"onCompleteTimeout"),e.bindEvents=!1)},L=function(t){var e=H(this),n=e.data(j),r=n.opt,i=H("#mCSB_"+n.idx+"_container_wrapper"),a=i.length?i:H("#mCSB_"+n.idx+"_container"),o=[H("#mCSB_"+n.idx+"_scrollbar_vertical"),H("#mCSB_"+n.idx+"_scrollbar_horizontal")],s=[o[0].find(".mCSB_dragger"),o[1].find(".mCSB_dragger")];"x"!==r.axis&&(n.overflowed[0]&&!t?(o[0].add(s[0]).add(o[0].children("a")).css("display","block"),a.removeClass(w[8]+" "+w[10])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&s[0].css("display","none"),a.removeClass(w[10])):(o[0].css("display","none"),a.addClass(w[10])),a.addClass(w[8]))),"y"!==r.axis&&(n.overflowed[1]&&!t?(o[1].add(s[1]).add(o[1].children("a")).css("display","block"),a.removeClass(w[9]+" "+w[11])):(r.alwaysShowScrollbar?(2!==r.alwaysShowScrollbar&&s[1].css("display","none"),a.removeClass(w[11])):(o[1].css("display","none"),a.addClass(w[11])),a.addClass(w[9]))),n.overflowed[0]||n.overflowed[1]?e.removeClass(w[5]):e.addClass(w[5])},I=function(t){var e=t.type,n=t.target.ownerDocument!==document&&null!==frameElement?[H(frameElement).offset().top,H(frameElement).offset().left]:null,r=z()&&t.target.ownerDocument!==top.document&&null!==frameElement?[H(t.view.frameElement).offset().top,H(t.view.frameElement).offset().left]:[0,0];switch(e){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return n?[t.originalEvent.pageY-n[0]+r[0],t.originalEvent.pageX-n[1]+r[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],a=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,1<a]:[i.pageY,i.pageX,1<a];default:return n?[t.pageY-n[0]+r[0],t.pageX-n[1]+r[1],!1]:[t.pageY,t.pageX,!1]}},o=function(){var o,s,l,u=H(this),c=u.data(j),d=c.opt,t="mCS_"+c.idx,h=["mCSB_"+c.idx+"_dragger_vertical","mCSB_"+c.idx+"_dragger_horizontal"],f=H("#mCSB_"+c.idx+"_container"),e=H("#"+h[0]+",#"+h[1]),n=d.advanced.releaseDraggableSelectors?e.add(H(d.advanced.releaseDraggableSelectors)):e,r=d.advanced.extraDraggableSelectors?H(!z()||top.document).add(H(d.advanced.extraDraggableSelectors)):H(!z()||top.document);function i(t,e,n,r){if(f[0].idleTimer=d.scrollInertia<233?250:0,o.attr("id")===h[1])var i="x",a=(o[0].offsetLeft-e+r)*c.scrollRatio.x;else var i="y",a=(o[0].offsetTop-t+n)*c.scrollRatio.y;X(u,a.toString(),{dir:i,drag:!0})}e.bind("contextmenu."+t,function(t){t.preventDefault()}).bind("mousedown."+t+" touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,function(t){if(t.stopImmediatePropagation(),t.preventDefault(),nt(t)){F=!0,g&&(document.onselectstart=function(){return!1}),A.call(f,!1),J(u);var e=(o=H(this)).offset(),n=I(t)[0]-e.top,r=I(t)[1]-e.left,i=o.height()+e.top,a=o.width()+e.left;n<i&&0<n&&r<a&&0<r&&(s=n,l=r),T(o,"active",d.autoExpandScrollbar)}}).bind("touchmove."+t,function(t){t.stopImmediatePropagation(),t.preventDefault();var e=o.offset(),n=I(t)[0]-e.top,r=I(t)[1]-e.left;i(s,l,n,r)}),H(document).add(r).bind("mousemove."+t+" pointermove."+t+" MSPointerMove."+t,function(t){if(o){var e=o.offset(),n=I(t)[0]-e.top,r=I(t)[1]-e.left;if(s===n&&l===r)return;i(s,l,n,r)}}).add(n).bind("mouseup."+t+" touchend."+t+" pointerup."+t+" MSPointerUp."+t,function(t){o&&(T(o,"active",d.autoExpandScrollbar),o=null),F=!1,g&&(document.onselectstart=null),A.call(f,!0)})},C=function(){var c,u,d,h,f,p,m,g,v,y,_,b,w,M,$=H(this),x=$.data(j),k=x.opt,t="mCS_"+x.idx,S=H("#mCSB_"+x.idx),T=H("#mCSB_"+x.idx+"_container"),L=[H("#mCSB_"+x.idx+"_dragger_vertical"),H("#mCSB_"+x.idx+"_dragger_horizontal")],C=[],D=[],E=0,Y="yx"===k.axis?"none":"all",A=[],e=T.find("iframe"),n=["touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,"touchmove."+t+" pointermove."+t+" MSPointerMove."+t,"touchend."+t+" pointerup."+t+" MSPointerUp."+t],N=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;function r(t){if(!rt(t)||F||I(t)[2])P=0;else{M=w=0,c=P=1,$.removeClass("mCS_touch_action");var e=T.offset();u=I(t)[0]-e.top,d=I(t)[1]-e.left,A=[I(t)[0],I(t)[1]]}}function i(t){if(rt(t)&&!F&&!I(t)[2]&&(k.documentTouchScroll||t.preventDefault(),t.stopImmediatePropagation(),(!M||w)&&c)){m=Q();var e=S.offset(),n=I(t)[0]-e.top,r=I(t)[1]-e.left,i="mcsLinearOut";if(C.push(n),D.push(r),A[2]=Math.abs(I(t)[0]-A[0]),A[3]=Math.abs(I(t)[1]-A[1]),x.overflowed[0])var a=L[0].parent().height()-L[0].height(),o=0<u-n&&n-u>-a*x.scrollRatio.y&&(2*A[3]<A[2]||"yx"===k.axis);if(x.overflowed[1])var s=L[1].parent().width()-L[1].width(),l=0<d-r&&r-d>-s*x.scrollRatio.x&&(2*A[2]<A[3]||"yx"===k.axis);o||l?(N||t.preventDefault(),w=1):(M=1,$.addClass("mCS_touch_action")),N&&t.preventDefault(),_="yx"===k.axis?[u-n,d-r]:"x"===k.axis?[null,d-r]:[u-n,null],T[0].idleTimer=250,x.overflowed[0]&&R(_[0],E,i,"y","all",!0),x.overflowed[1]&&R(_[1],E,i,"x",Y,!0)}}function a(t){if(!rt(t)||F||I(t)[2])P=0;else{P=1,t.stopImmediatePropagation(),J($),p=Q();var e=S.offset();h=I(t)[0]-e.top,f=I(t)[1]-e.left,C=[],D=[]}}function o(t){if(rt(t)&&!F&&!I(t)[2]){c=0,t.stopImmediatePropagation(),M=w=0,g=Q();var e=S.offset(),n=I(t)[0]-e.top,r=I(t)[1]-e.left;if(!(30<g-m)){var i="mcsEaseOut",a=(y=1e3/(g-p))<2.5,o=a?[C[C.length-2],D[D.length-2]]:[0,0];v=a?[n-o[0],r-o[1]]:[n-h,r-f];var s=[Math.abs(v[0]),Math.abs(v[1])];y=a?[Math.abs(v[0]/4),Math.abs(v[1]/4)]:[y,y];var l=[Math.abs(T[0].offsetTop)-v[0]*O(s[0]/y[0],y[0]),Math.abs(T[0].offsetLeft)-v[1]*O(s[1]/y[1],y[1])];_="yx"===k.axis?[l[0],l[1]]:"x"===k.axis?[null,l[1]]:[l[0],null],b=[4*s[0]+k.scrollInertia,4*s[1]+k.scrollInertia];var u=parseInt(k.contentTouchScroll)||0;_[0]=u<s[0]?_[0]:0,_[1]=u<s[1]?_[1]:0,x.overflowed[0]&&R(_[0],b[0],i,"y",Y,!1),x.overflowed[1]&&R(_[1],b[1],i,"x",Y,!1)}}}function O(t,e){var n=[1.5*e,2*e,e/1.5,e/2];return 90<t?4<e?n[0]:n[3]:60<t?3<e?n[3]:n[2]:30<t?8<e?n[1]:6<e?n[0]:4<e?e:n[2]:8<e?e:n[3]}function R(t,e,n,r,i,a){t&&X($,t.toString(),{dur:e,scrollEasing:n,dir:r,overwrite:i,drag:a})}T.bind(n[0],function(t){r(t)}).bind(n[1],function(t){i(t)}),S.bind(n[0],function(t){a(t)}).bind(n[2],function(t){o(t)}),e.length&&e.each(function(){H(this).bind("load",function(){z(this)&&H(this.contentDocument||this.contentWindow.document).bind(n[0],function(t){r(t),a(t)}).bind(n[1],function(t){i(t)}).bind(n[2],function(t){o(t)})})})},D=function(){var i,r=H(this),a=r.data(j),o=a.opt,s=a.sequential,t="mCS_"+a.idx,l=H("#mCSB_"+a.idx+"_container"),u=l.parent();function c(t,e,n){s.type=n&&i?"stepped":"stepless",s.scrollAmount=10,q(r,t,e,"mcsLinearOut",n?60:null)}l.bind("mousedown."+t,function(t){P||i||(i=1,F=!0)}).add(document).bind("mousemove."+t,function(t){if(!P&&i&&(window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type&&document.selection.createRange().text)){var e=l.offset(),n=I(t)[0]-e.top+l[0].offsetTop,r=I(t)[1]-e.left+l[0].offsetLeft;0<n&&n<u.height()&&0<r&&r<u.width()?s.step&&c("off",null,"stepped"):("x"!==o.axis&&a.overflowed[0]&&(n<0?c("on",38):n>u.height()&&c("on",40)),"y"!==o.axis&&a.overflowed[1]&&(r<0?c("on",37):r>u.width()&&c("on",39)))}}).bind("mouseup."+t+" dragend."+t,function(t){P||(i&&(i=0,c("off",null)),F=!1)})},E=function(){if(H(this).data(j)){var d=H(this),h=d.data(j),f=h.opt,t="mCS_"+h.idx,p=H("#mCSB_"+h.idx),m=[H("#mCSB_"+h.idx+"_dragger_vertical"),H("#mCSB_"+h.idx+"_dragger_horizontal")],e=H("#mCSB_"+h.idx+"_container").find("iframe");e.length&&e.each(function(){H(this).bind("load",function(){z(this)&&H(this.contentDocument||this.contentWindow.document).bind("mousewheel."+t,function(t,e){n(t,e)})})}),p.bind("mousewheel."+t,function(t,e){n(t,e)})}function n(t,e){if(J(d),!N(d,t.target)){var n="auto"!==f.mouseWheel.deltaFactor?parseInt(f.mouseWheel.deltaFactor):g&&t.deltaFactor<100?100:t.deltaFactor||100,r=f.scrollInertia;if("x"===f.axis||"x"===f.mouseWheel.axis)var i="x",a=[Math.round(n*h.scrollRatio.x),parseInt(f.mouseWheel.scrollAmount)],o="auto"!==f.mouseWheel.scrollAmount?a[1]:a[0]>=p.width()?.9*p.width():a[0],s=Math.abs(H("#mCSB_"+h.idx+"_container")[0].offsetLeft),l=m[1][0].offsetLeft,u=m[1].parent().width()-m[1].width(),c="y"===f.mouseWheel.axis?t.deltaY||e:t.deltaX;else var i="y",a=[Math.round(n*h.scrollRatio.y),parseInt(f.mouseWheel.scrollAmount)],o="auto"!==f.mouseWheel.scrollAmount?a[1]:a[0]>=p.height()?.9*p.height():a[0],s=Math.abs(H("#mCSB_"+h.idx+"_container")[0].offsetTop),l=m[0][0].offsetTop,u=m[0].parent().height()-m[0].height(),c=t.deltaY||e;"y"===i&&!h.overflowed[0]||"x"===i&&!h.overflowed[1]||((f.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(c=-c),f.mouseWheel.normalizeDelta&&(c=c<0?-1:1),(0<c&&0!==l||c<0&&l!==u||f.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!f.mouseWheel.normalizeDelta&&(o=t.deltaFactor,r=17),X(d,(s-c*o).toString(),{dir:i,dur:r}))}}},Y=new Object,z=function(t){var e=!1,n=!1,r=null;if(void 0===t?n="#empty":void 0!==H(t).attr("id")&&(n=H(t).attr("id")),!1!==n&&void 0!==Y[n])return Y[n];if(t){try{var i=t.contentDocument||t.contentWindow.document;r=i.body.innerHTML}catch(t){}e=null!==r}else{try{var i=top.document;r=i.body.innerHTML}catch(t){}e=null!==r}return!1!==n&&(Y[n]=e),e},A=function(t){var e=this.find("iframe");if(e.length){var n=t?"auto":"none";e.css("pointer-events",n)}},N=function(t,e){var n=e.nodeName.toLowerCase(),r=t.data(j).opt.mouseWheel.disableOver;return-1<H.inArray(n,r)&&!(-1<H.inArray(n,["select","textarea"])&&!H(e).is(":focus"))},O=function(){var o,s=H(this),l=s.data(j),t="mCS_"+l.idx,u=H("#mCSB_"+l.idx+"_container"),c=u.parent(),e=H(".mCSB_"+l.idx+"_scrollbar ."+w[12]);e.bind("mousedown."+t+" touchstart."+t+" pointerdown."+t+" MSPointerDown."+t,function(t){F=!0,H(t.target).hasClass("mCSB_dragger")||(o=1)}).bind("touchend."+t+" pointerup."+t+" MSPointerUp."+t,function(t){F=!1}).bind("click."+t,function(t){if(o&&(o=0,H(t.target).hasClass(w[12])||H(t.target).hasClass("mCSB_draggerRail"))){J(s);var e=H(this),n=e.find(".mCSB_dragger");if(0<e.parent(".mCSB_scrollTools_horizontal").length){if(!l.overflowed[1])return;var r="x",i=t.pageX>n.offset().left?-1:1,a=Math.abs(u[0].offsetLeft)-i*(.9*c.width())}else{if(!l.overflowed[0])return;var r="y",i=t.pageY>n.offset().top?-1:1,a=Math.abs(u[0].offsetTop)-i*(.9*c.height())}X(s,a.toString(),{dir:r,scrollEasing:"mcsEaseInOut"})}})},R=function(){var a=H(this),t=a.data(j),o=t.opt,e="mCS_"+t.idx,s=H("#mCSB_"+t.idx+"_container"),l=s.parent();s.bind("focusin."+e,function(t){var i=H(document.activeElement),e=s.find(".mCustomScrollBox").length;i.is(o.advanced.autoScrollOnFocus)&&(J(a),clearTimeout(a[0]._focusTimeout),a[0]._focusTimer=e?17*e:0,a[0]._focusTimeout=setTimeout(function(){var t=[at(i)[0],at(i)[1]],e=[s[0].offsetTop,s[0].offsetLeft],n=[0<=e[0]+t[0]&&e[0]+t[0]<l.height()-i.outerHeight(!1),0<=e[1]+t[1]&&e[0]+t[1]<l.width()-i.outerWidth(!1)],r="yx"!==o.axis||n[0]||n[1]?"all":"none";"x"===o.axis||n[0]||X(a,t[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:r,dur:0}),"y"===o.axis||n[1]||X(a,t[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:r,dur:0})},a[0]._focusTimer))})},B=function(){var t=H(this),e=t.data(j),n="mCS_"+e.idx,r=H("#mCSB_"+e.idx+"_container").parent();r.bind("scroll."+n,function(t){0===r.scrollTop()&&0===r.scrollLeft()||H(".mCSB_"+e.idx+"_scrollbar").css("visibility","hidden")})},W=function(){var r=H(this),i=r.data(j),a=i.opt,o=i.sequential,t="mCS_"+i.idx,e=".mCSB_"+i.idx+"_scrollbar",n=H(e+">a");n.bind("contextmenu."+t,function(t){t.preventDefault()}).bind("mousedown."+t+" touchstart."+t+" pointerdown."+t+" MSPointerDown."+t+" mouseup."+t+" touchend."+t+" pointerup."+t+" MSPointerUp."+t+" mouseout."+t+" pointerout."+t+" MSPointerOut."+t+" click."+t,function(t){if(t.preventDefault(),nt(t)){var e=H(this).attr("class");switch(o.type=a.scrollButtons.scrollType,t.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===o.type)return;F=!0,i.tweenRunning=!1,n("on",e);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===o.type)return;F=!1,o.dir&&n("off",e);break;case"click":if("stepped"!==o.type||i.tweenRunning)return;n("on",e)}}function n(t,e){o.scrollAmount=a.scrollButtons.scrollAmount,q(r,t,e)}})},U=function(){var s=H(this),l=s.data(j),u=l.opt,c=l.sequential,t="mCS_"+l.idx,e=H("#mCSB_"+l.idx),d=H("#mCSB_"+l.idx+"_container"),h=d.parent(),f="input,textarea,select,datalist,keygen,[contenteditable='true']",n=d.find("iframe"),r=["blur."+t+" keydown."+t+" keyup."+t];function i(t){switch(t.type){case"blur":l.tweenRunning&&c.dir&&o("off",null);break;case"keydown":case"keyup":var e=t.keyCode?t.keyCode:t.which,n="on";if("x"!==u.axis&&(38===e||40===e)||"y"!==u.axis&&(37===e||39===e)){if((38===e||40===e)&&!l.overflowed[0]||(37===e||39===e)&&!l.overflowed[1])return;"keyup"===t.type&&(n="off"),H(document.activeElement).is(f)||(t.preventDefault(),t.stopImmediatePropagation(),o(n,e))}else if(33===e||34===e){if((l.overflowed[0]||l.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){J(s);var r=34===e?-1:1;if("x"===u.axis||"yx"===u.axis&&l.overflowed[1]&&!l.overflowed[0])var i="x",a=Math.abs(d[0].offsetLeft)-r*(.9*h.width());else var i="y",a=Math.abs(d[0].offsetTop)-r*(.9*h.height());X(s,a.toString(),{dir:i,scrollEasing:"mcsEaseInOut"})}}else if((35===e||36===e)&&!H(document.activeElement).is(f)&&((l.overflowed[0]||l.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type)){if("x"===u.axis||"yx"===u.axis&&l.overflowed[1]&&!l.overflowed[0])var i="x",a=35===e?Math.abs(h.width()-d.outerWidth(!1)):0;else var i="y",a=35===e?Math.abs(h.height()-d.outerHeight(!1)):0;X(s,a.toString(),{dir:i,scrollEasing:"mcsEaseInOut"})}}function o(t,e){c.type=u.keyboard.scrollType,c.scrollAmount=u.keyboard.scrollAmount,"stepped"===c.type&&l.tweenRunning||q(s,t,e)}}n.length&&n.each(function(){H(this).bind("load",function(){z(this)&&H(this.contentDocument||this.contentWindow.document).bind(r[0],function(t){i(t)})})}),e.attr("tabindex","0").bind(r[0],function(t){i(t)})},q=function(d,t,e,h,f){var p=d.data(j),m=p.opt,g=p.sequential,v=H("#mCSB_"+p.idx+"_container"),n="stepped"===g.type,y=m.scrollInertia<26?26:m.scrollInertia,_=m.scrollInertia<1?17:m.scrollInertia;switch(t){case"on":if(g.dir=[e===w[16]||e===w[15]||39===e||37===e?"x":"y",e===w[13]||e===w[15]||38===e||37===e?-1:1],J(d),it(e)&&"stepped"===g.type)return;b(n);break;case"off":clearTimeout(g.step),et(g,"step"),J(d),(n||p.tweenRunning&&g.dir)&&b(!0)}function b(t){m.snapAmount&&(g.scrollAmount=m.snapAmount instanceof Array?"x"===g.dir[0]?m.snapAmount[1]:m.snapAmount[0]:m.snapAmount);var e="stepped"!==g.type,n=f||(t?e?y/1.5:_:1e3/60),r=t?e?7.5:40:2.5,i=[Math.abs(v[0].offsetTop),Math.abs(v[0].offsetLeft)],a=[10<p.scrollRatio.y?10:p.scrollRatio.y,10<p.scrollRatio.x?10:p.scrollRatio.x],o="x"===g.dir[0]?i[1]+g.dir[1]*(a[1]*r):i[0]+g.dir[1]*(a[0]*r),s="x"===g.dir[0]?i[1]+g.dir[1]*parseInt(g.scrollAmount):i[0]+g.dir[1]*parseInt(g.scrollAmount),l="auto"!==g.scrollAmount?s:o,u=h||(t?e?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),c=!!t;t&&n<17&&(l="x"===g.dir[0]?i[1]:i[0]),X(d,l.toString(),{dir:g.dir[0],scrollEasing:u,dur:n,onComplete:c}),t?g.dir=!1:(clearTimeout(g.step),g.step=setTimeout(function(){b()},n))}},V=function(t){var e=H(this).data(j).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=1<t.length?[t[0],t[1]]:"x"===e.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===e.axis?null:t,n[1]=t.x?t.x:t.y||"y"===e.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},G=function(t,e){if(null!=t&&void 0!==t){var n=H(this),r=n.data(j),i=r.opt,a=H("#mCSB_"+r.idx+"_container"),o=a.parent(),s=typeof t;e||(e="x"===i.axis?"x":"y");var l="x"===e?a.outerWidth(!1)-o.width():a.outerHeight(!1)-o.height(),u="x"===e?a[0].offsetLeft:a[0].offsetTop,c="x"===e?"left":"top";switch(s){case"function":return t();case"object":var d=t.jquery?t:H(t);if(!d.length)return;return"x"===e?at(d)[1]:at(d)[0];case"string":case"number":if(it(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(l*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(u-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var h=u+parseInt(t.split("+=")[1]);return 0<=h?0:Math.abs(h)}if(-1!==t.indexOf("px")&&it(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(o.height()-a.outerHeight(!1));if("right"===t)return Math.abs(o.width()-a.outerWidth(!1));if("first"===t||"last"===t){var d=a.find(":"+t);return"x"===e?at(d)[1]:at(d)[0]}return H(t).length?"x"===e?at(H(t))[1]:at(H(t))[0]:(a.css(c,t),void p.update.call(null,n[0]))}}},K=function(t){var e=H(this),n=e.data(j),r=n.opt,i=H("#mCSB_"+n.idx+"_container");if(t)return clearTimeout(i[0].autoUpdate),void et(i[0],"autoUpdate");function a(t){clearTimeout(i[0].autoUpdate),p.update.call(null,e[0],t)}!function t(){clearTimeout(i[0].autoUpdate),0!==e.parents("html").length?i[0].autoUpdate=setTimeout(function(){return r.advanced.updateOnSelectorChange&&(n.poll.change.n=function(){!0===r.advanced.updateOnSelectorChange&&(r.advanced.updateOnSelectorChange="*");var t=0,e=i.find(r.advanced.updateOnSelectorChange);return r.advanced.updateOnSelectorChange&&0<e.length&&e.each(function(){t+=this.offsetHeight+this.offsetWidth}),t}(),n.poll.change.n!==n.poll.change.o)?(n.poll.change.o=n.poll.change.n,void a(3)):r.advanced.updateOnContentResize&&(n.poll.size.n=e[0].scrollHeight+e[0].scrollWidth+i[0].offsetHeight+e[0].offsetHeight+e[0].offsetWidth,n.poll.size.n!==n.poll.size.o)?(n.poll.size.o=n.poll.size.n,void a(1)):!r.advanced.updateOnImageLoad||"auto"===r.advanced.updateOnImageLoad&&"y"===r.axis||(n.poll.img.n=i.find("img").length,n.poll.img.n===n.poll.img.o)?void((r.advanced.updateOnSelectorChange||r.advanced.updateOnContentResize||r.advanced.updateOnImageLoad)&&t()):(n.poll.img.o=n.poll.img.n,void i.find("img").each(function(){!function(t){if(H(t).hasClass(w[2]))return a();var e,n,r=new Image;r.onload=(e=r,n=function(){this.onload=null,H(t).addClass(w[2]),a(2)},function(){return n.apply(e,arguments)}),r.src=t.src}(this)}))},r.advanced.autoUpdateTimeout):e=null}()},J=function(t){var e=t.data(j),n=H("#mCSB_"+e.idx+"_container,#mCSB_"+e.idx+"_container_wrapper,#mCSB_"+e.idx+"_dragger_vertical,#mCSB_"+e.idx+"_dragger_horizontal");n.each(function(){tt.call(this)})},X=function(i,t,a){var e=i.data(j),n=e.opt,r={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:n.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},a=H.extend(r,a),o=[a.dur,a.drag?0:a.dur],s=H("#mCSB_"+e.idx),l=H("#mCSB_"+e.idx+"_container"),u=l.parent(),c=n.callbacks.onTotalScrollOffset?V.call(i,n.callbacks.onTotalScrollOffset):[0,0],d=n.callbacks.onTotalScrollBackOffset?V.call(i,n.callbacks.onTotalScrollBackOffset):[0,0];if(e.trigger=a.trigger,0===u.scrollTop()&&0===u.scrollLeft()||(H(".mCSB_"+e.idx+"_scrollbar").css("visibility","visible"),u.scrollTop(0).scrollLeft(0)),"_resetY"!==t||e.contentReset.y||(k("onOverflowYNone")&&n.callbacks.onOverflowYNone.call(i[0]),e.contentReset.y=1),"_resetX"!==t||e.contentReset.x||(k("onOverflowXNone")&&n.callbacks.onOverflowXNone.call(i[0]),e.contentReset.x=1),"_resetY"!==t&&"_resetX"!==t){if(!e.contentReset.y&&i[0].mcs||!e.overflowed[0]||(k("onOverflowY")&&n.callbacks.onOverflowY.call(i[0]),e.contentReset.x=null),!e.contentReset.x&&i[0].mcs||!e.overflowed[1]||(k("onOverflowX")&&n.callbacks.onOverflowX.call(i[0]),e.contentReset.x=null),n.snapAmount){var h=n.snapAmount instanceof Array?"x"===a.dir?n.snapAmount[1]:n.snapAmount[0]:n.snapAmount;f=t,p=h,m=n.snapOffset,t=Math.round(f/p)*p-m}var f,p,m;switch(a.dir){case"x":var g=H("#mCSB_"+e.idx+"_dragger_horizontal"),v="left",y=l[0].offsetLeft,_=[s.width()-l.outerWidth(!1),g.parent().width()-g.width()],b=[t,0===t?0:t/e.scrollRatio.x],w=c[1],M=d[1],$=0<w?w/e.scrollRatio.x:0,x=0<M?M/e.scrollRatio.x:0;break;case"y":var g=H("#mCSB_"+e.idx+"_dragger_vertical"),v="top",y=l[0].offsetTop,_=[s.height()-l.outerHeight(!1),g.parent().height()-g.height()],b=[t,0===t?0:t/e.scrollRatio.y],w=c[0],M=d[0],$=0<w?w/e.scrollRatio.y:0,x=0<M?M/e.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=_[1]?b=[_[0],_[1]]:b[0]=-b[0],i[0].mcs||(S(),k("onInit")&&n.callbacks.onInit.call(i[0])),clearTimeout(l[0].onCompleteTimeout),Z(g[0],v,Math.round(b[1]),o[1],a.scrollEasing),!e.tweenRunning&&(0===y&&0<=b[0]||y===_[0]&&b[0]<=_[0])||Z(l[0],v,Math.round(b[0]),o[0],a.scrollEasing,a.overwrite,{onStart:function(){a.callbacks&&a.onStart&&!e.tweenRunning&&(k("onScrollStart")&&(S(),n.callbacks.onScrollStart.call(i[0])),e.tweenRunning=!0,T(g),e.cbOffsets=[n.callbacks.alwaysTriggerOffsets||y>=_[0]+w,n.callbacks.alwaysTriggerOffsets||y<=-M])},onUpdate:function(){a.callbacks&&a.onUpdate&&k("whileScrolling")&&(S(),n.callbacks.whileScrolling.call(i[0]))},onComplete:function(){if(a.callbacks&&a.onComplete){"yx"===n.axis&&clearTimeout(l[0].onCompleteTimeout);var t=l[0].idleTimer||0;l[0].onCompleteTimeout=setTimeout(function(){k("onScroll")&&(S(),n.callbacks.onScroll.call(i[0])),k("onTotalScroll")&&b[1]>=_[1]-$&&e.cbOffsets[0]&&(S(),n.callbacks.onTotalScroll.call(i[0])),k("onTotalScrollBack")&&b[1]<=x&&e.cbOffsets[1]&&(S(),n.callbacks.onTotalScrollBack.call(i[0])),e.tweenRunning=!1,l[0].idleTimer=0,T(g,"hide")},t)}}})}function k(t){return e&&n.callbacks[t]&&"function"==typeof n.callbacks[t]}function S(){var t=[l[0].offsetTop,l[0].offsetLeft],e=[g[0].offsetTop,g[0].offsetLeft],n=[l.outerHeight(!1),l.outerWidth(!1)],r=[s.height(),s.width()];i[0].mcs={content:l,top:t[0],left:t[1],draggerTop:e[0],draggerLeft:e[1],topPct:Math.round(100*Math.abs(t[0])/(Math.abs(n[0])-r[0])),leftPct:Math.round(100*Math.abs(t[1])/(Math.abs(n[1])-r[1])),direction:a.dir}}},Z=function(t,e,n,r,i,a,o){t._mTween||(t._mTween={top:{},left:{}});var s,l,o=o||{},u=o.onStart||function(){},c=o.onUpdate||function(){},d=o.onComplete||function(){},h=Q(),f=0,p=t.offsetTop,m=t.style,g=t._mTween[e];"left"===e&&(p=t.offsetLeft);var v=n-p;function y(){g.stop||(f||u.call(),f=Q()-h,_(),f>=g.time&&(g.time=f>g.time?f+s-(f-g.time):f+s-1,g.time<f+1&&(g.time=f+1)),g.time<r?g.id=l(y):d.call())}function _(){0<r?(g.currVal=function(t,e,n,r,i){switch(i){case"linear":case"mcsLinear":return n*t/r+e;case"mcsLinearOut":return t/=r,t--,n*Math.sqrt(1-t*t)+e;case"easeInOutSmooth":return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e;case"easeInOutStrong":return(t/=r/2)<1?n/2*Math.pow(2,10*(t-1))+e:(t--,n/2*(2-Math.pow(2,-10*t))+e);case"easeInOut":case"mcsEaseInOut":return(t/=r/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e;case"easeOutSmooth":return t/=r,-n*(--t*t*t*t-1)+e;case"easeOutStrong":return n*(1-Math.pow(2,-10*t/r))+e;case"easeOut":case"mcsEaseOut":default:var a=(t/=r)*t,o=a*t;return e+n*(.499999999999997*o*a+-2.5*a*a+5.5*o+-6.5*a+4*t)}}(g.time,p,v,r,i),m[e]=Math.round(g.currVal)+"px"):m[e]=n+"px",c.call()}g.stop=0,"none"!==a&&null!=g.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(g.id):clearTimeout(g.id),g.id=null),s=1e3/60,g.time=f+s,l=window.requestAnimationFrame?window.requestAnimationFrame:function(t){return _(),setTimeout(t,.01)},g.id=l(y)},Q=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},tt=function(){this._mTween||(this._mTween={top:{},left:{}});for(var t=["top","left"],e=0;e<t.length;e++){var n=t[e];this._mTween[n].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(this._mTween[n].id):clearTimeout(this._mTween[n].id),this._mTween[n].id=null,this._mTween[n].stop=1)}},et=function(e,n){try{delete e[n]}catch(t){e[n]=null}},nt=function(t){return!(t.which&&1!==t.which)},rt=function(t){var e=t.originalEvent.pointerType;return!(e&&"touch"!==e&&2!==e)},it=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},at=function(t){var e=t.parents(".mCSB_container");return[t.offset().top-e.offset().top,t.offset().left-e.offset().left]},ot=function(){var t=function(){var t=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var e=0;e<t.length;e++)if(t[e]+"Hidden"in document)return t[e]+"Hidden";return null}();return!!t&&document[t]},H.fn[f]=function(t){return p[t]?p[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void H.error("Method "+t+" does not exist"):p.init.apply(this,arguments)},H[f]=function(t){return p[t]?p[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void H.error("Method "+t+" does not exist"):p.init.apply(this,arguments)},H[f].defaults=i,window[f]=!0,H(window).bind("load",function(){H(r)[f](),H.extend(H.expr[":"],{mcsInView:H.expr[":"].mcsInView||function(t){var e,n,r=H(t),i=r.parents(".mCSB_container");if(i.length)return e=i.parent(),0<=(n=[i[0].offsetTop,i[0].offsetLeft])[0]+at(r)[0]&&n[0]+at(r)[0]<e.height()-r.outerHeight(!1)&&0<=n[1]+at(r)[1]&&n[1]+at(r)[1]<e.width()-r.outerWidth(!1)},mcsInSight:H.expr[":"].mcsInSight||function(t,e,n){var r,i,a,o,s=H(t),l=s.parents(".mCSB_container"),u="exact"===n[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(l.length)return r=[s.outerHeight(!1),s.outerWidth(!1)],a=[l[0].offsetTop+at(s)[0],l[0].offsetLeft+at(s)[1]],i=[l.parent()[0].offsetHeight,l.parent()[0].offsetWidth],a[0]-i[0]*(o=[r[0]<i[0]?u[0]:u[1],r[1]<i[1]?u[0]:u[1]])[0][0]<0&&0<=a[0]+r[0]-i[0]*o[0][1]&&a[1]-i[1]*o[1][0]<0&&0<=a[1]+r[1]-i[1]*o[1][1]},mcsOverflow:H.expr[":"].mcsOverflow||function(t){var e=H(t).data(j);if(e)return e.overflowed[0]||e.overflowed[1]}})})}),function(){"use strict";function t(){this.defaults={scrollButtons:{enable:!0},axis:"yx"},$.mCustomScrollbar.defaults.scrollButtons=this.defaults.scrollButtons,$.mCustomScrollbar.defaults.axis=this.defaults.axis,this.$get=function(){return{defaults:this.defaults}}}function o(t,e,n,r){n.mCustomScrollbar("destroy");var i={};for(var a in r.ngScrollbarsConfig&&(i=r.ngScrollbarsConfig),t)if(t.hasOwnProperty(a))switch(a){case"scrollButtons":i.hasOwnProperty(a)||(e.scrollButtons=t[a]);break;case"axis":i.hasOwnProperty(a)||(e.axis=t[a]);break;default:i.hasOwnProperty(a)||(i[a]=t[a])}n.mCustomScrollbar(i)}function e(e){return{scope:{ngScrollbarsConfig:"=?",ngScrollbarsUpdate:"=?",element:"=?"},link:function(n,r,t){n.elem=r;var i=e.defaults,a=$.mCustomScrollbar.defaults;n.ngScrollbarsUpdate=function(){r.mCustomScrollbar.apply(r,arguments)},n.$watch("ngScrollbarsConfig",function(t,e){void 0!==t&&o(i,a,r,n)}),o(i,a,r,n)}}}angular.module("ngScrollbars",[]).provider("ScrollBars",t).directive("ngScrollbars",e),t.$inject=[],e.$inject=["ScrollBars"]}(),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=t()}}(function(){return function a(o,s,l){function u(n,t){if(!s[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(c)return c(n,!0);var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[n]={exports:{}};o[n][0].call(i.exports,function(t){var e=o[n][1][t];return u(e||t)},i,i.exports,a,o,s,l)}return s[n].exports}for(var c="function"==typeof require&&require,t=0;t<l.length;t++)u(l[t]);return u}({1:[function(t,e,n){"use strict";var f=t("./utils"),d=t("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(t){for(var e,n,r,i,a,o,s,l=[],u=0,c=t.length,d=c,h="string"!==f.getTypeOf(t);u<t.length;)d=c-u,h?(e=t[u++],n=u<c?t[u++]:0,r=u<c?t[u++]:0):(e=t.charCodeAt(u++),n=u<c?t.charCodeAt(u++):0,r=u<c?t.charCodeAt(u++):0),i=e>>2,a=(3&e)<<4|n>>4,o=1<d?(15&n)<<2|r>>6:64,s=2<d?63&r:64,l.push(p.charAt(i)+p.charAt(a)+p.charAt(o)+p.charAt(s));return l.join("")},n.decode=function(t){var e,n,r,i,a,o,s=0,l=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,c=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===p.charAt(64)&&c--,t.charAt(t.length-2)===p.charAt(64)&&c--,c%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=d.uint8array?new Uint8Array(0|c):new Array(0|c);s<t.length;)e=p.indexOf(t.charAt(s++))<<2|(i=p.indexOf(t.charAt(s++)))>>4,n=(15&i)<<4|(a=p.indexOf(t.charAt(s++)))>>2,r=(3&a)<<6|(o=p.indexOf(t.charAt(s++))),u[l++]=e,64!==a&&(u[l++]=n),64!==o&&(u[l++]=r);return u}},{"./support":30,"./utils":32}],2:[function(t,e,n){"use strict";var r=t("./external"),i=t("./stream/DataWorker"),a=t("./stream/DataLengthProbe"),o=t("./stream/Crc32Probe");a=t("./stream/DataLengthProbe");function s(t,e,n,r,i){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=r,this.compressedContent=i}s.prototype={getContentWorker:function(){var t=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(t,e,n){return t.pipe(new o).pipe(new a("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",e)},e.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,n){"use strict";var r=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(t){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,n){"use strict";var r=t("./utils");var s=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e){return void 0!==t&&t.length?"string"!==r.getTypeOf(t)?function(t,e,n,r){var i=s,a=r+n;t^=-1;for(var o=r;o<a;o++)t=t>>>8^i[255&(t^e[o])];return-1^t}(0|e,t,t.length,0):function(t,e,n,r){var i=s,a=r+n;t^=-1;for(var o=r;o<a;o++)t=t>>>8^i[255&(t^e.charCodeAt(o))];return-1^t}(0|e,t,t.length,0):0}},{"./utils":32}],5:[function(t,e,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,e,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:r}},{lie:58}],7:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=t("pako"),a=t("./utils"),o=t("./stream/GenericWorker"),s=r?"uint8array":"array";function l(t,e){o.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}n.magic="\b\0",a.inherits(l,o),l.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(s,t.data),!1)},l.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(t){return new l("Deflate",t)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(t,e,n){"use strict";var E=t("../utils"),i=t("../stream/GenericWorker"),Y=t("../utf8"),A=t("../crc32"),N=t("../signature"),O=function(t,e){var n,r="";for(n=0;n<e;n++)r+=String.fromCharCode(255&t),t>>>=8;return r},a=function(t,e,n,r,i,a){var o,s,l=t.file,u=t.compression,c=a!==Y.utf8encode,d=E.transformTo("string",a(l.name)),h=E.transformTo("string",Y.utf8encode(l.name)),f=l.comment,p=E.transformTo("string",a(f)),m=E.transformTo("string",Y.utf8encode(f)),g=h.length!==l.name.length,v=m.length!==f.length,y="",_="",b="",w=l.dir,M=l.date,$={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||($.crc32=t.crc32,$.compressedSize=t.compressedSize,$.uncompressedSize=t.uncompressedSize);var x=0;e&&(x|=8),c||!g&&!v||(x|=2048);var k,S,T,L=0,C=0;w&&(L|=16),"UNIX"===i?(C=798,L|=(k=l.unixPermissions,S=w,(T=k)||(T=S?16893:33204),(65535&T)<<16)):(C=20,L|=63&(l.dosPermissions||0)),o=M.getUTCHours(),o<<=6,o|=M.getUTCMinutes(),o<<=5,o|=M.getUTCSeconds()/2,s=M.getUTCFullYear()-1980,s<<=4,s|=M.getUTCMonth()+1,s<<=5,s|=M.getUTCDate(),g&&(_=O(1,1)+O(A(d),4)+h,y+="up"+O(_.length,2)+_),v&&(b=O(1,1)+O(A(p),4)+m,y+="uc"+O(b.length,2)+b);var D="";return D+="\n\0",D+=O(x,2),D+=u.magic,D+=O(o,2),D+=O(s,2),D+=O($.crc32,4),D+=O($.compressedSize,4),D+=O($.uncompressedSize,4),D+=O(d.length,2),D+=O(y.length,2),{fileRecord:N.LOCAL_FILE_HEADER+D+d+y,dirRecord:N.CENTRAL_FILE_HEADER+O(C,2)+D+O(p.length,2)+"\0\0\0\0"+O(L,4)+O(r,4)+d+y+p}};function r(t,e,n,r){i.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}E.inherits(r,i),r.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,i.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-r-1))/n:100}}))},r.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=a(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},r.prototype.closedSource=function(t){this.accumulate=!1;var e,n=this.streamFiles&&!t.file.dir,r=a(t,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),n)this.push({data:(e=t,N.DATA_DESCRIPTOR+O(e.crc32,4)+O(e.compressedSize,4)+O(e.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},r.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n,r,i,a,o,s,l=this.bytesWritten-t,u=(n=this.dirRecords.length,r=l,i=t,a=this.zipComment,o=this.encodeFileName,s=E.transformTo("string",o(a)),N.CENTRAL_DIRECTORY_END+"\0\0\0\0"+O(n,2)+O(n,2)+O(r,4)+O(i,4)+O(s.length,2)+s);this.push({data:u,meta:{percent:100}})},r.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},r.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},r.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},r.prototype.error=function(t){var e=this._sources;if(!i.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},r.prototype.lock=function(){i.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=r},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,n){"use strict";var u=t("../compressions"),r=t("./ZipFileWorker");n.generateWorker=function(t,o,e){var s=new r(o.streamFiles,e,o.platform,o.encodeFileName),l=0;try{t.forEach(function(t,e){l++;var n=function(t,e){var n=t||e,r=u[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(e.options.compression,o.compression),r=e.options.compressionOptions||o.compressionOptions||{},i=e.dir,a=e.date;e._compressWorker(n,r).withStreamInfo("file",{name:t,dir:i,date:a,comment:e.comment||"",unixPermissions:e.unixPermissions,dosPermissions:e.dosPermissions}).pipe(s)}),s.entriesCount=l}catch(t){s.error(t)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.1.5",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=t("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,n){"use strict";var r=t("./utils"),i=t("./external"),s=t("./utf8"),l=(r=t("./utils"),t("./zipEntries")),a=t("./stream/Crc32Probe"),u=t("./nodejsUtils");function c(r){return new i.Promise(function(t,e){var n=r.decompressed.getContentWorker().pipe(new a);n.on("error",function(t){e(t)}).on("end",function(){n.streamInfo.crc32!==r.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}e.exports=function(t,a){var o=this;return a=r.extend(a||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),u.isNode&&u.isStream(t)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",t,!0,a.optimizedBinaryString,a.base64).then(function(t){var e=new l(a);return e.load(t),e}).then(function(t){var e=[i.Promise.resolve(t)],n=t.files;if(a.checkCRC32)for(var r=0;r<n.length;r++)e.push(c(n[r]));return i.Promise.all(e)}).then(function(t){for(var e=t.shift(),n=e.files,r=0;r<n.length;r++){var i=n[r];o.file(i.fileNameStr,i.decompressed,{binary:!0,optimizedBinaryString:!0,date:i.date,dir:i.dir,comment:i.fileCommentStr.length?i.fileCommentStr:null,unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions,createFolders:a.createFolders})}return e.zipComment.length&&(o.comment=e.zipComment),o})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../stream/GenericWorker");function a(t,e){i.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}r.inherits(a,i),a.prototype._bindStream=function(t){var e=this;(this._stream=t).pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},a.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,n){"use strict";var i=t("readable-stream").Readable;function r(t,e,n){i.call(this,e),this._helper=t;var r=this;t.on("data",function(t,e){r.push(t)||r._helper.pause(),n&&n(e)}).on("error",function(t){r.emit("error",t)}).on("end",function(){r.push(null)})}t("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},e.exports=r},{"../utils":32,"readable-stream":16}],14:[function(t,e,n){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){return new Buffer(t,e)},allocBuffer:function(t){return Buffer.alloc?Buffer.alloc(t):new Buffer(t)},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,n){"use strict";var i=t("./utf8"),u=t("./utils"),c=t("./stream/GenericWorker"),a=t("./stream/StreamHelper"),d=t("./defaults"),h=t("./compressedObject"),f=t("./zipObject"),o=t("./generate"),p=t("./nodejsUtils"),m=t("./nodejs/NodejsStreamInputAdapter"),s=function(t,e,n){var r,i=u.getTypeOf(e),a=u.extend(n||{},d);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=v(t)),a.createFolders&&(r=g(t))&&y.call(this,r,!0);var o="string"===i&&!1===a.binary&&!1===a.base64;n&&void 0!==n.binary||(a.binary=!o),(e instanceof h&&0===e.uncompressedSize||a.dir||!e||0===e.length)&&(a.base64=!1,a.binary=!0,e="",a.compression="STORE",i="string");var s=null;s=e instanceof h||e instanceof c?e:p.isNode&&p.isStream(e)?new m(t,e):u.prepareContent(t,e,a.binary,a.optimizedBinaryString,a.base64);var l=new f(t,s,a);this.files[t]=l},g=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return 0<e?t.substring(0,e):""},v=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},y=function(t,e){return e=void 0!==e?e:d.createFolders,t=v(t),this.files[t]||s.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function l(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var r={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,r;for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,r))},filter:function(n){var r=[];return this.forEach(function(t,e){n(t,e)&&r.push(e)}),r},file:function(t,e,n){if(1===arguments.length){if(l(t)){var r=t;return this.filter(function(t,e){return!e.dir&&r.test(t)})}var i=this.files[this.root+t];return i&&!i.dir?i:null}return t=this.root+t,s.call(this,t,e,n),this},folder:function(n){if(!n)return this;if(l(n))return this.filter(function(t,e){return e.dir&&n.test(t)});var t=this.root+n,e=y.call(this,t),r=this.clone();return r.root=e.name,r},remove:function(n){n=this.root+n;var t=this.files[n];if(t||("/"!==n.slice(-1)&&(n+="/"),t=this.files[n]),t&&!t.dir)delete this.files[n];else for(var e=this.filter(function(t,e){return e.name.slice(0,n.length)===n}),r=0;r<e.length;r++)delete this.files[e[r].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=u.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");u.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";e=o.generateWorker(this,n,r)}catch(t){(e=new c("error")).error(t)}return new a(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=r},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,n){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,n){"use strict";var r=t("./DataReader");function i(t){r.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data[this.zero+t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===e&&this.data[a+1]===n&&this.data[a+2]===r&&this.data[a+3]===i)return a-this.zero;return-1},i.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),r=t.charCodeAt(2),i=t.charCodeAt(3),a=this.readData(4);return e===a[0]&&n===a[1]&&r===a[2]&&i===a[3]},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,e,n){"use strict";var r=t("../utils");function i(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return r.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=i},{"../utils":32}],19:[function(t,e,n){"use strict";var r=t("./Uint8ArrayReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,n){"use strict";var r=t("./DataReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},i.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,e,n){"use strict";var r=t("./ArrayReader");function i(t){r.call(this,t)}t("../utils").inherits(i,r),i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,n){"use strict";var r=t("../utils"),i=t("../support"),a=t("./ArrayReader"),o=t("./StringReader"),s=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");e.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||i.uint8array?"nodebuffer"===e?new s(t):i.uint8array?new l(r.transformTo("uint8array",t)):new a(r.transformTo("array",t)):new o(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../utils");function a(t){r.call(this,"ConvertWorker to "+t),this.destType=t}i.inherits(a,r),a.prototype.processChunk=function(t){this.push({data:i.transformTo(this.destType,t.data),meta:t.meta})},e.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,n){"use strict";var r=t("./GenericWorker"),i=t("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,r),a.prototype.processChunk=function(t){this.streamInfo.crc32=i(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function a(t){i.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}r.inherits(a,i),a.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}i.prototype.processChunk.call(this,t)},e.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,n){"use strict";var r=t("../utils"),i=t("./GenericWorker");function a(t){i.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=r.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}r.inherits(a,i),a.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,n){"use strict";function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var t=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=r},{}],29:[function(t,e,n){"use strict";var l=t("../utils"),i=t("./ConvertWorker"),a=t("./GenericWorker"),u=t("../base64"),r=t("../support"),o=t("../external"),s=null;if(r.nodestream)try{s=t("../nodejs/NodejsStreamOutputAdapter")}catch(t){}function c(t,s){return new o.Promise(function(e,n){var r=[],i=t._internalType,a=t._outputType,o=t._mimeType;t.on("data",function(t,e){r.push(t),s&&s(e)}).on("error",function(t){r=[],n(t)}).on("end",function(){try{var t=function(t,e,n){switch(t){case"blob":return l.newBlob(l.transformTo("arraybuffer",e),n);case"base64":return u.encode(e);default:return l.transformTo(t,e)}}(a,function(t,e){var n,r=0,i=null,a=0;for(n=0;n<e.length;n++)a+=e[n].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(i=new Uint8Array(a),n=0;n<e.length;n++)i.set(e[n],r),r+=e[n].length;return i;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}(i,r),o);e(t)}catch(t){n(t)}r=[]}).resume()})}function d(t,e,n){var r=e;switch(e){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=e,this._mimeType=n,l.checkSupport(r),this._worker=t.pipe(new i(r)),t.lock()}catch(t){this._worker=new a("error"),this._worker.error(t)}}d.prototype={accumulate:function(t){return c(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,function(t){e.call(n,t.data,t.meta)}):this._worker.on(t,function(){l.delay(e,arguments,n)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(l.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new s(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(t){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(t){n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch(t){n.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,a){"use strict";for(var s=t("./utils"),l=t("./support"),n=t("./nodejsUtils"),r=t("./stream/GenericWorker"),u=new Array(256),i=0;i<256;i++)u[i]=252<=i?6:248<=i?5:240<=i?4:224<=i?3:192<=i?2:1;u[254]=u[254]=1;function o(){r.call(this,"utf-8 decode"),this.leftOver=null}function c(){r.call(this,"utf-8 encode")}a.utf8encode=function(t){return l.nodebuffer?n.newBufferFrom(t,"utf-8"):function(t){var e,n,r,i,a,o=t.length,s=0;for(i=0;i<o;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<o&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=l.uint8array?new Uint8Array(s):new Array(s),i=a=0;a<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<o&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e}(t)},a.utf8decode=function(t){return l.nodebuffer?s.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,r,i,a=t.length,o=new Array(2*a);for(e=n=0;e<a;)if((r=t[e++])<128)o[n++]=r;else if(4<(i=u[r]))o[n++]=65533,e+=i-1;else{for(r&=2===i?31:3===i?15:7;1<i&&e<a;)r=r<<6|63&t[e++],i--;1<i?o[n++]=65533:r<65536?o[n++]=r:(r-=65536,o[n++]=55296|r>>10&1023,o[n++]=56320|1023&r)}return o.length!==n&&(o.subarray?o=o.subarray(0,n):o.length=n),s.applyFromCharCode(o)}(t=s.transformTo(l.uint8array?"uint8array":"array",t))},s.inherits(o,r),o.prototype.processChunk=function(t){var e=s.transformTo(l.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var n=e;(e=new Uint8Array(n.length+this.leftOver.length)).set(this.leftOver,0),e.set(n,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var r=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+u[t[n]]>e?n:e}(e),i=e;r!==e.length&&(l.uint8array?(i=e.subarray(0,r),this.leftOver=e.subarray(r,e.length)):(i=e.slice(0,r),this.leftOver=e.slice(r,e.length))),this.push({data:a.utf8decode(i),meta:t.meta})},o.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=o,s.inherits(c,r),c.prototype.processChunk=function(t){this.push({data:a.utf8encode(t.data),meta:t.meta})},a.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,s){"use strict";var l=t("./support"),u=t("./base64"),n=t("./nodejsUtils"),r=t("core-js/library/fn/set-immediate"),c=t("./external");function i(t){return t}function d(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}s.newBlob=function(e,n){s.checkSupport("blob");try{return new Blob([e],{type:n})}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(e),r.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var a={stringifyByChunk:function(t,e,n){var r=[],i=0,a=t.length;if(a<=n)return String.fromCharCode.apply(null,t);for(;i<a;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(i,Math.min(i+n,a)))):r.push(String.fromCharCode.apply(null,t.subarray(i,Math.min(i+n,a)))),i+=n;return r.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&1===String.fromCharCode.apply(null,n.allocBuffer(1)).length}catch(t){return!1}}()}};function o(t){var e=65536,n=s.getTypeOf(t),r=!0;if("uint8array"===n?r=a.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=a.applyCanBeUsed.nodebuffer),r)for(;1<e;)try{return a.stringifyByChunk(t,n,e)}catch(t){e=Math.floor(e/2)}return a.stringifyByChar(t)}function h(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}s.applyFromCharCode=o;var f={};f.string={string:i,array:function(t){return d(t,new Array(t.length))},arraybuffer:function(t){return f.string.uint8array(t).buffer},uint8array:function(t){return d(t,new Uint8Array(t.length))},nodebuffer:function(t){return d(t,n.allocBuffer(t.length))}},f.array={string:o,array:i,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return n.newBufferFrom(t)}},f.arraybuffer={string:function(t){return o(new Uint8Array(t))},array:function(t){return h(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:i,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return n.newBufferFrom(new Uint8Array(t))}},f.uint8array={string:o,array:function(t){return h(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:i,nodebuffer:function(t){return n.newBufferFrom(t)}},f.nodebuffer={string:o,array:function(t){return h(t,new Array(t.length))},arraybuffer:function(t){return f.nodebuffer.uint8array(t).buffer},uint8array:function(t){return h(t,new Uint8Array(t.length))},nodebuffer:i},s.transformTo=function(t,e){if(e||(e=""),!t)return e;s.checkSupport(t);var n=s.getTypeOf(e);return f[n][t](e)},s.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":l.nodebuffer&&n.isBuffer(t)?"nodebuffer":l.uint8array&&t instanceof Uint8Array?"uint8array":l.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},s.checkSupport=function(t){if(!l[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},s.MAX_VALUE_16BITS=65535,s.MAX_VALUE_32BITS=-1,s.pretty=function(t){var e,n,r="";for(n=0;n<(t||"").length;n++)r+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return r},s.delay=function(t,e,n){r(function(){t.apply(n||null,e||[])})},s.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},s.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},s.prepareContent=function(r,t,i,a,o){return c.Promise.resolve(t).then(function(r){return l.blob&&(r instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(r)))&&"undefined"!=typeof FileReader?new c.Promise(function(e,n){var t=new FileReader;t.onload=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)},t.readAsArrayBuffer(r)}):r}).then(function(t){var e,n=s.getTypeOf(t);return n?("arraybuffer"===n?t=s.transformTo("uint8array",t):"string"===n&&(o?t=u.decode(t):i&&!0!==a&&(t=d(e=t,l.uint8array?new Uint8Array(e.length):new Array(e.length)))),t):c.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),i=t("./utils"),a=t("./signature"),o=t("./zipEntry"),s=(t("./utf8"),t("./support"));function l(t){this.files=[],this.loadOptions=t}l.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(e)+", expected "+i.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4)===e;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.uint8array?"uint8array":"array",n=i.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,r=this.zip64EndOfCentralSize-44;0<r;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(t=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=e-n;if(0<r)this.isSignature(e,a.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(t){this.reader=r(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,n){"use strict";var r=t("./reader/readerFor"),a=t("./utils"),i=t("./compressedObject"),o=t("./crc32"),s=t("./utf8"),l=t("./compressions"),u=t("./support");function c(t,e){this.options=t,this.loadOptions=e}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new i(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,r,i=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<i;)e=t.readInt(2),n=t.readInt(2),r=t.readData(n),this.extraFields[e]={id:e,length:n,value:r}},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=a.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var i=a.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(i)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=r(t.value);return 1!==e.readInt(1)?null:o(this.fileName)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=r(t.value);return 1!==e.readInt(1)?null:o(this.fileComment)!==e.readInt(4)?null:s.utf8decode(e.readData(t.length-5))}return null}},e.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,n){"use strict";var a=t("./stream/StreamHelper"),r=t("./stream/DataWorker"),o=t("./utf8"),i=t("./compressedObject"),s=t("./stream/GenericWorker"),l=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var i=!this._dataBinary;i&&!r&&(e=e.pipe(new o.Utf8EncodeWorker)),!i&&r&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new s("error")).error(t)}return new a(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof i&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),i.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof i?this._data.getContentWorker():this._data instanceof s?this._data:new r(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)l.prototype[u[d]]=c;e.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,n){t("../modules/web.immediate"),e.exports=t("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(t,e,n){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],38:[function(t,e,n){var r=t("./_is-object");e.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":51}],39:[function(t,e,n){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],40:[function(t,e,n){var r=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=r)},{}],41:[function(t,e,n){var a=t("./_a-function");e.exports=function(r,i,t){if(a(r),void 0===i)return r;switch(t){case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}}},{"./_a-function":37}],42:[function(t,e,n){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(t,e,n){var r=t("./_is-object"),i=t("./_global").document,a=r(i)&&r(i.createElement);e.exports=function(t){return a?i.createElement(t):{}}},{"./_global":46,"./_is-object":51}],44:[function(t,e,n){var m=t("./_global"),g=t("./_core"),v=t("./_ctx"),y=t("./_hide"),_="prototype",b=function(t,e,n){var r,i,a,o=t&b.F,s=t&b.G,l=t&b.S,u=t&b.P,c=t&b.B,d=t&b.W,h=s?g:g[e]||(g[e]={}),f=h[_],p=s?m:l?m[e]:(m[e]||{})[_];for(r in s&&(n=e),n)(i=!o&&p&&void 0!==p[r])&&r in h||(a=i?p[r]:n[r],h[r]=s&&"function"!=typeof p[r]?n[r]:c&&i?v(a,m):d&&p[r]==a?function(r){var t=function(t,e,n){if(this instanceof r){switch(arguments.length){case 0:return new r;case 1:return new r(t);case 2:return new r(t,e)}return new r(t,e,n)}return r.apply(this,arguments)};return t[_]=r[_],t}(a):u&&"function"==typeof a?v(Function.call,a):a,u&&((h.virtual||(h.virtual={}))[r]=a,t&b.R&&f&&!f[r]&&y(f,r,a)))};b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128,e.exports=b},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(t,e,n){e.exports=function(t){try{return!!t()}catch(t){return!0}}},{}],46:[function(t,e,n){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],47:[function(t,e,n){var r=t("./_object-dp"),i=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(t,e,n){e.exports=t("./_global").document&&document.documentElement},{"./_global":46}],49:[function(t,e,n){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(t,e,n){e.exports=function(t,e,n){var r=void 0===n;switch(e.length){case 0:return r?t():t.call(n);case 1:return r?t(e[0]):t.call(n,e[0]);case 2:return r?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},{}],51:[function(t,e,n){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],52:[function(t,e,n){var r=t("./_an-object"),i=t("./_ie8-dom-define"),a=t("./_to-primitive"),o=Object.defineProperty;n.f=t("./_descriptors")?Object.defineProperty:function(t,e,n){if(r(t),e=a(e,!0),r(n),i)try{return o(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(t,e,n){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],54:[function(t,e,n){var r,i,a,o=t("./_ctx"),s=t("./_invoke"),l=t("./_html"),u=t("./_dom-create"),c=t("./_global"),d=c.process,h=c.setImmediate,f=c.clearImmediate,p=c.MessageChannel,m=0,g={},v="onreadystatechange",y=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function(t){y.call(t.data)};h&&f||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++m]=function(){s("function"==typeof t?t:Function(t),e)},r(m),m},f=function(t){delete g[t]},"process"==t("./_cof")(d)?r=function(t){d.nextTick(o(y,t,1))}:p?(a=(i=new p).port2,i.port1.onmessage=_,r=o(a.postMessage,a,1)):c.addEventListener&&"function"==typeof postMessage&&!c.importScripts?(r=function(t){c.postMessage(t+"","*")},c.addEventListener("message",_,!1)):r=v in u("script")?function(t){l.appendChild(u("script"))[v]=function(){l.removeChild(this),y.call(t)}}:function(t){setTimeout(o(y,t,1),0)}),e.exports={set:h,clear:f}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(t,e,n){var i=t("./_is-object");e.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(t,e,n){var r=t("./_export"),i=t("./_task");r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},{"./_export":44,"./_task":54}],57:[function(t,c,e){(function(e){"use strict";var n,r,t=e.MutationObserver||e.WebKitMutationObserver;if(t){var i=0,a=new t(u),o=e.document.createTextNode("");a.observe(o,{characterData:!0}),n=function(){o.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var s=new e.MessageChannel;s.port1.onmessage=u,n=function(){s.port2.postMessage(0)}}var l=[];function u(){var t,e;r=!0;for(var n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}r=!1}c.exports=function(t){1!==l.push(t)||r||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(t,e,n){"use strict";var i=t("immediate");function u(){}var c={},a=["REJECTED"],o=["FULFILLED"],r=["PENDING"];function s(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=r,this.queue=[],this.outcome=void 0,t!==u&&f(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,n,r){i(function(){var t;try{t=n(r)}catch(t){return c.reject(e,t)}t===e?c.reject(e,new TypeError("Cannot resolve promise with itself")):c.resolve(e,t)})}function h(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,c.reject(e,t))}function i(t){n||(n=!0,c.resolve(e,t))}var a=p(function(){t(i,r)});"error"===a.status&&r(a.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}(e.exports=s).prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){if("function"!=typeof t&&this.state===o||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(u);this.state!==r?d(n,this.state===o?t:e,this.outcome):this.queue.push(new l(n,t,e));return n},l.prototype.callFulfilled=function(t){c.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){d(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){c.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){d(this.promise,this.onRejected,t)},c.resolve=function(t,e){var n=p(h,e);if("error"===n.status)return c.reject(t,n.value);var r=n.value;if(r)f(t,r);else{t.state=o,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callFulfilled(e)}return t},c.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},s.resolve=function(t){if(t instanceof this)return t;return c.resolve(new this(u),t)},s.reject=function(t){var e=new this(u);return c.reject(e,t)},s.all=function(t){var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var r=t.length,i=!1;if(!r)return this.resolve([]);var a=new Array(r),o=0,e=-1,s=new this(u);for(;++e<r;)l(t[e],e);return s;function l(t,e){n.resolve(t).then(function(t){a[e]=t,++o!==r||i||(i=!0,c.resolve(s,a))},function(t){i||(i=!0,c.reject(s,t))})}},s.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);var i=-1,a=new this(u);for(;++i<n;)o=t[i],e.resolve(o).then(function(t){r||(r=!0,c.resolve(a,t))},function(t){r||(r=!0,c.reject(a,t))});var o;return a}},{immediate:57}],59:[function(t,e,n){"use strict";var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=r},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(t,e,n){"use strict";var o=t("./zlib/deflate"),s=t("./utils/common"),l=t("./utils/strings"),i=t("./zlib/messages"),a=t("./zlib/zstream"),u=Object.prototype.toString,c=0,d=-1,h=0,f=8;function p(t){if(!(this instanceof p))return new p(t);this.options=s.assign({level:d,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&0<e.windowBits?e.windowBits=-e.windowBits:e.gzip&&0<e.windowBits&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==c)throw new Error(i[n]);if(e.header&&o.deflateSetHeader(this.strm,e.header),e.dictionary){var r;if(r="string"==typeof e.dictionary?l.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=o.deflateSetDictionary(this.strm,r))!==c)throw new Error(i[n]);this._dict_set=!0}}function r(t,e){var n=new p(e);if(n.push(t,!0),n.err)throw n.msg||i[n.err];return n.result}p.prototype.push=function(t,e){var n,r,i=this.strm,a=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:!0===e?4:0,"string"==typeof t?i.input=l.string2buf(t):"[object ArrayBuffer]"===u.call(t)?i.input=new Uint8Array(t):i.input=t,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new s.Buf8(a),i.next_out=0,i.avail_out=a),1!==(n=o.deflate(i,r))&&n!==c)return this.onEnd(n),!(this.ended=!0);0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(l.buf2binstring(s.shrinkBuf(i.output,i.next_out))):this.onData(s.shrinkBuf(i.output,i.next_out)))}while((0<i.avail_in||0===i.avail_out)&&1!==n);return 4===r?(n=o.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==r||(this.onEnd(c),!(i.avail_out=0))},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Deflate=p,n.deflate=r,n.deflateRaw=function(t,e){return(e=e||{}).raw=!0,r(t,e)},n.gzip=function(t,e){return(e=e||{}).gzip=!0,r(t,e)}},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(t,e,n){"use strict";var h=t("./zlib/inflate"),f=t("./utils/common"),p=t("./utils/strings"),m=t("./zlib/constants"),r=t("./zlib/messages"),i=t("./zlib/zstream"),a=t("./zlib/gzheader"),g=Object.prototype.toString;function o(t){if(!(this instanceof o))return new o(t);this.options=f.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&0<=e.windowBits&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(0<=e.windowBits&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),15<e.windowBits&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new i,this.strm.avail_out=0;var n=h.inflateInit2(this.strm,e.windowBits);if(n!==m.Z_OK)throw new Error(r[n]);this.header=new a,h.inflateGetHeader(this.strm,this.header)}function s(t,e){var n=new o(e);if(n.push(t,!0),n.err)throw n.msg||r[n.err];return n.result}o.prototype.push=function(t,e){var n,r,i,a,o,s,l=this.strm,u=this.options.chunkSize,c=this.options.dictionary,d=!1;if(this.ended)return!1;r=e===~~e?e:!0===e?m.Z_FINISH:m.Z_NO_FLUSH,"string"==typeof t?l.input=p.binstring2buf(t):"[object ArrayBuffer]"===g.call(t)?l.input=new Uint8Array(t):l.input=t,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new f.Buf8(u),l.next_out=0,l.avail_out=u),(n=h.inflate(l,m.Z_NO_FLUSH))===m.Z_NEED_DICT&&c&&(s="string"==typeof c?p.string2buf(c):"[object ArrayBuffer]"===g.call(c)?new Uint8Array(c):c,n=h.inflateSetDictionary(this.strm,s)),n===m.Z_BUF_ERROR&&!0===d&&(n=m.Z_OK,d=!1),n!==m.Z_STREAM_END&&n!==m.Z_OK)return this.onEnd(n),!(this.ended=!0);l.next_out&&(0!==l.avail_out&&n!==m.Z_STREAM_END&&(0!==l.avail_in||r!==m.Z_FINISH&&r!==m.Z_SYNC_FLUSH)||("string"===this.options.to?(i=p.utf8border(l.output,l.next_out),a=l.next_out-i,o=p.buf2string(l.output,i),l.next_out=a,l.avail_out=u-a,a&&f.arraySet(l.output,l.output,i,a,0),this.onData(o)):this.onData(f.shrinkBuf(l.output,l.next_out)))),0===l.avail_in&&0===l.avail_out&&(d=!0)}while((0<l.avail_in||0===l.avail_out)&&n!==m.Z_STREAM_END);return n===m.Z_STREAM_END&&(r=m.Z_FINISH),r===m.Z_FINISH?(n=h.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===m.Z_OK):r!==m.Z_SYNC_FLUSH||(this.onEnd(m.Z_OK),!(l.avail_out=0))},o.prototype.onData=function(t){this.chunks.push(t)},o.prototype.onEnd=function(t){t===m.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=f.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},n.Inflate=o,n.inflate=s,n.inflateRaw=function(t,e){return(e=e||{}).raw=!0,s(t,e)},n.ungzip=s},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(t,e,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}}return t},n.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var i={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){var e,n,r,i,a,o;for(e=r=0,n=t.length;e<n;e++)r+=t[e].length;for(o=new Uint8Array(r),e=i=0,n=t.length;e<n;e++)a=t[e],o.set(a,i),i+=a.length;return o}},a={arraySet:function(t,e,n,r,i){for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){return[].concat.apply([],t)}};n.setTyped=function(t){t?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],63:[function(t,e,n){"use strict";var l=t("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var u=new l.Buf8(256),r=0;r<256;r++)u[r]=252<=r?6:248<=r?5:240<=r?4:224<=r?3:192<=r?2:1;function c(t,e){if(e<65537&&(t.subarray&&a||!t.subarray&&i))return String.fromCharCode.apply(null,l.shrinkBuf(t,e));for(var n="",r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n}u[254]=u[254]=1,n.string2buf=function(t){var e,n,r,i,a,o=t.length,s=0;for(i=0;i<o;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<o&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(e=new l.Buf8(s),i=a=0;a<s;i++)55296==(64512&(n=t.charCodeAt(i)))&&i+1<o&&56320==(64512&(r=t.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},n.buf2binstring=function(t){return c(t,t.length)},n.binstring2buf=function(t){for(var e=new l.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},n.buf2string=function(t,e){var n,r,i,a,o=e||t.length,s=new Array(2*o);for(n=r=0;n<o;)if((i=t[n++])<128)s[r++]=i;else if(4<(a=u[i]))s[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;1<a&&n<o;)i=i<<6|63&t[n++],a--;1<a?s[r++]=65533:i<65536?s[r++]=i:(i-=65536,s[r++]=55296|i>>10&1023,s[r++]=56320|1023&i)}return c(s,r)},n.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;0<=n&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+u[t[n]]>e?n:e}},{"./common":62}],64:[function(t,e,n){"use strict";e.exports=function(t,e,n,r){for(var i=65535&t|0,a=t>>>16&65535|0,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(i=i+e[r++]|0)|0,--o;);i%=65521,a%=65521}return i|a<<16|0}},{}],65:[function(t,e,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(t,e,n){"use strict";var s=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();e.exports=function(t,e,n,r){var i=s,a=r+n;t^=-1;for(var o=r;o<a;o++)t=t>>>8^i[255&(t^e[o])];return-1^t}},{}],67:[function(t,e,n){"use strict";var l,h=t("../utils/common"),u=t("./trees"),f=t("./adler32"),p=t("./crc32"),r=t("./messages"),c=0,d=1,m=3,g=4,v=5,y=0,_=1,b=-2,i=-3,w=-5,M=-1,a=1,$=2,x=3,k=4,o=0,s=2,S=8,T=9,L=15,C=8,D=286,E=30,Y=19,A=2*D+1,N=15,O=3,R=258,H=R+O+1,P=32,j=42,F=69,I=73,z=91,B=103,W=113,U=666,q=1,V=2,G=3,K=4,J=3;function X(t,e){return t.msg=r[e],e}function Z(t){return(t<<1)-(4<t?9:0)}function Q(t){for(var e=t.length;0<=--e;)t[e]=0}function tt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(h.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function et(t,e){u._tr_flush_block(t,0<=t.block_start?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function nt(t,e){t.pending_buf[t.pending++]=e}function rt(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function it(t,e){var n,r,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-H?t.strstart-(t.w_size-H):0,u=t.window,c=t.w_mask,d=t.prev,h=t.strstart+R,f=u[a+o-1],p=u[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(n=e)+o]===p&&u[n+o-1]===f&&u[n]===u[a]&&u[++n]===u[a+1]){a+=2,n++;do{}while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<h);if(r=R-(h-a),a=h-R,o<r){if(t.match_start=e,s<=(o=r))break;f=u[a+o-1],p=u[a+o]}}}while((e=d[e&c])>l&&0!=--i);return o<=t.lookahead?o:t.lookahead}function at(t){var e,n,r,i,a,o,s,l,u,c,d=t.w_size;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-H)){for(h.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=n=t.hash_size;r=t.head[--e],t.head[e]=d<=r?r-d:0,--n;);for(e=n=d;r=t.prev[--e],t.prev[e]=d<=r?r-d:0,--n;);i+=d}if(0===t.strm.avail_in)break;if(o=t.strm,s=t.window,l=t.strstart+t.lookahead,u=i,c=void 0,c=o.avail_in,u<c&&(c=u),n=0===c?0:(o.avail_in-=c,h.arraySet(s,o.input,o.next_in,c,l),1===o.state.wrap?o.adler=f(o.adler,s,c,l):2===o.state.wrap&&(o.adler=p(o.adler,s,c,l)),o.next_in+=c,o.total_in+=c,c),t.lookahead+=n,t.lookahead+t.insert>=O)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[a+O-1])&t.hash_mask,t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<O)););}while(t.lookahead<H&&0!==t.strm.avail_in)}function ot(t,e){for(var n,r;;){if(t.lookahead<H){if(at(t),t.lookahead<H&&e===c)return q;if(0===t.lookahead)break}if(n=0,t.lookahead>=O&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-H&&(t.match_length=it(t,n)),t.match_length>=O)if(r=u._tr_tally(t,t.strstart-t.match_start,t.match_length-O),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=O){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(et(t,!1),0===t.strm.avail_out))return q}return t.insert=t.strstart<O-1?t.strstart:O-1,e===g?(et(t,!0),0===t.strm.avail_out?G:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?q:V}function st(t,e){for(var n,r,i;;){if(t.lookahead<H){if(at(t),t.lookahead<H&&e===c)return q;if(0===t.lookahead)break}if(n=0,t.lookahead>=O&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=O-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-H&&(t.match_length=it(t,n),t.match_length<=5&&(t.strategy===a||t.match_length===O&&4096<t.strstart-t.match_start)&&(t.match_length=O-1)),t.prev_length>=O&&t.match_length<=t.prev_length){for(i=t.strstart+t.lookahead-O,r=u._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-O),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+O-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=O-1,t.strstart++,r&&(et(t,!1),0===t.strm.avail_out))return q}else if(t.match_available){if((r=u._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return q}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=u._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<O-1?t.strstart:O-1,e===g?(et(t,!0),0===t.strm.avail_out?G:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?q:V}function lt(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function ut(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*A),this.dyn_dtree=new h.Buf16(2*(2*E+1)),this.bl_tree=new h.Buf16(2*(2*Y+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(N+1),this.heap=new h.Buf16(2*D+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*D+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=s,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?j:W,t.adler=2===e.wrap?0:1,e.last_flush=c,u._tr_init(e),y):X(t,b)}function dt(t){var e,n=ct(t);return n===y&&((e=t.state).window_size=2*e.w_size,Q(e.head),e.max_lazy_match=l[e.level].max_lazy,e.good_match=l[e.level].good_length,e.nice_match=l[e.level].nice_length,e.max_chain_length=l[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=O-1,e.match_available=0,e.ins_h=0),n}function ht(t,e,n,r,i,a){if(!t)return b;var o=1;if(e===M&&(e=6),r<0?(o=0,r=-r):15<r&&(o=2,r-=16),i<1||T<i||n!==S||r<8||15<r||e<0||9<e||a<0||k<a)return X(t,b);8===r&&(r=9);var s=new ut;return(t.state=s).strm=t,s.wrap=o,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+O-1)/O),s.window=new h.Buf8(2*s.w_size),s.head=new h.Buf16(s.hash_size),s.prev=new h.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new h.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=e,s.strategy=a,s.method=n,dt(t)}l=[new lt(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(at(t),0===t.lookahead&&e===c)return q;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,et(t,!1),0===t.strm.avail_out))return q;if(t.strstart-t.block_start>=t.w_size-H&&(et(t,!1),0===t.strm.avail_out))return q}return t.insert=0,e===g?(et(t,!0),0===t.strm.avail_out?G:K):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),q)}),new lt(4,4,8,4,ot),new lt(4,5,16,8,ot),new lt(4,6,32,32,ot),new lt(4,4,16,16,st),new lt(8,16,32,32,st),new lt(8,16,128,128,st),new lt(8,32,128,256,st),new lt(32,128,258,1024,st),new lt(32,258,258,4096,st)],n.deflateInit=function(t,e){return ht(t,e,S,L,C,o)},n.deflateInit2=ht,n.deflateReset=dt,n.deflateResetKeep=ct,n.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?b:(t.state.gzhead=e,y):b},n.deflate=function(t,e){var n,r,i,a;if(!t||!t.state||v<e||e<0)return t?X(t,b):b;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===U&&e!==g)return X(t,0===t.avail_out?w:b);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===j)if(2===r.wrap)t.adler=0,nt(r,31),nt(r,139),nt(r,8),r.gzhead?(nt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),nt(r,255&r.gzhead.time),nt(r,r.gzhead.time>>8&255),nt(r,r.gzhead.time>>16&255),nt(r,r.gzhead.time>>24&255),nt(r,9===r.level?2:r.strategy>=$||r.level<2?4:0),nt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(nt(r,255&r.gzhead.extra.length),nt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=p(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=F):(nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,9===r.level?2:r.strategy>=$||r.level<2?4:0),nt(r,J),r.status=W);else{var o=S+(r.w_bits-8<<4)<<8;o|=(r.strategy>=$||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(o|=P),o+=31-o%31,r.status=W,rt(r,o),0!==r.strstart&&(rt(r,t.adler>>>16),rt(r,65535&t.adler)),t.adler=1}if(r.status===F)if(r.gzhead.extra){for(i=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>i&&(t.adler=p(t.adler,r.pending_buf,r.pending-i,i)),tt(t),i=r.pending,r.pending!==r.pending_buf_size));)nt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>i&&(t.adler=p(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=I)}else r.status=I;if(r.status===I)if(r.gzhead.name){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=p(t.adler,r.pending_buf,r.pending-i,i)),tt(t),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}a=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,nt(r,a)}while(0!==a);r.gzhead.hcrc&&r.pending>i&&(t.adler=p(t.adler,r.pending_buf,r.pending-i,i)),0===a&&(r.gzindex=0,r.status=z)}else r.status=z;if(r.status===z)if(r.gzhead.comment){i=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>i&&(t.adler=p(t.adler,r.pending_buf,r.pending-i,i)),tt(t),i=r.pending,r.pending===r.pending_buf_size)){a=1;break}a=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,nt(r,a)}while(0!==a);r.gzhead.hcrc&&r.pending>i&&(t.adler=p(t.adler,r.pending_buf,r.pending-i,i)),0===a&&(r.status=B)}else r.status=B;if(r.status===B&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&tt(t),r.pending+2<=r.pending_buf_size&&(nt(r,255&t.adler),nt(r,t.adler>>8&255),t.adler=0,r.status=W)):r.status=W),0!==r.pending){if(tt(t),0===t.avail_out)return r.last_flush=-1,y}else if(0===t.avail_in&&Z(e)<=Z(n)&&e!==g)return X(t,w);if(r.status===U&&0!==t.avail_in)return X(t,w);if(0!==t.avail_in||0!==r.lookahead||e!==c&&r.status!==U){var s=r.strategy===$?function(t,e){for(var n;;){if(0===t.lookahead&&(at(t),0===t.lookahead)){if(e===c)return q;break}if(t.match_length=0,n=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return q}return t.insert=0,e===g?(et(t,!0),0===t.strm.avail_out?G:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?q:V}(r,e):r.strategy===x?function(t,e){for(var n,r,i,a,o=t.window;;){if(t.lookahead<=R){if(at(t),t.lookahead<=R&&e===c)return q;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=O&&0<t.strstart&&(r=o[i=t.strstart-1])===o[++i]&&r===o[++i]&&r===o[++i]){a=t.strstart+R;do{}while(r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&r===o[++i]&&i<a);t.match_length=R-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=O?(n=u._tr_tally(t,1,t.match_length-O),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=u._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(et(t,!1),0===t.strm.avail_out))return q}return t.insert=0,e===g?(et(t,!0),0===t.strm.avail_out?G:K):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?q:V}(r,e):l[r.level].func(r,e);if(s!==G&&s!==K||(r.status=U),s===q||s===G)return 0===t.avail_out&&(r.last_flush=-1),y;if(s===V&&(e===d?u._tr_align(r):e!==v&&(u._tr_stored_block(r,0,0,!1),e===m&&(Q(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),tt(t),0===t.avail_out))return r.last_flush=-1,y}return e!==g?y:r.wrap<=0?_:(2===r.wrap?(nt(r,255&t.adler),nt(r,t.adler>>8&255),nt(r,t.adler>>16&255),nt(r,t.adler>>24&255),nt(r,255&t.total_in),nt(r,t.total_in>>8&255),nt(r,t.total_in>>16&255),nt(r,t.total_in>>24&255)):(rt(r,t.adler>>>16),rt(r,65535&t.adler)),tt(t),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?y:_)},n.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==j&&e!==F&&e!==I&&e!==z&&e!==B&&e!==W&&e!==U?X(t,b):(t.state=null,e===W?X(t,i):y):b},n.deflateSetDictionary=function(t,e){var n,r,i,a,o,s,l,u,c=e.length;if(!t||!t.state)return b;if(2===(a=(n=t.state).wrap)||1===a&&n.status!==j||n.lookahead)return b;for(1===a&&(t.adler=f(t.adler,e,c,0)),n.wrap=0,c>=n.w_size&&(0===a&&(Q(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new h.Buf8(n.w_size),h.arraySet(u,e,c-n.w_size,n.w_size,0),e=u,c=n.w_size),o=t.avail_in,s=t.next_in,l=t.input,t.avail_in=c,t.next_in=0,t.input=e,at(n);n.lookahead>=O;){for(r=n.strstart,i=n.lookahead-(O-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+O-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--i;);n.strstart=r,n.lookahead=O-1,at(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=O-1,n.match_available=0,t.next_in=s,t.input=l,t.avail_in=o,n.wrap=a,y},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(t,e,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],69:[function(t,e,n){"use strict";e.exports=function(t,e){var n,r,i,a,o,s,l,u,c,d,h,f,p,m,g,v,y,_,b,w,M,$,x,k,S;n=t.state,r=t.next_in,k=t.input,i=r+(t.avail_in-5),a=t.next_out,S=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,d=n.wnext,h=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;t:do{p<15&&(f+=k[r++]<<p,p+=8,f+=k[r++]<<p,p+=8),_=m[f&v];e:for(;;){if(f>>>=b=_>>>24,p-=b,0===(b=_>>>16&255))S[a++]=65535&_;else{if(!(16&b)){if(0==(64&b)){_=m[(65535&_)+(f&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&_,(b&=15)&&(p<b&&(f+=k[r++]<<p,p+=8),w+=f&(1<<b)-1,f>>>=b,p-=b),p<15&&(f+=k[r++]<<p,p+=8,f+=k[r++]<<p,p+=8),_=g[f&y];n:for(;;){if(f>>>=b=_>>>24,p-=b,!(16&(b=_>>>16&255))){if(0==(64&b)){_=g[(65535&_)+(f&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(M=65535&_,p<(b&=15)&&(f+=k[r++]<<p,(p+=8)<b&&(f+=k[r++]<<p,p+=8)),l<(M+=f&(1<<b)-1)){t.msg="invalid distance too far back",n.mode=30;break t}if(f>>>=b,p-=b,(b=a-o)<M){if(c<(b=M-b)&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(x=h,($=0)===d){if($+=u-b,b<w){for(w-=b;S[a++]=h[$++],--b;);$=a-M,x=S}}else if(d<b){if($+=u+d-b,(b-=d)<w){for(w-=b;S[a++]=h[$++],--b;);if($=0,d<w){for(w-=b=d;S[a++]=h[$++],--b;);$=a-M,x=S}}}else if($+=d-b,b<w){for(w-=b;S[a++]=h[$++],--b;);$=a-M,x=S}for(;2<w;)S[a++]=x[$++],S[a++]=x[$++],S[a++]=x[$++],w-=3;w&&(S[a++]=x[$++],1<w&&(S[a++]=x[$++]))}else{for($=a-M;S[a++]=S[$++],S[a++]=S[$++],S[a++]=S[$++],2<(w-=3););w&&(S[a++]=S[$++],1<w&&(S[a++]=S[$++]))}break}}break}}while(r<i&&a<s);r-=w=p>>3,f&=(1<<(p-=w<<3))-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=a<s?s-a+257:257-(a-s),n.hold=f,n.bits=p}},{}],70:[function(t,e,n){"use strict";var C=t("../utils/common"),D=t("./adler32"),E=t("./crc32"),Y=t("./inffast"),A=t("./inftrees"),N=0,O=1,R=2,H=4,P=5,j=6,F=0,I=1,z=2,B=-2,W=-3,U=-4,q=-5,V=8,G=1,K=2,J=3,X=4,Z=5,Q=6,tt=7,et=8,nt=9,rt=10,it=11,at=12,ot=13,st=14,lt=15,ut=16,ct=17,dt=18,ht=19,ft=20,pt=21,mt=22,gt=23,vt=24,yt=25,_t=26,bt=27,wt=28,Mt=29,$t=30,xt=31,kt=32,r=852,i=592,a=15;function St(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new C.Buf16(320),this.work=new C.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function s(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=G,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new C.Buf32(r),e.distcode=e.distdyn=new C.Buf32(i),e.sane=1,e.back=-1,F):B}function l(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,s(t)):B}function u(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||15<e)?B:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,l(t))):B}function c(t,e){var n,r;return t?(r=new o,(t.state=r).window=null,(n=u(t,e))!==F&&(t.state=null),n):B}var d,h,f=!0;function Tt(t){if(f){var e;for(d=new C.Buf32(512),h=new C.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(A(O,t.lens,0,288,d,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;A(R,t.lens,0,32,h,0,t.work,{bits:5}),f=!1}t.lencode=d,t.lenbits=9,t.distcode=h,t.distbits=5}function Lt(t,e,n,r){var i,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new C.Buf8(a.wsize)),r>=a.wsize?(C.arraySet(a.window,e,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(r<(i=a.wsize-a.wnext)&&(i=r),C.arraySet(a.window,e,n-r,i,a.wnext),(r-=i)?(C.arraySet(a.window,e,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}n.inflateReset=l,n.inflateReset2=u,n.inflateResetKeep=s,n.inflateInit=function(t){return c(t,a)},n.inflateInit2=c,n.inflate=function(t,e){var n,r,i,a,o,s,l,u,c,d,h,f,p,m,g,v,y,_,b,w,M,$,x,k,S=0,T=new C.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return B;(n=t.state).mode===at&&(n.mode=ot),o=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,s=t.avail_in,u=n.hold,c=n.bits,d=s,h=l,$=F;t:for(;;)switch(n.mode){case G:if(0===n.wrap){n.mode=ot;break}for(;c<16;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}if(2&n.wrap&&35615===u){T[n.check=0]=255&u,T[1]=u>>>8&255,n.check=E(n.check,T,2,0),c=u=0,n.mode=K;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=$t;break}if((15&u)!==V){t.msg="unknown compression method",n.mode=$t;break}if(c-=4,M=8+(15&(u>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){t.msg="invalid window size",n.mode=$t;break}n.dmax=1<<M,t.adler=n.check=1,n.mode=512&u?rt:at,c=u=0;break;case K:for(;c<16;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}if(n.flags=u,(255&n.flags)!==V){t.msg="unknown compression method",n.mode=$t;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=$t;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&(T[0]=255&u,T[1]=u>>>8&255,n.check=E(n.check,T,2,0)),c=u=0,n.mode=J;case J:for(;c<32;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}n.head&&(n.head.time=u),512&n.flags&&(T[0]=255&u,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,n.check=E(n.check,T,4,0)),c=u=0,n.mode=X;case X:for(;c<16;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&(T[0]=255&u,T[1]=u>>>8&255,n.check=E(n.check,T,2,0)),c=u=0,n.mode=Z;case Z:if(1024&n.flags){for(;c<16;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&(T[0]=255&u,T[1]=u>>>8&255,n.check=E(n.check,T,2,0)),c=u=0}else n.head&&(n.head.extra=null);n.mode=Q;case Q:if(1024&n.flags&&(s<(f=n.length)&&(f=s),f&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),C.arraySet(n.head.extra,r,a,f,M)),512&n.flags&&(n.check=E(n.check,r,f,a)),s-=f,a+=f,n.length-=f),n.length))break t;n.length=0,n.mode=tt;case tt:if(2048&n.flags){if(0===s)break t;for(f=0;M=r[a+f++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M)),M&&f<s;);if(512&n.flags&&(n.check=E(n.check,r,f,a)),s-=f,a+=f,M)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=et;case et:if(4096&n.flags){if(0===s)break t;for(f=0;M=r[a+f++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M)),M&&f<s;);if(512&n.flags&&(n.check=E(n.check,r,f,a)),s-=f,a+=f,M)break t}else n.head&&(n.head.comment=null);n.mode=nt;case nt:if(512&n.flags){for(;c<16;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}if(u!==(65535&n.check)){t.msg="header crc mismatch",n.mode=$t;break}c=u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=at;break;case rt:for(;c<32;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}t.adler=n.check=St(u),c=u=0,n.mode=it;case it:if(0===n.havedict)return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=u,n.bits=c,z;t.adler=n.check=1,n.mode=at;case at:if(e===P||e===j)break t;case ot:if(n.last){u>>>=7&c,c-=7&c,n.mode=bt;break}for(;c<3;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}switch(n.last=1&u,c-=1,3&(u>>>=1)){case 0:n.mode=st;break;case 1:if(Tt(n),n.mode=ft,e===j){u>>>=2,c-=2;break t}break;case 2:n.mode=ct;break;case 3:t.msg="invalid block type",n.mode=$t}u>>>=2,c-=2;break;case st:for(u>>>=7&c,c-=7&c;c<32;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}if((65535&u)!=(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=$t;break}if(n.length=65535&u,c=u=0,n.mode=lt,e===j)break t;case lt:n.mode=ut;case ut:if(f=n.length){if(s<f&&(f=s),l<f&&(f=l),0===f)break t;C.arraySet(i,r,a,f,o),s-=f,a+=f,l-=f,o+=f,n.length-=f;break}n.mode=at;break;case ct:for(;c<14;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}if(n.nlen=257+(31&u),u>>>=5,c-=5,n.ndist=1+(31&u),u>>>=5,c-=5,n.ncode=4+(15&u),u>>>=4,c-=4,286<n.nlen||30<n.ndist){t.msg="too many length or distance symbols",n.mode=$t;break}n.have=0,n.mode=dt;case dt:for(;n.have<n.ncode;){for(;c<3;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}n.lens[L[n.have++]]=7&u,u>>>=3,c-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,x={bits:n.lenbits},$=A(N,n.lens,0,19,n.lencode,0,n.work,x),n.lenbits=x.bits,$){t.msg="invalid code lengths set",n.mode=$t;break}n.have=0,n.mode=ht;case ht:for(;n.have<n.nlen+n.ndist;){for(;v=(S=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,y=65535&S,!((g=S>>>24)<=c);){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}if(y<16)u>>>=g,c-=g,n.lens[n.have++]=y;else{if(16===y){for(k=g+2;c<k;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}if(u>>>=g,c-=g,0===n.have){t.msg="invalid bit length repeat",n.mode=$t;break}M=n.lens[n.have-1],f=3+(3&u),u>>>=2,c-=2}else if(17===y){for(k=g+3;c<k;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}c-=g,M=0,f=3+(7&(u>>>=g)),u>>>=3,c-=3}else{for(k=g+7;c<k;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}c-=g,M=0,f=11+(127&(u>>>=g)),u>>>=7,c-=7}if(n.have+f>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=$t;break}for(;f--;)n.lens[n.have++]=M}}if(n.mode===$t)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=$t;break}if(n.lenbits=9,x={bits:n.lenbits},$=A(O,n.lens,0,n.nlen,n.lencode,0,n.work,x),n.lenbits=x.bits,$){t.msg="invalid literal/lengths set",n.mode=$t;break}if(n.distbits=6,n.distcode=n.distdyn,x={bits:n.distbits},$=A(R,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,x),n.distbits=x.bits,$){t.msg="invalid distances set",n.mode=$t;break}if(n.mode=ft,e===j)break t;case ft:n.mode=pt;case pt:if(6<=s&&258<=l){t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=u,n.bits=c,Y(t,h),o=t.next_out,i=t.output,l=t.avail_out,a=t.next_in,r=t.input,s=t.avail_in,u=n.hold,c=n.bits,n.mode===at&&(n.back=-1);break}for(n.back=0;v=(S=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,y=65535&S,!((g=S>>>24)<=c);){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}if(v&&0==(240&v)){for(_=g,b=v,w=y;v=(S=n.lencode[w+((u&(1<<_+b)-1)>>_)])>>>16&255,y=65535&S,!(_+(g=S>>>24)<=c);){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}u>>>=_,c-=_,n.back+=_}if(u>>>=g,c-=g,n.back+=g,n.length=y,0===v){n.mode=_t;break}if(32&v){n.back=-1,n.mode=at;break}if(64&v){t.msg="invalid literal/length code",n.mode=$t;break}n.extra=15&v,n.mode=mt;case mt:if(n.extra){for(k=n.extra;c<k;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=gt;case gt:for(;v=(S=n.distcode[u&(1<<n.distbits)-1])>>>16&255,y=65535&S,!((g=S>>>24)<=c);){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}if(0==(240&v)){for(_=g,b=v,w=y;v=(S=n.distcode[w+((u&(1<<_+b)-1)>>_)])>>>16&255,y=65535&S,!(_+(g=S>>>24)<=c);){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}u>>>=_,c-=_,n.back+=_}if(u>>>=g,c-=g,n.back+=g,64&v){t.msg="invalid distance code",n.mode=$t;break}n.offset=y,n.extra=15&v,n.mode=vt;case vt:if(n.extra){for(k=n.extra;c<k;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=$t;break}n.mode=yt;case yt:if(0===l)break t;if(f=h-l,n.offset>f){if((f=n.offset-f)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=$t;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),m=n.window}else m=i,p=o-n.offset,f=n.length;for(l<f&&(f=l),l-=f,n.length-=f;i[o++]=m[p++],--f;);0===n.length&&(n.mode=pt);break;case _t:if(0===l)break t;i[o++]=n.length,l--,n.mode=pt;break;case bt:if(n.wrap){for(;c<32;){if(0===s)break t;s--,u|=r[a++]<<c,c+=8}if(h-=l,t.total_out+=h,n.total+=h,h&&(t.adler=n.check=n.flags?E(n.check,i,h,o-h):D(n.check,i,h,o-h)),h=l,(n.flags?u:St(u))!==n.check){t.msg="incorrect data check",n.mode=$t;break}c=u=0}n.mode=wt;case wt:if(n.wrap&&n.flags){for(;c<32;){if(0===s)break t;s--,u+=r[a++]<<c,c+=8}if(u!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=$t;break}c=u=0}n.mode=Mt;case Mt:$=I;break t;case $t:$=W;break t;case xt:return U;case kt:default:return B}return t.next_out=o,t.avail_out=l,t.next_in=a,t.avail_in=s,n.hold=u,n.bits=c,(n.wsize||h!==t.avail_out&&n.mode<$t&&(n.mode<bt||e!==H))&&Lt(t,t.output,t.next_out,h-t.avail_out)?(n.mode=xt,U):(d-=t.avail_in,h-=t.avail_out,t.total_in+=d,t.total_out+=h,n.total+=h,n.wrap&&h&&(t.adler=n.check=n.flags?E(n.check,i,h,t.next_out-h):D(n.check,i,h,t.next_out-h)),t.data_type=n.bits+(n.last?64:0)+(n.mode===at?128:0)+(n.mode===ft||n.mode===lt?256:0),(0===d&&0===h||e===H)&&$===F&&($=q),$)},n.inflateEnd=function(t){if(!t||!t.state)return B;var e=t.state;return e.window&&(e.window=null),t.state=null,F},n.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?B:((n.head=e).done=!1,F):B},n.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==it?B:n.mode===it&&D(1,e,r,0)!==n.check?W:Lt(t,e,r,r)?(n.mode=xt,U):(n.havedict=1,F):B},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(t,e,n){"use strict";var N=t("../utils/common"),O=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],R=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],H=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,n,r,i,a,o,s){var l,u,c,d,h,f,p,m,g,v=s.bits,y=0,_=0,b=0,w=0,M=0,$=0,x=0,k=0,S=0,T=0,L=null,C=0,D=new N.Buf16(16),E=new N.Buf16(16),Y=null,A=0;for(y=0;y<=15;y++)D[y]=0;for(_=0;_<r;_++)D[e[n+_]]++;for(M=v,w=15;1<=w&&0===D[w];w--);if(w<M&&(M=w),0===w)return i[a++]=20971520,i[a++]=20971520,s.bits=1,0;for(b=1;b<w&&0===D[b];b++);for(M<b&&(M=b),y=k=1;y<=15;y++)if(k<<=1,(k-=D[y])<0)return-1;if(0<k&&(0===t||1!==w))return-1;for(E[1]=0,y=1;y<15;y++)E[y+1]=E[y]+D[y];for(_=0;_<r;_++)0!==e[n+_]&&(o[E[e[n+_]]++]=_);if(0===t?(L=Y=o,f=19):1===t?(L=O,C-=257,Y=R,A-=257,f=256):(L=H,Y=P,f=-1),y=b,h=a,x=_=T=0,c=-1,d=(S=1<<($=M))-1,1===t&&852<S||2===t&&592<S)return 1;for(;;){for(p=y-x,o[_]<f?(m=0,g=o[_]):o[_]>f?(m=Y[A+o[_]],g=L[C+o[_]]):(m=96,g=0),l=1<<y-x,b=u=1<<$;i[h+(T>>x)+(u-=l)]=p<<24|m<<16|g|0,0!==u;);for(l=1<<y-1;T&l;)l>>=1;if(0!==l?(T&=l-1,T+=l):T=0,_++,0==--D[y]){if(y===w)break;y=e[n+o[_]]}if(M<y&&(T&d)!==c){for(0===x&&(x=M),h+=b,k=1<<($=y-x);$+x<w&&!((k-=D[$+x])<=0);)$++,k<<=1;if(S+=1<<$,1===t&&852<S||2===t&&592<S)return 1;i[c=T&d]=M<<24|$<<16|h-a|0}}return 0!==T&&(i[h+T]=y-x<<24|64<<16|0),s.bits=M,0}},{"../utils/common":62}],72:[function(t,e,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(t,e,n){"use strict";var l=t("../utils/common"),s=4,u=0,c=1,d=2;function r(t){for(var e=t.length;0<=--e;)t[e]=0}var h=0,f=1,p=2,o=29,m=256,g=m+1+o,v=30,y=19,_=2*g+1,b=15,i=16,w=7,M=256,$=16,x=17,k=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(g+2));r(D);var E=new Array(2*v);r(E);var Y=new Array(512);r(Y);var A=new Array(256);r(A);var N=new Array(o);r(N);var O,R,H,P=new Array(v);function j(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function a(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function F(t){return t<256?Y[t]:Y[256+(t>>>7)]}function I(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function z(t,e,n){t.bi_valid>i-n?(t.bi_buf|=e<<t.bi_valid&65535,I(t,t.bi_buf),t.bi_buf=e>>i-t.bi_valid,t.bi_valid+=n-i):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function B(t,e,n){z(t,n[2*e],n[2*e+1])}function W(t,e){for(var n=0;n|=1&t,t>>>=1,n<<=1,0<--e;);return n>>>1}function U(t,e,n){var r,i,a=new Array(b+1),o=0;for(r=1;r<=b;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=W(a[s]++,s))}}function q(t){var e;for(e=0;e<g;e++)t.dyn_ltree[2*e]=0;for(e=0;e<v;e++)t.dyn_dtree[2*e]=0;for(e=0;e<y;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*M]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function V(t){8<t.bi_valid?I(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function G(t,e,n,r){var i=2*e,a=2*n;return t[i]<t[a]||t[i]===t[a]&&r[e]<=r[n]}function K(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&G(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!G(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function J(t,e,n){var r,i,a,o,s=0;if(0!==t.last_lit)for(;r=t.pending_buf[t.d_buf+2*s]<<8|t.pending_buf[t.d_buf+2*s+1],i=t.pending_buf[t.l_buf+s],s++,0===r?B(t,i,e):(B(t,(a=A[i])+m+1,e),0!==(o=S[a])&&z(t,i-=N[a],o),B(t,a=F(--r),n),0!==(o=T[a])&&z(t,r-=P[a],o)),s<t.last_lit;);B(t,M,e)}function X(t,e){var n,r,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=_,n=0;n<l;n++)0!==a[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=u,n=t.heap_len>>1;1<=n;n--)K(t,a,n);for(i=l;n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],K(t,a,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,a[2*i]=a[2*n]+a[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,a[2*n+1]=a[2*r+1]=i,t.heap[1]=i++,K(t,a,1),2<=t.heap_len;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,a,o,s,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,d=e.stat_desc.has_stree,h=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,m=0;for(a=0;a<=b;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<_;n++)p<(a=l[2*l[2*(r=t.heap[n])+1]+1]+1)&&(a=p,m++),l[2*r+1]=a,u<r||(t.bl_count[a]++,o=0,f<=r&&(o=h[r-f]),s=l[2*r],t.opt_len+=s*(a+o),d&&(t.static_len+=s*(c[2*r+1]+o)));if(0!==m){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,m-=2}while(0<m);for(a=p;0!==a;a--)for(r=t.bl_count[a];0!==r;)u<(i=t.heap[--n])||(l[2*i+1]!==a&&(t.opt_len+=(a-l[2*i+1])*l[2*i],l[2*i+1]=a),r--)}}(t,e),U(a,u,t.bl_count)}function Z(t,e,n){var r,i,a=-1,o=e[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=e[2*(r+1)+1],++s<l&&i===o||(s<u?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[2*$]++):s<=10?t.bl_tree[2*x]++:t.bl_tree[2*k]++,a=i,(s=0)===o?(l=138,u=3):i===o?(l=6,u=3):(l=7,u=4))}function Q(t,e,n){var r,i,a=-1,o=e[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),r=0;r<=n;r++)if(i=o,o=e[2*(r+1)+1],!(++s<l&&i===o)){if(s<u)for(;B(t,i,t.bl_tree),0!=--s;);else 0!==i?(i!==a&&(B(t,i,t.bl_tree),s--),B(t,$,t.bl_tree),z(t,s-3,2)):s<=10?(B(t,x,t.bl_tree),z(t,s-3,3)):(B(t,k,t.bl_tree),z(t,s-11,7));a=i,(s=0)===o?(l=138,u=3):i===o?(l=6,u=3):(l=7,u=4)}}r(P);var tt=!1;function et(t,e,n,r){var i,a,o,s;z(t,(h<<1)+(r?1:0),3),a=e,o=n,s=!0,V(i=t),s&&(I(i,o),I(i,~o)),l.arraySet(i.pending_buf,i.window,a,o,i.pending),i.pending+=o}n._tr_init=function(t){tt||(function(){var t,e,n,r,i,a=new Array(b+1);for(r=n=0;r<o-1;r++)for(N[r]=n,t=0;t<1<<S[r];t++)A[n++]=r;for(A[n-1]=r,r=i=0;r<16;r++)for(P[r]=i,t=0;t<1<<T[r];t++)Y[i++]=r;for(i>>=7;r<v;r++)for(P[r]=i<<7,t=0;t<1<<T[r]-7;t++)Y[256+i++]=r;for(e=0;e<=b;e++)a[e]=0;for(t=0;t<=143;)D[2*t+1]=8,t++,a[8]++;for(;t<=255;)D[2*t+1]=9,t++,a[9]++;for(;t<=279;)D[2*t+1]=7,t++,a[7]++;for(;t<=287;)D[2*t+1]=8,t++,a[8]++;for(U(D,g+1,a),t=0;t<v;t++)E[2*t+1]=5,E[2*t]=W(t,5);O=new j(D,S,m+1,g,b),R=new j(E,T,0,v,b),H=new j(new Array(0),L,0,y,w)}(),tt=!0),t.l_desc=new a(t.dyn_ltree,O),t.d_desc=new a(t.dyn_dtree,R),t.bl_desc=new a(t.bl_tree,H),t.bi_buf=0,t.bi_valid=0,q(t)},n._tr_stored_block=et,n._tr_flush_block=function(t,e,n,r){var i,a,o=0;0<t.level?(t.strm.data_type===d&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return u;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return c;for(e=32;e<m;e++)if(0!==t.dyn_ltree[2*e])return c;return u}(t)),X(t,t.l_desc),X(t,t.d_desc),o=function(t){var e;for(Z(t,t.dyn_ltree,t.l_desc.max_code),Z(t,t.dyn_dtree,t.d_desc.max_code),X(t,t.bl_desc),e=y-1;3<=e&&0===t.bl_tree[2*C[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==e?et(t,e,n,r):t.strategy===s||a===i?(z(t,(f<<1)+(r?1:0),3),J(t,D,E)):(z(t,(p<<1)+(r?1:0),3),function(t,e,n,r){var i;for(z(t,e-257,5),z(t,n-1,5),z(t,r-4,4),i=0;i<r;i++)z(t,t.bl_tree[2*C[i]+1],3);Q(t,t.dyn_ltree,e-1),Q(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),J(t,t.dyn_ltree,t.dyn_dtree)),q(t),r&&V(t)},n._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(A[n]+m+1)]++,t.dyn_dtree[2*F(e)]++),t.last_lit===t.lit_bufsize-1},n._tr_align=function(t){var e;z(t,f<<1,3),B(t,M,D),16===(e=t).bi_valid?(I(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":62}],74:[function(t,e,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[10])(10)}),function(t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):"undefined"!=typeof window?window.JSZipUtils=t():"undefined"!=typeof global?global.JSZipUtils=t():"undefined"!=typeof self&&(self.JSZipUtils=t())}(function(){return function i(a,o,s){function l(n,t){if(!o[n]){if(!a[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(u)return u(n,!0);throw new Error("Cannot find module '"+n+"'")}var r=o[n]={exports:{}};a[n][0].call(r.exports,function(t){var e=a[n][1][t];return l(e||t)},r,r.exports,i,a,o,s)}return o[n].exports}for(var u="function"==typeof require&&require,t=0;t<s.length;t++)l(s[t]);return l}({1:[function(t,e,n){"use strict";var o={};function r(){try{return new window.XMLHttpRequest}catch(t){}}o._getBinaryFromXHR=function(t){return t.response||t.responseText};var s=window.ActiveXObject?function(){return r()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}()}:r;o.getBinaryContent=function(r,i){try{var a=s();a.open("GET",r,!0),"responseType"in a&&(a.responseType="arraybuffer"),a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined"),a.onreadystatechange=function(t){var e,n;if(4===a.readyState)if(200===a.status||0===a.status){n=e=null;try{e=o._getBinaryFromXHR(a)}catch(t){n=new Error(t)}i(n,e)}else i(new Error("Ajax error for "+r+" : "+this.status+" "+this.statusText),null)},a.send()}catch(t){i(new Error(t),null)}},e.exports=o},{}]},{},[1])(1)}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.proj4=e()}(this,function(){"use strict";function M(t,e){if(t[e])return t[e];for(var n,r=Object.keys(t),i=e.toLowerCase().replace(W,""),a=-1;++a<r.length;)if((n=r[a]).toLowerCase().replace(W,"")===i)return t[n]}function a(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=q}function i(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var r=e?{}:t,i=n.reduce(function(t,e){return o(e,t),t},r);e&&(t[e]=i)}function o(t,e){if(Array.isArray(t)){var n,r=t.shift();if("PARAMETER"===r&&(r=t.shift()),1===t.length)return Array.isArray(t[0])?(e[r]={},void o(t[0],e[r])):void(e[r]=t[0]);if(t.length)if("TOWGS84"!==r)switch(Array.isArray(r)||(e[r]={}),r){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[r]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&o(t[2],e[r]));case"SPHEROID":case"ELLIPSOID":return e[r]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&o(t[3],e[r]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void i(e,r,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return o(t,e[r]);return i(e,r,t)}else e[r]=t;else e[r]=!0}else e[t]=!0}function s(t){return t*Q}function r(t){var e=this;if(2===arguments.length){var n=arguments[1];r[t]="string"==typeof n?"+"===n.charAt(0)?U(arguments[1]):tt(arguments[1]):n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?r.apply(e,t):r(t)});if("string"==typeof t){if(t in r)return r[t]}else"EPSG"in t?r["EPSG:"+t.EPSG]=t:"ESRI"in t?r["ESRI:"+t.ESRI]=t:"IAU2000"in t?r["IAU2000:"+t.IAU2000]=t:console.log(t);return}}function $(t){return"string"==typeof t?t in r?r[t]:(e=t,et.some(function(t){return-1<e.indexOf(t)})?tt(t):"+"===t[0]?U(t):void 0):t;var e}function t(t){return t}function e(t,e){var n=ct.length;return t.names?((ct[n]=t).names.forEach(function(t){ut[t.toLowerCase()]=n}),this):(console.log(e),!0)}function x(t,e){if(!(this instanceof x))return new x(t);e=e||function(t){if(t)throw t};var n=$(t);if("object"==typeof n){var r=x.projections.get(n.projName);if(r){if(n.datumCode&&"none"!==n.datumCode){var i=M(pt,n.datumCode);i&&(n.datum_params=i.towgs84?i.towgs84.split(","):null,n.ellps=i.ellipse,n.datumName=i.datumName?i.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var a,o,s,l,u,c,d,h,f,p,m,g,v,y,_=function(t,e,n,r,i){if(!t){var a=M(ht,r);a||(a=ft),t=a.a,e=a.b,n=a.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<R)&&(i=!0,e=t),{a:t,b:e,rf:n,sphere:i}}(n.a,n.b,n.rf,n.ellps,n.sphere),b=(h=_.a,f=_.b,_.rf,p=n.R_A,v=((m=h*h)-(g=f*f))/m,y=0,p?(m=(h*=1-v*(A+v*(N+v*O)))*h,v=0):y=Math.sqrt(v),{es:v,e:y,ep2:(m-g)/g}),w=n.datum||(a=n.datumCode,o=n.datum_params,s=_.a,l=_.b,u=b.es,c=b.ep2,(d={}).datum_type=void 0===a||"none"===a?D:C,o&&(d.datum_params=o.map(parseFloat),0===d.datum_params[0]&&0===d.datum_params[1]&&0===d.datum_params[2]||(d.datum_type=T),3<d.datum_params.length&&(0===d.datum_params[3]&&0===d.datum_params[4]&&0===d.datum_params[5]&&0===d.datum_params[6]||(d.datum_type=L,d.datum_params[3]*=E,d.datum_params[4]*=E,d.datum_params[5]*=E,d.datum_params[6]=d.datum_params[6]/1e6+1))),d.a=s,d.b=l,d.es=u,d.ep2=c,d);nt(this,n),nt(this,r),this.a=_.a,this.b=_.b,this.rf=_.rf,this.sphere=_.sphere,this.es=b.es,this.e=b.e,this.ep2=b.ep2,this.datum=w,this.init(),e(null,this)}else e(t)}else e(t)}function l(t){return t===T||t===L}function n(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function u(t,e,n){var r,i,a;return Array.isArray(n)&&(n=vt(n)),yt(n),t.datum&&e.datum&&(a=e,((i=t).datum.datum_type===T||i.datum.datum_type===L)&&"WGS84"!==a.datumCode||(a.datum.datum_type===T||a.datum.datum_type===L)&&"WGS84"!==i.datumCode)&&(n=u(t,r=new x("WGS84"),n),t=r),"enu"!==t.axis&&(n=gt(t,!1,n)),"longlat"===t.projName?n={x:n.x*H,y:n.y*H}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=mt(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y}),"longlat"===e.projName?n={x:n.x*P,y:n.y*P}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter})),"enu"!==e.axis?gt(e,!0,n):n}function c(t,e,n){var r,i,a;return Array.isArray(n)?(r=u(t,e,n),3===n.length?[r.x,r.y,r.z]:[r.x,r.y]):(i=u(t,e,n),2===(a=Object.keys(n)).length||a.forEach(function(t){"x"!==t&&"y"!==t&&(i[t]=n[t])}),i)}function d(t){return t instanceof x?t:t.oProj?t.oProj:x(t)}function h(e,n,t){e=d(e);var r,i=!1;return void 0===n?(n=e,e=_t,i=!0):(void 0!==n.x||Array.isArray(n))&&(t=n,n=e,e=_t,i=!0),n=d(n),t?c(e,n,t):(r={forward:function(t){return c(e,n,t)},inverse:function(t){return c(n,e,t)}},i&&(r.oProj=n),r)}function f(t,e){return e=e||5,n=function(t){var e,n,r,i,a,o,s,l,u=t.lat,c=t.lon,d=.00669438,h=b(u),f=b(c);l=Math.floor((c+180)/6)+1,180===c&&(l=60),56<=u&&u<64&&3<=c&&c<12&&(l=32),72<=u&&u<84&&(0<=c&&c<9?l=31:9<=c&&c<21?l=33:21<=c&&c<33?l=35:33<=c&&c<42&&(l=37)),s=b(6*(l-1)-180+3),e=d/(1-d),n=6378137/Math.sqrt(1-d*Math.sin(h)*Math.sin(h)),r=Math.tan(h)*Math.tan(h),i=e*Math.cos(h)*Math.cos(h),a=Math.cos(h)*(f-s),o=6378137*(.9983242984503243*h-.002514607064228144*Math.sin(2*h)+2639046602129982e-21*Math.sin(4*h)-35*d*d*d/3072*Math.sin(6*h));var p=.9996*n*(a+(1-r+i)*a*a*a/6+(5-18*r+r*r+72*i-58*e)*a*a*a*a*a/120)+5e5,m=.9996*(o+n*Math.tan(h)*(a*a/2+(5-r+9*i+4*i*i)*a*a*a*a/24+(61-58*r+r*r+600*i-330*e)*a*a*a*a*a*a/720));return u<0&&(m+=1e7),{northing:Math.round(m),easting:Math.round(p),zoneNumber:l,zoneLetter:(g=u,v="Z",g<=84&&72<=g?v="X":g<72&&64<=g?v="W":g<64&&56<=g?v="V":g<56&&48<=g?v="U":g<48&&40<=g?v="T":g<40&&32<=g?v="S":g<32&&24<=g?v="R":g<24&&16<=g?v="Q":g<16&&8<=g?v="P":g<8&&0<=g?v="N":g<0&&-8<=g?v="M":g<-8&&-16<=g?v="L":g<-16&&-24<=g?v="K":g<-24&&-32<=g?v="J":g<-32&&-40<=g?v="H":g<-40&&-48<=g?v="G":g<-48&&-56<=g?v="F":g<-56&&-64<=g?v="E":g<-64&&-72<=g?v="D":g<-72&&-80<=g&&(v="C"),v)};var g,v}({lat:t[1],lon:t[0]}),r=e,i="00000"+n.easting,a="00000"+n.northing,n.zoneNumber+n.zoneLetter+(o=n.easting,s=n.northing,l=n.zoneNumber,u=w(l),c=Math.floor(o/1e5),d=Math.floor(s/1e5)%20,h=c,f=d,p=u-1,m=wt.charCodeAt(p),g=Mt.charCodeAt(p),_=!1,Tt<(v=m+h-1)&&(v=v-Tt+$t-1,_=!0),(v===xt||m<xt&&xt<v||(xt<v||m<xt)&&_)&&v++,(v===kt||m<kt&&kt<v||(kt<v||m<kt)&&_)&&++v===xt&&v++,Tt<v&&(v=v-Tt+$t-1),St<(y=g+f)?(y=y-St+$t-1,_=!0):_=!1,(y===xt||g<xt&&xt<y||(xt<y||g<xt)&&_)&&y++,(y===kt||g<kt&&kt<y||(kt<y||g<kt)&&_)&&++y===xt&&y++,St<y&&(y=y-St+$t-1),String.fromCharCode(v)+String.fromCharCode(y))+i.substr(i.length-5,r)+a.substr(a.length-5,r);var n,r,i,a,o,s,l,u,c,d,h,f,p,m,g,v,y,_}function p(t){var e=S(m(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function b(t){return t*(Math.PI/180)}function k(t){return t/Math.PI*180}function S(t){var e=t.northing,n=t.easting,r=t.zoneLetter,i=t.zoneNumber;if(i<0||60<i)return null;var a,o,s,l,u,c,d,h,f,p=.00669438,m=(1-Math.sqrt(1-p))/(1+Math.sqrt(1-p)),g=n-5e5,v=e;r<"N"&&(v-=1e7),d=6*(i-1)-180+3,a=p/(1-p),f=(h=v/.9996/6367449.145945056)+(3*m/2-27*m*m*m/32)*Math.sin(2*h)+(21*m*m/16-55*m*m*m*m/32)*Math.sin(4*h)+151*m*m*m/96*Math.sin(6*h),o=6378137/Math.sqrt(1-p*Math.sin(f)*Math.sin(f)),s=Math.tan(f)*Math.tan(f),l=a*Math.cos(f)*Math.cos(f),u=6378137*(1-p)/Math.pow(1-p*Math.sin(f)*Math.sin(f),1.5),c=g/(.9996*o);var y=f-o*Math.tan(f)/u*(c*c/2-(5+3*s+10*l-4*l*l-9*a)*c*c*c*c/24+(61+90*s+298*l+45*s*s-252*a-3*l*l)*c*c*c*c*c*c/720);y=k(y);var _,b=(c-(1+2*s+l)*c*c*c/6+(5-2*l+28*s-3*l*l+8*a+24*s*s)*c*c*c*c*c/120)/Math.cos(f);if(b=d+k(b),t.accuracy){var w=S({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});_={top:w.lat,right:w.lon,bottom:y,left:b}}else _={lat:y,lon:b};return _}function w(t){var e=t%bt;return 0===e&&(e=bt),e}function m(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,r=null,i="",a=0;!/[A-Z]/.test(e=t.charAt(a));){if(2<=a)throw"MGRSPoint bad conversion from: "+t;i+=e,a++}var o=parseInt(i,10);if(0===a||n<a+3)throw"MGRSPoint bad conversion from: "+t;var s=t.charAt(a++);if(s<="A"||"B"===s||"Y"===s||"Z"<=s||"I"===s||"O"===s)throw"MGRSPoint zone letter "+s+" not handled: "+t;r=t.substring(a,a+=2);for(var l=w(o),u=function(t,e){for(var n=wt.charCodeAt(e-1),r=1e5,i=!1;n!==t.charCodeAt(0);){if(++n===xt&&n++,n===kt&&n++,Tt<n){if(i)throw"Bad character: "+t;n=$t,i=!0}r+=1e5}return r}(r.charAt(0),l),c=function(t,e){if("V"<t)throw"MGRSPoint given invalid Northing "+t;for(var n=Mt.charCodeAt(e-1),r=0,i=!1;n!==t.charCodeAt(0);){if(++n===xt&&n++,n===kt&&n++,St<n){if(i)throw"Bad character: "+t;n=$t,i=!0}r+=1e5}return r}(r.charAt(1),l);c<y(s);)c+=2e6;var d=n-a;if(d%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var h,f,p,m=d/2,g=0,v=0;return 0<m&&(h=1e5/Math.pow(10,m),f=t.substring(a,a+m),g=parseFloat(f)*h,p=t.substring(a+m),v=parseFloat(p)*h),{easting:g+u,northing:v+c,zoneLetter:s,zoneNumber:o,accuracy:h}}function y(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(0<=e)return e;throw"Invalid zone letter: "+t}function g(t,e,n){if(!(this instanceof g))return new g(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function v(t,e,n,r){var i;return t<R?(r.value=Ne.AREA_0,i=0):(i=Math.atan2(e,n),Math.abs(i)<=j?r.value=Ne.AREA_0:j<i&&i<=Y+j?(r.value=Ne.AREA_1,i-=Y):Y+j<i||i<=-(Y+j)?(r.value=Ne.AREA_2,i=0<=i?i-I:i+I):(r.value=Ne.AREA_3,i+=Y)),i}function _(t,e){var n=t+e;return n<-I?n+=F:+I<n&&(n-=F),n}var T=1,L=2,C=4,D=5,E=484813681109536e-20,Y=Math.PI/2,A=.16666666666666666,N=.04722222222222222,O=.022156084656084655,R=1e-10,H=.017453292519943295,P=57.29577951308232,j=Math.PI/4,F=2*Math.PI,I=3.14159265359,z={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},B={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},W=/[\s_\-\/\(\)]/g,U=function(t){var e,n,r,i={},a=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),o={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*H},lat_1:function(t){i.lat1=t*H},lat_2:function(t){i.lat2=t*H},lat_ts:function(t){i.lat_ts=t*H},lon_0:function(t){i.long0=t*H},lon_1:function(t){i.long1=t*H},lon_2:function(t){i.long2=t*H},alpha:function(t){i.alpha=parseFloat(t)*H},lonc:function(t){i.longc=t*H},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;var e=M(B,t);e&&(i.to_meter=e.to_meter)},from_greenwich:function(t){i.from_greenwich=t*H},pm:function(t){var e=M(z,t);i.from_greenwich=(e||parseFloat(t))*H},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(i.axis=t)}};for(e in a)n=a[e],e in o?"function"==typeof(r=o[e])?r(n):i[r]=n:i[e]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i},q=1,V=/\s/,G=/[A-Za-z]/,K=/[A-Za-z84]/,J=/[,\]]/,X=/[\d\.E\-\+]/;a.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;V.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case q:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},a.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(J.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},a.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=q)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=q,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},a.prototype.number=function(t){if(!X.test(t)){if(J.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},a.prototype.quoted=function(t){return'"'===t?void(this.state=5):void(this.word+=t)},a.prototype.keyword=function(t){if(K.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=q)}if(!J.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},a.prototype.neutral=function(t){if(G.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(X.test(t))return this.word=t,void(this.state=3);if(!J.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},a.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var Z,Q=.017453292519943295,tt=function(t){var e=new a(t).output(),n=e.shift(),r=e.shift();e.unshift(["name",r]),e.unshift(["type",n]);var i={};return o(e,i),function(a){function t(t){return t*(a.to_meter||1)}"GEOGCS"===a.type?a.projName="longlat":"LOCAL_CS"===a.type?(a.projName="identity",a.local=!0):"object"==typeof a.PROJECTION?a.projName=Object.keys(a.PROJECTION)[0]:a.projName=a.PROJECTION,a.UNIT&&(a.units=a.UNIT.name.toLowerCase(),"metre"===a.units&&(a.units="meter"),a.UNIT.convert&&("GEOGCS"===a.type?a.DATUM&&a.DATUM.SPHEROID&&(a.to_meter=a.UNIT.convert*a.DATUM.SPHEROID.a):a.to_meter=a.UNIT.convert));var e=a.GEOGCS;"GEOGCS"===a.type&&(e=a),e&&(e.DATUM?a.datumCode=e.DATUM.name.toLowerCase():a.datumCode=e.name.toLowerCase(),"d_"===a.datumCode.slice(0,2)&&(a.datumCode=a.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==a.datumCode&&"new_zealand_1949"!==a.datumCode||(a.datumCode="nzgd49"),"wgs_1984"===a.datumCode&&("Mercator_Auxiliary_Sphere"===a.PROJECTION&&(a.sphere=!0),a.datumCode="wgs84"),"_ferro"===a.datumCode.slice(-6)&&(a.datumCode=a.datumCode.slice(0,-6)),"_jakarta"===a.datumCode.slice(-8)&&(a.datumCode=a.datumCode.slice(0,-8)),~a.datumCode.indexOf("belge")&&(a.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(a.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===a.ellps.toLowerCase().slice(0,13)&&(a.ellps="intl"),a.a=e.DATUM.SPHEROID.a,a.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),~a.datumCode.indexOf("osgb_1936")&&(a.datumCode="osgb36"),~a.datumCode.indexOf("osni_1952")&&(a.datumCode="osni52"),(~a.datumCode.indexOf("tm65")||~a.datumCode.indexOf("geodetic_datum_of_1965"))&&(a.datumCode="ire65")),a.b&&!isFinite(a.b)&&(a.b=a.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",s],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",s],["x0","false_easting",t],["y0","false_northing",t],["long0","central_meridian",s],["lat0","latitude_of_origin",s],["lat0","standard_parallel_1",s],["lat1","standard_parallel_1",s],["lat2","standard_parallel_2",s],["alpha","azimuth",s],["srsCode","name"]].forEach(function(t){return e=a,r=(n=t)[0],i=n[1],void(!(r in e)&&i in e&&(e[r]=e[i],3===n.length&&(e[r]=n[2](e[r]))));var e,n,r,i}),a.long0||!a.longc||"Albers_Conic_Equal_Area"!==a.projName&&"Lambert_Azimuthal_Equal_Area"!==a.projName||(a.long0=a.longc),a.lat_ts||!a.lat1||"Stereographic_South_Pole"!==a.projName&&"Polar Stereographic (variant B)"!==a.projName||(a.lat0=s(0<a.lat1?90:-90),a.lat_ts=a.lat1)}(i),i};(Z=r)("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),Z("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),Z("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),Z.WGS84=Z["EPSG:4326"],Z["EPSG:3785"]=Z["EPSG:3857"],Z.GOOGLE=Z["EPSG:3857"],Z["EPSG:900913"]=Z["EPSG:3857"],Z["EPSG:102113"]=Z["EPSG:3857"];var et=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],nt=function(t,e){var n,r;if(t=t||{},!e)return t;for(r in e)void 0!==(n=e[r])&&(t[r]=n);return t},rt=function(t,e,n){var r=t*e;return n/Math.sqrt(1-r*r)},it=function(t){return t<0?-1:1},at=function(t){return Math.abs(t)<=I?t:t-it(t)*F},ot=function(t,e,n){var r=t*n,i=.5*t;return r=Math.pow((1-r)/(1+r),i),Math.tan(.5*(Y-e))/r},st=function(t,e){for(var n,r,i=.5*t,a=Y-2*Math.atan(e),o=0;o<=15;o++)if(n=t*Math.sin(a),a+=r=Y-2*Math.atan(e*Math.pow((1-n)/(1+n),i))-a,Math.abs(r)<=1e-10)return a;return-9999},lt=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=rt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,r=t.x,i=t.y;if(90<i*P&&i*P<-90&&180<r*P&&r*P<-180)return null;if(Math.abs(Math.abs(i)-Y)<=R)return null;if(this.sphere)e=this.x0+this.a*this.k0*at(r-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(j+.5*i));else{var a=Math.sin(i),o=ot(this.e,i,a);e=this.x0+this.a*this.k0*at(r-this.long0),n=this.y0-this.a*this.k0*Math.log(o)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r=t.x-this.x0,i=t.y-this.y0;if(this.sphere)n=Y-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var a=Math.exp(-i/(this.a*this.k0));if(-9999===(n=st(this.e,a)))return null}return e=at(this.long0+r/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:t,inverse:t,names:["longlat","identity"]}],ut={},ct=[],dt={start:function(){lt.forEach(e)},add:e,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==ut[e]&&ct[ut[e]]?ct[ut[e]]:void 0}},ht={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},ft=ht.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};ht.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var pt={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};(x.projections=dt).start();var mt=function(t,e,n){return i=e,(r=t).datum_type===i.datum_type&&!(r.a!==i.a||5e-11<Math.abs(r.es-i.es))&&(r.datum_type===T?r.datum_params[0]===i.datum_params[0]&&r.datum_params[1]===i.datum_params[1]&&r.datum_params[2]===i.datum_params[2]:r.datum_type!==L||r.datum_params[0]===i.datum_params[0]&&r.datum_params[1]===i.datum_params[1]&&r.datum_params[2]===i.datum_params[2]&&r.datum_params[3]===i.datum_params[3]&&r.datum_params[4]===i.datum_params[4]&&r.datum_params[5]===i.datum_params[5]&&r.datum_params[6]===i.datum_params[6])?n:t.datum_type===D||e.datum_type===D?n:t.es!==e.es||t.a!==e.a||l(t.datum_type)||l(e.datum_type)?(n=function(t,e,n){var r,i,a,o,s=t.x,l=t.y,u=t.z?t.z:0;if(l<-Y&&-1.001*Y<l)l=-Y;else if(Y<l&&l<1.001*Y)l=Y;else if(l<-Y||Y<l)return null;return s>Math.PI&&(s-=2*Math.PI),i=Math.sin(l),o=Math.cos(l),a=i*i,{x:((r=n/Math.sqrt(1-e*a))+u)*o*Math.cos(s),y:(r+u)*o*Math.sin(s),z:(r*(1-e)+u)*i}}(n,t.es,t.a),l(t.datum_type)&&(n=function(t,e,n){if(e===T)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===L){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6];return{x:u*(t.x-l*t.y+s*t.z)+r,y:u*(l*t.x+t.y-o*t.z)+i,z:u*(-s*t.x+o*t.y+t.z)+a}}}(n,t.datum_type,t.datum_params)),l(e.datum_type)&&(n=function(t,e,n){if(e===T)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===L){var r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=(t.x-r)/u,d=(t.y-i)/u,h=(t.z-a)/u;return{x:c+l*d-s*h,y:-l*c+d+o*h,z:s*c-o*d+h}}}(n,e.datum_type,e.datum_params)),function(t,e,n,r){var i,a,o,s,l,u,c,d,h,f,p,m,g,v,y,_=t.x,b=t.y,w=t.z?t.z:0;if(i=Math.sqrt(_*_+b*b),a=Math.sqrt(_*_+b*b+w*w),i/n<1e-12){if(v=0,a/n<1e-12)return y=-r,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(b,_);for(o=w/a,d=(s=i/a)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*s*s)),h=o*l,g=0;g++,u=e*(c=n/Math.sqrt(1-e*h*h))/(c+(y=i*d+w*h-c*(1-e*h*h))),m=(p=o*(l=1/Math.sqrt(1-u*(2-u)*s*s)))*d-(f=s*(1-u)*l)*h,d=f,h=p,1e-24<m*m&&g<30;);return{x:v,y:Math.atan(p/Math.abs(f)),z:y}}(n,e.es,e.a,e.b)):n;var r,i},gt=function(t,e,n){var r,i,a,o=n.x,s=n.y,l=n.z||0,u={};for(a=0;a<3;a++)if(!e||2!==a||void 0!==n.z)switch(0===a?(r=o,i="x"):1===a?(r=s,i="y"):(r=l,i="z"),t.axis[a]){case"e":u[i]=r;break;case"w":u[i]=-r;break;case"n":u[i]=r;break;case"s":u[i]=-r;break;case"u":void 0!==n[i]&&(u.z=r);break;case"d":void 0!==n[i]&&(u.z=-r);break;default:return null}return u},vt=function(t){var e={x:t[0],y:t[1]};return 2<t.length&&(e.z=t[2]),3<t.length&&(e.m=t[3]),e},yt=function(t){n(t.x),n(t.y)},_t=x("WGS84"),bt=6,wt="AJSAJS",Mt="AFAFAF",$t=65,xt=73,kt=79,St=86,Tt=90,Lt={forward:f,inverse:function(t){var e=S(m(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},toPoint:p};g.fromMGRS=function(t){return new g(p(t))},g.prototype.toMGRS=function(t){return f([this.x,this.y],t)};var Ct,Dt=.01068115234375,Et=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Dt))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*Dt)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},Yt=function(t,e,n,r){return n*=e,e*=e,r[0]*t-n*(r[1]+e*(r[2]+e*(r[3]+e*r[4])))},At=function(t,e,n){for(var r=1/(1-e),i=t,a=20;a;--a){var o=Math.sin(i),s=1-e*o*o;if(i-=s=(Yt(i,o,Math.cos(i),n)-t)*(s*Math.sqrt(s))*r,Math.abs(s)<R)return i}return i},Nt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Et(this.es),this.ml0=Yt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,r,i=t.x,a=t.y,o=at(i-this.long0),s=Math.sin(a),l=Math.cos(a);if(this.es){var u=l*o,c=Math.pow(u,2),d=this.ep2*Math.pow(l,2),h=Math.pow(d,2),f=Math.abs(l)>R?Math.tan(a):0,p=Math.pow(f,2),m=Math.pow(p,2);e=1-this.es*Math.pow(s,2),u/=Math.sqrt(e);var g=Yt(a,s,l,this.en);n=this.a*(this.k0*u*(1+c/6*(1-p+d+c/20*(5-18*p+m+14*d-58*p*d+c/42*(61+179*m-m*p-479*p)))))+this.x0,r=this.a*(this.k0*(g-this.ml0+s*o*u/2*(1+c/12*(5-p+9*d+4*h+c/30*(61+m-58*p+270*d-330*p*d+c/56*(1385+543*m-m*p-3111*p))))))+this.y0}else{var v=l*Math.sin(o);if(Math.abs(Math.abs(v)-1)<R)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,r=l*Math.cos(o)/Math.sqrt(1-Math.pow(v,2)),1<=(v=Math.abs(r))){if(R<v-1)return 93;r=0}else r=Math.acos(r);a<0&&(r=-r),r=this.a*this.k0*(r-this.lat0)+this.y0}return t.x=n,t.y=r,t},inverse:function(t){var e,n,r,i,a=(t.x-this.x0)*(1/this.a),o=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+o/this.k0,n=At(e,this.es,this.en),Math.abs(n)<Y){var s=Math.sin(n),l=Math.cos(n),u=Math.abs(l)>R?Math.tan(n):0,c=this.ep2*Math.pow(l,2),d=Math.pow(c,2),h=Math.pow(u,2),f=Math.pow(h,2);e=1-this.es*Math.pow(s,2);var p=a*Math.sqrt(e)/this.k0,m=Math.pow(p,2);r=n-(e*=u)*m/(1-this.es)*.5*(1-m/12*(5+3*h-9*c*h+c-4*d-m/30*(61+90*h-252*c*h+45*f+46*c-m/56*(1385+3633*h+4095*f+1574*f*h)))),i=at(this.long0+p*(1-m/6*(1+2*h+c-m/20*(5+28*h+24*f+8*c*h+6*c-m/42*(61+662*h+1320*f+720*f*h))))/l)}else r=Y*it(o),i=0;else{var g=Math.exp(a/this.k0),v=.5*(g-1/g),y=this.lat0+o/this.k0,_=Math.cos(y);e=Math.sqrt((1-Math.pow(_,2))/(1+Math.pow(v,2))),r=Math.asin(e),o<0&&(r=-r),i=0===v&&0===_?0:at(Math.atan2(v,_)+this.long0)}return t.x=i,t.y=r,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},Ot=function(t){var e=Math.exp(t);return(e-1/e)/2},Rt=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),r=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(r,2))},Ht=function(t){var e,n,r,i=Math.abs(t);return e=i*(1+i/(Rt(1,i)+1)),i=0===(r=(n=1+e)-1)?e:e*Math.log(n)/r,t<0?-i:i},Pt=function(t,e){for(var n,r=2*Math.cos(2*e),i=t.length-1,a=t[i],o=0;0<=--i;)n=r*a-o+t[i],o=a,a=n;return e+n*Math.sin(2*e)},jt=function(t,e){for(var n,r=2*Math.cos(e),i=t.length-1,a=t[i],o=0;0<=--i;)n=r*a-o+t[i],o=a,a=n;return Math.sin(e)*n},Ft=function(t,e,n){for(var r,i,a=Math.sin(e),o=Math.cos(e),s=Ot(n),l=(g=n,v=void 0,((v=Math.exp(g))+1/v)/2),u=2*o*l,c=-2*a*s,d=t.length-1,h=t[d],f=0,p=0,m=0;0<=--d;)r=p,i=f,h=u*(p=h)-r-c*(f=m)+t[d],m=c*p-i+u*f;var g,v;return[(u=a*l)*h-(c=o*s)*m,u*m+c*h]},It={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var r=Pt(this.cbg,this.lat0);this.Zb=-this.Qn*(r+jt(this.gtu,2*r))},forward:function(t){var e=at(t.x-this.long0),n=t.y;n=Pt(this.cbg,n);var r=Math.sin(n),i=Math.cos(n),a=Math.sin(e),o=Math.cos(e);n=Math.atan2(r,o*i),e=Math.atan2(a*i,Rt(r,i*o)),e=Ht(Math.tan(e));var s,l,u=Ft(this.gtu,2*n,2*e);return n+=u[0],e+=u[1],Math.abs(e)<=2.623395162778?(s=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):l=s=1/0,t.x=s,t.y=l,t},inverse:function(t){var e,n,r=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,r/=this.Qn,Math.abs(r)<=2.623395162778){var a=Ft(this.utg,2*i,2*r);i+=a[0],r+=a[1],r=Math.atan(Ot(r));var o=Math.sin(i),s=Math.cos(i),l=Math.sin(r),u=Math.cos(r);i=Math.atan2(o*u,Rt(l,u*s)),r=Math.atan2(l,u*s),e=at(r+this.long0),n=Pt(this.cgb,i)}else n=e=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},zt=function(t,e){if(void 0===t){if((t=Math.floor(30*(at(e)+Math.PI)/Math.PI)+1)<0)return 0;if(60<t)return 60}return t},Bt={init:function(){var t=zt(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*H,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,It.init.apply(this),this.forward=It.forward,this.inverse=It.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Wt=function(t,e){return Math.pow((1-t)/(1+t),e)},Ut=20,qt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+j)/(Math.pow(Math.tan(.5*this.lat0+j),this.C)*Wt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+j),this.C)*Wt(this.e*Math.sin(n),this.ratexp))-Y,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,r=Math.pow(Math.tan(.5*n+j)/this.K,1/this.C),i=Ut;0<i&&(n=2*Math.atan(r*Wt(this.e*Math.sin(t.y),-.5*this.e))-Y,!(Math.abs(n-t.y)<1e-14));--i)t.y=n;return i?(t.x=e,t.y=n,t):null},names:["gauss"]},Vt={init:function(){qt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,r,i;return t.x=at(t.x-this.long0),qt.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),r=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*r),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*e-this.sinc0*n*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,r,i,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var o=2*Math.atan2(a,this.R2);e=Math.sin(o),n=Math.cos(o),i=Math.asin(n*this.sinc0+t.y*e*this.cosc0/a),r=Math.atan2(t.x*e,a*this.cosc0*n-t.y*this.sinc0*e)}else i=this.phic0,r=0;return t.x=r,t.y=i,qt.inverse.apply(this,[t]),t.x=at(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},Gt={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=R&&(this.k0=.5*(1+it(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=R&&(0<this.lat0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=R&&(this.k0=.5*this.cons*rt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ot(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=rt(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Y,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,r,i,a,o,s=t.x,l=t.y,u=Math.sin(l),c=Math.cos(l),d=at(s-this.long0);return Math.abs(Math.abs(s-this.long0)-Math.PI)<=R&&Math.abs(l+this.lat0)<=R?(t.x=NaN,t.y=NaN):this.sphere?(e=2*this.k0/(1+this.sinlat0*u+this.coslat0*c*Math.cos(d)),t.x=this.a*e*c*Math.sin(d)+this.x0,t.y=this.a*e*(this.coslat0*u-this.sinlat0*c*Math.cos(d))+this.y0):(n=2*Math.atan(this.ssfn_(l,u,this.e))-Y,i=Math.cos(n),r=Math.sin(n),Math.abs(this.coslat0)<=R?(a=ot(this.e,l*this.con,this.con*u),o=2*this.a*this.k0*a/this.cons,t.x=this.x0+o*Math.sin(s-this.long0),t.y=this.y0-this.con*o*Math.cos(s-this.long0)):(Math.abs(this.sinlat0)<R?(e=2*this.a*this.k0/(1+i*Math.cos(d)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*i*Math.cos(d))),t.y=e*(this.cosX0*r-this.sinX0*i*Math.cos(d))+this.y0),t.x=e*i*Math.sin(d)+this.x0)),t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,a,o=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var s=2*Math.atan(o/(.5*this.a*this.k0));return e=this.long0,n=this.lat0,o<=R||(n=Math.asin(Math.cos(s)*this.sinlat0+t.y*Math.sin(s)*this.coslat0/o),e=at(Math.abs(this.coslat0)<R?0<this.lat0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(s),o*this.coslat0*Math.cos(s)-t.y*this.sinlat0*Math.sin(s)))),t.x=e,t.y=n,t}if(Math.abs(this.coslat0)<=R){if(o<=R)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,r=o*this.cons/(2*this.a*this.k0),n=this.con*st(this.e,r),e=this.con*at(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(o*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,o<=R?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/o),e=at(this.long0+Math.atan2(t.x*Math.sin(i),o*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*st(this.e,Math.tan(.5*(Y+a)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(Y+t))*Math.pow((1-e)/(1+e),.5*n)}},Kt={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,r=1/this.rf,i=2*r-Math.pow(r,2),a=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(e,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var o=Math.log(Math.tan(Math.PI/4+this.b0/2)),s=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+a*e)/(1-a*e));this.K=o-this.alpha*s+this.alpha*a/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),r=-this.alpha*(e+n)+this.K,i=2*(Math.atan(Math.exp(r))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),s=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(s))/(1-Math.sin(s)))+this.y0,t.x=this.R*o+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,r=e/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r)),o=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i))),s=this.lambda0+o/this.alpha,l=0,u=a,c=-1e3,d=0;1e-7<Math.abs(u-c);){if(20<++d)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=s,t.y=u,t},names:["somerc"]},Jt={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var r,i,a=ot(this.e,this.lat0,t),o=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(o*o<1&&(o=1),isNaN(this.longc)){var s=ot(this.e,this.lat1,Math.sin(this.lat1)),l=ot(this.e,this.lat2,Math.sin(this.lat2));0<=this.lat0?this.el=(o+Math.sqrt(o*o-1))*Math.pow(a,this.bl):this.el=(o-Math.sqrt(o*o-1))*Math.pow(a,this.bl);var u=Math.pow(s,this.bl),c=Math.pow(l,this.bl);i=.5*((r=this.el/u)-1/r);var d=(this.el*this.el-c*u)/(this.el*this.el+c*u),h=(c-u)/(c+u),f=at(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(d*Math.tan(.5*this.bl*f)/h)/this.bl,this.long0=at(this.long0);var p=at(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*p)/i),this.alpha=Math.asin(o*Math.sin(this.gamma0))}else r=0<=this.lat0?o+Math.sqrt(o*o-1):o-Math.sqrt(o*o-1),this.el=r*Math.pow(a,this.bl),i=.5*(r-1/r),this.gamma0=Math.asin(Math.sin(this.alpha)/o),this.long0=this.longc-Math.asin(i*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:0<=this.lat0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha))},forward:function(t){var e,n,r,i=t.x,a=t.y,o=at(i-this.long0);if(Math.abs(Math.abs(a)-Y)<=R)r=0<a?-1:1,n=this.al/this.bl*Math.log(Math.tan(j+r*this.gamma0*.5)),e=-1*r*Y*this.al/this.bl;else{var s=ot(this.e,a,Math.sin(a)),l=this.el/Math.pow(s,this.bl),u=.5*(l-1/l),c=.5*(l+1/l),d=Math.sin(this.bl*o),h=(u*Math.sin(this.gamma0)-d*Math.cos(this.gamma0))/c;n=Math.abs(Math.abs(h)-1)<=R?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-h)/(1+h))/this.bl,e=Math.abs(Math.cos(this.bl*o))<=R?this.al*this.bl*o:this.al*Math.atan2(u*Math.cos(this.gamma0)+d*Math.sin(this.gamma0),Math.cos(this.bl*o))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var r=Math.exp(-1*this.bl*n/this.al),i=.5*(r-1/r),a=.5*(r+1/r),o=Math.sin(this.bl*e/this.al),s=(o*Math.cos(this.gamma0)+i*Math.sin(this.gamma0))/a,l=Math.pow(this.el/Math.sqrt((1+s)/(1-s)),1/this.bl);return Math.abs(s-1)<R?(t.x=this.long0,t.y=Y):Math.abs(s+1)<R?(t.x=this.long0,t.y=-1*Y):(t.y=st(this.e,l),t.x=at(this.long0-Math.atan2(i*Math.cos(this.gamma0)-o*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},Xt={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<R)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),r=rt(this.e,e,n),i=ot(this.e,this.lat1,e),a=Math.sin(this.lat2),o=Math.cos(this.lat2),s=rt(this.e,a,o),l=ot(this.e,this.lat2,a),u=ot(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>R?this.ns=Math.log(r/s)/Math.log(i/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=R&&(n=it(n)*(Y-2*R));var r,i,a=Math.abs(Math.abs(n)-Y);if(R<a)r=ot(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(r,this.ns);else{if((a=n*this.ns)<=0)return null;i=0}var o=this.ns*at(e-this.long0);return t.x=this.k0*(i*Math.sin(o))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(o))+this.y0,t},inverse:function(t){var e,n,r,i,a,o=(t.x-this.x0)/this.k0,s=this.rh-(t.y-this.y0)/this.k0;0<this.ns?(e=Math.sqrt(o*o+s*s),n=1):(e=-Math.sqrt(o*o+s*s),n=-1);var l=0;if(0!==e&&(l=Math.atan2(n*o,n*s)),0!==e||0<this.ns){if(n=1/this.ns,r=Math.pow(e/(this.a*this.f0),n),-9999===(i=st(this.e,r)))return null}else i=-Y;return a=at(l/this.ns+this.long0),t.x=a,t.y=i,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},Zt={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,r,i,a,o,s,l=t.x,u=t.y,c=at(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),r=-c*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),a=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(i)),o=this.n*a,s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=s*Math.cos(o)/1,t.x=s*Math.sin(o)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,r,i,a,o,s,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i)),n=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(e)),t.x=this.long0-n/this.alfa,o=e;for(var u=s=0;t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(o))/(1-this.e*Math.sin(o)),this.e/2))-this.s45),Math.abs(o-t.y)<1e-10&&(s=1),o=t.y,u+=1,0===s&&u<15;);return 15<=u?null:t},names:["Krovak","krovak"]},Qt=function(t,e,n,r,i){return t*i-e*Math.sin(2*i)+n*Math.sin(4*i)-r*Math.sin(6*i)},te=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},ee=function(t){return.375*t*(1+.25*t*(1+.46875*t))},ne=function(t){return.05859375*t*t*(1+.75*t)},re=function(t){return t*t*t*(35/3072)},ie=function(t,e,n){var r=e*n;return t/Math.sqrt(1-r*r)},ae=function(t){return Math.abs(t)<Y?t:t-it(t)*Math.PI},oe=function(t,e,n,r,i){var a,o;a=t/e;for(var s=0;s<15;s++)if(a+=o=(t-(e*a-n*Math.sin(2*a)+r*Math.sin(4*a)-i*Math.sin(6*a)))/(e-2*n*Math.cos(2*a)+4*r*Math.cos(4*a)-6*i*Math.cos(6*a)),Math.abs(o)<=1e-10)return a;return NaN},se={init:function(){this.sphere||(this.e0=te(this.es),this.e1=ee(this.es),this.e2=ne(this.es),this.e3=re(this.es),this.ml0=this.a*Qt(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,r=t.x,i=t.y;if(r=at(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(i)*Math.sin(r)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(r))-this.lat0);else{var a=Math.sin(i),o=Math.cos(i),s=ie(this.a,this.e,a),l=Math.tan(i)*Math.tan(i),u=r*Math.cos(i),c=u*u,d=this.es*o*o/(1-this.es);e=s*u*(1-c*l*(1/6-(8-l+8*d)*c/120)),n=this.a*Qt(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+s*a/o*c*(.5+(5-l+6*d)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r=t.x/this.a,i=t.y/this.a;if(this.sphere){var a=i+this.lat0;e=Math.asin(Math.sin(a)*Math.cos(r)),n=Math.atan2(Math.tan(r),Math.cos(a))}else{var o=this.ml0/this.a+i,s=oe(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-Y)<=R)return t.x=this.long0,t.y=Y,i<0&&(t.y*=-1),t;var l=ie(this.a,this.e,Math.sin(s)),u=l*l*l/this.a/this.a*(1-this.es),c=Math.pow(Math.tan(s),2),d=r*this.a/l,h=d*d;e=s-l*Math.tan(s)/u*d*d*(.5-(1+3*c)*d*d/24),n=d*(1-h*(c/3+(1+3*c)*c*h/15))/Math.cos(s)}return t.x=at(n+this.long0),t.y=ae(e),t},names:["Cassini","Cassini_Soldner","cass"]},le=function(t,e){var n;return 1e-7<t?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e},ue=.3333333333333333,ce=.17222222222222222,de=.10257936507936508,he=.06388888888888888,fe=.0664021164021164,pe=.016415012942191543,me={init:function(){var t,e,n,r,i=Math.abs(this.lat0);if(Math.abs(i-Y)<R?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(i)<R?this.mode=this.EQUIT:this.mode=this.OBLIQ,0<this.es)switch(this.qp=le(this.e,1),this.mmf=.5/(1-this.es),this.apa=(e=this.es,(r=[])[0]=e*ue,n=e*e,r[0]+=n*ce,r[1]=n*he,n*=e,r[0]+=n*de,r[1]+=n*fe,r[2]=n*pe,r),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=le(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,r,i,a,o,s,l,u,c,d=t.x,h=t.y;if(d=at(d-this.long0),this.sphere){if(a=Math.sin(h),c=Math.cos(h),r=Math.cos(d),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+c*r:1+this.sinph0*a+this.cosph0*c*r)<=R)return null;e=(n=Math.sqrt(2/n))*c*Math.sin(d),n*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*c*r}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(r=-r),Math.abs(h+this.phi0)<R)return null;n=j-.5*h,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(d),n*=r}}else{switch(u=l=s=0,r=Math.cos(d),i=Math.sin(d),a=Math.sin(h),o=le(this.e,a),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(s=o/this.qp,l=Math.sqrt(1-s*s)),this.mode){case this.OBLIQ:u=1+this.sinb1*s+this.cosb1*l*r;break;case this.EQUIT:u=1+l*r;break;case this.N_POLE:u=Y+h,o=this.qp-o;break;case this.S_POLE:u=h-Y,o=this.qp+o}if(Math.abs(u)<R)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),n=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*s-this.sinb1*l*r):(u=Math.sqrt(2/(1+l*r)))*s*this.ymf,e=this.xmf*u*l*i;break;case this.N_POLE:case this.S_POLE:0<=o?(e=(u=Math.sqrt(o))*i,n=r*(this.mode===this.S_POLE?u:-u)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,r,i,a,o,s,l,u,c,d=t.x/this.a,h=t.y/this.a;if(this.sphere){var f,p=0,m=0;if(1<(n=.5*(f=Math.sqrt(d*d+h*h))))return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=Math.sin(n),p=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(f)<=R?0:Math.asin(h*m/f),d*=m,h=p*f;break;case this.OBLIQ:n=Math.abs(f)<=R?this.phi0:Math.asin(p*this.sinph0+h*m*this.cosph0/f),d*=m*this.cosph0,h=(p-Math.sin(n)*this.sinph0)*f;break;case this.N_POLE:h=-h,n=Y-n;break;case this.S_POLE:n-=Y}e=0!==h||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(d,h):0}else{if(s=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(d/=this.dd,h*=this.dd,(o=Math.sqrt(d*d+h*h))<R)return t.x=0,t.y=this.phi0,t;i=2*Math.asin(.5*o/this.rq),r=Math.cos(i),d*=i=Math.sin(i),this.mode===this.OBLIQ?(s=r*this.sinb1+h*i*this.cosb1/o,a=this.qp*s,h=o*this.cosb1*r-h*this.sinb1*i):(s=h*i/o,a=this.qp*s,h=o*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),!(a=d*d+h*h))return t.x=0,t.y=this.phi0,t;s=1-a/this.qp,this.mode===this.S_POLE&&(s=-s)}e=Math.atan2(d,h),l=Math.asin(s),u=this.apa,c=l+l,n=l+u[0]*Math.sin(c)+u[1]*Math.sin(c+c)+u[2]*Math.sin(c+c+c)}return t.x=at(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},ge=function(t){return 1<Math.abs(t)&&(t=1<t?1:-1),Math.asin(t)},ve={init:function(){Math.abs(this.lat1+this.lat2)<R||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=rt(this.e3,this.sin_po,this.cos_po),this.qs1=le(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=rt(this.e3,this.sin_po,this.cos_po),this.qs2=le(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=le(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>R?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var r=le(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0,a=this.ns0*at(e-this.long0),o=i*Math.sin(a)+this.x0,s=this.rh-i*Math.cos(a)+this.y0;return t.x=o,t.y=s,t},inverse:function(t){var e,n,r,i,a,o;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,0<=this.ns0?(e=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1),(i=0)!==e&&(i=Math.atan2(r*t.x,r*t.y)),r=e*this.ns0/this.a,this.sphere?o=Math.asin((this.c-r*r)/(2*this.ns0)):(n=(this.c-r*r)/this.ns0,o=this.phi1z(this.e3,n)),a=at(i/this.ns0+this.long0),t.x=a,t.y=o,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,r,i,a,o=ge(.5*e);if(t<R)return o;for(var s=t*t,l=1;l<=25;l++)if(o+=a=.5*(i=1-(r=t*(n=Math.sin(o)))*r)*i/Math.cos(o)*(e/(1-s)-n/i+.5/t*Math.log((1-r)/(1+r))),Math.abs(a)<=1e-7)return o;return null}},ye={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,r,i,a,o,s,l=t.x,u=t.y;return r=at(l-this.long0),e=Math.sin(u),n=Math.cos(u),i=Math.cos(r),0<(a=this.sin_p14*e+this.cos_p14*n*i)||Math.abs(a)<=R?(o=this.x0+1*this.a*n*Math.sin(r)/a,s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)/a):(o=this.x0+this.infinity_dist*n*Math.sin(r),s=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=s,t},inverse:function(t){var e,n,r,i,a,o;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(e,this.rc),n=Math.sin(i),r=Math.cos(i),o=ge(r*this.sin_p14+t.y*n*this.cos_p14/e),a=Math.atan2(t.x*n,e*this.cos_p14*r-t.y*this.sin_p14*n),a=at(this.long0+a)):(o=this.phic0,a=0),t.x=a,t.y=o,t},names:["gnom"]},_e=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*Y:Y;for(var r,i,a,o,s=Math.asin(.5*e),l=0;l<30;l++)if(i=Math.sin(s),a=Math.cos(s),o=t*i,s+=r=Math.pow(1-o*o,2)/(2*a)*(e/(1-t*t)-i/(1-o*o)+.5/t*Math.log((1-o)/(1+o))),Math.abs(r)<=1e-10)return s;return NaN},be={init:function(){this.sphere||(this.k0=rt(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,r=t.x,i=t.y,a=at(r-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var o=le(this.e,Math.sin(i));e=this.x0+this.a*this.k0*a,n=this.y0+this.a*o*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=at(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=_e(this.e,2*t.y*this.k0/this.a),e=at(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]},we={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,r=at(e-this.long0),i=ae(n-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var e=t.x,n=t.y;return t.x=at(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=ae(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Me=20,$e={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=te(this.es),this.e1=ee(this.es),this.e2=ne(this.es),this.e3=re(this.es),this.ml0=this.a*Qt(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,r,i=t.x,a=t.y,o=at(i-this.long0);if(r=o*Math.sin(a),this.sphere)Math.abs(a)<=R?(e=this.a*o,n=-1*this.a*this.lat0):(e=this.a*Math.sin(r)/Math.tan(a),n=this.a*(ae(a-this.lat0)+(1-Math.cos(r))/Math.tan(a)));else if(Math.abs(a)<=R)e=this.a*o,n=-1*this.ml0;else{var s=ie(this.a,this.e,Math.sin(a))/Math.tan(a);e=s*Math.sin(r),n=this.a*Qt(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+s*(1-Math.cos(r))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,r,i,a,o,s,l,u;if(r=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=R)e=at(r/this.a+this.long0),n=0;else{var c;for(o=this.lat0+i/this.a,s=r*r/this.a/this.a+o*o,l=o,a=Me;a;--a)if(l+=u=-1*(o*(l*(c=Math.tan(l))+1)-l-.5*(l*l+s)*c)/((l-o)/c-1),Math.abs(u)<=R){n=l;break}e=at(this.long0+Math.asin(r*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=R)n=0,e=at(this.long0+r/this.a);else{var d,h,f,p,m;for(o=(this.ml0+i)/this.a,s=r*r/this.a/this.a+o*o,l=o,a=Me;a;--a)if(m=this.e*Math.sin(l),d=Math.sqrt(1-m*m)*Math.tan(l),h=this.a*Qt(this.e0,this.e1,this.e2,this.e3,l),f=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=u=(o*(d*(p=h/this.a)+1)-p-.5*d*(p*p+s))/(this.es*Math.sin(2*l)*(p*p+s-2*o*p)/(4*d)+(o-p)*(d*f-2/Math.sin(2*l))-f),Math.abs(u)<=R){n=l;break}d=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=at(this.long0+Math.asin(r*d/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]},xe={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,r=t.y-this.lat0,i=n-this.long0,a=r/E*1e-5,o=i,s=1,l=0;for(e=1;e<=10;e++)s*=a,l+=this.A[e]*s;var u,c=l,d=o,h=1,f=0,p=0,m=0;for(e=1;e<=6;e++)u=f*c+h*d,h=h*c-f*d,f=u,p=p+this.B_re[e]*h-this.B_im[e]*f,m=m+this.B_im[e]*h+this.B_re[e]*f;return t.x=m*this.a+this.x0,t.y=p*this.a+this.y0,t},inverse:function(t){var e,n,r=t.x,i=t.y,a=r-this.x0,o=(i-this.y0)/this.a,s=a/this.a,l=1,u=0,c=0,d=0;for(e=1;e<=6;e++)n=u*o+l*s,l=l*o-u*s,u=n,c=c+this.C_re[e]*l-this.C_im[e]*u,d=d+this.C_im[e]*l+this.C_re[e]*u;for(var h=0;h<this.iterations;h++){var f,p=c,m=d,g=o,v=s;for(e=2;e<=6;e++)f=m*c+p*d,p=p*c-m*d,m=f,g+=(e-1)*(this.B_re[e]*p-this.B_im[e]*m),v+=(e-1)*(this.B_im[e]*p+this.B_re[e]*m);p=1,m=0;var y=this.B_re[1],_=this.B_im[1];for(e=2;e<=6;e++)f=m*c+p*d,p=p*c-m*d,m=f,y+=e*(this.B_re[e]*p-this.B_im[e]*m),_+=e*(this.B_im[e]*p+this.B_re[e]*m);var b=y*y+_*_;c=(g*y+v*_)/b,d=(v*y-g*_)/b}var w=c,M=d,$=1,x=0;for(e=1;e<=9;e++)$*=w,x+=this.D[e]*$;var k=this.lat0+x*E*1e5,S=this.long0+M;return t.x=S,t.y=k,t},names:["New_Zealand_Map_Grid","nzmg"]},ke={init:function(){},forward:function(t){var e=t.x,n=t.y,r=at(e-this.long0),i=this.x0+this.a*r,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=a,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=at(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},Se=20,Te={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Et(this.es)},forward:function(t){var e,n,r=t.x,i=t.y;if(r=at(r-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(i),o=Se;o;--o){var s=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=s,Math.abs(s)<R)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;e=this.a*this.C_x*r*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var l=Math.sin(i),u=Math.cos(i);n=this.a*Yt(i,l,u,this.en),e=this.a*r*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=ge((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=ge(Math.sin(e)/this.n)),r=at(r+this.long0),e=ae(e)):(e=At(t.y/this.a,this.es,this.en),(i=Math.abs(e))<Y?(i=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*i*i)/(this.a*Math.cos(e)),r=at(n)):i-R<Y&&(r=this.long0)),t.x=r,t.y=e,t},names:["Sinusoidal","sinu"]},Le={init:function(){},forward:function(t){for(var e=t.x,n=t.y,r=at(e-this.long0),i=n,a=Math.PI*Math.sin(n);;){var o=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=o,Math.abs(o)<R)break}i/=2,Math.PI/2-Math.abs(n)<R&&(r=0);var s=.900316316158*this.a*r*Math.cos(i)+this.x0,l=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=s,t.y=l,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),.999999999999<Math.abs(n)&&(n=.999999999999),e=Math.asin(n);var r=at(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,1<Math.abs(n)&&(n=1);var i=Math.asin(n);return t.x=r,t.y=i,t},names:["Mollweide","moll"]},Ce={init:function(){Math.abs(this.lat1+this.lat2)<R||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=te(this.es),this.e1=ee(this.es),this.e2=ne(this.es),this.e3=re(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=rt(this.e,this.sinphi,this.cosphi),this.ml1=Qt(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<R?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=rt(this.e,this.sinphi,this.cosphi),this.ml2=Qt(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Qt(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,r=t.y;if(this.sphere)e=this.a*(this.g-r);else{var i=Qt(this.e0,this.e1,this.e2,this.e3,r);e=this.a*(this.g-i)}var a=this.ns*at(n-this.long0),o=this.x0+e*Math.sin(a),s=this.y0+this.rh-e*Math.cos(a);return t.x=o,t.y=s,t},inverse:function(t){var e,n,r,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,0<=this.ns?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var a=0;if(0!==n&&(a=Math.atan2(e*t.x,e*t.y)),this.sphere)return i=at(this.long0+a/this.ns),r=ae(this.g-n/this.a),t.x=i,t.y=r,t;var o=this.g-n/this.a;return r=oe(o,this.e0,this.e1,this.e2,this.e3),i=at(this.long0+a/this.ns),t.x=i,t.y=r,t},names:["Equidistant_Conic","eqdc"]},De={init:function(){this.R=this.a},forward:function(t){var e,n,r=t.x,i=t.y,a=at(r-this.long0);Math.abs(i)<=R&&(e=this.x0+this.R*a,n=this.y0);var o=ge(2*Math.abs(i/Math.PI));(Math.abs(a)<=R||Math.abs(Math.abs(i)-Y)<=R)&&(e=this.x0,n=0<=i?this.y0+Math.PI*this.R*Math.tan(.5*o):this.y0+Math.PI*this.R*-Math.tan(.5*o));var s=.5*Math.abs(Math.PI/a-a/Math.PI),l=s*s,u=Math.sin(o),c=Math.cos(o),d=c/(u+c-1),h=d*d,f=d*(2/u-1),p=f*f,m=Math.PI*this.R*(s*(d-p)+Math.sqrt(l*(d-p)*(d-p)-(p+l)*(h-p)))/(p+l);a<0&&(m=-m),e=this.x0+m;var g=l+d;return m=Math.PI*this.R*(f*g-s*Math.sqrt((p+l)*(l+1)-g*g))/(p+l),n=0<=i?this.y0+m:this.y0-m,t.x=e,t.y=n,t},inverse:function(t){var e,n,r,i,a,o,s,l,u,c,d,h;return t.x-=this.x0,t.y-=this.y0,d=Math.PI*this.R,a=(r=t.x/d)*r+(i=t.y/d)*i,d=3*(i*i/(l=-2*(o=-Math.abs(i)*(1+a))+1+2*i*i+a*a)+(2*(s=o-2*i*i+r*r)*s*s/l/l/l-9*o*s/l/l)/27)/(u=(o-s*s/3/l)/l)/(c=2*Math.sqrt(-u/3)),1<Math.abs(d)&&(d=0<=d?1:-1),h=Math.acos(d)/3,n=0<=t.y?(-c*Math.cos(h+Math.PI/3)-s/3/l)*Math.PI:-(-c*Math.cos(h+Math.PI/3)-s/3/l)*Math.PI,e=Math.abs(r)<R?this.long0:at(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(r*r-i*i)+a*a))/2/r),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},Ee={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,a,o,s,l,u,c,d,h,f,p,m,g,v,y,_,b,w,M,$=t.x,x=t.y,k=Math.sin(t.y),S=Math.cos(t.y),T=at($-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=R?(t.x=this.x0+this.a*(Y-x)*Math.sin(T),t.y=this.y0-this.a*(Y-x)*Math.cos(T)):Math.abs(this.sin_p12+1)<=R?(t.x=this.x0+this.a*(Y+x)*Math.sin(T),t.y=this.y0+this.a*(Y+x)*Math.cos(T)):(y=this.sin_p12*k+this.cos_p12*S*Math.cos(T),v=(g=Math.acos(y))/Math.sin(g),t.x=this.x0+this.a*v*S*Math.sin(T),t.y=this.y0+this.a*v*(this.cos_p12*k-this.sin_p12*S*Math.cos(T))):(e=te(this.es),n=ee(this.es),r=ne(this.es),i=re(this.es),Math.abs(this.sin_p12-1)<=R?(a=this.a*Qt(e,n,r,i,Y),o=this.a*Qt(e,n,r,i,x),t.x=this.x0+(a-o)*Math.sin(T),t.y=this.y0-(a-o)*Math.cos(T)):Math.abs(this.sin_p12+1)<=R?(a=this.a*Qt(e,n,r,i,Y),o=this.a*Qt(e,n,r,i,x),t.x=this.x0+(a+o)*Math.sin(T),t.y=this.y0+(a+o)*Math.cos(T)):(s=k/S,l=ie(this.a,this.e,this.sin_p12),u=ie(this.a,this.e,k),c=Math.atan((1-this.es)*s+this.es*l*this.sin_p12/(u*S)),_=0===(d=Math.atan2(Math.sin(T),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(T)))?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(d)-Math.PI)<=R?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(T)*Math.cos(c)/Math.sin(d)),h=this.e*this.sin_p12/Math.sqrt(1-this.es),g=l*_*(1-(b=_*_)*(m=(f=this.e*this.cos_p12*Math.cos(d)/Math.sqrt(1-this.es))*f)*(1-m)/6+(w=b*_)/8*(p=h*f)*(1-2*m)+(M=w*_)/120*(m*(4-7*m)-3*h*h*(1-7*m))-M*_/48*p),t.x=this.x0+g*Math.sin(d),t.y=this.y0+g*Math.cos(d))),t},inverse:function(t){var e,n,r,i,a,o,s,l,u,c,d,h,f,p,m,g,v,y,_,b,w,M;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*Y*this.a)return;return n=e/this.a,r=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(e)<=R?o=this.lat0:(o=ge(i*this.sin_p12+t.y*r*this.cos_p12/e),s=Math.abs(this.lat0)-Y,a=at(Math.abs(s)<=R?0<=this.lat0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*r,e*this.cos_p12*i-t.y*this.sin_p12*r))),t.x=a,t.y=o,t}return l=te(this.es),u=ee(this.es),c=ne(this.es),d=re(this.es),Math.abs(this.sin_p12-1)<=R?(h=this.a*Qt(l,u,c,d,Y),e=Math.sqrt(t.x*t.x+t.y*t.y),o=oe((h-e)/this.a,l,u,c,d),a=at(this.long0+Math.atan2(t.x,-1*t.y))):Math.abs(this.sin_p12+1)<=R?(h=this.a*Qt(l,u,c,d,Y),e=Math.sqrt(t.x*t.x+t.y*t.y),o=oe((e-h)/this.a,l,u,c,d),a=at(this.long0+Math.atan2(t.x,t.y))):(e=Math.sqrt(t.x*t.x+t.y*t.y),m=Math.atan2(t.x,t.y),f=ie(this.a,this.e,this.sin_p12),g=Math.cos(m),y=-(v=this.e*this.cos_p12*g)*v/(1-this.es),_=3*this.es*(1-y)*this.sin_p12*this.cos_p12*g/(1-this.es),M=1-y*(w=(b=e/f)-y*(1+y)*Math.pow(b,3)/6-_*(1+3*y)*Math.pow(b,4)/24)*w/2-b*w*w*w/6,p=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*g),a=at(this.long0+Math.asin(Math.sin(m)*Math.sin(w)/Math.cos(p))),o=Math.atan((1-this.es*M*this.sin_p12/Math.sin(p))*Math.tan(p)/(1-this.es))),t.x=a,t.y=o,t},names:["Azimuthal_Equidistant","aeqd"]},Ye={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,r,i,a,o,s,l=t.x,u=t.y;return r=at(l-this.long0),e=Math.sin(u),n=Math.cos(u),i=Math.cos(r),(0<(a=this.sin_p14*e+this.cos_p14*n*i)||Math.abs(a)<=R)&&(o=1*this.a*n*Math.sin(r),s=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*i)),t.x=o,t.y=s,t},inverse:function(t){var e,n,r,i,a,o,s;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=ge(e/this.a),r=Math.sin(n),i=Math.cos(n),o=this.long0,Math.abs(e)<=R?s=this.lat0:(s=ge(i*this.sin_p14+t.y*r*this.cos_p14/e),a=Math.abs(this.lat0)-Y,o=Math.abs(a)<=R?at(0<=this.lat0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)):at(this.long0+Math.atan2(t.x*r,e*this.cos_p14*i-t.y*this.sin_p14*r))),t.x=o,t.y=s,t},names:["ortho"]},Ae={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ne={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},Oe={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Y-j/2?this.face=Ae.TOP:this.lat0<=-(Y-j/2)?this.face=Ae.BOTTOM:Math.abs(this.long0)<=j?this.face=Ae.FRONT:Math.abs(this.long0)<=Y+j?this.face=0<this.long0?Ae.RIGHT:Ae.LEFT:this.face=Ae.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,r,i,a,o,s={x:0,y:0},l={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===Ae.TOP)i=Y-e,j<=n&&n<=Y+j?(l.value=Ne.AREA_0,r=n-Y):Y+j<n||n<=-(Y+j)?(l.value=Ne.AREA_1,r=0<n?n-I:n+I):-(Y+j)<n&&n<=-j?(l.value=Ne.AREA_2,r=n+Y):(l.value=Ne.AREA_3,r=n);else if(this.face===Ae.BOTTOM)i=Y+e,j<=n&&n<=Y+j?(l.value=Ne.AREA_0,r=-n+Y):n<j&&-j<=n?(l.value=Ne.AREA_1,r=-n):n<-j&&-(Y+j)<=n?(l.value=Ne.AREA_2,r=-n-Y):(l.value=Ne.AREA_3,r=0<n?-n+I:-n-I);else{var u,c,d,h,f,p;this.face===Ae.RIGHT?n=_(n,+Y):this.face===Ae.BACK?n=_(n,+I):this.face===Ae.LEFT&&(n=_(n,-Y)),h=Math.sin(e),f=Math.cos(e),p=Math.sin(n),u=f*Math.cos(n),c=f*p,d=h,this.face===Ae.FRONT?r=v(i=Math.acos(u),d,c,l):this.face===Ae.RIGHT?r=v(i=Math.acos(c),d,-u,l):this.face===Ae.BACK?r=v(i=Math.acos(-u),d,-c,l):this.face===Ae.LEFT?r=v(i=Math.acos(-c),d,u,l):(i=r=0,l.value=Ne.AREA_0)}return o=Math.atan(12/I*(r+Math.acos(Math.sin(r)*Math.cos(j))-Y)),a=Math.sqrt((1-Math.cos(i))/(Math.cos(o)*Math.cos(o))/(1-Math.cos(Math.atan(1/Math.cos(r))))),l.value===Ne.AREA_1?o+=Y:l.value===Ne.AREA_2?o+=I:l.value===Ne.AREA_3&&(o+=1.5*I),s.x=a*Math.cos(o),s.y=a*Math.sin(o),s.x=s.x*this.a+this.x0,s.y=s.y*this.a+this.y0,t.x=s.x,t.y=s.y,t},inverse:function(t){var e,n,r,i,a,o,s,l,u,c,d,h,f={lam:0,phi:0},p={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),0<=t.x&&t.x>=Math.abs(t.y)?p.value=Ne.AREA_0:0<=t.y&&t.y>=Math.abs(t.x)?(p.value=Ne.AREA_1,e-=Y):t.x<0&&-t.x>=Math.abs(t.y)?(p.value=Ne.AREA_2,e=e<0?e+I:e-I):(p.value=Ne.AREA_3,e+=Y),u=I/12*Math.tan(e),a=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),o=Math.atan(a),(s=1-(r=Math.cos(e))*r*(i=Math.tan(n))*i*(1-Math.cos(Math.atan(1/Math.cos(o)))))<-1?s=-1:1<s&&(s=1),this.face===Ae.TOP)l=Math.acos(s),f.phi=Y-l,p.value===Ne.AREA_0?f.lam=o+Y:p.value===Ne.AREA_1?f.lam=o<0?o+I:o-I:p.value===Ne.AREA_2?f.lam=o-Y:f.lam=o;else if(this.face===Ae.BOTTOM)l=Math.acos(s),f.phi=l-Y,p.value===Ne.AREA_0?f.lam=-o+Y:p.value===Ne.AREA_1?f.lam=-o:p.value===Ne.AREA_2?f.lam=-o-Y:f.lam=o<0?-o-I:-o+I;else{var m,g,v;u=(m=s)*m,g=1<=(u+=(v=1<=u?0:Math.sqrt(1-u)*Math.sin(o))*v)?0:Math.sqrt(1-u),p.value===Ne.AREA_1?(u=g,g=-v,v=u):p.value===Ne.AREA_2?(g=-g,v=-v):p.value===Ne.AREA_3&&(u=g,g=v,v=-u),this.face===Ae.RIGHT?(u=m,m=-g,g=u):this.face===Ae.BACK?(m=-m,g=-g):this.face===Ae.LEFT&&(u=m,m=g,g=-u),f.phi=Math.acos(-v)-Y,f.lam=Math.atan2(g,m),this.face===Ae.RIGHT?f.lam=_(f.lam,-Y):this.face===Ae.BACK?f.lam=_(f.lam,-I):this.face===Ae.LEFT&&(f.lam=_(f.lam,+Y))}return 0!==this.es&&(c=f.phi<0?1:0,d=Math.tan(f.phi),h=this.b/Math.sqrt(d*d+this.one_minus_f_squared),f.phi=Math.atan(Math.sqrt(this.a*this.a-h*h)/(this.one_minus_f*h)),c&&(f.phi=-f.phi)),f.lam+=this.long0,t.x=f.lam,t.y=f.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};return h.defaultDatum="WGS84",h.Proj=x,h.WGS84=new h.Proj("WGS84"),h.Point=g,h.toPoint=vt,h.defs=r,h.transform=u,h.mgrs=Lt,h.version="2.4.4",(Ct=h).Proj.projections.add(Nt),Ct.Proj.projections.add(It),Ct.Proj.projections.add(Bt),Ct.Proj.projections.add(Vt),Ct.Proj.projections.add(Gt),Ct.Proj.projections.add(Kt),Ct.Proj.projections.add(Jt),Ct.Proj.projections.add(Xt),Ct.Proj.projections.add(Zt),Ct.Proj.projections.add(se),Ct.Proj.projections.add(me),Ct.Proj.projections.add(ve),Ct.Proj.projections.add(ye),Ct.Proj.projections.add(be),Ct.Proj.projections.add(we),Ct.Proj.projections.add($e),Ct.Proj.projections.add(xe),Ct.Proj.projections.add(ke),Ct.Proj.projections.add(Te),Ct.Proj.projections.add(Le),Ct.Proj.projections.add(Ce),Ct.Proj.projections.add(De),Ct.Proj.projections.add(Ee),Ct.Proj.projections.add(Ye),Ct.Proj.projections.add(Oe),h}),function(t,u){"use strict";function e(t,s,e){var l=e.baseHref(),r=t[0];return function(t,e,n){r.cookie=function(t,e,n){var r,i;i=(n=n||{}).expires,r=u.isDefined(n.path)?n.path:l,u.isUndefined(e)&&(i="Thu, 01 Jan 1970 00:00:00 GMT",e=""),u.isString(i)&&(i=new Date(i));var a=encodeURIComponent(t)+"="+encodeURIComponent(e);a+=r?";path="+r:"",a+=n.domain?";domain="+n.domain:"",a+=i?";expires="+i.toUTCString():"";var o=(a+=n.secure?";secure":"").length+1;return 4096<o&&s.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+o+" > 4096 bytes)!"),a}(t,e,n)}}u.module("ngCookies",["ng"]).info({angularVersion:"1.6.9"}).provider("$cookies",[function(){var e=this.defaults={};function i(t){return t?u.extend({},e,t):e}this.$get=["$$cookieReader","$$cookieWriter",function(e,r){return{get:function(t){return e()[t]},getObject:function(t){var e=this.get(t);return e?u.fromJson(e):e},getAll:function(){return e()},put:function(t,e,n){r(t,e,i(n))},putObject:function(t,e,n){this.put(t,u.toJson(e),n)},remove:function(t,e){r(t,void 0,i(e))}}}]}]),u.module("ngCookies").factory("$cookieStore",["$cookies",function(n){return{get:function(t){return n.getObject(t)},put:function(t,e){n.putObject(t,e)},remove:function(t){n.remove(t)}}}]),e.$inject=["$document","$log","$browser"],u.module("ngCookies").provider("$$cookieWriter",function(){this.$get=e})}(window,window.angular),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(0,function(){function t(t){"use strict";var n;if(1===angular.version.major&&4<=angular.version.minor){var r=t.get("$cookies");n={get:function(t){return r.get(t)},put:function(t,e){r.put(t,e)}}}else{var i=t.get("$cookieStore");n={get:function(t){return i.get(t)},put:function(t,e){i.put(t,e)}}}return{get:function(t){return n.get(t)},set:function(t,e){n.put(t,e)},put:function(t,e){n.put(t,e)}}}return t.$inject=["$injector"],angular.module("pascalprecht.translate").factory("$translateCookieStorage",t),t.displayName="$translateCookieStorage","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():e()}(0,function(){function t(n,t){"use strict";var r,e={get:function(t){return r||(r=n.localStorage.getItem(t)),r},set:function(t,e){r=e,n.localStorage.setItem(t,e)},put:function(t,e){r=e,n.localStorage.setItem(t,e)}},i="localStorage"in n;if(i){var a="pascalprecht.translate.storageTest";try{null!==n.localStorage?(n.localStorage.setItem(a,"foo"),n.localStorage.removeItem(a),i=!0):i=!1}catch(t){i=!1}}return i?e:t}return t.$inject=["$window","$translateCookieStorage"],angular.module("pascalprecht.translate").factory("$translateLocalStorage",t),t.displayName="$translateLocalStorageFactory","pascalprecht.translate"}),function(t,e){"function"==typeof define&&define.amd?define(["./ResizeSensor.js"],e):"object"==typeof exports?module.exports=e(require("./ResizeSensor.js")):t.ElementQueries=e(t.ResizeSensor)}(this,function(v){var e=function(){var h=!1,f=[];function o(t){t||(t=document.documentElement);var e=window.getComputedStyle(t,null).fontSize;return parseFloat(e)||16}function d(t,e){var n=e.split(/\d/),r=n[n.length-1];switch(e=parseFloat(e),r){case"px":return e;case"em":return e*o(t);case"rem":return e*o();case"vw":return e*document.documentElement.clientWidth/100;case"vh":return e*document.documentElement.clientHeight/100;case"vmin":case"vmax":var i=document.documentElement.clientWidth/100,a=document.documentElement.clientHeight/100;return e*(0,Math["vmin"===r?"min":"max"])(i,a);default:return e}}function n(t){this.element=t,this.options={};var e,n,r,i,a,o,s,l=0,u=0;this.addOption=function(t){var e=[t.mode,t.property,t.value].join(",");this.options[e]=t};var c=["min-width","min-height","max-width","max-height"];this.call=function(){for(e in l=this.element.offsetWidth,u=this.element.offsetHeight,a={},this.options)this.options.hasOwnProperty(e)&&(n=this.options[e],r=d(this.element,n.value),i="width"==n.property?l:u,s=n.mode+"-"+n.property,o="","min"==n.mode&&r<=i&&(o+=n.value),"max"==n.mode&&i<=r&&(o+=n.value),a[s]||(a[s]=""),o&&-1===(" "+a[s]+" ").indexOf(" "+o+" ")&&(a[s]+=" "+o));for(var t in c)c.hasOwnProperty(t)&&(a[c[t]]?this.element.setAttribute(c[t],a[c[t]].substr(1)):this.element.removeAttribute(c[t]))}}function s(t,e){t.elementQueriesSetupInformation?t.elementQueriesSetupInformation.addOption(e):(t.elementQueriesSetupInformation=new n(t),t.elementQueriesSetupInformation.addOption(e),t.elementQueriesSensor=new v(t,function(){t.elementQueriesSetupInformation.call()})),t.elementQueriesSetupInformation.call(),h&&f.indexOf(t)<0&&f.push(t)}var l={};function u(){var t;if(document.querySelectorAll&&(t=document.querySelectorAll.bind(document)),t||"undefined"==typeof $$||(t=$$),t||"undefined"==typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function i(r){var i=[],a=[],o=[],s=0,l=-1,u=[];for(var t in r.children)if(r.children.hasOwnProperty(t)&&r.children[t].tagName&&"img"===r.children[t].tagName.toLowerCase()){i.push(r.children[t]);var e=r.children[t].getAttribute("min-width")||r.children[t].getAttribute("data-min-width"),n=r.children[t].getAttribute("data-src")||r.children[t].getAttribute("url");o.push(n);var c={minWidth:e};a.push(c),e?r.children[t].style.display="none":(s=i.length-1,r.children[t].style.display="block")}function d(){var t,e=!1;for(t in i)i.hasOwnProperty(t)&&a[t].minWidth&&r.offsetWidth>a[t].minWidth&&(e=t);if(e||(e=s),l!=e)if(u[e])i[l].style.display="none",i[e].style.display="block",l=e;else{var n=new Image;n.onload=function(){i[e].src=o[e],i[l].style.display="none",i[e].style.display="block",u[e]=!0,l=e},n.src=o[e]}else i[e].src=o[e]}l=s,r.resizeSensor=new v(r,d),d(),h&&f.push(r)}var c=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,p=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function a(t){var e,n,r,i,a,o;for(t=t.replace(/'/g,'"');null!==(e=c.exec(t));)for(n=e[1]+e[3],attrs=e[2];null!==(attrMatch=p.exec(attrs));)r=n,i=attrMatch[1],a=attrMatch[2],o=attrMatch[3],void 0===l[i]&&(l[i]={}),void 0===l[i][a]&&(l[i][a]={}),void 0===l[i][a][o]?l[i][a][o]=r:l[i][a][o]+=","+r}function m(t){var e="";if(t)if("string"==typeof t)-1===(t=t.toLowerCase()).indexOf("min-width")&&-1===t.indexOf("max-width")||a(t);else for(var n=0,r=t.length;n<r;n++)1===t[n].type?-1!==(e=t[n].selectorText||t[n].cssText).indexOf("min-height")||-1!==e.indexOf("max-height")?a(e):-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||a(e):4===t[n].type&&m(t[n].cssRules||t[n].rules)}var g=!1;this.init=function(t){h=void 0!==t&&t;for(var e=0,n=document.styleSheets.length;e<n;e++)try{m(document.styleSheets[e].cssRules||document.styleSheets[e].rules||document.styleSheets[e].cssText)}catch(t){if("SecurityError"!==t.name)throw t}if(!g){var r=document.createElement("style");r.type="text/css",r.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img { width: 100%;}",document.getElementsByTagName("head")[0].appendChild(r),g=!0}!function(){var t=u();for(var e in l)if(l.hasOwnProperty(e))for(var n in l[e])if(l[e].hasOwnProperty(n))for(var r in l[e][n])if(l[e][n].hasOwnProperty(r))for(var i=t(l[e][n][r]),a=0,o=i.length;a<o;a++)s(i[a],{mode:e,property:n,value:r})}(),function(){for(var t=u()("[data-responsive-image],[responsive-image]"),e=0,n=t.length;e<n;e++)i(t[e])}()},this.update=function(t){this.init(t)},this.detach=function(){if(!this.withTracking)throw"withTracking is not enabled. We can not detach elements since we don not store it.Use ElementQueries.withTracking = true; before domready or call ElementQueryes.update(true).";for(var t;t=f.pop();)e.detach(t);f=[]}};e.update=function(t){e.instance.update(t)},e.detach=function(t){t.elementQueriesSetupInformation?(t.elementQueriesSensor.detach(),delete t.elementQueriesSetupInformation,delete t.elementQueriesSensor):t.resizeSensor&&(t.resizeSensor.detach(),delete t.resizeSensor)},e.withTracking=!1,e.init=function(){e.instance||(e.instance=new e),e.instance.init(e.withTracking)};return e.listen=function(){!function(t){if(document.addEventListener)document.addEventListener("DOMContentLoaded",t,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var e=setInterval(function(){/loaded|complete/i.test(document.readyState)&&(t(),clearInterval(e))},10);else window.onload=t}(e.init)},"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:(window.ElementQueries=e).listen(),e}),function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.ResizeSensor=e()}(this,function(){if("undefined"==typeof window)return null;var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};function i(t,e){var n=Object.prototype.toString.call(t),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!=typeof jQuery&&t instanceof jQuery||"undefined"!=typeof Elements&&t instanceof Elements,i=0,a=t.length;if(r)for(;i<a;i++)e(t[i]);else e(t)}var a=function(e,n){function _(){var n,r,i=[];this.add=function(t){i.push(t)},this.call=function(){for(n=0,r=i.length;n<r;n++)i[n].call()},this.remove=function(t){var e=[];for(n=0,r=i.length;n<r;n++)i[n]!==t&&e.push(i[n]);i=e},this.length=function(){return i.length}}function r(t,e){if(t.resizedAttached){if(t.resizedAttached)return void t.resizedAttached.add(e)}else t.resizedAttached=new _,t.resizedAttached.add(e);t.resizeSensor=document.createElement("div"),t.resizeSensor.className="resize-sensor";var n,r,i="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",a="position: absolute; left: 0; top: 0; transition: 0s;";t.resizeSensor.style.cssText=i,t.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+i+'"><div style="'+a+'"></div></div><div class="resize-sensor-shrink" style="'+i+'"><div style="'+a+' width: 200%; height: 200%"></div></div>',t.appendChild(t.resizeSensor),"static"==(r="position",(n=t).currentStyle?n.currentStyle[r]:window.getComputedStyle?window.getComputedStyle(n,null).getPropertyValue(r):n.style[r])&&(t.style.position="relative");var o,s,l,u,c=t.resizeSensor.childNodes[0],d=c.childNodes[0],h=t.resizeSensor.childNodes[1],f=t.offsetWidth,p=t.offsetHeight,m=function(){d.style.width="100000px",d.style.height="100000px",c.scrollLeft=1e5,c.scrollTop=1e5,h.scrollLeft=1e5,h.scrollTop=1e5};m();var g=function(){s=0,o&&(f=l,p=u,t.resizedAttached&&t.resizedAttached.call())},v=function(){l=t.offsetWidth,u=t.offsetHeight,(o=l!=f||u!=p)&&!s&&(s=b(g)),m()},y=function(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n)};y(c,"scroll",v),y(h,"scroll",v)}i(e,function(t){r(t,n)}),this.detach=function(t){a.detach(e,t)}};return a.detach=function(t,e){i(t,function(t){t.resizedAttached&&"function"==typeof e&&(t.resizedAttached.remove(e),t.resizedAttached.length())||t.resizeSensor&&(t.contains(t.resizeSensor)&&t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached)})},a});